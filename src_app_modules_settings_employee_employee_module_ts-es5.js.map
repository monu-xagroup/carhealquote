{"version":3,"mappings":"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","names":["SettingsListConfig","columns","id","width","style","header","text","tooltip","cellStyle","selector","field","widget","type","sortable","config","_angular_core__WEBPACK_IMPORTED_MODULE_9__","model_r29","i_r34","i_r53","ctx_r0","dayjs__WEBPACK_IMPORTED_MODULE_0__","dayjs_plugin_customParseFormat__WEBPACK_IMPORTED_MODULE_3__","dayjs_plugin_weekday__WEBPACK_IMPORTED_MODULE_1__","dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_2__","timeSlotMin","EditEmployeeComponent","route","settingsService","commonService","translateService","format","name","active","menuItems","dateTimeUTC12h","dateTimeUTC24h","dateTime12h","dateTime24h","time12h","options","placeHolder","label","value","disabled","maxLength","pattern","day","checked","date","minDate","Date","interval","breakType","displayValue","fieldValue","selectedOption","durationUnit","isMultiSelect","frequencyWeekly","frequencyYearly","start","maxDate","end","currencySymbol","getCurrencySymbol","employeeId","snapshot","params","showLoading","getEmployeeDetails","then","response","employee","data","workSchedules","convertTimeToLocalTimeZone","offTimes","competenciesChecked","competencies","map","item","notes","atob","console","log","employeeInputModel","Object","keys","inputModelData","forEach","key","instant","push","employeeCompetenciesIcons","employeeCompetenciesModel","icon","svg","color","backgroundColor","indexOf","currentMonday","clone","weekday","selectedCalendarDate","getEmployeeCalendar","hideLoading","getEmployeeOffTimeType","subscribe","next","result","offTimeInputModels","description","getCompetencies","competenciesList","workDays","workStartTimePickerModels","startTimePickerModel","workEndTimePickerModels","endTimePickerModel","offStartTimePickerModels","offEndTimePickerModels","event","menuItem","activeMenuName","setTimeout","dxScheduler","instance","repaint","index","offDays","notesLength","removeTags","length","showErrorMessage","btoa","costPerHour","filter","formControl","parseInt","updateEmployeeDetails","employeeGuid","error","option","competenciesCheckedId","competenciesId","updateCompetenciesData","competenciesIDs","userID","updateCompetencies","startOrEnd","workStartDateInputModel","offStartDateInputModel","offEndDateInputModel","$event","dateTime","returnFlag","utc","isDayOverlapInUTCTime","localTimeZoneString","daysList","timeSlots","startTime","endTime","addNewWorkHours","success","showSuccessMessage","message","errorMessages","Message","isOverlap","workSchedule","undefined","dialogRef","openConfirmationOkDialog","afterClosed","addNewOffTime","workScheduleGuid","deleteWorkHours","offTimeGuid","deleteOffTime","fromDate","weekendDate","holiday","dinner","calendarData","_a","calenderDays","_b","isWeekend","toDateString","breaks","breakData","endTimeDayjs","dateTimeFormats","startTimeDayjs","timeDiff","diff","Math","ceil","i","dateData","add","toLocaleDateString","toLocaleTimeString","isOff","offTimeLabel","timeSlot","iconColor","JSON","stringify","currentDate","title","desc","showToast","showInfoToast","str","toString","replace","editEmployeeFormValid","isValid","obj","titles","hours","hoursArray","split","join","offTime","selectors","viewQuery","ctx","casesRoutes","path","component","_list_view_list_view_component__WEBPACK_IMPORTED_MODULE_0__","resolve","version","src_app_resolvers_versionControl_resolver__WEBPACK_IMPORTED_MODULE_5__","_edit_employee_edit_employee_component__WEBPACK_IMPORTED_MODULE_6__","EmployeeModule","_angular_common__WEBPACK_IMPORTED_MODULE_8__","_angular_material_icon__WEBPACK_IMPORTED_MODULE_9__","src_app_icons_module__WEBPACK_IMPORTED_MODULE_1__","_angular_router__WEBPACK_IMPORTED_MODULE_10__","src_app_widgets_chq_widgets_module__WEBPACK_IMPORTED_MODULE_2__","src_app_shared_shared_module__WEBPACK_IMPORTED_MODULE_3__","src_app_shared_error_page_error_module__WEBPACK_IMPORTED_MODULE_4__","_angular_material_card__WEBPACK_IMPORTED_MODULE_11__","_angular_material_expansion__WEBPACK_IMPORTED_MODULE_12__","_angular_material_chips__WEBPACK_IMPORTED_MODULE_13__","_angular_forms__WEBPACK_IMPORTED_MODULE_14__","devextreme_angular__WEBPACK_IMPORTED_MODULE_15__","_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__","_angular_material_datepicker__WEBPACK_IMPORTED_MODULE_17__","declarations","imports","exports","_angular_core__WEBPACK_IMPORTED_MODULE_10__","ListViewComponent","cd","monitorService","caseService","router","src_app_widgets_chq_paginator_chq_paginator_component__WEBPACK_IMPORTED_MODULE_1__","src_app_config_display_settings_list_config__WEBPACK_IMPORTED_MODULE_0__","org","required","sort","pagination","orderBy","sortDirection","direction","getEmployees","row","col","navigate","i18n","geti18nInfo","logEvent","tableConfig","configData","applyButtonModel","onclick","filterCases","bind","resetButtonModel","resetFilter","userEmailDetail","userProfileData","email","userOrg","_c","organizationDetail","getBMOrganizations","organizationList","dropdownModelOrganization","err","pageSize","offset","currentPage","pageChanged","closeDropdown","selectedFilter","dropdownModelFilter","queryParams","toLowerCase","nameTextBox","empName","substring","lastIndexOf","hideShowDropdown","filterDetail","input","selectFilter","tableData","Email","includes","tempArr","record","find","ele","unshift","count","detectChanges"],"sources":["webpack:///src/app/config/display/settings-list-config.ts","webpack:///src/app/modules/settings/employee/edit-employee/edit-employee.component.html","webpack:///src/app/modules/settings/employee/edit-employee/edit-employee.component.ts","webpack:///src/app/modules/settings/employee/employee.module.ts","webpack:///src/app/modules/settings/employee/list-view/list-view.component.html","webpack:///src/app/modules/settings/employee/list-view/list-view.component.ts"],"sourcesContent":["export const SettingsListConfig = {\r\n  columns: [\r\n    {\r\n      id: 'EmployeeGuid',\r\n      width: '0px',\r\n      style: 'display: none',\r\n      header: {\r\n        text: 'EmployeeGuid',\r\n        tooltip: '',\r\n        style: 'display: none; max-width: 0'\r\n      },\r\n      cellStyle: 'display: none; max-width: 0',\r\n      selector: {\r\n        field: 'EmployeeGuid',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'EmployeeId',\r\n      width: '0px',\r\n      style: 'display: none',\r\n      header: {\r\n        text: 'EmployeeId',\r\n        tooltip: '',\r\n        style: 'display: none; max-width: 0'\r\n      },\r\n      cellStyle: 'display: none; max-width: 0',\r\n      selector: {\r\n        field: 'EmployeeId',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'FirstName',\r\n      sortable: true,\r\n      header: {\r\n        text: 'name',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: [ 'FirstName', 'LastName' ],\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      }\r\n    },\r\n    {\r\n      id: 'OrgName',\r\n      sortable: true,\r\n      header: {\r\n        text: 'organization',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'OrgName',\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      }\r\n    },\r\n    {\r\n      id: 'PhoneNumber',\r\n      sortable: true,\r\n      selector: {\r\n        field: 'PhoneNumber',\r\n      },\r\n      header: {\r\n        text: 'mobile',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      },\r\n    },\r\n    {\r\n      id: 'Email',\r\n      sortable: true,\r\n      selector: {\r\n        field: 'Email',\r\n      },\r\n      header: {\r\n        text: 'email',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      },\r\n    },\r\n    {\r\n      id: 'RoleName',\r\n      sortable: true,\r\n      selector: {\r\n        field: 'RoleName',\r\n      },\r\n      header: {\r\n        text: 'roles',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      },\r\n    },\r\n    {\r\n      id: 'Competencies',\r\n      sortable: true,\r\n      width: '200px',\r\n      selector: {\r\n        field: 'Competencies',\r\n      },\r\n      header: {\r\n        text: 'competencies',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'iconGroup'\r\n      },\r\n      config: {\r\n        style: 'min-width: 200px;'\r\n      }\r\n    }\r\n  ]\r\n};","<div class=\"layout-container\">\r\n    <div class=\"tab-header fx-0\">\r\n\t\t<chq-tabs [menuItems]=\"menuItems\" (menuItemClick)=\"tabChange($event);\" class=\"tabs\"></chq-tabs>\r\n\t</div>\r\n\t<div class=\"tab-content mh-0 fx-1\">\r\n\t\t<div class=\"page-container-booking-type\">\r\n\t\t\t<div class=\"booking-type-wrapper\">\r\n\t\t\t\t<form class=\"form-container\" *ngIf=\"employeeInputModel.length>0\" style=\"padding:20px\">\r\n\t\t\t\t\t<div [hidden]=\"activeMenuName !== 'Employee Details'\">\r\n\t\t\t\t\t\t<div class=\"row no-margin\">\r\n\t\t\t\t\t\t\t<h3 class=\"edit-employee-headings\">{{'update_employee_details' | translate}}</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t<ng-container *ngFor=\"let item of employeeInputModel; let i = index\">\r\n\t\t\t\t\t\t\t\t<div class=\"{{item.class}}\"  style=\"margin-bottom: 50px;\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"input-wrapper\" *ngIf=\"i !== 6\">\r\n\t\t\t\t\t\t\t\t\t\t<label class=\"input-label\">{{item.label | translate}}</label>\r\n\t\t\t\t\t\t\t\t\t\t<span>{{item.value}}</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<chq-input *ngIf=\"i === 6\" [inputModel]=\"item\"\r\n\t\t\t\t\t\t\t\t\t[ngClass]=\"{'chq-input-disabled': item.disabled, 'chq-cost-per-hour': i === 6 }\" (controlOutput)=\"validateEditEmployee($event)\"></chq-input>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div *ngIf=\"i === 5\" style=\"width: 100%;\"></div>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"row no-margin\">\r\n\t\t\t\t\t\t\t<h3 class=\"edit-employee-headings\">{{'employee_competencies' | translate}}</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t<chq-input class=\"competencies-input\" [inputModel]=\"employeeCompetenciesModel\"></chq-input>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t<h3 class=\"col-12 edit-employee-headings\">{{'notes' | translate}}</h3>\r\n\t\t\t\t\t\t\t<div class=\"col-8 mobile-width-100\">\r\n\t\t\t\t\t\t\t\t<chq-rich-text-editor [height]=\"200\" [initialValue]=\"employee.notes\" (currentValue)=\"notes = $event.value\" [maxCharacterLimit]=\"500\"></chq-rich-text-editor>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"row no-margin\" style=\"margin-top: 36px;margin-bottom: 30px;\">\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn-primary col-12\" (click)=\"updateEmployeeDetails()\" style=\"max-width:180px\" [disabled]=\"!editEmployeeFormValid\">{{'save' | translate}}</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div [hidden]=\"activeMenuName !== 'Employee Schedule'\">\r\n\t\t\t\t\t\t<h3 class=\"edit-employee-headings\">{{'update_employee_schedule' | translate}}</h3>\r\n\t\t\t\t\t\t<div class=\"employee-calendar\">\r\n\r\n\t\t\t\t\t\t\t<dx-scheduler #dxScheduler width='100%' [dataSource]=\"calendarData\" [views]=\"['week']\" currentView=\"week\"\r\n\t\t\t\t\t\t\t\tstartDateExpr=\"startTime\" endDateExpr=\"endTime\" [firstDayOfWeek]=\"1\" \r\n\t\t\t\t\t\t\t\t[startDayHour]=\"0\" [endDayHour]=\"24\" [currentDate]=\"currentDate\" [cellDuration]=\"timeSlotMin\"\r\n\t\t\t\t\t\t\t\tdateCellTemplate=\"dateCellTemplate\" timeCellTemplate=\"timeCellTemplate\" dataCellTemplate=\"dataCellTemplate\"\r\n\t\t\t\t\t\t\t\tappointmentTemplate=\"appointment-template\" appointmentTooltipTemplate=\"appointment-tooltip-template\"\r\n\t\t\t\t\t\t\t\t[showCurrentTimeIndicator]=\"true\" maxAppointmentsPerCell=\"2\" [showAllDayPanel]=\"false\"\r\n\t\t\t\t\t\t\t\t(onOptionChanged)=\"onOptionChanged($event)\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div *dxTemplate=\"let dataCell of 'dataCellTemplate' ; let i = index\"\r\n\t\t\t\t\t\t\t\t[ngClass]=\"{'holiday': holiday[dataCell.startDate.toDateString()],'weekend' :weekendDate[dataCell.startDate.toDateString()],'dinner' :dinner[dataCell.startDate.toLocaleDateString() + ' ' + dataCell.startDate.toLocaleTimeString()]}\">\r\n\t\t\t\t\t\t\t\t\t<div class='template-wrap employee-calendar-template-wrap' *ngIf=\"i < 7\">\r\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"holiday[dataCell.startDate.toDateString()] \">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"subject\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{{ holiday[dataCell.startDate.toDateString()] }}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<mat-icon [svgIcon]=\"'microbe-circle'\" [color]=\"'light-green1'\"></mat-icon>\r\n\t\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class='template-wrap employee-calendar-template-wrap' *ngIf=\"dinner.hasOwnProperty(dataCell.startDate.toLocaleDateString() + ' ' + dataCell.startDate.toLocaleTimeString())\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"subject\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{{ dinner[dataCell.startDate.toLocaleDateString() + ' ' + dataCell.startDate.toLocaleTimeString()] }}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div *dxTemplate=\"let dateCell of 'dateCellTemplate'\">\r\n\t\t\t\t\t\t\t\t\t<p class=\"calendar-header date-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ dateCell.date | date: 'd E' }}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div *dxTemplate=\"let timeCell of 'timeCellTemplate'\"\r\n\t\t\t\t\t\t\t\t\t\t> \r\n\t\t\t\t\t\t\t\t\t\t{{ timeCell.text ? (timeCell.date | date:'HH:mm') : '' }}\r\n\t\t\t\t\t\t\t\t\t\t<!-- <div *ngIf=\"timeCell.date.getHours() >= lunchTime.from && timeCell.date.getHours() < lunchTime.to\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"cafe\">\r\n\t\t\t\t\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div *dxTemplate=\"let model of 'appointment-template'\">\r\n\t\t\t\t\t\t\t\t\t<div class='template-wrap employee-calendar-template-wrap' [ngClass]=\"model.appointmentData.type\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"subject\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{{ model.appointmentData.label }}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<mat-icon [svgIcon]=\"model.appointmentData.icon\" [color]=\"model.appointmentData.iconColor\"></mat-icon>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div *dxTemplate=\"let model of 'appointment-tooltip-template'\">\r\n\t\t\t\t\t\t\t\t\t<div class='tooltip-template-wrap'>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"tooltip-content-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ model.appointmentData.label}} - {{ appointmentTimeFormat(model.appointmentData.startTime) }} - {{ appointmentTimeFormat(model.appointmentData.endTime)}}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</dx-scheduler>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div id=\"add-schedule\" >\r\n\t\t\t\t\t\t\t<h3 class=\"edit-employee-headings\">{{'add_edit_schedule' | translate}}</h3>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col-12 radio\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"radio-option\">\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"scheduleType-work\" [(ngModel)]=\"scheduleType\" value=\"work\" />\r\n\t\t\t\t\t\t\t\t\t\t<label>{{'work_schedule' | translate}}</label>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"radio-option\">\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"scheduleType-off\" [(ngModel)]=\"scheduleType\" value=\"off\" />\r\n\t\t\t\t\t\t\t\t\t\t<label>{{'off_time' | translate}}</label>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"row\" *ngIf=\"scheduleType === 'work'\">\r\n\t\t\t\t\t\t\t\t<div class=\"mobile-width-100 col-6\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"row\" style=\"margin-bottom: 12px;align-items: flex-end;\">\r\n\t\t\t\t\t\t\t\t\t\t<h3 class=\"col-7\" style=\"font-size: 14px;\">{{'add_edit_work_schedule' | translate}}</h3>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-5\">\r\n\t\t\t\t\t\t\t\t\t\t\t<chq-input [inputModel]=\"workStartDateInputModel\" (controlOutput)=\"updateDatePickers($event,'work','start')\"></chq-input>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<table class=\"work-days-table\">\r\n\t\t\t\t\t\t\t\t\t\t<tr *ngFor=\"let item of workDays; let i = index\">\r\n\t\t\t\t\t\t\t\t\t\t\t<td><button type=\"button\" (click)=\"toggleDays('work',i)\" class=\"mat-icon toggle-days-button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[ngClass]=\"item.checked ? 'bg-primary text-white' : 'bg-white'\">{{item.day}}</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td [hidden]=\"!item.checked\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<chq-input [inputModel]=\"workStartTimePickerModels[i]\" (controlOutput)=\"updateTimePickers($event,'work','start',i)\"></chq-input>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td [hidden]=\"!item.checked\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<chq-input [inputModel]=\"workEndTimePickerModels[i]\" (controlOutput)=\"updateTimePickers($event,'work','end',i)\"></chq-input>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn-primary col-12\" style=\"max-width:85px;margin-bottom: 35px\" (click)=\"addNewWorkHours()\">{{'save' | translate}}</button>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"mobile-width-100 col-6 work-days-details-table-container\">\r\n\t\t\t\t\t\t\t\t\t<table class=\"work-days-details-table\" cellpadding=\"0\">\r\n\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>{{'creation_date' | translate}}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>{{'start_date' | translate}}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th class=\"capitalize\">{{'days' | translate}}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>{{'hours' | translate}}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>{{'actions' | translate}}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr *ngFor=\"let item of employee.workSchedules\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{{ item.createdDate }}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{{ item.effectiveDate }}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div *ngFor=\"let title of item.titles\">{{title.days}}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div *ngFor=\"let title of item.titles\">{{title.hours}}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><mat-icon color=\"red\" [svgIcon]=\"'trash'\" (click)=\"deleteWorkHours(item.workScheduleGuid)\"></mat-icon></td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\r\n\t\t\t\t\t\t\t<div class=\"row\" *ngIf=\"scheduleType === 'off'\">\r\n\t\t\t\t\t\t\t\t<div class=\"mobile-width-100 col-6 no-padding\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"row no-margin\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h3 style=\"font-size: 14px;\">{{'off_time' | translate}}</h3><br>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"row no-margin\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<chq-input [inputModel]=\"offTimeInputModels.breakType\" (controlOutput)=\"offTimeInputChange($event,'breakType')\"></chq-input>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"row no-margin\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<chq-input [inputModel]=\"offStartDateInputModel\" (controlOutput)=\"updateDatePickers($event,'off','start')\"></chq-input>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<chq-input [inputModel]=\"offEndDateInputModel\" (controlOutput)=\"updateDatePickers($event,'off','end')\"></chq-input>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<table class=\"work-days-table\" style=\"margin-top: 24px;margin-left: 10px;width: calc(100% - 20px);\" *ngIf=\"offTimeInputModels.breakType.selectedOption.durationUnit === 'Hours'\">\r\n\t\t\t\t\t\t\t\t\t\t<tr *ngFor=\"let item of offDays; let i = index\">\r\n\t\t\t\t\t\t\t\t\t\t\t<td><button type=\"button\" (click)=\"toggleDays('off',i)\" class=\"mat-icon toggle-days-button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t[ngClass]=\"item.checked ? 'bg-primary text-white' : 'bg-white'\">{{item.day}}</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td [hidden]=\"!item.checked\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<chq-input [inputModel]=\"offStartTimePickerModels[i]\" (controlOutput)=\"updateTimePickers($event,'off','start',i)\"></chq-input>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td [hidden]=\"!item.checked\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<chq-input [inputModel]=\"offEndTimePickerModels[i]\" (controlOutput)=\"updateTimePickers($event,'off','end',i)\"></chq-input>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t<!-- <div class=\"row no-margin\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<chq-input [inputModel]=\"offTimeInputModels.frequencyWeekly\" *ngIf=\"offTimeInputModels.breakType.selectedOption.durationUnit === 'Hours'\" (controlOutput)=\"offTimeInputChange($event,'frequencyWeekly')\"></chq-input>\r\n\t\t\t\t\t\t\t\t\t\t\t<chq-input [inputModel]=\"offTimeInputModels.frequencyYearly\" *ngIf=\"offTimeInputModels.breakType.selectedOption.durationUnit === 'Days'\" (controlOutput)=\"offTimeInputChange($event,'frequencyYearly')\"></chq-input>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t\t\t\t<div class=\"row no-margin\" style=\"margin-top: 20px;\">\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn-primary\" style=\"min-width: 85px;margin-left: 10px;margin-bottom: 35px;\" (click)=\"checkAddOffTimeAllowed()\" [disabled]=\"!offTimeInputModels.breakType.selectedOption || offTimeInputModels.breakType.selectedOption.durationUnit === ''\">Save</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"mobile-width-100 col-6 off-days-details-table-container\">\r\n\t\t\t\t\t\t\t\t\t<table class=\"work-days-details-table \">\r\n\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>{{'creation_date' | translate}}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>{{'start_end_date' | translate}}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th class=\"capitalize\">{{'days' | translate}}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>{{'type' | translate}}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>{{'hours' | translate}}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>{{'actions' | translate}}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr *ngFor=\"let item of employee.offTimes\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{{ item.createdDate }}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{{ item.startDate }}<br>{{ item.endDate }}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div *ngFor=\"let item of item.titles\">{{item.days}}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{{ item.label }}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div *ngFor=\"let item of item.titles\">{{item.hours}}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><mat-icon color=\"red\" [svgIcon]=\"'trash'\" (click)=\"deleteOffTime(item.offTimeGuid)\"></mat-icon></td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\r\n\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"footer-full-wrapper\">\r\n\t\t\t\t<div class=\"footer-image-wrapper\">\r\n\t\t\t\t\t<div class=\"image-wrapper\">\r\n\t\t\t\t\t\t<img src=\"assets/img/addenda-repair.png\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>","/* eslint-disable max-len */\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { SettingsService } from 'src/app/services/settings/settings.service';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport * as dayjs from 'dayjs';\r\nimport * as weekday from 'dayjs/plugin/weekday';\r\nimport * as utc from 'dayjs/plugin/utc';\r\nimport * as customParseFormat from 'dayjs/plugin/customParseFormat';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { DxSchedulerComponent } from 'devextreme-angular';\r\ndayjs.extend(customParseFormat)\r\ndayjs.extend(weekday)\r\ndayjs.extend(utc)\r\n\r\nconst timeSlotMin = 30;\r\n\r\n@Component({\r\n  selector: 'app-edit-employee',\r\n  templateUrl: './edit-employee.component.html',\r\n  styleUrls: [ './edit-employee.component.scss' ],\r\n})\r\nexport class EditEmployeeComponent implements OnInit {\r\n  localTimeZoneString = dayjs('2023-01-01T00:00:00Z').format('HH:mm A')\r\n  @ViewChild('dxScheduler') dxScheduler: DxSchedulerComponent\r\n  menuItems = [\r\n    {\r\n      name: 'Employee Details',\r\n      active: true\r\n    },\r\n    {\r\n      name: 'Employee Schedule',\r\n      active: false\r\n    },\r\n  ];\r\n  activeMenuName = this.menuItems[0].name;\r\n  dateTimeFormats = {\r\n    dateTimeUTC12h: 'YYYY-MM-DD hh:mm A Z',\r\n    dateTimeUTC24h: 'YYYY-MM-DD HH:mm Z',\r\n    dateTime12h: 'YYYY-MM-DD hh:mm A',\r\n    dateTime24h: 'YYYY-MM-DD HH:mm',\r\n    time12h: 'hh:mm A'\r\n  }\r\n  organizationCurrenyName: string = '';\r\n  daysList = { 'MON': 'Monday', 'TUE': 'Tuesday', 'WED': 'Wednesday', 'THU': 'Thursday', 'FRI': 'Friday', 'SAT': 'Saturday', 'SUN': 'Sunday' }\r\n  competenciesList = []\r\n  calendarData: any[] = []\r\n  employee : any;\r\n  public employeeInputModel = [];\r\n  employeeOffTimeType = [];\r\n  employeeCompetenciesIcons = [\r\n    {\r\n      'name': 'Body',\r\n      'svg': 'car',\r\n      'backgroundColor': '#00B5AA'\r\n    },\r\n    {\r\n      'name': 'Maintenance',\r\n      'svg': 'house',\r\n      'backgroundColor': '#91C009'\r\n    },\r\n    {\r\n      'name': 'Paint',\r\n      'svg': 'paint-nozzle',\r\n      'backgroundColor': '#2B88DE'\r\n    },\r\n    {\r\n      'name': 'Mechanical',\r\n      'svg': 'mechanical',\r\n      'backgroundColor': '#CE6DD0'\r\n    },\r\n    {\r\n      'name': 'Diagnosis',\r\n      'svg': 'diagnosis',\r\n      'backgroundColor': '#B53E3E'\r\n    },\r\n    {\r\n      'name': 'Tyres',\r\n      'svg': 'tyres',\r\n      'backgroundColor': '#AAC7FA'\r\n    },\r\n    {\r\n      'name': 'Electrical',\r\n      'svg': 'bolt-car',\r\n      'backgroundColor': '#8F2BDE'\r\n    },\r\n    {\r\n      'name': 'Others',\r\n      'svg': 'gears',\r\n      'backgroundColor': '#D2A120'\r\n    },\r\n  ];\r\n  employeeCompetenciesModel = {\r\n    type: 'checkbox',\r\n    options: [],\r\n    name: 'competencies',\r\n    placeHolder: '',\r\n    label: '',\r\n    value: ''\r\n  };\r\n  inputModelData = {\r\n    'firstName': {\r\n      label: 'first_name',\r\n      type: 'text',\r\n      disabled: true,\r\n      placeHolder: '',\r\n      name: 'firstName',\r\n      class: 'col-4'\r\n    },\r\n    'lastName': {\r\n      label: 'last_name',\r\n      type: 'text',\r\n      disabled: true,\r\n      placeHolder: '',\r\n      name: 'lastName',\r\n      class: 'col-4'\r\n    },\r\n    'orgName': {\r\n      label: 'organization',\r\n      type: 'text',\r\n      disabled: true,\r\n      placeHolder: '',\r\n      name: 'orgName',\r\n      class: 'col-4'\r\n    },\r\n    'email': {\r\n      label: 'email',\r\n      type: 'text',\r\n      disabled: true,\r\n      placeHolder: '',\r\n      name: 'email',\r\n      class: 'col-4 ipad-col-4-to-col-8'\r\n    },\r\n    'countryCode': {\r\n      label: 'code',\r\n      type: 'text',\r\n      disabled: true,\r\n      placeHolder: '',\r\n      name: 'countryCode',\r\n      class: 'col-1'\r\n    },\r\n    'mobileNumber': {\r\n      label: 'mobile_number',\r\n      type: 'text',\r\n      disabled: true,\r\n      placeHolder: '',\r\n      name: 'mobileNumber',\r\n      class: 'col-3'\r\n    },\r\n    'costPerHour': {\r\n      label: 'cost_per_hour',\r\n      type: 'number',\r\n      name: 'costPerHour',\r\n      placeHolder: '',\r\n      class: 'col-4',\r\n      maxLength: 8,\r\n      pattern: /^(?:\\d{0,5}\\.\\d{1,2})$|^\\d{0,5}$/\r\n    },\r\n    'roleName': {\r\n      label: 'job_role',\r\n      type: 'text',\r\n      disabled: true,\r\n      placeHolder: '',\r\n      name: 'roleName',\r\n      class: 'col-4'\r\n    }\r\n  }\r\n  notes = ''\r\n  workDays = [\r\n    { day: 'MON', checked: true },\r\n    { day: 'TUE', checked: true },\r\n    { day: 'WED', checked: true },\r\n    { day: 'THU', checked: true },\r\n    { day: 'FRI', checked: true },\r\n    { day: 'SAT', checked: true },\r\n    { day: 'SUN', checked: false },\r\n  ]\r\n  offDays = [\r\n    { day: 'MON', date: '15', checked: true },\r\n    { day: 'TUE', date: '16', checked: true },\r\n    { day: 'WED', date: '17', checked: true },\r\n    { day: 'THU', date: '18', checked: true },\r\n    { day: 'FRI', date: '19', checked: true },\r\n    { day: 'SAT', date: '20', checked: true },\r\n    { day: 'SUN', date: '21', checked: false },\r\n  ]\r\n\r\n  scheduleType = 'work'\r\n  workStartDateInputModel = {\r\n    label: 'start_date',\r\n    type: 'date',\r\n    name: 'workStart',\r\n    class: 'col-1',\r\n    placeHolder: 'enter_date',\r\n    minDate: new Date(),\r\n    value: new Date()\r\n  }\r\n\r\n  offStartDateInputModel = {\r\n    label: 'start',\r\n    type: 'date',\r\n    name: 'offStart',\r\n    class: 'col-1',\r\n    placeHolder: 'enter_date',\r\n    minDate: new Date(),\r\n    value: new Date()\r\n  }\r\n\r\n  offEndDateInputModel = {\r\n    label: 'end',\r\n    type: 'date',\r\n    name: 'offEnd',\r\n    class: 'col-1',\r\n    placeHolder: 'enter_date',\r\n    minDate: new Date(),\r\n    value: new Date()\r\n  }\r\n\r\n  startTimePickerModel = {\r\n    label: 'job_start_time',\r\n    type: 'time',\r\n    name: 'jobStart',\r\n    class: 'col-6',\r\n    placeHolder: 'time',\r\n    value: dayjs('2023-01-01 08:00'),\r\n    interval: timeSlotMin\r\n  }\r\n\r\n  endTimePickerModel = {\r\n    label: 'job_end_time',\r\n    type: 'time',\r\n    name: 'jobStart',\r\n    class: 'col-6',\r\n    placeHolder: 'time',\r\n    value: dayjs('2023-01-01 18:00'),\r\n    interval: timeSlotMin\r\n  }\r\n\r\n  workStartTimePickerModels = []\r\n  workEndTimePickerModels = []\r\n  offStartTimePickerModels = []\r\n  offEndTimePickerModels = []\r\n\r\n  offTimeInputModels = {\r\n    breakType: {\r\n      label: 'break_type',\r\n      type: 'select',\r\n      name: 'breakType',\r\n      class: 'col-6',\r\n      placeHolder: 'select_break_type',\r\n      value: '',\r\n      displayValue: 'label',\r\n      fieldValue: 'value',\r\n      selectedOption: { durationUnit: '' },\r\n      options: [],\r\n      isMultiSelect: false\r\n    },\r\n    frequencyWeekly: {\r\n      label: 'frequency',\r\n      type: 'select',\r\n      name: 'frequency',\r\n      class: 'col-6',\r\n      placeHolder: 'select_repeat_frequency',\r\n      value: '',\r\n      displayValue: 'label',\r\n      fieldValue: 'value',\r\n      selectedOption: { label: 'Do Not Repeat' },\r\n      options: [ { label: 'Do Not Repeat' }, { label: 'Repeat Every Week' } ],\r\n      isMultiSelect: false\r\n    },\r\n    frequencyYearly: {\r\n      label: 'frequency',\r\n      type: 'select',\r\n      name: 'frequency',\r\n      class: 'col-6',\r\n      placeHolder: 'select_repeat_frequency',\r\n      value: '',\r\n      displayValue: 'label',\r\n      fieldValue: 'value',\r\n      selectedOption: { label: 'Do Not Repeat' },\r\n      options: [ { label: 'Do Not Repeat' }, { label: 'Repeat Every Year' } ],\r\n      isMultiSelect: false\r\n    },\r\n    start: {\r\n      label: 'state',\r\n      type: 'date',\r\n      name: 'offStart',\r\n      class: 'col-6',\r\n      placeHolder: 'enter_start_date',\r\n      minDate: new Date(),\r\n      maxDate: new Date(),\r\n      value: new Date()\r\n    },\r\n    end: {\r\n      label: 'end',\r\n      type: 'date',\r\n      name: 'offEnd',\r\n      class: 'col-6',\r\n      placeHolder: 'enter_end_date',\r\n      minDate: new Date(),\r\n      maxDate: new Date(),\r\n      value: new Date()\r\n    },\r\n  }\r\n\r\n  currentDate = new Date();\r\n  selectedCalendarDate;\r\n  editEmployeeFormValid: boolean = true;\r\n  timeSlotMin = timeSlotMin;\r\n  weekendDate = {};\r\n  holiday = {};\r\n  dinner = {};\r\n  currencySymbol: string = '';\r\n  /**\r\n   * constructor\r\n   */\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private settingsService: SettingsService,\r\n    private commonService: CommonService,    \r\n    private translateService: TranslateService,\r\n  ){\r\n    this.currencySymbol = this.commonService.getCurrencySymbol();\r\n  }\r\n  \r\n  /**\r\n   * ngOnInit\r\n   */\r\n  ngOnInit(): void{\r\n    const employeeId = this.route.snapshot.params['id'];\r\n    this.commonService.showLoading();\r\n    firstValueFrom(this.settingsService.getEmployeeDetails(employeeId)).then((response) => {\r\n      this.employee = response.data;\r\n      this.employee.workSchedules = this.convertTimeToLocalTimeZone(this.employee.workSchedules, 'work');\r\n      this.employee.offTimes = this.convertTimeToLocalTimeZone(this.employee.offTimes, 'offtime');\r\n      const competenciesChecked = response.data.competencies.map(item=>item.name);\r\n      this.employee.notes = response.data.notes ? atob(response.data.notes) : '';\r\n      console.log(response);\r\n      const employeeInputModel = [];\r\n      Object.keys(this.inputModelData).forEach((key)=>{\r\n        if(this.inputModelData[key].name === 'costPerHour'){\r\n          this.inputModelData[key].label = `${this.translateService.instant('cost_per_hour')} (${this.currencySymbol})`;\r\n        }\r\n        employeeInputModel.push({ ...this.inputModelData[key], value: this.employee[key] });\r\n      })\r\n      this.employeeCompetenciesIcons.forEach((key)=>{\r\n        this.employeeCompetenciesModel.options.push({ \r\n          label: key.name,\r\n          icon: key.svg,\r\n          name: key.name,\r\n          value: key.name,\r\n          color: 'white',\r\n          backgroundColor: key.backgroundColor,\r\n          checked: competenciesChecked.indexOf(key.name) !=-1\r\n        })\r\n      })\r\n          \r\n      this.employeeInputModel = employeeInputModel;\r\n\r\n      const currentMonday = dayjs().clone().weekday(1).format('YYYY-MM-DD');\r\n      this.selectedCalendarDate = currentMonday;\r\n      this.getEmployeeCalendar(currentMonday);\r\n\r\n      this.commonService.hideLoading();\r\n    }).catch(() => {\r\n      this.commonService.hideLoading();\r\n    });\r\n    this.settingsService.getEmployeeOffTimeType().subscribe({\r\n      next: (result) => {\r\n        this.offTimeInputModels.breakType.options = result['data'].map((item) => {\r\n          item.type = item.description.indexOf('Days')!=-1 ? 'Days' : 'Hours';\r\n          item.label = item.name;\r\n          return item;\r\n        } )\r\n        //this.offTimeInputModels.breakType.selectedOption = this.offTimeInputModels.breakType.options[0];\r\n      }\r\n    })\r\n    this.settingsService.getCompetencies().subscribe({\r\n      next: (result) => {console.log(result); this.competenciesList = result;}\r\n    })\r\n\r\n    this.workDays.forEach((item)=>{\r\n      this.workStartTimePickerModels.push({ ...this.startTimePickerModel })\r\n      this.workEndTimePickerModels.push({ ...this.endTimePickerModel })\r\n      this.offStartTimePickerModels.push({ ...this.startTimePickerModel, value: dayjs('2023-01-01 13:00 ') })\r\n      this.offEndTimePickerModels.push({ ...this.endTimePickerModel, value: dayjs('2023-01-01 14:00') })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * tab change of chq-tabs\r\n   * @param {*} event\r\n   */\r\n  tabChange(event): void{\r\n    console.log(event);\r\n    this.menuItems.map(menuItem => menuItem.name == event.name ? menuItem.active = true : menuItem.active = false);\r\n    this.activeMenuName = event.name;\r\n    setTimeout(()=>this.dxScheduler.instance.repaint(), 300)\r\n  }\r\n\r\n  /**\r\n   * @date 5/31/2023 - 11:26:59 AM\r\n   *\r\n   * @param {*} index\r\n   */\r\n  toggleDays(type, index): void{\r\n    if(type == 'work'){\r\n      this.workDays[index].checked = !this.workDays[index].checked;\r\n    }else if(type == 'off'){\r\n      this.offDays[index].checked = !this.offDays[index].checked;\r\n    }\r\n  }\r\n  \r\n\r\n  /**\r\n   * updateEmployeeDetails\r\n   */\r\n  updateEmployeeDetails(): any{\r\n    const notesLength = this.removeTags(this.notes)\r\n    console.log(notesLength, notesLength.length);\r\n    if(notesLength.length > 500){\r\n      this.showErrorMessage('Notes Length', 'Notes cannot be more than 500 Characters');\r\n      return;\r\n    }\r\n    const data = { notes: btoa(this.notes), costPerHour: this.employeeInputModel.filter(item=>item.name == 'costPerHour')[0].formControl.value };\r\n    if(parseInt(data.costPerHour) <=0){\r\n      this.showErrorMessage('Invalid Cost Per Hour', 'Cost Per Hour should be more than 0');\r\n      return;\r\n    }\r\n    this.commonService.showLoading();\r\n    //console.log(data);return;\r\n    this.settingsService.updateEmployeeDetails(this.employee.employeeGuid, data).subscribe({\r\n      next: (result: any)=>{\r\n        console.log('result', result);\r\n        this.commonService.hideLoading();\r\n      },\r\n      error: (error) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n    const competenciesChecked = this.employeeCompetenciesModel.options.filter(option => option.checked).map(item=>item.name);\r\n    const competenciesCheckedId = this.competenciesList.filter(item=>competenciesChecked.indexOf(item.name)!=-1).map(item=>item.competenciesId);\r\n    const updateCompetenciesData = { competenciesIDs: competenciesCheckedId, userID: this.employee.employeeId };\r\n    this.settingsService.updateCompetencies(updateCompetenciesData).subscribe({\r\n      next: (result: any)=>{\r\n        console.log('result', result);\r\n      },\r\n      error: (error) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * updateTimePickers\r\n   *\r\n   * @param {*} event\r\n   * @param {*} type\r\n   * @param {*} startOrEnd\r\n   * @param {*} index\r\n   */\r\n  updateTimePickers(event, type, startOrEnd, index): void {\r\n    console.log(event, type, startOrEnd, index);\r\n    if(type === 'work'){\r\n      if(startOrEnd === 'start'){\r\n        this.workStartTimePickerModels[index].value = event.value;\r\n      }else{\r\n        this.workEndTimePickerModels[index].value = event.value;\r\n      }\r\n    }else if(type === 'off'){\r\n      if(startOrEnd === 'start'){\r\n        this.offStartTimePickerModels[index].value = event.value;\r\n      }else{\r\n        this.offEndTimePickerModels[index].value = event.value;\r\n      }\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * updateDatePickers\r\n   * @param {*} event\r\n   * @param {*} type\r\n   * @param {*} startOrEnd\r\n   */\r\n  updateDatePickers(event, type, startOrEnd): void{\r\n    console.log(event, type, startOrEnd);\r\n    if(type === 'work'){\r\n      this.workStartDateInputModel.value = event.value;\r\n    }else if(type === 'off'){\r\n      if(startOrEnd === 'start'){\r\n        this.offStartDateInputModel.value = event.value;\r\n      }else{\r\n        this.offEndDateInputModel.value = event.value;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * breakTypeChange\r\n   * @param {*} $event\r\n   */\r\n  offTimeInputChange($event, type): void{\r\n    console.log($event, type);\r\n    this.offTimeInputModels[type] = { ...this.offTimeInputModels[type], selectedOption: $event.value };\r\n    //    this.offTimeInputModels.breakType.selectedOption = $event.value;\r\n  }\r\n\r\n  /**\r\n   * checkDayOverlapInUTCTime\r\n   * @param {*} dateTime\r\n   * @returns {boolean}\r\n   */\r\n  isDayOverlapInUTCTime(dateTime): boolean{\r\n    let returnFlag = false;\r\n    console.log(dayjs(dateTime).utc().format('HH:MM') > dayjs(dateTime).format('HH:MM'))\r\n    if(dayjs(dateTime).utc().format('HH:MM') > dayjs(dateTime).format('HH:MM')){\r\n      returnFlag = true;\r\n    }\r\n    return returnFlag;\r\n  }\r\n\r\n  /**\r\n   * addNewWorkHours\r\n   */\r\n  addNewWorkHours(): void{\r\n    if(this.employee.workSchedules.length >= 10){\r\n      this.showErrorMessage('Max Work Hours Reached', 'Cannot Add more than 10 Work Hours');\r\n      return;\r\n    }\r\n    this.commonService.showLoading();\r\n    const data = {\r\n      'workDays': [],\r\n      'effectiveDate': dayjs(this.workStartDateInputModel.value).format('YYYY-MM-DD'),\r\n    }\r\n    for(const index in this.workDays) {\r\n      const item = this.workDays[index];\r\n      if(item.checked){\r\n        if(this.isDayOverlapInUTCTime(this.workStartTimePickerModels[index].value)){\r\n          this.showErrorMessage('Error', 'Job Start Time should be '+ this.localTimeZoneString + ' and beyond');\r\n          this.commonService.hideLoading();\r\n          return;\r\n        }\r\n        if(this.isDayOverlapInUTCTime(this.workEndTimePickerModels[index].value)){\r\n          this.showErrorMessage('Error', 'Job End Time should be '+ this.localTimeZoneString + ' and beyond');\r\n          this.commonService.hideLoading();\r\n          return;\r\n        }\r\n        data.workDays.push({\r\n          day: this.daysList[item.day], \r\n          timeSlots: [ {\r\n            startTime: dayjs(this.workStartTimePickerModels[index].value).utc().format('HH:mm'),\r\n            endTime: dayjs(this.workEndTimePickerModels[index].value).utc().format('HH:mm')\r\n          } ]\r\n        })\r\n      }\r\n    }\r\n    this.settingsService.addNewWorkHours(this.employee.employeeGuid, data).subscribe({\r\n      next: (result) => {\r\n        this.commonService.hideLoading();\r\n        if(result.success){\r\n          this.showSuccessMessage(result.message, result.message);\r\n          this.employee.workSchedules = this.convertTimeToLocalTimeZone(result.data.workSchedules, 'work');\r\n          this.getEmployeeCalendar(this.selectedCalendarDate);\r\n        }else if(result.errorMessages){\r\n          this.showErrorMessage('Error', result.errorMessages);\r\n        }else{\r\n          this.showErrorMessage('Error', result.Message);\r\n        }\r\n      },\r\n      error: (error) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * checkAddOffTimeAllowed\r\n   */\r\n  checkAddOffTimeAllowed(): void{\r\n    console.log(this.offTimeInputModels.breakType.selectedOption.durationUnit);\r\n    let isOverlap = false;\r\n    this.employee.workSchedules.forEach((workSchedule, index) => {\r\n      if(this.employee.workSchedules[index + 1] == undefined){\r\n        if(new Date(workSchedule['effectiveDate']) <= new Date(this.offStartDateInputModel['formControl'].value)){\r\n          isOverlap = true;\r\n          return;\r\n        }\r\n      }else{\r\n        if(this.employee.workSchedules[index + 1] && new Date(workSchedule['effectiveDate']) <= new Date(this.offStartDateInputModel['formControl'].value) && new Date(this.employee.workSchedules[index + 1]['effectiveDate']) >= new Date(this.offEndDateInputModel['formControl'].value )){\r\n          isOverlap = true;\r\n          return;\r\n        }\r\n      }\r\n    })\r\n    if(isOverlap){\r\n      const dialogRef = this.commonService.openConfirmationOkDialog('Oops!', 'The employee selected is already allocated to a job in the selected period, please check again.')\r\n      dialogRef.afterClosed().subscribe((result) => {\r\n        if (result) {\r\n          this.addNewOffTime();\r\n        }\r\n      });\r\n    }else{\r\n      this.addNewOffTime();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * addNewOffTime\r\n   */\r\n  addNewOffTime(): void{\r\n    this.commonService.showLoading();\r\n    const data = {\r\n      'offDays': [],\r\n      'offTimeTypeId': this.offTimeInputModels.breakType.selectedOption['id'],\r\n      'startDate': dayjs(this.offStartDateInputModel['formControl'].value).format('YYYY-MM-DD'),\r\n      'endDate': dayjs(this.offEndDateInputModel['formControl'].value).format('YYYY-MM-DD')\r\n    };\r\n    if(this.offTimeInputModels.breakType.selectedOption['durationUnit'] === 'Hours'){\r\n      for(const index in this.offDays) {\r\n        const item = this.offDays[index];\r\n        if(item.checked){\r\n          if(this.isDayOverlapInUTCTime(this.offStartTimePickerModels[index].value)){\r\n            this.showErrorMessage('Error', 'Start Time should be '+ this.localTimeZoneString + ' and beyond');\r\n            this.commonService.hideLoading();\r\n            return;\r\n          }\r\n          if(this.isDayOverlapInUTCTime(this.offEndTimePickerModels[index].value)){\r\n            this.showErrorMessage('Error', 'End Time should be '+ this.localTimeZoneString + ' and beyond');\r\n            this.commonService.hideLoading();\r\n            return;\r\n          }\r\n          data.offDays.push({\r\n            day: this.daysList[item.day], \r\n            startTime: dayjs(this.offStartTimePickerModels[index].value ).utc().format('HH:mm'),\r\n            endTime: dayjs(this.offEndTimePickerModels[index].value ).utc().format('HH:mm')\r\n          })\r\n        }\r\n      }\r\n    }else{\r\n      delete data['offDays'];\r\n    }\r\n    console.log(data, this.offStartDateInputModel, this.offEndDateInputModel, this.offTimeInputModels.breakType);\r\n    //return;\r\n    this.settingsService.addNewOffTime(this.employee.employeeGuid, data).subscribe({\r\n      next: (result) => {\r\n        this.commonService.hideLoading();\r\n        if(result.success){\r\n          this.showSuccessMessage(result.message, result.message);\r\n          this.employee.offTimes = this.convertTimeToLocalTimeZone(result.data.offTimes, 'offtime');\r\n          this.getEmployeeCalendar(this.selectedCalendarDate);\r\n        }else if(result.errorMessages){\r\n          this.showErrorMessage('Error', result.errorMessages);\r\n        }else{\r\n          this.showErrorMessage('Error', result.Message);\r\n        }\r\n      },\r\n      error: (error) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  \r\n  /**\r\n   * deleteWorkHours\r\n   */\r\n  deleteWorkHours(workScheduleGuid: string): void{\r\n    this.commonService.showLoading();\r\n    this.settingsService.deleteWorkHours(this.employee.employeeGuid, workScheduleGuid).subscribe({\r\n      next: (result) => {\r\n        this.commonService.hideLoading();\r\n        if(result.success){\r\n          this.showSuccessMessage(result.message, result.message);\r\n          this.employee.workSchedules = this.convertTimeToLocalTimeZone(result.data.workSchedules, 'work');\r\n          this.getEmployeeCalendar(this.selectedCalendarDate);\r\n        }else{\r\n          this.showErrorMessage('Error', result.Message);\r\n        }\r\n      },\r\n      error: (error) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * deleteOffTime\r\n   */\r\n  deleteOffTime(offTimeGuid: string): void{\r\n    this.commonService.showLoading();\r\n    this.settingsService.deleteOffTime(this.employee.employeeGuid, offTimeGuid).subscribe({\r\n      next: (result) => {\r\n        this.commonService.hideLoading();\r\n        if(result.success){\r\n          this.showSuccessMessage(result.message, result.message);\r\n          this.employee.offTimes = this.convertTimeToLocalTimeZone(result.data.offTimes, 'offtime');\r\n          this.getEmployeeCalendar(this.selectedCalendarDate);\r\n        }else{\r\n          this.showErrorMessage('Error', result.Message);\r\n        }\r\n      },\r\n      error: (error) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n  \r\n  /**\r\n   * getEmployeeCalendar\r\n   */\r\n  getEmployeeCalendar(fromDate): void{\r\n    this.commonService.showLoading();\r\n    this.settingsService.getEmployeeCalendar(this.employee.employeeGuid, fromDate).subscribe({\r\n      next: (result) => {\r\n        this.commonService.hideLoading();\r\n        this.weekendDate = {};\r\n        this.holiday = {};\r\n        this.dinner = {};\r\n        console.log(result);\r\n        //return;\r\n        const calendarData = [];\r\n        result.data?.calenderDays?.forEach((calenderDays)=>{\r\n          if(calenderDays.isWeekend){\r\n            this.weekendDate[new Date(calenderDays.date).toDateString()] = true;\r\n          }\r\n          if(calenderDays.breaks){\r\n            calenderDays.breaks.map((breakData)=>{\r\n              const endTimeDayjs = dayjs(`${calenderDays.date} ${breakData.endTime} Z`, this.dateTimeFormats.dateTimeUTC12h);\r\n              const startTimeDayjs = dayjs(`${calenderDays.date} ${breakData.startTime} Z`, this.dateTimeFormats.dateTimeUTC12h);\r\n              const timeDiff = endTimeDayjs.diff(startTimeDayjs, 'minutes');\r\n              const timeSlots = Math.ceil(timeDiff/this.timeSlotMin);\r\n              for(let i=0; i<timeSlots; i++){\r\n                const dateData = startTimeDayjs.add(i*this.timeSlotMin, 'minutes').format('YYYY-MM-DD HH:mm');\r\n                this.dinner[new Date(dateData).toLocaleDateString() + ' '+ new Date(dateData).toLocaleTimeString()] = breakData.label;\r\n              }\r\n            })\r\n          }\r\n          if(calenderDays.isOff){\r\n            this.holiday[new Date(calenderDays.date).toDateString()] = calenderDays.offTimeLabel;\r\n          }\r\n          if(calenderDays.timeSlots){\r\n            calenderDays.timeSlots.map((timeSlot)=>{\r\n              calendarData.push({\r\n                startTime: dayjs(`${calenderDays.date} ${timeSlot.startTime} Z`, this.dateTimeFormats.dateTimeUTC12h),\r\n                endTime: dayjs(`${calenderDays.date} ${timeSlot.endTime} Z`, this.dateTimeFormats.dateTimeUTC12h),\r\n                type: 'work',\r\n                label: 'Work Slot',\r\n                icon: 'briefcase-circle',\r\n                iconColor: 'light-blue1'\r\n              });\r\n            })\r\n          }\r\n          \r\n        })\r\n        console.log(JSON.stringify(calendarData));\r\n        this.calendarData = calendarData;\r\n        setTimeout(()=>this.dxScheduler.instance.repaint(), 300)\r\n      },\r\n      error: (error) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * appointmentTimeFormat\r\n   *\r\n   * @param {string} dateTime\r\n   * @returns {string}\r\n   */\r\n  appointmentTimeFormat(dateTime: string): string{\r\n    return dayjs(dateTime).format('hh:mm A');\r\n  }\r\n\r\n  /**\r\n   * onOptionChanged Calendar\r\n   *\r\n   * @param {*} event\r\n   */\r\n  onOptionChanged(event): void{\r\n    console.log(event);\r\n    if(event.name === 'currentDate'){\r\n      const currentDate = dayjs(event.value).weekday(1).format('YYYY-MM-DD');\r\n      this.selectedCalendarDate = currentDate;\r\n      this.getEmployeeCalendar(currentDate);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * showErrorMessage\r\n   * @param {*} title\r\n   * @param {*} desc\r\n   */\r\n  showErrorMessage(title, desc): void{\r\n    this.commonService.showToast(400, desc);\r\n  }\r\n\r\n  /**\r\n   * showSuccessMessage\r\n   * @param {*} title\r\n   * @param {*} desc\r\n   */\r\n  showSuccessMessage(title, desc): void{\r\n    this.commonService.showInfoToast(5000, desc);\r\n  }\r\n\r\n  /**\r\n   * removeTags\r\n   * @param {*} str\r\n   * @returns {*}\r\n   */\r\n  removeTags(str): string {\r\n    if ((str===null) || (str===''))\r\n      return '';\r\n    else\r\n      str = str.toString();\r\n          \r\n    return str.replace( /(<([^>]+)>)/ig, '');\r\n  }\r\n\r\n  /**\r\n   * validateEditEmployee\r\n   * @param {*} event\r\n   */\r\n  validateEditEmployee(event): void{\r\n    this.editEmployeeFormValid = event.isValid;\r\n  }\r\n\r\n  /**\r\n   * convertTimesToLocal\r\n   * @param {*} obj\r\n   * @param {*} type\r\n   */\r\n  convertTimeToLocalTimeZone(obj, type: string): any{\r\n    if(!obj) return null;\r\n    if(type === 'work'){\r\n      const data = obj.map((workSchedule) => {\r\n        return { ...workSchedule, titles: workSchedule.titles?.map((title) => {\r\n          if(!title.hours || title.hours.indexOf(' - ') === -1) return title;\r\n          const hoursArray = title.hours.split(' - ');\r\n          hoursArray[0] = dayjs('2023-01-01 '+ hoursArray[0]+ ' Z', this.dateTimeFormats.dateTimeUTC12h).format('hh:mm A');\r\n          hoursArray[1] = dayjs('2023-01-01 '+ hoursArray[1]+ ' Z', this.dateTimeFormats.dateTimeUTC12h).format('hh:mm A');\r\n          return { ...title, hours: hoursArray.join(' - ') };\r\n        }) }\r\n      })\r\n      return data;\r\n    }else if(type === 'offtime'){\r\n      const data = obj.map((offTime) => {\r\n        if(offTime.titles && offTime.titles.length > 0){\r\n          return { ...offTime, titles: offTime.titles.map((title) => {\r\n            if(!title.hours || title.hours.indexOf(' - ') === -1) return title;\r\n            const hoursArray = title.hours.split(' - ');\r\n            hoursArray[0] = dayjs('2023-01-01 '+ hoursArray[0]+ ' Z', this.dateTimeFormats.dateTimeUTC12h).format('hh:mm A');\r\n            hoursArray[1] = dayjs('2023-01-01 '+ hoursArray[1]+ ' Z', this.dateTimeFormats.dateTimeUTC12h).format('hh:mm A');\r\n            return { ...title, hours: hoursArray.join(' - ') };\r\n          }) }\r\n        }else{\r\n          return offTime;\r\n        }\r\n      })\r\n      return data;\r\n    }else{\r\n      return obj;\r\n    }\r\n  }\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ListViewComponent } from './list-view/list-view.component';\r\nimport { Route, RouterModule } from '@angular/router';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { IconsModule } from 'src/app/icons.module';\r\nimport { WidgetsModule } from 'src/app/widgets/chq-widgets.module';\r\n//import { GridViewComponent } from './grid-view/grid-view.component';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { ErrorModule } from 'src/app/shared/error-page/error.module';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { VersionControlResolver } from 'src/app/resolvers/versionControl.resolver';\r\nimport { EditEmployeeComponent } from './edit-employee/edit-employee.component';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { DxSchedulerModule } from 'devextreme-angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n\r\nconst casesRoutes: Route[] = [\r\n  { \r\n    path: '', \r\n    component: ListViewComponent,\r\n    resolve: { version: VersionControlResolver },\r\n  },\r\n  // { \r\n  //   path: 'grid-view', \r\n  //   component: GridViewComponent, \r\n  //   resolve: { version: VersionControlResolver }\r\n  // },\r\n  { \r\n    path: 'edit/:id', \r\n    component: EditEmployeeComponent, \r\n    resolve: { version: VersionControlResolver }\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ListViewComponent,\r\n    //GridViewComponent,\r\n    EditEmployeeComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    MatIconModule,\r\n    IconsModule,\r\n    RouterModule.forChild(casesRoutes),\r\n    WidgetsModule,\r\n    SharedModule,\r\n    ErrorModule,\r\n    MatCardModule,\r\n    MatExpansionModule,\r\n    MatChipsModule,\r\n    FormsModule,\r\n    DxSchedulerModule,\r\n    TranslateModule\r\n  ],\r\n  exports: [ RouterModule,\r\n    MatDatepickerModule ]\r\n})\r\nexport class EmployeeModule { }\r\n","<div class=\"employee-list\">\r\n    <div class=\"filter-section\">\r\n        <div class=\"menu-section\">\r\n            <chq-dropdown [dropdownModel]=\"dropdownModelFilter\" (clicked)=\"hideDropdown(dropdownModelFilter.name);\"\r\n                #filter (selected)=\"selectFilter($event)\">\r\n            </chq-dropdown>\r\n            <chq-dropdown *ngIf=\"input.org\" #org (clicked)=\"hideDropdown(dropdownModelOrganization.name);\"\r\n                [dropdownModel]=\"dropdownModelOrganization\" (selected)=\"selectFilter($event)\">\r\n            </chq-dropdown>\r\n            <chq-input *ngIf=\"input.name\" [inputModel]=\"nameTextBox\" (controlOutput)=\"updateInput($event)\">\r\n            </chq-input>\r\n            <chq-button [buttonModel]=\"applyButtonModel\">Apply</chq-button>\r\n            <chq-button [buttonModel]=\"resetButtonModel\">Reset All</chq-button>\r\n        </div>\r\n    </div>\r\n    <div class=\"table-container\">\r\n        <div class=\"table-wrapper\">\r\n            <chq-mat-table [config]=\"tableConfig\" [tableData]=\"tableData\" [pageChanged]=\"pageChanged\"\r\n                [sortChanged]=\"sortChanged\"  [cellClicked]=\"cellClickedCallback\" [i18n]=\"i18n\"></chq-mat-table>\r\n        </div>\r\n    </div>\r\n    <div class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/addenda-repair.png\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { ChangeDetectorRef, Component, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { Sort } from '@angular/material/sort';\r\nimport { Router } from '@angular/router';\r\nimport { SettingsListConfig } from 'src/app/config/display/settings-list-config';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { ChqWidgetsDropdownModel } from 'src/app/model/chq-widgets-dropdown-model';\r\nimport { ChqWidgetsInputModel, IControlValue } from 'src/app/model/chq-widgets-input-model';\r\nimport { CaseService } from 'src/app/services/case/case.service';\r\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\r\nimport { SettingsService } from 'src/app/services/settings/settings.service';\r\nimport { ChqDropdownComponent } from 'src/app/widgets/chq-dropdown/chq-dropdown.component';\r\nimport { SortChangedCallback, TableConfig, TableRowData } from 'src/app/widgets/chq-mat-table/chq-mat-table.component';\r\nimport { ApiPagination, PaginateInfo, defaultPagination } from 'src/app/widgets/chq-paginator/chq-paginator.component';\r\n\r\n@Component({\r\n  selector: 'app-list-view',\r\n  templateUrl: './list-view.component.html',\r\n  styleUrls: [ './list-view.component.scss' ],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ListViewComponent {\r\n\r\n  /**\r\n   * constructor\r\n   * @param router \r\n   */\r\n  public tableConfig: TableConfig;\r\n  public tableData: TableRowData[];\r\n  public pageChanged: boolean = false;\r\n  public sortChanged: any;\r\n  public pagination: ApiPagination = defaultPagination;\r\n  public static currentPage: number = 1;\r\n  public totalCount: number = 100;\r\n  private readonly configData: any = SettingsListConfig\r\n  public static filterDetail: any = [];\r\n  public queryParams: string = '';\r\n  public organizationList: Array<any>;\r\n  public userEmailDetail: string = '';\r\n  public userOrg: any;\r\n\r\n  @ViewChild('org') org: ChqDropdownComponent;\r\n\r\n  public input: any = { org: false, name: false };\r\n\r\n  public applyButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'apply',\r\n    type: 'primary',\r\n    icon: ''\r\n  }\r\n\r\n  public resetButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'reset_all',\r\n    type: 'outline',\r\n    icon: ''\r\n  }\r\n\r\n  public dropdownModelFilter: ChqWidgetsDropdownModel = {\r\n    options: [ { label: 'Select...' }, { label: 'Name' }, { label: 'Organization' } ],\r\n    placeHolder: 'select_dot',\r\n    label: 'select_type',\r\n    name: 'filterDropdown',\r\n    displayValue: 'label',\r\n    selectedOption: { 'label': 'Select...' }\r\n  };\r\n\r\n  public dropdownModelOrganization: ChqWidgetsDropdownModel = {\r\n    options: [],\r\n    placeHolder: 'organization',\r\n    label: 'select_organization',\r\n    name: 'orgDropdown',\r\n    displayValue: 'name',\r\n    selectedOption: []\r\n  }\r\n\r\n  public nameTextBox: ChqWidgetsInputModel = {\r\n    placeHolder: 'name',\r\n    label: 'enter_name',\r\n    name: 'name',\r\n    type: 'text',\r\n    value: '',\r\n    required: false\r\n  };\r\n\r\n  i18n: i18nInfo;\r\n\r\n  /**\r\n   * constructor\r\n   * @param router \r\n   */\r\n  constructor(\r\n    private settingsService: SettingsService,\r\n    private commonService: CommonService,\r\n    private cd: ChangeDetectorRef,\r\n    private monitorService: MonitorService,\r\n    private caseService: CaseService,\r\n    private router: Router\r\n  ) { \r\n    this.i18n = this.commonService.geti18nInfo();\r\n  }\r\n\r\n  /**\r\n     * ngOnInit\r\n     */\r\n  ngOnInit(): void {\r\n    this.monitorService.logEvent('ngOnInit', [ 'ListViewComponent', 'addenda-repair' ]);\r\n    this.tableConfig = this.configData;\r\n    this.applyButtonModel.onclick = this.filterCases.bind(this);\r\n    this.resetButtonModel.onclick = this.resetFilter.bind(this);\r\n    this.commonService.showLoading();\r\n    this.applyButtonModel.type = 'disabled';\r\n    this.userEmailDetail = this.commonService.userProfileData.value?.data?.email;\r\n    this.userOrg = this.commonService.userProfileData.value?.data.organizationDetail;\r\n    this.caseService.getBMOrganizations().subscribe({\r\n      next: (response) => {\r\n        this.organizationList = response.data;\r\n        this.dropdownModelOrganization = { ...this.dropdownModelOrganization, ...{ options: this.organizationList } };\r\n        this.getEmployees();\r\n      },\r\n      error: (err: any) => {\r\n        this.monitorService.logEvent('getOrganizations', [ 'ListViewComponent', 'addenda-repair', {\r\n          err\r\n        } ]);\r\n        this.getEmployees();\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n  }\r\n\r\n  handleSortChange: SortChangedCallback = (sort: Sort): void => {\r\n    if (sort) {\r\n      this.pagination = { ...this.pagination, ...{ orderBy: sort.active, sortDirection: sort.direction } };\r\n      this.commonService.showLoading();\r\n      this.getEmployees();\r\n    }\r\n  }\r\n\r\n  /**\r\n  * handlePaginationChange\r\n  * @param event\r\n  */\r\n  handlePaginationChange(event: PaginateInfo): void {\r\n    const pagination: ApiPagination = {\r\n      pageSize: event.pageSize,\r\n      offset: event.offset,\r\n      currentPage: event.currentPage\r\n    };\r\n\r\n    this.pagination.currentPage = event.currentPage;\r\n    this.pagination = { ...this.pagination, ...pagination };\r\n    this.pageChanged = true;\r\n    this.getEmployees();\r\n  }\r\n\r\n  /**\r\n   * filter hide\r\n   */\r\n  hideDropdown(name: string): void {\r\n    if (name === 'filterDropdown') {\r\n      if (this.org) {\r\n        this.org.closeDropdown();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n  * filter cases\r\n  */\r\n  public filterCases(): void {\r\n    const selectedFilter = this.dropdownModelFilter.selectedOption?.label;\r\n    this.queryParams = '';\r\n    switch (selectedFilter?.toLowerCase()) {\r\n    case 'name':\r\n      if (this.nameTextBox.value != '') {\r\n        const empName = this.nameTextBox.value;\r\n        this.queryParams = `(contains(tolower(FirstName),'${empName}')) or (contains(tolower(LastName),'${empName}'))`;\r\n      }\r\n      break;\r\n    case 'organization':\r\n      this.queryParams += `OrgName eq '${this.dropdownModelOrganization?.selectedOption?.name}' OR `;\r\n      break;\r\n    default:\r\n      break;\r\n    }\r\n\r\n    if (this.queryParams != '') {\r\n      if (this.queryParams.indexOf('OR') !== -1) {\r\n        this.queryParams = this.queryParams.substring(0, this.queryParams.lastIndexOf('OR'));\r\n      }\r\n    }\r\n    this.monitorService.logEvent('filter employee', [ 'ListViewComponent', 'addenda-repair', {\r\n      selectedFilter\r\n    } ]);\r\n    this.getEmployees();\r\n  }\r\n\r\n  /**\r\n   * selected any filter in the dropdown\r\n   * @param $event \r\n   */\r\n  public selectFilter($event: any): void {\r\n    this.monitorService.logEvent('selectFilter', [ 'ListViewComponent', 'addenda-repair', {\r\n      $event\r\n    } ]);\r\n    if ($event?.name == 'filterDropdown') {\r\n      this.nameTextBox.value = '';\r\n      this.dropdownModelFilter.selectedOption = $event.value\r\n      this.dropdownModelOrganization.selectedOption = [];\r\n      switch ($event.value[this.dropdownModelFilter.displayValue]?.toLowerCase()) {\r\n      case 'organization':\r\n        this.hideShowDropdown('org');\r\n        this.dropdownModelOrganization = { ...this.dropdownModelOrganization, selectedOption: this.userOrg };\r\n        this.dropdownModelOrganization.selectedOption ? this.applyButtonModel.type = 'primary' : this.applyButtonModel.type = 'disabled';\r\n        this.filterCases();\r\n        break;\r\n      case 'name':\r\n        this.applyButtonModel.type = 'disabled';\r\n        this.hideShowDropdown('name');\r\n        break;\r\n      default:\r\n        this.applyButtonModel.type = 'disabled';\r\n        this.hideShowDropdown('');\r\n        break;\r\n      }\r\n    } else if ($event?.name == 'orgDropdown') {\r\n      $event.value != undefined ? this.applyButtonModel.type = 'primary' : this.applyButtonModel.type = 'disabled'\r\n      this.dropdownModelOrganization.selectedOption = $event.value;\r\n    }\r\n\r\n    if ($event?.name == 'filterDropdown') {\r\n      ListViewComponent.filterDetail['mainFilter'] = $event;\r\n    } else {\r\n      ListViewComponent.filterDetail['subFilter'] = $event;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param event \r\n   */\r\n  public updateInput(event: IControlValue): void {\r\n    this.nameTextBox.value = event.value;\r\n    if (event.value != '') { this.applyButtonModel.type = 'primary' } else { this.applyButtonModel.type = 'disabled' }\r\n  }\r\n\r\n  /**\r\n   * hide show dropdown\r\n  */\r\n  public hideShowDropdown(key: string): void {\r\n    this.input[key] = true;\r\n    Object.keys(this.input).forEach(\r\n      (value) => {\r\n        if (value != key) {\r\n          this.input[value] = false;\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  /**\r\n   * reset Filter\r\n   */\r\n  resetFilter(): void {\r\n    this.applyButtonModel.type = 'disabled';\r\n    this.nameTextBox = { ...this.nameTextBox, value: '' }\r\n    const obj = {\r\n      name: 'filterDropdown',\r\n      type: 'select',\r\n      value: { label: 'Select...' }\r\n    }\r\n    this.selectFilter(obj);\r\n    this.filterCases();\r\n  }\r\n\r\n  /**\r\n  * getEmployeeList\r\n  */\r\n  public getEmployees(): void {\r\n    this.commonService.showLoading();\r\n    this.settingsService.getEmployees(this.pagination, this.queryParams).subscribe({\r\n      next: (response) => {\r\n        this.tableData = response ? response?.value : [];\r\n        if (this.userEmailDetail && response?.value.map((item: any) => (item.Email)).includes(this.userEmailDetail)) {\r\n          let tempArr: any;\r\n          // eslint-disable-next-line prefer-const\r\n          tempArr = this.tableData;\r\n          const record = this.tableData.find((ele: any) => ele.Email === this.userEmailDetail);\r\n          this.tableData = tempArr.filter(item => item.Email !== this.userEmailDetail);\r\n          this.tableData.unshift(record);\r\n        }\r\n        this.pagination.count = response ? response['@odata.count'] : 0;\r\n        this.pagination = { ...this.pagination };\r\n        this.cd.detectChanges();\r\n        this.commonService.hideLoading();\r\n      },\r\n      error: () => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * cellClickedCallback\r\n   */\r\n  cellClickedCallback = (row, col, $event): void => {\r\n    console.log(row, col);\r\n    const employeeId = row.filter(item => item.id == 'EmployeeGuid')[0]?.result.value ?? 0;\r\n    if (employeeId != 0)\r\n      this.router.navigate([ `/settings/employees/edit/${employeeId}` ]);\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n"]}