{"version":3,"file":"default-src_app_modules_claim_garages_garage-details_garage-details_component_ts-src_app_modu-68e44a.js","mappings":"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","sources":["./src/app/modules/claim/garages/garage-details/garage-details.component.ts","./src/app/modules/claim/garages/garage-details/garage-details.component.html","./src/app/modules/claim/garages/garages-list/garages-list.component.ts","./src/app/modules/claim/garages/garages-list/garages-list.component.html","./src/app/resolvers/versionControl.resolver.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Sort } from '@angular/material/sort';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport * as dayjs from 'dayjs';\r\nimport * as utc from 'dayjs/plugin/utc';\r\nimport { ApexAxisChartSeries, ApexChart, ApexDataLabels, ApexFill, ApexLegend, ApexNonAxisChartSeries, ApexPlotOptions, ApexResponsive, ApexStates, ApexStroke, ApexTooltip, ApexXAxis, ApexYAxis } from 'ng-apexcharts';\r\nimport { firstValueFrom, forkJoin } from 'rxjs';\r\nimport { CLAIM_STATUS, GARAGE_REGISTRATION_STATUS, STATUS_TEXT_DICT } from 'src/app/config/constants/claims.constants';\r\nimport { ClaimAGarageTableConfig } from 'src/app/config/display/claims-table-config';\r\nimport { ClaimGarageAssignmentComponent } from 'src/app/dialogs/claim-garage-assignment/claim-garage-assignment.component';\r\nimport { RejectClaimDialogComponent } from 'src/app/dialogs/reject-claim-dialog/reject-claim-dialog.component';\r\nimport { NumberSuffixPipe } from 'src/app/helper/pipe/number-suffix/number-suffix.pipe';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { ClaimsService } from 'src/app/services/claims/claims.service';\r\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\nimport { CellClickedCallback, SortChangedCallback, TableCellData, TableConfig, TableRowData } from 'src/app/widgets/xa-table/xa-table.component';\r\nimport { ApiPagination, PaginateInfo, defaultPagination } from 'src/app/widgets/xa-paginator/xa-paginator.component';\r\ndayjs.extend(utc)\r\n\r\nexport type ChartOptions = {\r\n  series: ApexNonAxisChartSeries;\r\n  chart: ApexChart;\r\n  responsive: ApexResponsive[];\r\n  labels: string[];\r\n  colors: any[];\r\n  dataLabels: ApexDataLabels;\r\n  stroke: ApexStroke;\r\n  plotOptions: ApexPlotOptions;\r\n  states: ApexStates\r\n  legend?: ApexLegend;\r\n  tooltip: ApexTooltip\r\n};\r\n\r\nexport type getBarChartOptions = {\r\n  series: ApexAxisChartSeries;\r\n  chart: ApexChart;\r\n  responsive: ApexResponsive[];\r\n  labels: string[];\r\n  colors: any[];\r\n  dataLabels: ApexDataLabels;\r\n  stroke: ApexStroke;\r\n  plotOptions: ApexPlotOptions;\r\n  states: ApexStates\r\n  xaxis: ApexXAxis;\r\n  yaxis: ApexYAxis,\r\n  legend: ApexLegend;\r\n  fill: ApexFill;\r\n  tooltip: ApexTooltip\r\n};\r\n\r\n@Component({\r\n  selector: 'app-garage-details',\r\n  templateUrl: './garage-details.component.html',\r\n  styleUrls: [ './garage-details.component.scss' ]\r\n})\r\n\r\nexport class GarageDetailsComponent {\r\n  \r\n  CLAIM_STATUS: any = CLAIM_STATUS\r\n  // Gblobal Variables\r\n  public claimId: string = '';\r\n  public garageId: string = '';\r\n  public claimGuid: string = '';\r\n  public garageDetails: any = {}; \r\n  public gotAPIResponse: boolean = false;\r\n  i18n: i18nInfo;\r\n  claimDetails: any = {}\r\n  garageRegistrationStatus: any = GARAGE_REGISTRATION_STATUS\r\n\r\n  // Table Variables\r\n  private readonly configData: any = ClaimAGarageTableConfig;\r\n  public tableConfig: TableConfig;\r\n  public tableData: any;\r\n  public pagination: ApiPagination = defaultPagination;\r\n  public hideBackButton: boolean = true;\r\n  orderBy: string = '';\r\n  sortDirection: string = '';\r\n  \r\n  //chart variables\r\n  public donutChartOptions: Partial<ChartOptions>;\r\n  public barChartOptions: Partial<getBarChartOptions>;\r\n  public haveDataForDonutChart: boolean = false;\r\n  public haveDataForBarChart: boolean = false;y\r\n\r\n  public showAssignButton: boolean = false;\r\n  public showAssignedTag: boolean = false;\r\n  public showReassignButton: boolean = false;\r\n  public is1Stage: boolean = false;\r\n  public userDetails: any = {}\r\n  requestForEnum: any = {\r\n    requestForInvoice: 1,\r\n    requestForEstimate: 2\r\n  }\r\n  // Buttons\r\n  public assignButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Assign',\r\n    type: 'primary',\r\n    icon: '',\r\n    onclick: this.assignGarage.bind(this)\r\n  }\r\n\r\n  public feedbackModel: ChqWidgetsButtonModel = {\r\n    label: 'feedback',\r\n    type: 'outline',\r\n    icon: 'feedback',\r\n    onclick: this.handleFeedbackClick.bind(this)\r\n  }\r\n\r\n  isThirdPartyExternalGarage: boolean = false;\r\n  reassign: boolean = false;\r\n  hideButtonsOnReassign: boolean = false; \r\n  public status: string = '' \r\n\r\n  \r\n  getDonutChartOptions = (): any => {\r\n    return {\r\n      series: [],\r\n      chart: {\r\n        type: 'donut',\r\n        height: 350\r\n      },\r\n      labels: [],\r\n      dataLabels: {\r\n        enabled: true,\r\n        style: {\r\n          colors: [ '#fff' ]\r\n        },\r\n        formatter: (value): any => {\r\n          return value.toFixed(2) + '%'\r\n        },\r\n      },\r\n      responsive: [\r\n        {\r\n          breakpoint: 480,\r\n          options: {\r\n            chart: {\r\n              width: 200\r\n            },\r\n            legend: {\r\n              position: 'bottom'\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      colors: [],\r\n      stroke: {\r\n        width: 0,\r\n      },\r\n      legend: {\r\n        show: true,\r\n        position: 'bottom'\r\n      },\r\n      states: {\r\n        hover: {\r\n          filter: {\r\n            type: 'none',\r\n          }\r\n        },\r\n        active: {\r\n          filter: {\r\n            type: 'darken',\r\n            value: 0.75,\r\n          }\r\n        }\r\n\r\n      },\r\n      tooltip: {\r\n        y: {\r\n          formatter: (value): any => {\r\n            return value + '%'\r\n          },\r\n        },\r\n      }\r\n    }\r\n  };\r\n\r\n  getBarChartOptions = (): any => {\r\n    return {\r\n      series: [],\r\n      chart: {\r\n        type: 'bar',\r\n        height: 350,\r\n        stacked: false,\r\n        toolbar: {\r\n          show: false\r\n        }\r\n      },\r\n      responsive: [\r\n        {\r\n          breakpoint: 480,\r\n          options: {\r\n            legend: {\r\n              position: 'top',\r\n              offsetX: -10,\r\n              offsetY: 0\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      plotOptions: {\r\n        bar: {\r\n          horizontal: false\r\n        }\r\n      },\r\n      xaxis: {\r\n        type: 'category',\r\n        categories: [],\r\n        labels: {\r\n          show: true,\r\n          rotate: 0,\r\n          trim: true,\r\n          showDuplicates: true,\r\n          style: {\r\n            fontSize: '10px'\r\n          }\r\n        }\r\n      },\r\n      yaxis: {\r\n        labels: {\r\n          formatter: (value): string => {\r\n            // return value + ''\r\n            return this.numberSuffixPipe.formatInThousand(value)\r\n          }\r\n        },\r\n      },\r\n      legend: {\r\n        position: 'top',\r\n        horizontalAlign: 'left'\r\n      },\r\n      fill: {\r\n        opacity: 1\r\n      },\r\n      dataLabels: {\r\n        enabled: false\r\n      },\r\n      stroke: {\r\n        colors: [ 'transparent' ],\r\n        width: 2,\r\n      },\r\n      tooltip: {\r\n        onDatasetHover: {\r\n          highlightDataSeries: false,\r\n        },\r\n        followCursor: true\r\n      }\r\n    };\r\n  };\r\n\r\n  /**\r\n   * constructor \r\n   */\r\n  constructor(private commonService: CommonService,\r\n    public dialog: MatDialog,\r\n    private router: Router,\r\n    private numberSuffixPipe: NumberSuffixPipe,\r\n    private route: ActivatedRoute,\r\n    private claimsService : ClaimsService,\r\n    private monitorService: MonitorService,\r\n    private translateService: TranslateService,\r\n    private sanitized: DomSanitizer\r\n  ) {\r\n    this.donutChartOptions = this.getDonutChartOptions();\r\n    this.barChartOptions = this.getBarChartOptions();\r\n    this.i18n = this.commonService.geti18nInfo();\r\n    this.route.parent?.params?.subscribe((data) => {\r\n      this.claimGuid = this.route.parent?.snapshot.paramMap.get('id');\r\n      this.garageId = this.route.snapshot.paramMap.get('garageId');\r\n    });\r\n    this.route.queryParams.subscribe((params)=>{\r\n      const codeParam = params['assigned'];\r\n      if (codeParam === 'true') {\r\n        this.hideBackButton = true\r\n      } else {\r\n        this.hideBackButton = false\r\n      }\r\n\r\n      const reassign = params['reassign'];\r\n      if (reassign === 'true') {\r\n        this.reassign = true\r\n      } else {\r\n        this.reassign = false\r\n      }\r\n    });\r\n    this.commonService.userProfileData.subscribe((res) => {\r\n      if (res?.data) {\r\n        this.userDetails = res.data\r\n        const workFlowPackage = res.data.userPermission?.orgPackages?.filter((orgPackage: any) => {\r\n          return orgPackage.automotiveServiceName === 'Addenda Claim Workflow';\r\n        });\r\n\r\n        if (workFlowPackage && workFlowPackage.length > 0) {\r\n          const { permissions } = workFlowPackage[0];\r\n          const singleTire = permissions.filter((perm: any) => {\r\n            return perm.permissionName?.includes('1Stage')\r\n          });\r\n          if (singleTire && singleTire.length > 0) {\r\n            this.is1Stage = true\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * ng on init\r\n   */\r\n  ngOnInit(): void {\r\n    this.pagination = { ...this.pagination, pageSize: 10 }\r\n    this.tableConfig = this.configData;\r\n    this.garageDetails = {};\r\n    this.commonService.showLoading()\r\n    const funArry = [\r\n      this.getClaims(),\r\n      this.getGraphData()\r\n    ]\r\n    if(this.claimGuid) {\r\n      funArry.push(this.getClaimDetails())\r\n    }\r\n    forkJoin(funArry).subscribe((result) => {\r\n      this.getGarageDetails();\r\n    })\r\n  }\r\n\r\n  /**\r\n   * @returns {void}\r\n  */\r\n  getGraphData(): Promise<any> {\r\n    return firstValueFrom(this.claimsService.getGarageDashboardDetail({\r\n      garageId: this.garageId,\r\n      StartDate: dayjs().startOf('month').format('YYYY-MM-DD'),\r\n      EndDate: dayjs().utc().format('YYYY-MM-DD')\r\n    })).then((response) => { \r\n      if(response) {\r\n        const data = response.data;\r\n        if(data.assigned || data.completed) {\r\n          this.haveDataForDonutChart = true;\r\n          this.donutChartOptions = {\r\n            ...this.donutChartOptions,\r\n            series: [ data.assigned, data.completed, data.others || 0 ],\r\n            labels: [ this.translateService.instant('assigned'), this.translateService.instant('completed'), this.translateService.instant('others') ],\r\n            colors: [ '#008ffb', '#00e396', '#FFB200' ]\r\n          }\r\n        }\r\n        if(!data.repairStatusDTOs) data.repairStatusDTOs = [];\r\n        data.repairStatusDTOs = data.repairStatusDTOs.filter(ele => ele.approved > 0 || ele.unApproved > 0)\r\n        if(data.repairStatusDTOs && data.repairStatusDTOs.length > 0) {\r\n          this.haveDataForBarChart = true;\r\n          this.barChartOptions = {\r\n            ...this.barChartOptions,\r\n            series: [ {\r\n              name: this.translateService.instant('approved_repairs'),\r\n              data: data.repairStatusDTOs.map(ele => ele.approved),\r\n              color: '#FFB200'\r\n            }, {\r\n              name: this.translateService.instant('unApproved_repairs'),\r\n              data: data.repairStatusDTOs.map(ele => ele.unApproved),\r\n              color: '#483cf4'\r\n            } ],\r\n            xaxis: {\r\n              ...this.barChartOptions.xaxis,\r\n              categories: data.repairStatusDTOs.map(ele => this.translateService.instant('week') + ' ' + ele.weekName)\r\n            },\r\n          }\r\n        }\r\n      }\r\n\r\n    }).catch((err) => {\r\n      this.monitorService.logException(err, SeverityLevel.Error);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @returns {void}\r\n  */\r\n  getClaimDetails(): Promise<any> {\r\n    this.commonService.showLoading();\r\n    return firstValueFrom(this.claimsService.getClaimDetail(this.claimGuid)).then((response) => { \r\n      this.commonService.hideLoading();\r\n      if(response) {\r\n        this.claimId = response?.id;\r\n        this.claimDetails = response;\r\n        this.commonService.claimDetails.next(this.claimDetails);\r\n        this.commonService.claimStatus.next(this.claimDetails?.claimStatus);\r\n        this.status = STATUS_TEXT_DICT[this.claimDetails.claimStatus]\r\n        this.isThirdPartyExternalGarage = response.garageDetails?.garageStatus === 'Registered';\r\n        // When CM not satisfied with claim and want to reassign to another garage\r\n        if(this.reassign && this.claimDetails?.garageDetails?.garageId && this.claimDetails.claimStatus === CLAIM_STATUS.RepairEstimation && this.claimDetails?.garageDetails?.garageId !== Number(this.garageId)) {\r\n          this.showAssignButton = true;\r\n          this.hideButtonsOnReassign = true;\r\n        } else if(this.claimDetails?.isEligibleForGarageReAssign) { //1st: When garage has not performed any action then user should be able to assign claims to another garage \r\n          if(this.claimDetails?.garageDetails?.garageId == this.garageId) {\r\n            this.showAssignedTag = true\r\n            this.showReassignButton = true\r\n          } else {\r\n            this.showAssignButton = true\r\n          }\r\n        } else if(this.claimDetails?.garageDetails?.garageId && this.claimDetails.claimStatus !== CLAIM_STATUS.GarageAssignmentRequestedRejected) {\r\n          this.showAssignedTag = true\r\n        } else if(this.claimDetails?.garageDetails?.garageId && this.claimDetails.claimStatus === CLAIM_STATUS.GarageAssignmentRequestedRejected && this.claimDetails?.garageDetails?.garageId == this.garageId) {\r\n          this.showReassignButton = true;\r\n          this.showAssignedTag = true\r\n        } else {\r\n          if(this.claimDetails?.fnolId) {\r\n            if(this.claimDetails.claimStatus !== CLAIM_STATUS.Draft) {\r\n              this.showAssignButton = true\r\n            }\r\n          } else {\r\n            const automotiveServices = this.userDetails?.userPermission?.automotiveServices;\r\n            const automotiveService = automotiveServices?.find(x => x.automotiveServiceName.toLowerCase() === 'addenda claims');\r\n            const permissionList = automotiveService?.permissions;\r\n\r\n            const anyPermisson: boolean = [ 'claim.garageassignment' ].some(itemP => permissionList.map(item => item.permissionName).includes(itemP));\r\n            if(this.is1Stage && this.claimDetails?.claimStatus === CLAIM_STATUS.UploadPhotos) {\r\n              this.showAssignButton = true\r\n            } else if(this.claimDetails?.claimStatus === CLAIM_STATUS.ClaimSubmittedForApproval \r\n                || this.claimDetails?.claimStatus === CLAIM_STATUS.ApprovalReviewInProgress) {\r\n              this.showAssignButton = true\r\n            } else if(anyPermisson && this.claimDetails.createdUserId === this.userDetails?.id && this.claimDetails?.claimStatus === CLAIM_STATUS.UploadPhotos ) {\r\n              this.showAssignButton = true\r\n            } else if(this.claimDetails.claimStatus === CLAIM_STATUS.GarageAssignmentRequestedRejected && this.claimDetails?.garageDetails?.garageId !== this.garageId){\r\n              this.showAssignButton = true\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }).catch((err) => {\r\n      this.commonService.hideLoading();\r\n      this.monitorService.logException(err, SeverityLevel.Error);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @returns {void}\r\n  */\r\n  getGarageDetails(): void {\r\n    this.commonService.showLoading();\r\n    const payload:any = {}\r\n    if(this.claimGuid && this.claimDetails) {\r\n      let latitudeToPass = this.claimDetails.lossDetails.lossLocationLatitude;\r\n      let longitudeToPass = this.claimDetails.lossDetails.lossLocationLongitude;\r\n      if(this.claimDetails?.lossDetails?.isCarAtDifferentLoc && this.claimDetails?.lossDetails?.carLocationLatitude && this.claimDetails?.lossDetails?.carLocationLongitude) {\r\n        latitudeToPass = this.claimDetails.lossDetails.carLocationLatitude;\r\n        longitudeToPass = this.claimDetails.lossDetails.carLocationLongitude;\r\n      }\r\n      if(latitudeToPass && longitudeToPass) {\r\n        payload.Latitude = latitudeToPass\r\n        payload.Longitude = longitudeToPass\r\n      }\r\n    }\r\n    \r\n    firstValueFrom(this.claimsService.getGarageList(`$filter=id eq ${this.garageId}`, payload)).then((response) => { \r\n      this.gotAPIResponse = true;\r\n      this.commonService.hideLoading();\r\n      if(response) {\r\n        this.garageDetails = response?.value?.[0] || {}\r\n        this.garageDetails.GarageMobileNumber = '';\r\n        if(this.garageDetails.CountryCode) {\r\n          this.garageDetails.GarageMobileNumber += this.garageDetails.CountryCode;\r\n        }\r\n        if(this.garageDetails.Phone) {\r\n          this.garageDetails.GarageMobileNumber += this.garageDetails.Phone;\r\n        }\r\n      }\r\n      setTimeout(() => {\r\n        if(!this.claimId) {\r\n          const elLayout: any = document.getElementsByClassName('page-container-garages-details')[0];\r\n          if(elLayout) {\r\n            elLayout.style.paddingLeft= '0px'\r\n            elLayout.style.paddingRight= '0px'\r\n            elLayout.style.paddingTop= '0px'\r\n          }\r\n        }\r\n      })\r\n    }).catch((err) => {\r\n      this.commonService.hideLoading();\r\n      this.monitorService.logException(err, SeverityLevel.Error);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * handlePaginationChange\r\n   * @param event\r\n   */\r\n  handlePaginationChangeReapir(event: PaginateInfo): void {\r\n    const pagination: ApiPagination = {\r\n      pageSize: event.pageSize,\r\n      offset: event.offset,\r\n      currentPage: event.currentPage\r\n    };\r\n\r\n    this.pagination.currentPage = event.currentPage;\r\n    this.pagination = { ...this.pagination, ...pagination };\r\n\r\n    this.getClaims(true)\r\n  }\r\n\r\n  /**\r\n   * getClaims\r\n   */\r\n  getClaims(showLoading:boolean = false): Promise<any> {\r\n    if(showLoading) this.commonService.showLoading();\r\n    let sort = '';\r\n    if(this.orderBy && this.sortDirection) {\r\n      sort = `&$orderby=${this.orderBy} ${this.sortDirection}`\r\n    }\r\n    const pagination = this.pagination;\r\n    const skip = (pagination.currentPage - 1) * pagination.pageSize;\r\n    const queryParams = `&$top=${pagination.pageSize}&$skip=${skip}`\r\n    \r\n    return firstValueFrom(this.claimsService.getClaimsOfAGarage(`$filter=GarageId eq ${this.garageId}${sort}${queryParams}&count=true`)).then((response) => { \r\n      if(showLoading) this.commonService.hideLoading();\r\n      if(response) {\r\n        this.tableData = response.value?.map((item, ind) => {\r\n          item['sno'] = skip + ind + 1;\r\n          if(item.Status === CLAIM_STATUS.GarageAssignedforClaim) {\r\n            item.Action = this.sanitized.bypassSecurityTrustHtml('<button type=\"button\" id=\"request-estimate\" class=\"button-outline action-button\"> <label id=\"request-estimate\">Request for Estimate</label> </button>')\r\n          } else if(item.Status === CLAIM_STATUS.Approved) {\r\n            item.Action = this.sanitized.bypassSecurityTrustHtml('<button type=\"button\" id=\"request-invoice\" class=\"button-outline action-button\"> <label id=\"request-invoice\">Request for Invoice</label> </button>') \r\n          } else {\r\n            item.Action = null\r\n          }\r\n          item.Status = '<span class=\"col-xa-orange2\">' + item.Status + '</span>';\r\n          return item;\r\n        });\r\n        this.pagination = { ...this.pagination, count: response['@odata.count'] || 0 };\r\n      }\r\n    }).catch((err) => {\r\n      this.commonService.hideLoading();\r\n      this.monitorService.logException(err, SeverityLevel.Error);\r\n    });\r\n  }\r\n\r\n  handleCellClick: CellClickedCallback = (row: TableRowData, column: Partial<TableCellData>, event: PointerEvent): void => {\r\n    const target = event.target as HTMLInputElement\r\n    if (column.id === 'ClaimNo') {\r\n      const claimId = row.find(c => c.id === 'ClaimGuid')?.result?.value;\r\n      this.router.navigate([ 'claim/claim-detail/' + claimId + '/customer-view' ]);\r\n    } if(column.id === 'Action') {\r\n      const claimId = row.find(c => c.id === 'ClaimGuid')?.result?.value;\r\n      let actionType = null\r\n      if(target.id === 'request-invoice') {\r\n        actionType = this.requestForEnum.requestForInvoice\r\n      } else if(target.id === 'request-estimate') {\r\n        actionType = this.requestForEnum.requestForEstimate\r\n      }\r\n      this.monitorService.logEvent('handleCellClick', [ 'GarageDetailsComponent', 'addenda-claim' ]);\r\n      this.commonService.showLoading();\r\n      firstValueFrom(this.claimsService.requestForEstimate(claimId, actionType)).then((response) => {\r\n        this.commonService.hideLoading();\r\n        if (response) {\r\n          this.commonService.showInfoToast(5000, response?.message);\r\n        }\r\n      }).catch((err) => {\r\n        this.commonService.hideLoading();\r\n        this.monitorService.logException(err, SeverityLevel.Error);\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n  * gback to garage list\r\n  */\r\n  back(): void { \r\n    if(this.claimGuid) {\r\n      this.router.navigate([ `claim/claim-detail/${this.claimGuid}/garages` ], { queryParams: { reassign: this.reassign } });\r\n    } else {\r\n      this.router.navigate([ 'claim/garages' ]);\r\n    }\r\n  }\r\n\r\n  /**\r\n  * assignGarage\r\n  */\r\n  assignGarage(): void {\r\n    if(this.claimId && this.garageId) {\r\n      const dialogRef = this.dialog.open(ClaimGarageAssignmentComponent, {\r\n        data: {\r\n          garageDetails: this.garageDetails\r\n        },\r\n        panelClass: 'claim-garage-assignment'\r\n      })\r\n  \r\n      dialogRef.afterClosed().subscribe((result) => {\r\n        if (result) {\r\n          this.commonService.showLoading();\r\n          let payload = {}\r\n          let type = '';\r\n          if(this.claimDetails.claimStatus === CLAIM_STATUS.GarageAssignmentRequestedRejected || this.claimDetails.isEligibleForGarageReAssign || this.reassign) {\r\n            payload = {\r\n              'GAGuid': this.claimDetails.garageDetails?.garageGuid,\r\n              'garageId': this.claimDetails.garageDetails?.garageId,\r\n              'garageStatus': this.garageDetails?.Status,\r\n              'claimId': this.claimId,\r\n              'newGAGuid': this.garageDetails?.GarageGuid,\r\n              'newGarageId': this.garageId\r\n            }\r\n            type = 'put'\r\n          } else {\r\n            payload = {\r\n              'GAGuid': this.garageDetails?.GarageGuid,\r\n              'garageId': this.garageId,\r\n              'garageStatus': this.garageDetails?.Status,\r\n              'claimId': this.claimId\r\n            }\r\n            type = 'post'\r\n          }\r\n          firstValueFrom(this.claimsService.assignGarage(type, payload)).then((response) => { \r\n            this.commonService.hideLoading();\r\n            this.claimDetails.garageDetails = {\r\n              id: this.garageId,\r\n              garageGuid: this.garageDetails?.GarageGuid\r\n            }\r\n            this.showAssignButton = false;\r\n            this.showAssignedTag = true;\r\n            this.commonService.claimStatus.next(CLAIM_STATUS.GarageAssignmentRequested);\r\n            this.status = STATUS_TEXT_DICT[CLAIM_STATUS.GarageAssignmentRequested]\r\n            this.claimDetails.claimStatus = CLAIM_STATUS.GarageAssignmentRequested;\r\n            this.reassign = false\r\n            // As per userstory: User Story 24416: Addenda Claims | Assignment of Garage\r\n            // const preferenceDialogRef = this.dialog.open(GarageAssignmentPreferenceComponent, {\r\n            //   data: {\r\n            //     garageDetails: this.garageDetails\r\n            //   },\r\n            //   width: '50%',\r\n            //   height: '50%',\r\n            //   panelClass: 'claim-garage-preference'\r\n            // });\r\n            // preferenceDialogRef.afterClosed().subscribe((result) => {\r\n            //   if(result) {\r\n            //     //TODO Call Preference API\r\n            //     console.log('Call Preference API.')\r\n            //   }\r\n            // })\r\n\r\n          }).catch(() => {\r\n            this.commonService.hideLoading();\r\n          });\r\n        }\r\n      });\r\n      \r\n    }\r\n  }\r\n  /**\r\n     * Cancel booking\r\n     */\r\n  handleFeedbackClick(): void {\r\n    this.commonService.openConfirmYesNoDialogBig(this.translateService.instant('feedback'), this.claimDetails?.garageDetails?.reason, '', this.translateService.instant('ok'), '', false)\r\n  }\r\n  \r\n\r\n  /**\r\n    Opens a dialog box for the reject claim operation component with the specified data and panel class.\r\n    @returns {void}\r\n  */\r\n  openRejectClaimPopup(data?: any): void {\r\n    const dialogRef = this.dialog.open(RejectClaimDialogComponent, {\r\n      data: {\r\n        'claimGuid': this.claimGuid\r\n      },\r\n      height: 'auto',\r\n      panelClass: 'operation-panel',\r\n      autoFocus: false\r\n    });\r\n  \r\n    dialogRef.afterClosed().subscribe({\r\n      next: (response: any) => {\r\n        if(response) {\r\n          this.claimDetails.claimStatus = CLAIM_STATUS.Rejected\r\n          this.commonService.claimStatus.next(CLAIM_STATUS.Rejected);\r\n          this.status = STATUS_TEXT_DICT[CLAIM_STATUS.Rejected]\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n     * Approve claim\r\n     */\r\n  approve(): void {\r\n    const dialogRef = this.commonService.openConfirmYesNoDialogBig(this.translateService.instant('confirm_action'), this.translateService.instant('msg_approve_claim'), '', this.translateService.instant('ok'), this.translateService.instant('cancel'));\r\n    dialogRef.afterClosed().subscribe((action: boolean) => {\r\n      if (action) {\r\n        this.commonService.showLoading();\r\n        this.claimsService.updateClaimStatus(this.claimGuid, 'Approved', 'Claim Approved').subscribe({\r\n          next: (response) => {\r\n            if(response) {\r\n              this.claimDetails.claimStatus = CLAIM_STATUS.Approved;\r\n              this.commonService.claimStatus.next(CLAIM_STATUS.Approved);\r\n              this.status = STATUS_TEXT_DICT[CLAIM_STATUS.Approved]\r\n            }\r\n            this.commonService.hideLoading();\r\n          },\r\n          error: () => {\r\n            this.commonService.hideLoading();\r\n          }\r\n        });\r\n      } \r\n    });\r\n  }\r\n  \r\n  handleSortChangeRepair: SortChangedCallback = (sort: Sort): void => {\r\n    if (sort) {\r\n      this.orderBy = sort.active;\r\n      this.sortDirection = sort.direction\r\n      this.getClaims(true)\r\n    }\r\n  }\r\n\r\n  /**\r\n    * settleClaim\r\n  */\r\n  settleClaim(): void {\r\n    const dialogRef = this.commonService.openConfirmYesNoDialogBig(this.translateService.instant('confirm_action'), this.translateService.instant('msg_settle_claim'));\r\n    dialogRef.afterClosed().subscribe((action: boolean) => {\r\n      if (action) {\r\n        this.commonService.showLoading();\r\n        this.claimsService.updateClaimStatus(this.claimGuid, 'Completed', 'Settled').subscribe({\r\n          next: (response) => {\r\n            if (response) {\r\n              this.claimDetails.claimStatus = CLAIM_STATUS.Complete;\r\n            }\r\n            this.commonService.hideLoading();\r\n          },\r\n          error: () => {\r\n            this.commonService.hideLoading();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"page-container-garages-details\" *ngIf=\"gotAPIResponse\">\r\n    <div class=\"back-wrapper row\" (click)=\"back();\" *ngIf=\"!hideBackButton\">\r\n        <mat-icon [svgIcon]=\"'left-arrow'\" ></mat-icon>\r\n        <div> {{'back_garage' | translate  }}</div>\r\n    </div>\r\n    <div class=\"main-container\">\r\n        <div class=\"rectangle\" >\r\n            <div class=\"garage-info-wrapper\">\r\n                <div class=\"info-group\">\r\n                    <img class=\"avtar\" src=\"{{garageDetails.LogoUrl || 'assets/img/xa_logo.png'}}\" />\r\n                    <div class=\"card-wrapper\">\r\n                        <div class=\"title-wrap\">{{garageDetails.Name}}\r\n                        </div>\r\n                        <div class=\"status-wrap\" *ngIf=\"garageDetails.Type\">\r\n                            <div class=\"label-wrap\">{{garageDetails.Type}}</div>\r\n                            <!-- <div class=\"garage-status-icon\"> <mat-icon  [svgIcon]=\"'internal-garage'\"></mat-icon></div> -->\r\n                            <div class=\"garage-status-icon\" *ngIf=\"garageDetails.Status === garageRegistrationStatus.internal;else registered\"> <mat-icon  [svgIcon]=\"'internal-garage'\"></mat-icon></div>\r\n                            <ng-template #registered><div class=\"garage-status-icon\" *ngIf=\"garageDetails.Status === garageRegistrationStatus.registered;else unregistered\"> <mat-icon  [svgIcon]=\"'registered-garage'\"></mat-icon></div></ng-template>\r\n                            <ng-template #unregistered><div class=\"garage-status-icon\" *ngIf=\"garageDetails.Status === garageRegistrationStatus.unregistered\"> <mat-icon  [svgIcon]=\"'unregistered-garages'\"></mat-icon></div></ng-template>\r\n                        </div>\r\n                        <div class=\"address-wrap\" *ngIf=\"garageDetails.Address\">{{garageDetails.Address}}</div>\r\n                        <div class=\"contact-group row\"*ngIf=\"garageDetails.GarageMobileNumber\">\r\n                            <mat-icon class=\"phone-icon\" [svgIcon]=\"'call'\"></mat-icon>\r\n                            <span class=\"contact\">{{garageDetails.GarageMobileNumber}}</span>\r\n                        </div>\r\n                        <div class=\"location-group row\" *ngIf=\"garageDetails.Distance\">\r\n                            <mat-icon class=\"location-icon\" [svgIcon]=\"'location'\"></mat-icon>\r\n                            <span class=\"distance\">{{garageDetails.Distance}}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=\"claimGuid\" class=\"right-section-wrapper\">\r\n                    <div class=\"assign-btn\" *ngIf=\"showAssignButton\">\r\n                        <chq-button [buttonModel]=\"assignButtonModel\"></chq-button>\r\n                    </div>\r\n                    <div class=\"assigned-text-wrapper\" *ngIf=\"showAssignedTag\">\r\n                        <div class=\"assigned-tag {{this.claimDetails.claimStatus}}\">{{this.status}}</div>\r\n                    </div>\r\n                    <div class=\"feedback-button\" *ngIf=\"this.claimDetails?.garageDetails?.reason && this.claimDetails?.claimStatus === CLAIM_STATUS.GarageAssignmentRequestedRejected && this.showAssignedTag\">\r\n                        <chq-button [buttonModel]=\"feedbackModel\"></chq-button>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div class=\"vector\"></div>\r\n            <div class=\"chart-wrapper row\">\r\n                <div class=\"col-5\">\r\n                    <div class=\"assigned-claims\">\r\n                        <div class=\"card\">\r\n                            <div>\r\n                                <label class=\"graph-title\">{{'assigned_and_completed_claims' | translate }}</label>\r\n                                <div class=\"mt-30\">\r\n                                    <chq-chart \r\n                                        #chart\r\n                                        [series]=\"donutChartOptions.series\"\r\n                                        [chart]=\"donutChartOptions.chart\"\r\n                                        [labels]=\"donutChartOptions.labels\"\r\n                                        [responsive]=\"donutChartOptions.responsive\"\r\n                                        [colors]=\"donutChartOptions.colors\"\r\n                                        [stroke]=\"donutChartOptions.stroke\"\r\n                                        [dataLabels]=\"donutChartOptions.dataLabels\"\r\n                                        [plotOptions]=\"donutChartOptions.plotOptions\"\r\n                                        [states]=\"donutChartOptions.states\"\r\n                                        [legend]=\"donutChartOptions.legend\"\r\n                                        [tooltip]=\"donutChartOptions.tooltip\"\r\n                                        *ngIf=\"haveDataForDonutChart\"\r\n                                    >\r\n                                    </chq-chart>\r\n                                    <div class=\"no-data-found\" *ngIf=\"!haveDataForDonutChart\">\r\n                                        <mat-icon class=\"no-data-svg\" [svgIcon]=\"'estimate-no-data'\"></mat-icon>\r\n                                        <p class=\"no-data-text\">\r\n                                            {{ 'no_result_dashboard' | translate }}. <br />\r\n                                            {{ 'no_repair_type_dashboard' | translate }}\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-7\">\r\n                    <div class=\"repair-claims\">\r\n                        <div class=\"card customer-graph-container\">\r\n                            <div>\r\n                                <label class=\"graph-title\">{{'approved_repair_and_unapproved_repair' | translate}}</label>\r\n                                <div class=\"customers-graph\" *ngIf=\"haveDataForBarChart\">\r\n                                    <div class=\"currency-value\">Value {{i18n.currencySymbol}}</div>\r\n                                    <chq-chart\r\n                                        [series]=\"barChartOptions.series\"\r\n                                        [chart]=\"barChartOptions.chart\"\r\n                                        [dataLabels]=\"barChartOptions.dataLabels\"\r\n                                        [plotOptions]=\"barChartOptions.plotOptions\"\r\n                                        [responsive]=\"barChartOptions.responsive\"\r\n                                        [xaxis]=\"barChartOptions.xaxis\"\r\n                                        [yaxis]=\"barChartOptions.yaxis\"\r\n                                        [legend]=\"barChartOptions.legend\"\r\n                                        [fill]=\"barChartOptions.fill\"\r\n                                        [stroke]=\"barChartOptions.stroke\"\r\n                                        [tooltip]=\"barChartOptions.tooltip\"\r\n                                    ></chq-chart>\r\n                                </div>\r\n                                <div class=\"no-data-found\" *ngIf=\"!haveDataForBarChart\">\r\n                                    <mat-icon class=\"no-data-svg\" [svgIcon]=\"'estimate-no-data'\"></mat-icon>\r\n                                    <p class=\"no-data-text\">\r\n                                        {{ 'no_result_dashboard' | translate }}. <br />\r\n                                        {{ 'no_repair_type_dashboard' | translate }}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"claim-list-wrapper fx-col\">\r\n                <div class=\"claim-list-header fx-row\">\r\n                    <div class=\"header-text graph-title\">{{ 'assigned_claims_for_repair_under_the_garage' | translate }}</div>\r\n                </div>\r\n                <div class=\"claim-list-content\">\r\n                    <div class=\"tab-content fx-1\">\r\n                        <div class=\"table-container\">\r\n                            <div class=\"table-wrapper\">\r\n                                <xa-table \r\n                                    [config]=\"tableConfig\" \r\n                                    [tableData]=\"tableData\"\r\n                                    [cellClicked]=\"handleCellClick\" \r\n                                    [i18n]=\"i18n\"\r\n                                    [sortChanged]=\"handleSortChangeRepair\" \r\n                                ></xa-table> \r\n                            </div>\r\n                            <div class=\"pagination-wrapper\" *ngIf=\"tableData?.length > 0 && (pagination.count > pagination.pageSize)\">\r\n                                <xa-paginator #paginator (paginationChange)=\"handlePaginationChangeReapir($event)\"\r\n                                    [pagination]=\"pagination\">\r\n                                </xa-paginator>\r\n                            </div> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"footer-full-wrapper estimate-details-footer\">\r\n    <div class=\"footer-image-wrapper\">\r\n        <div class=\"image-wrapper\">\r\n            <img src=\"assets/img/addenda-claims.png\" alt=\"addenda-claims\" />\r\n        </div>\r\n    </div>\r\n    <div class=\"footer-button-wrapper\">\r\n        <ng-container *ngIf=\"(!hideButtonsOnReassign && (isThirdPartyExternalGarage && this.claimDetails?.claimStatus === CLAIM_STATUS.RepairEstimation) || (!isThirdPartyExternalGarage && this.claimDetails?.claimStatus === CLAIM_STATUS.EstimateApproved) || (!isThirdPartyExternalGarage && this.claimDetails?.claimStatus === CLAIM_STATUS.EstimateRejected))\">\r\n            <xa-button type=\"outline\" color=\"danger\" (click)=\"openRejectClaimPopup()\" *chqClaimRoles=\"'claimManager'\">\r\n                <span> {{'reject' | translate }}</span>\r\n            </xa-button>\r\n            <ng-container *ngIf=\"this.claimDetails?.claimStatus !== CLAIM_STATUS.EstimateRejected\">\r\n                <xa-button (click)=\"approve()\" *chqClaimRoles=\"'claimManager'\">\r\n                    <span> {{'approve' | translate }}</span>\r\n                </xa-button>\r\n            </ng-container>\r\n\r\n        </ng-container>\r\n        <ng-container *ngIf=\"showReassignButton\">\r\n            <xa-button (click)=\"back()\">\r\n                <span> {{'reassign' | translate }}</span>\r\n            </xa-button>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"this.claimDetails?.claimStatus === CLAIM_STATUS.SettlementInitiated\">\r\n            <xa-button  *chqClaimRoles=\"'claimManager'\" type=\"primary\" color=\"primary\" (click)=\"settleClaim()\">\r\n                <span>{{'settle_claim' | translate }}</span>\r\n            </xa-button>\r\n        </ng-container>\r\n    </div>\r\n</div>","import { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MapInfoWindow, MapMarker } from '@angular/google-maps';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { filter, firstValueFrom, map, pairwise, throttleTime } from 'rxjs';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { ChqWidgetsInputModel } from 'src/app/model/chq-widgets-input-model';\r\nimport { garagesMenus, menuItem } from 'src/app/model/menu';\r\nimport { ClaimsService } from 'src/app/services/claims/claims.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { CLAIM_STATUS, GARAGE_REGISTRATION_STATUS } from 'src/app/config/constants/claims.constants'\r\n@Component({\r\n  selector: 'app-claim-garages',\r\n  templateUrl: './garages-list.component.html',\r\n  styleUrls: [ './garages-list.component.scss' ]\r\n})\r\n\r\nexport class GaragesListComponent implements OnInit {\r\n  @ViewChild('scroller') scroller: CdkVirtualScrollViewport;\r\n  public searchFilterByLocation: ChqWidgetsInputModel = {\r\n    placeHolder: 'enter_location',\r\n    label: 'search_by_location',\r\n    name: 'location',\r\n    type: 'placesearch',\r\n    value: '',\r\n    required: false\r\n  };\r\n  public latitude: number;\r\n  public longitude: number;\r\n  public radius: number = 30;\r\n  public searchGarageNameFilter: ChqWidgetsInputModel = {\r\n    placeHolder: 'enter_name',\r\n    label: 'by_garage_name',\r\n    name: 'garageName',\r\n    type: 'text',\r\n    value: '',\r\n    required: false\r\n  };\r\n  public searchGarageTypeFilter: ChqWidgetsInputModel = {\r\n    placeHolder: 'enter_type',\r\n    label: 'by_garage_type',\r\n    name: 'garageType',\r\n    type: 'select',\r\n    value: '',\r\n    required: false,\r\n    options: [ {\r\n      name: GARAGE_REGISTRATION_STATUS.internal\r\n    }, {\r\n      name: GARAGE_REGISTRATION_STATUS.registered\r\n    }, {\r\n      name: GARAGE_REGISTRATION_STATUS.unregistered\r\n    } ],\r\n    displayValue: 'name',\r\n  };\r\n  public findGarageButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'find_garage',\r\n    type: 'disabled',\r\n    icon: '',\r\n    onclick: this.applyFilter.bind(this)\r\n  }\r\n\r\n  public resetFilterModel: ChqWidgetsButtonModel = {\r\n    label: 'reset',\r\n    type: 'disabled',\r\n    icon: '',\r\n    onclick: this.resetFilter.bind(this)\r\n  }\r\n\r\n  public gotAPIResponse = false;\r\n  menuItems = garagesMenus;\r\n  center: google.maps.LatLngLiteral;\r\n  zoom = 4;\r\n  markerOptions: google.maps.MarkerOptions = { draggable: false };\r\n  markerPositions: any[] = [];\r\n  mapOptions: google.maps.MapOptions = { streetViewControl: false }\r\n  claimId: string = '';\r\n  claimDetails: any = {}\r\n  garageList: any = [];\r\n  activeMenu = 'All'\r\n  itemsPerScroll:number = 5;\r\n  skipCounter:number = 0;\r\n  totalCount:number = 0;\r\n  garageRegistrationStatus: any = GARAGE_REGISTRATION_STATUS;\r\n  reassign = false;\r\n  /**\r\n   * constructor\r\n   * @param router \r\n   */\r\n  constructor(\r\n    private router: Router,\r\n    public dialog: MatDialog,\r\n    private claimsService : ClaimsService,\r\n    public commonService: CommonService,\r\n    private route: ActivatedRoute,\r\n    private translationService: TranslateService\r\n  ) { \r\n    this.route.parent?.params?.subscribe((data) => {\r\n      this.claimId = this.route.parent?.snapshot.paramMap.get('id');\r\n    });\r\n    this.route.queryParams.subscribe((params)=>{\r\n      const codeParam = params['reassign'];\r\n      if (codeParam === 'true') {\r\n        this.reassign = true\r\n      } else {\r\n        this.reassign = false\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  /**\r\n  * on init \r\n  */\r\n  ngOnInit(): void {\r\n    this.getClaimDetails()\r\n  }\r\n\r\n\r\n  /**\r\n   * @returns {void}\r\n  */\r\n  getClaimDetails(): void {\r\n    if(this.claimId) {\r\n      this.commonService.showLoading();\r\n      firstValueFrom(this.claimsService.getClaimDetail(this.claimId)).then((response) => { \r\n        if(response) {\r\n          this.claimDetails = response;\r\n          if(!(this.reassign) && !(this.claimDetails?.isEligibleForGarageReAssign) && this.claimDetails?.claimStatus !== CLAIM_STATUS.GarageAssignmentRequestedRejected && this.claimDetails?.garageDetails?.garageId) {\r\n            this.router.navigate([ `claim/claim-detail/${this.claimId}/garages/${this.claimDetails.garageDetails.garageId}/garage-details` ], { queryParams: { assigned: 'true' } });\r\n          } else {\r\n            // Show map center near to loss location\r\n            if(this.claimDetails?.lossDetails.lossLocationLatitude && this.claimDetails?.lossDetails.lossLocationLongitude) {\r\n              const myLatlng = new google.maps.LatLng(parseFloat(this.claimDetails?.lossDetails.lossLocationLatitude), parseFloat(this.claimDetails?.lossDetails.lossLocationLongitude));\r\n              this.center = myLatlng.toJSON()\r\n            }\r\n            this.markerPositions = [];\r\n            this.skipCounter = 0\r\n            this.getGarageList(true);\r\n          }\r\n          \r\n        }\r\n      }).catch(() => {\r\n        this.commonService.hideLoading();\r\n      });\r\n    } else {\r\n      this.getGarageList(true);\r\n    }\r\n    \r\n  }\r\n\r\n  /**\r\n   * getGarageList\r\n   */\r\n  getGarageList(isReset:boolean = false): void {\r\n    if(this.claimId) {\r\n      if(!this.claimDetails?.lossDetails?.lossLocationLatitude || !this.claimDetails?.lossDetails?.lossLocationLongitude || !this.claimDetails?.vehicleMetaData?.make) { \r\n        this.commonService.hideLoading()\r\n        this.displayMissingLocationMessage(this.claimId);\r\n        return\r\n      }\r\n    }\r\n    const queryArry = [];\r\n    const andFilter = []\r\n    if(this.searchGarageNameFilter.value) {\r\n      const value = '' + this.searchGarageNameFilter.value\r\n      queryArry.push(`contains(tolower(Name),'${value.toLowerCase()}') `)\r\n    }\r\n    if(this.searchGarageTypeFilter.selectedOption?.name) {\r\n      const value = '' + this.searchGarageTypeFilter.selectedOption.name\r\n      queryArry.push(`Status eq '${value}'`)\r\n    }\r\n    if(this.activeMenu === 'Multi-brand' || this.activeMenu === 'OEM Dealer') {\r\n      andFilter.push(`Type eq '${this.activeMenu}'`)\r\n    }\r\n\r\n    // As per Sriram and Jayesh request 29.12.2023\r\n    //andFilter.push('PartnershipTypeLookupName eq \\'Garage\\'');\r\n    if(this.claimDetails?.vehicleMetaData?.make) {\r\n      andFilter.push(`(PartnershipBrandsAttendeds/any(makeObj: tolower(makeObj/Make) eq '${this.claimDetails.vehicleMetaData.make.toLowerCase()}') OR PartnershipBrandsAttendeds/any(makeObj: tolower(makeObj/Make) eq 'all'))`)\r\n    }\r\n    \r\n    let latitudeToPass = this.claimDetails?.lossDetails?.lossLocationLatitude;\r\n    let longitudeToPass = this.claimDetails?.lossDetails?.lossLocationLongitude;\r\n   \r\n    if(this.latitude && this.longitude) {\r\n      latitudeToPass = this.latitude;\r\n      longitudeToPass = this.longitude\r\n    } else if(this.claimDetails?.lossDetails?.isCarAtDifferentLoc && this.claimDetails?.lossDetails?.carLocationLatitude && this.claimDetails?.lossDetails?.carLocationLongitude) {\r\n      latitudeToPass = this.claimDetails.lossDetails.carLocationLatitude;\r\n      longitudeToPass = this.claimDetails.lossDetails.carLocationLongitude;\r\n    }\r\n    const payload: any = {}\r\n    if(latitudeToPass && longitudeToPass) {\r\n      payload.Latitude = latitudeToPass;\r\n      payload.Longitude = longitudeToPass;\r\n      andFilter.push(`dDistance le ${this.radius}`)\r\n    }\r\n\r\n    let query = `$count=true&$top=${this.itemsPerScroll}&skip=${this.skipCounter}&$orderby=Name asc`;\r\n    if(queryArry.length > 0 || andFilter.length > 0) {\r\n      query += '&$filter=( ';\r\n      if(queryArry.length > 0 ) {\r\n        query += '( ' + queryArry.join('and ') + ' )'\r\n      }\r\n      if(queryArry.length > 0 && andFilter.length >0) {\r\n        query += ' and ' \r\n      }\r\n      if(andFilter.length > 0 ) {\r\n        query += '( ' + andFilter.join('and ') + ' )'\r\n      }\r\n      query += ' )'\r\n    }\r\n    this.commonService.showLoading();\r\n    \r\n    firstValueFrom(this.claimsService.getGarageList(query, payload)).then((response) => { \r\n      setTimeout(()=> {\r\n        if(this.scroller && this.scroller.elementScrolled){\r\n          this.scroller.elementScrolled().pipe(\r\n            map(() => this.scroller.measureScrollOffset('bottom')),\r\n            pairwise(),\r\n            filter(([ y1, y2 ]) => (y2 < y1 && y2 < 100)),\r\n            throttleTime(1000)\r\n          ).subscribe(() => {\r\n            this.skipCounter += this.itemsPerScroll;\r\n            if(this.skipCounter < this.totalCount) this.getGarageList()\r\n          });\r\n        }\r\n      }, 1000)\r\n      this.commonService.hideLoading();\r\n      this.gotAPIResponse = true;\r\n      if(response) {\r\n        let newList = response.value;\r\n        //let newList = response;\r\n        newList = newList.map((ele) => {\r\n          ele.GarageMobileNumber = '';\r\n          if(ele.CountryCode) ele.GarageMobileNumber += ele.CountryCode\r\n          if(ele.Phone) ele.GarageMobileNumber += ele.Phone\r\n          return ele\r\n        })\r\n        this.totalCount = response['@odata.count'];\r\n        if(isReset) {\r\n          this.garageList = [ ...newList ]\r\n        } else {\r\n          this.garageList = [ ...this.garageList, ...newList ]\r\n        }\r\n          \r\n        newList.forEach((ele) => {\r\n          if(ele.Latitude && ele.Longitude) {\r\n            this.addMarker(ele.Latitude, ele.Longitude, ele)\r\n          }\r\n        });\r\n        setTimeout(() => {\r\n          if(!this.claimId) {\r\n            const elLayout: any = document.getElementsByClassName('layout-container')[0];\r\n            if(elLayout) {\r\n              elLayout.style.paddingLeft= '0px'\r\n              elLayout.style.paddingRight= '0px'\r\n            }\r\n      \r\n            const elMain: any = document.getElementsByClassName('main-div')[0]\r\n            if(elMain) {\r\n              elMain.style.marginLeft= '0px'\r\n              elMain.style.marginRight= '0px'\r\n            }\r\n          }\r\n        })\r\n      }\r\n    }).catch(() => {\r\n      this.commonService.hideLoading();\r\n    });\r\n    // }\r\n    \r\n  }\r\n\r\n  /**\r\n    Displays a confirmation message to the user asking them to add their vehicle before adding an estimate.\r\n    @param {string} bookingId - The ID of the booking to add an estimate for.\r\n    @returns {void}\r\n  */\r\n  displayMissingLocationMessage(claimId: string): void {\r\n    let message = this.translationService.instant('please_add_loss_location_to_assign_garage')\r\n    if(!(this.claimDetails?.vehicleMetaData?.make)) {\r\n      message = this.translationService.instant('please_add_vehicle_make_to_assign_garage')\r\n    }\r\n    this.commonService.openAlertDialog('Notification', message).afterClosed().subscribe({\r\n      next: (result: boolean) => {\r\n        if (result) {\r\n          if(!(this.claimDetails?.vehicleMetaData?.make)) this.router.navigate([ `/claim/claim-detail/${claimId}` ]);\r\n          else this.router.navigate([ `/claim/claim-detail/${claimId}/loss-detail` ], { queryParams: { mode: 'edit' } });\r\n        }\r\n      },\r\n      error: () => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n  }\r\n    \r\n  /**\r\n   * addMarker\r\n   */\r\n  addMarker(lat, lng, garage): void {\r\n    const myLatlng = new google.maps.LatLng(parseFloat(lat), parseFloat(lng));\r\n    this.center = myLatlng.toJSON()\r\n    // this.markerPositions.push(myLatlng)\r\n    this.markerPositions.push({\r\n      position: myLatlng.toJSON(),\r\n      garage: garage\r\n    });\r\n  }\r\n\r\n  /**\r\n   * resetFilter\r\n   */\r\n  applyFilter(): void {\r\n    this.markerPositions = [];\r\n    // this.garageList = [];\r\n    this.skipCounter = 0\r\n    this.getGarageList(true)\r\n  }\r\n\r\n  /**\r\n   * resetFilter\r\n   */\r\n  resetFilter(): void {\r\n    this.searchFilterByLocation = { ...this.searchFilterByLocation, value: '' };\r\n    this.searchGarageNameFilter = { ...this.searchGarageNameFilter, value: '' };\r\n    this.searchGarageTypeFilter = { ...this.searchGarageTypeFilter, selectedOption: {} };\r\n    this.latitude = null;\r\n    this.longitude = null;\r\n    this.markerPositions = [];\r\n    // this.garageList = [];\r\n    this.skipCounter = 0;\r\n    this.getGarageList(true)\r\n  }\r\n\r\n  /**\r\n   * onFormUpdate\r\n   */\r\n  onFormUpdate(output: any): void {\r\n    console.log('output', output)\r\n    if(output.name === 'garageType') {\r\n      this.searchGarageTypeFilter = {\r\n        ...this.searchGarageTypeFilter,\r\n        selectedOption: output.value\r\n      }\r\n    } else if(output.name === 'garageName') {\r\n      this.searchGarageNameFilter.value = output.value\r\n    } else if(output.name === 'location') {\r\n      if(typeof output.value === 'string') {\r\n        this.searchFilterByLocation.value = output.value\r\n      } else {\r\n        this.searchFilterByLocation.value = output.value.name + ', ' + output.value.formatted_address\r\n        this.latitude = output.value.geometry.location.lat()\r\n        this.longitude = output.value.geometry.location.lng()\r\n      }\r\n    }\r\n    this.checkForFormValidation()\r\n  }\r\n\r\n\r\n  /**\r\n   * onViewClick\r\n   */\r\n  onViewClick(garageId: any): void {\r\n    if(this.claimId) {\r\n      this.router.navigate([ `claim/claim-detail/${this.claimId}/garages/${garageId}/garage-details` ], { queryParams: { reassign: this.reassign } });\r\n    } else {\r\n      this.router.navigate([ `/claim/garages/${garageId}` ]);\r\n    }\r\n    \r\n  }\r\n\r\n  /**\r\n   * navigate to selected route\r\n   * @param item \r\n   */\r\n  navigate(item: menuItem): void {\r\n    this.menuItems.forEach(item => item.active = false);\r\n    const selectedMenuIndex = this.menuItems.findIndex(e => e.name == item.name);\r\n    this.menuItems[selectedMenuIndex].active = true;\r\n    this.activeMenu = this.menuItems[selectedMenuIndex].name;\r\n    this.markerPositions = [];\r\n    // this.garageList = [];\r\n    this.skipCounter = 0;\r\n    this.getGarageList(true);\r\n  }\r\n\r\n  /**\r\n   * @param item \r\n   */\r\n  openInfoWindow(marker: MapMarker, mapInfoWindow: MapInfoWindow): void {\r\n    mapInfoWindow.open(marker);\r\n  }\r\n  /**\r\n   * @param item \r\n   */\r\n  closeInfoWindow(marker: MapMarker, mapInfoWindow: MapInfoWindow): void {\r\n    mapInfoWindow.close();\r\n  }\r\n  \r\n  /**\r\n   * Check For Form Validation\r\n   */\r\n  checkForFormValidation(): void {\r\n    let buttonType: 'disabled' | 'primary' = 'disabled';\r\n    const garageNmae: any = this.searchGarageNameFilter.value\r\n    if((this.searchFilterByLocation.value && this.latitude && this.longitude) || (garageNmae && garageNmae.length >= 4) || this.searchGarageTypeFilter.selectedOption?.name) {\r\n      buttonType = 'primary'\r\n    }\r\n    this.findGarageButtonModel.type = buttonType\r\n\r\n    let resetButtonType: 'disabled' | 'primary' = 'disabled';\r\n    if((this.searchFilterByLocation.value) || (garageNmae) || this.searchGarageTypeFilter.selectedOption?.name) {\r\n      resetButtonType = 'primary';\r\n    }\r\n    this.resetFilterModel.type = resetButtonType\r\n  }\r\n}\r\n","<div class=\"page-container-claim-garages\" *ngIf=\"gotAPIResponse\">\r\n    <div class=\"layout-container\">\r\n        <div class=\"row layout-filter-dropdown\">\r\n            <div class=\"col\">\r\n                <chq-input [inputModel]=\"searchFilterByLocation\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n            </div>\r\n            <div class=\"col\">\r\n                <chq-input [inputModel]=\"searchGarageNameFilter\" (controlOutput)=\"onFormUpdate($event)\"></chq-input> \r\n            </div>\r\n            <div class=\"col\">\r\n                <chq-input [inputModel]=\"searchGarageTypeFilter\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n            </div>\r\n            <div class=\"col-auto d-flex button-wrapper\">\r\n                <chq-button class=\"find-button\" [buttonModel]=\"findGarageButtonModel\"></chq-button>\r\n                <chq-button class=\"find-button\" [buttonModel]=\"resetFilterModel\"></chq-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"main-div\" >\r\n        <div class=\"tab-header fx-0\">\r\n            <chq-tabs [mode]=\"'button'\" [menuItems]=\"menuItems\" (menuItemClick)=\"navigate($event);\"\r\n                class=\"tabs\"></chq-tabs>\r\n        </div>\r\n        <div class=\"row w-100\" *ngIf=\"garageList.length > 0\">\r\n            <div class=\"frame-wrapper col\">\r\n                <cdk-virtual-scroll-viewport #scroller itemSize=\"10\">\r\n                    <ng-container *cdkVirtualFor=\"let garage of garageList; let i = index\">\r\n                        <div class=\"info-wrapper\" (click)=\"onViewClick(garage.Id);\">\r\n                            <div class=\"info-group\">\r\n                                <div class=\"img-section\">\r\n                                    <img class=\"avtar\" src=\"{{garage.LogoUrl || 'assets/img/xa_logo.png'}}\" />\r\n                                </div>\r\n                                <div class=\"card-wrapper\">\r\n                                    <div class=\"title-wrap\">\r\n                                        <span>{{garage.Name}}</span>\r\n                                        <div class=\"icon-section-title d-flex \">\r\n                                            <!-- <div class=\"recommended\" *ngIf=\"i===0\">{{'recommended' | translate  }}</div> -->\r\n                                            <div class=\"garage-status-icon\" *ngIf=\"garage.Status === garageRegistrationStatus.internal;else registered\"> <mat-icon  [svgIcon]=\"'internal-garage'\"></mat-icon></div>\r\n                                            <ng-template #registered><div class=\"garage-status-icon\" *ngIf=\"garage.Status === garageRegistrationStatus.registered;else unregistered\"> <mat-icon  [svgIcon]=\"'registered-garage'\"></mat-icon></div></ng-template>\r\n                                            <ng-template #unregistered><div class=\"garage-status-icon\" *ngIf=\"garage.Status === garageRegistrationStatus.unregistered\"> <mat-icon  [svgIcon]=\"'unregistered-garages'\"></mat-icon></div></ng-template>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"status-wrap\" *ngIf=\"garage.Type\">\r\n                                        <div class=\"label-wrap\">{{garage.Type}}</div>\r\n                                    </div>\r\n                                    <div class=\"address-wrap\">{{garage.Address}}</div>\r\n                                    <div class=\"contact-group row\" *ngIf=\"garage.Phone\">\r\n                                        <mat-icon class=\"phone-icon\" [svgIcon]=\"'call'\"></mat-icon>\r\n                                        <span class=\"contact\">{{garage.CountryCode}} {{garage.Phone}}</span>\r\n                                    </div>\r\n                                    <div class=\"location-group row\" *ngIf=\"garage.Distance && claimId\">\r\n                                        <mat-icon class=\"location-icon\" [svgIcon]=\"'location'\"></mat-icon>\r\n                                        <span class=\"distance\">{{garage.Distance}}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </ng-container>\r\n                </cdk-virtual-scroll-viewport>\r\n            </div>\r\n\r\n            <div class=\"col pl-3 map-container pr-0\">\r\n                <google-map \r\n                    [center]=\"center\" \r\n                    [zoom]=\"zoom\" \r\n                    [options]=\"mapOptions\" class=\"my-google-map\"\r\n                    width=\"100%\" \r\n                    \r\n                >\r\n                <ng-container *ngFor=\"let markerPosition of markerPositions\">\r\n                    <map-marker #marker=\"mapMarker\"  [position]=\"markerPosition.position\"\r\n                        [options]=\"markerOptions\" (mapMouseover)=\"openInfoWindow(marker, infoWindow)\" (mapMouseout)=\"closeInfoWindow(marker, infoWindow)\"></map-marker>\r\n                    <map-info-window #infoWindow=\"mapInfoWindow\">\r\n                        <div class=\"mapName\">\r\n                            <b>{{markerPosition?.garage?.Name}}</b>\r\n                        </div>\r\n                        <div class=\"mapDis\">\r\n                            {{markerPosition?.garage?.Address}}\r\n                        </div>\r\n                    </map-info-window>\r\n                </ng-container>\r\n                </google-map>\r\n            </div>\r\n        </div>\r\n        <div class=\"row justify-center\" *ngIf=\"garageList.length === 0\">\r\n            <div class=\"no-data-found\">\r\n                <mat-icon class=\"no-data-svg\" [svgIcon]=\"'estimate-no-data'\"></mat-icon>\r\n                <p class=\"no-data-text\">\r\n                    {{ 'no_result_dashboard' | translate }}. <br />\r\n                    {{ 'no_repair_type_dashboard' | translate }}\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/addenda-claims.png\" />\r\n            </div>\r\n        </div>\r\n        <!-- <ng-container>\r\n            <div class=\"footer-button-wrapper\">\r\n                <chq-button [buttonModel]=\"rejectButtonModel\" (click)=\"openRejectClaimPopup()\"></chq-button>\r\n                <chq-button [buttonModel]=\"approveButtonModel\"></chq-button>\r\n            </div>\r\n        </ng-container> -->\r\n    </div>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\n\r\nimport { catchError, map, Observable, of } from 'rxjs';\r\nimport { CommonService } from '../services/common/common.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VersionControlResolver implements Resolve<Observable<any>> {\r\n  /**\r\n   * contructor\r\n   * @param commonService \r\n   */\r\n  constructor(private commonService: CommonService) { }\r\n  /**\r\n   * resolve the \r\n   * @returns \r\n   */\r\n  resolve(): Observable<any> {\r\n    this.commonService.showLoading();\r\n    return this.commonService.checkVersion().pipe(\r\n      map((res) => {\r\n        this.commonService.hideLoading();\r\n        const localVersion = localStorage.getItem('appVersion');\r\n        const appVersion = res.buildRevision;\r\n        if (localVersion && localVersion != appVersion) {\r\n          localStorage.setItem('appVersion', appVersion);\r\n          setTimeout(() => {\r\n            location.reload();\r\n          }, 10);\r\n          return of('new version available');\r\n        } else {\r\n          localStorage.setItem('appVersion', appVersion);\r\n          return of('new version is not available');\r\n        }\r\n      }),\r\n      catchError(() => {\r\n        this.commonService.hideLoading();\r\n        return of('data not available at this time');\r\n      })\r\n    )\r\n  }\r\n}"],"names":["SeverityLevel","dayjs","utc","firstValueFrom","forkJoin","CLAIM_STATUS","GARAGE_REGISTRATION_STATUS","STATUS_TEXT_DICT","ClaimAGarageTableConfig","ClaimGarageAssignmentComponent","RejectClaimDialogComponent","defaultPagination","i0","extend","GarageDetailsComponent","constructor","commonService","dialog","router","numberSuffixPipe","route","claimsService","monitorService","translateService","sanitized","requestForInvoice","requestForEstimate","label","type","icon","onclick","assignGarage","bind","handleFeedbackClick","series","chart","height","labels","dataLabels","enabled","style","colors","formatter","value","toFixed","responsive","breakpoint","options","width","legend","position","stroke","show","states","hover","filter","active","tooltip","y","stacked","toolbar","offsetX","offsetY","plotOptions","bar","horizontal","xaxis","categories","rotate","trim","showDuplicates","fontSize","yaxis","formatInThousand","horizontalAlign","fill","opacity","onDatasetHover","highlightDataSeries","followCursor","row","column","event","target","id","claimId","find","c","result","navigate","actionType","requestForEnum","logEvent","showLoading","then","response","hideLoading","showInfoToast","message","catch","err","logException","Error","sort","orderBy","sortDirection","direction","getClaims","donutChartOptions","getDonutChartOptions","barChartOptions","getBarChartOptions","i18n","geti18nInfo","parent","params","subscribe","data","claimGuid","snapshot","paramMap","get","garageId","queryParams","codeParam","hideBackButton","reassign","userProfileData","res","userDetails","workFlowPackage","userPermission","orgPackages","orgPackage","automotiveServiceName","length","permissions","singleTire","perm","permissionName","includes","is1Stage","ngOnInit","pagination","pageSize","tableConfig","configData","garageDetails","funArry","getGraphData","push","getClaimDetails","getGarageDetails","getGarageDashboardDetail","StartDate","startOf","format","EndDate","assigned","completed","haveDataForDonutChart","others","instant","repairStatusDTOs","ele","approved","unApproved","haveDataForBarChart","name","map","color","weekName","getClaimDetail","claimDetails","next","claimStatus","status","isThirdPartyExternalGarage","garageStatus","RepairEstimation","Number","showAssignButton","hideButtonsOnReassign","isEligibleForGarageReAssign","showAssignedTag","showReassignButton","GarageAssignmentRequestedRejected","fnolId","Draft","automotiveServices","automotiveService","x","toLowerCase","permissionList","anyPermisson","some","itemP","item","UploadPhotos","ClaimSubmittedForApproval","ApprovalReviewInProgress","createdUserId","payload","latitudeToPass","lossDetails","lossLocationLatitude","longitudeToPass","lossLocationLongitude","isCarAtDifferentLoc","carLocationLatitude","carLocationLongitude","Latitude","Longitude","getGarageList","gotAPIResponse","GarageMobileNumber","CountryCode","Phone","setTimeout","elLayout","document","getElementsByClassName","paddingLeft","paddingRight","paddingTop","handlePaginationChangeReapir","offset","currentPage","skip","getClaimsOfAGarage","tableData","ind","Status","GarageAssignedforClaim","Action","bypassSecurityTrustHtml","Approved","count","back","dialogRef","open","panelClass","afterClosed","garageGuid","GarageGuid","GarageAssignmentRequested","openConfirmYesNoDialogBig","reason","openRejectClaimPopup","autoFocus","Rejected","approve","action","updateClaimStatus","error","settleClaim","Complete","selectors","decls","vars","consts","template","pairwise","throttleTime","garagesMenus","GaragesListComponent","translationService","placeHolder","required","internal","registered","unregistered","displayValue","applyFilter","resetFilter","draggable","streetViewControl","myLatlng","google","maps","LatLng","parseFloat","center","toJSON","markerPositions","skipCounter","isReset","vehicleMetaData","make","displayMissingLocationMessage","queryArry","andFilter","searchGarageNameFilter","searchGarageTypeFilter","selectedOption","activeMenu","latitude","longitude","radius","query","itemsPerScroll","join","scroller","elementScrolled","pipe","measureScrollOffset","y1","y2","totalCount","newList","garageList","forEach","addMarker","elMain","marginLeft","marginRight","openAlertDialog","mode","lat","lng","garage","searchFilterByLocation","onFormUpdate","output","console","log","formatted_address","geometry","location","checkForFormValidation","onViewClick","menuItems","selectedMenuIndex","findIndex","e","openInfoWindow","marker","mapInfoWindow","closeInfoWindow","close","buttonType","garageNmae","findGarageButtonModel","resetButtonType","resetFilterModel","viewQuery","catchError","of","VersionControlResolver","resolve","checkVersion","localVersion","localStorage","getItem","appVersion","buildRevision","setItem","reload","factory","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}