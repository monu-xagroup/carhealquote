{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEO,UAAMA,sBAAqB,GAAG;AACnC,sBAAc,YADqB;AAEnC,kBAAU,QAFyB;AAGnC,iBAAS;AAH0B,OAA9B;AAMA,UAAMC,kBAAiB,GAAG,CAC/B;AAAEC,aAAK,EAAE,OAAT;AAAkBC,WAAG,EAAE;AAAvB,OAD+B,EAE/B;AAAED,aAAK,EAAE,MAAT;AAAiBC,WAAG,EAAE;AAAtB,OAF+B,EAG/B;AAAED,aAAK,EAAE,KAAT;AAAgBC,WAAG,EAAE;AAArB,OAH+B,EAI/B;AAAED,aAAK,EAAE,QAAT;AAAmBC,WAAG,EAAE;AAAxB,OAJ+B,EAK/B;AAAED,aAAK,EAAE,QAAT;AAAmBC,WAAG,EAAE;AAAxB,OAL+B,EAM/B;AAAED,aAAK,EAAE,QAAT;AAAmBC,WAAG,EAAE;AAAxB,OAN+B,EAO/B;AAAED,aAAK,EAAE,QAAT;AAAmBC,WAAG,EAAE;AAAxB,OAP+B,CAA1B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDqBC;;AACIA;;AACJA;;;;;;AADSA;;AAAAA;;;;;;AAoBTA;;AACIA;;AACJA;;;;;;AADSA;;AAAAA;;;;;;AAsBTA;;AACIA;;AACJA;;;;;;AADSA;;AAAAA;;;;;;AAuBTA;;AACIA;;AACJA;;;;;;AADSA;;AAAAA;;;;;;AAwBTA;;AACIA;;AACJA;;;;;;AADSA;;AAAAA;;;;;;AAuBTA;;AACIA;;AACJA;;;;;;AADSA;;AAAAA;;;;;;AAsBTA;;AACIA;;AACJA;;;;;;AADSA;;AAAAA;;;;UCjJxBC;AAIX;;;;AAIA,uCACUC,eADV,EAEUC,aAFV,EAGSC,cAHT,EAIUC,GAJV,EAIgC;AAAA;;AAAA;;AAHtB;AACA;AACD;AACC;AAXV,yCAAiC,EAAjC;AACA,2BAAqB,IAArB;AAgBO,iCAAyC;AAC9CC,iBAAK,EAAE,MADuC;AAE9CC,gBAAI,EAAE,UAFwC;AAG9CC,mBAAO,EAAE,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB;AAHqC,WAAzC;;AAMP,oCAAqB,UAACC,eAAD,EAA4C;AAC/D,mBAAO;AACLC,wBAAU,EAAE;AACVC,2BAAW,EAAE,EADH;AAEVP,qBAAK,EAAE,EAFG;AAGVQ,oBAAI,EAAE,YAHI;AAIVC,uBAAO,EAAE,YAJC;AAKVjB,qBAAK,EAAE,EALG;AAMVS,oBAAI,EAAE,UANI;AAOVS,uBAAO,EAAE,CAAE;AAAEV,uBAAK,EAAE,EAAT;AAAaW,oBAAE,EAAE,CAAjB;AAAoBC,yBAAO,EAAEP,eAAe,GAAGA,eAAe,CAACC,UAAnB,GAAgC;AAA5E,iBAAF;AAPC,eADP;AAULO,gCAAkB,EAAE;AAClBN,2BAAW,EAAE,MADK;AAElBC,oBAAI,EAAE,oBAFY;AAGlBR,qBAAK,EAAE,UAHW;AAIlBR,qBAAK,EAAEa,eAAe,GAAGA,eAAe,CAACQ,kBAAnB,GAAwC,IAJ5C;AAKlBZ,oBAAI,EAAE,QALY;AAMlBa,yBAAS,EAAE,CANO;AAOlBC,0BAAU,EAAE;AACVP,sBAAI,EAAE,oBADI;AAEVQ,oCAAkB,EAAE,8BAAkB;AACpC,2BAAOC,+DAAmB,CAAEA,iEAAqB,CAArB,CAAF,EAA2BA,iEAAqB,CAArB,CAA3B,EAAoDA,+DAAmB,UAAnB,CAApD,EAAoFA,2DAAe,CAAf,CAApF,CAAnB,CAAP;AACD,mBAJS;AAKVC,mCAAiB,EAAE,2BAACC,KAAD,EAAoC;AACrD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,mCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,mCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,SAAD,CAAT,EAAsB;AACpB,6BAAO,qCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,KAAD,CAAT,EAAkB;AAChB,6BAAO,4CAAP;AACD;;AACD,2BAAO,EAAP;AACD;AAnBS,iBAPM;AA4BlBC,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAACC,UAAnC,GAAgD,KAAhD,GAAwD;AA5BhD,eAVf;AAwCLe,6BAAe,EAAE;AACfX,uBAAO,EAAEL,eAAe,GAAG,KAAI,CAACiB,eAAL,CAAqB,iBAArB,EAAwCjB,eAAxC,CAAH,GAA8D,EADvE;AAEfE,2BAAW,EAAE,iBAFE;AAGfP,qBAAK,EAAE,EAHQ;AAIfQ,oBAAI,EAAE,iBAJS;AAKfe,4BAAY,EAAE,aALC;AAMfC,8BAAc,EAAEnB,eAAe,GAAG,KAAI,CAACoB,gBAAL,CAAsB,iBAAtB,EAAyCpB,eAAzC,CAAH,GAA+D,EAN/E;AAOfqB,6BAAa,EAAE,KAPA;AAQfC,gCAAgB,EAAE,IARH;AASfP,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAACC,UAAnC,GAAgD,KAAhD,GAAwD;AATnD,eAxCZ;AAmDLsB,oBAAM,EAAE;AACNrB,2BAAW,EAAE,EADP;AAENP,qBAAK,EAAE,EAFD;AAGNQ,oBAAI,EAAE,QAHA;AAINC,uBAAO,EAAE,UAJH;AAKNjB,qBAAK,EAAE,EALD;AAMNS,oBAAI,EAAE,UANA;AAONS,uBAAO,EAAE,CAAE;AAAEV,uBAAK,EAAE,EAAT;AAAaW,oBAAE,EAAE,CAAjB;AAAoBC,yBAAO,EAAEP,eAAe,GAAGA,eAAe,CAACwB,QAAnB,GAA8B;AAA1E,iBAAF;AAPH,eAnDH;AA4DLC,yBAAW,EAAE;AACXpB,uBAAO,EAAEL,eAAe,GAAG,KAAI,CAACiB,eAAL,CAAqB,aAArB,EAAoCjB,eAApC,CAAH,GAA0D,EADvE;AAEXE,2BAAW,EAAE,iBAFF;AAGXP,qBAAK,EAAE,EAHI;AAIXQ,oBAAI,EAAE,aAJK;AAKXe,4BAAY,EAAE,aALH;AAMXC,8BAAc,EAAEnB,eAAe,GAAG,KAAI,CAACoB,gBAAL,CAAsB,aAAtB,EAAqCpB,eAArC,CAAH,GAA2D,EAN/E;AAOXqB,6BAAa,EAAE,KAPJ;AAQXC,gCAAgB,EAAE,IARP;AASXP,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAACwB,QAAnC,GAA8C,KAA9C,GAAsD;AATrD,eA5DR;AAuELE,mBAAK,EAAE;AACLxB,2BAAW,EAAE,EADR;AAELP,qBAAK,EAAE,EAFF;AAGLQ,oBAAI,EAAE,OAHD;AAILC,uBAAO,EAAE,OAJJ;AAKLjB,qBAAK,EAAE,EALF;AAMLS,oBAAI,EAAE,UAND;AAOLS,uBAAO,EAAE,CAAE;AAAEV,uBAAK,EAAE,EAAT;AAAaW,oBAAE,EAAE,CAAjB;AAAoBC,yBAAO,EAAEP,eAAe,GAAGA,eAAe,CAAC0B,KAAnB,GAA2B;AAAvE,iBAAF,CAPJ;AAQLX,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAAC0B,KAAnC,GAA2C,KAA3C,GAAmD;AARxD,eAvEF;AAiFLC,wBAAU,EAAE;AACVzB,2BAAW,EAAE,oBADH;AAEVP,qBAAK,EAAE,EAFG;AAGVQ,oBAAI,EAAE,YAHI;AAIVC,uBAAO,EAAE,YAJC;AAKVjB,qBAAK,EAAEa,eAAe,GAAGA,eAAe,CAAC0B,KAAnB,GAA2B,EALvC;AAMV9B,oBAAI,EAAE,MANI;AAOVa,yBAAS,EAAE,EAPD;AAQVM,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAAC0B,KAAnC,GAA2C,KAA3C,GAAmD,IARnD;AASVhB,0BAAU,EAAE;AACVP,sBAAI,EAAE,YADI;AAEVQ,oCAAkB,EAAE,8BAAkB;AACpC,2BAAOC,+DAAmB,CAAEA,iEAAqB,CAArB,CAAF,EAA2BA,iEAAqB,EAArB,CAA3B,EAAqDA,+DAAmB,eAAnB,CAArD,CAAnB,CAAP;AACD,mBAJS;AAKVC,mCAAiB,EAAE,2BAACC,KAAD,EAAoC;AACrD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,yCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,0CAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,SAAD,CAAT,EAAsB;AACpB,6BAAO,2CAAP;AACD;;AACD,2BAAO,EAAP;AACD;AAhBS;AATF,eAjFP;AA6GLc,2BAAa,EAAE;AACb1B,2BAAW,EAAE,MADA;AAEbC,oBAAI,EAAE,eAFO;AAGbR,qBAAK,EAAE,UAHM;AAIbR,qBAAK,EAAEa,eAAe,GAAGA,eAAe,CAAC4B,aAAnB,GAAmC,CAJ5C;AAKbhC,oBAAI,EAAE,QALO;AAMba,yBAAS,EAAE,CANE;AAObM,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAAC0B,KAAnC,GAA2C,KAA3C,GAAmD,IAPhD;AAQbhB,0BAAU,EAAE;AACVP,sBAAI,EAAE,eADI;AAEVQ,oCAAkB,EAAE,8BAAkB;AACpC,2BAAOC,+DAAmB,CAAEA,iEAAqB,CAArB,CAAF,EAA2BA,iEAAqB,CAArB,CAA3B,EAAoDA,+DAAmB,UAAnB,CAApD,EAAoFA,2DAAe,CAAf,CAApF,CAAnB,CAAP;AACD,mBAJS;AAKVC,mCAAiB,EAAE,2BAACC,KAAD,EAAoC;AACrD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,mCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,mCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,SAAD,CAAT,EAAsB;AACpB,6BAAO,qCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,KAAD,CAAT,EAAkB;AAChB,6BAAO,4CAAP;AACD;;AACD,2BAAO,EAAP;AACD;AAnBS;AARC,eA7GV;AA2ILe,wBAAU,EAAE;AACVxB,uBAAO,EAAEL,eAAe,GAAG,KAAI,CAACiB,eAAL,CAAqB,YAArB,EAAmCjB,eAAnC,CAAH,GAAyD,EADvE;AAEVE,2BAAW,EAAE,iBAFH;AAGVP,qBAAK,EAAE,EAHG;AAIVQ,oBAAI,EAAE,YAJI;AAKVe,4BAAY,EAAE,aALJ;AAMVC,8BAAc,EAAEnB,eAAe,GAAG,KAAI,CAACoB,gBAAL,CAAsB,YAAtB,EAAoCpB,eAApC,CAAH,GAA0D,EAN/E;AAOVqB,6BAAa,EAAE,KAPL;AAQVC,gCAAgB,EAAE,IARR;AASVP,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAAC0B,KAAnC,GAA2C,KAA3C,GAAmD;AATnD,eA3IP;AAsJLI,oBAAM,EAAE;AACN5B,2BAAW,EAAE,EADP;AAENP,qBAAK,EAAE,EAFD;AAGNQ,oBAAI,EAAE,QAHA;AAINC,uBAAO,EAAE,QAJH;AAKNjB,qBAAK,EAAE,EALD;AAMNS,oBAAI,EAAE,UANA;AAONS,uBAAO,EAAE,CAAE;AAAEV,uBAAK,EAAE,EAAT;AAAaW,oBAAE,EAAE,CAAjB;AAAoBC,yBAAO,EAAEP,eAAe,GAAGA,eAAe,CAAC8B,MAAnB,GAA4B;AAAxE,iBAAF,CAPH;AAQNf,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAAC8B,MAAnC,GAA4C,KAA5C,GAAoD;AARxD,eAtJH;AAgKLC,yBAAW,EAAE;AACX7B,2BAAW,EAAE,oBADF;AAEXP,qBAAK,EAAE,EAFI;AAGXQ,oBAAI,EAAE,aAHK;AAIXC,uBAAO,EAAE,aAJE;AAKXjB,qBAAK,EAAEa,eAAe,GAAGA,eAAe,CAAC8B,MAAnB,GAA4B,EALvC;AAMXlC,oBAAI,EAAE,MANK;AAOXa,yBAAS,EAAE,EAPA;AAQXM,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAAC8B,MAAnC,GAA4C,KAA5C,GAAoD,IARnD;AASXpB,0BAAU,EAAE;AACVP,sBAAI,EAAE,aADI;AAEVQ,oCAAkB,EAAE,8BAAkB;AACpC,2BAAOC,+DAAmB,CAAEA,iEAAqB,CAArB,CAAF,EAA2BA,iEAAqB,EAArB,CAA3B,EAAqDA,+DAAmB,eAAnB,CAArD,CAAnB,CAAP;AACD,mBAJS;AAKVC,mCAAiB,EAAE,2BAACC,KAAD,EAAoC;AACrD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,yCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,0CAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,SAAD,CAAT,EAAsB;AACpB,6BAAO,2CAAP;AACD;;AACD,2BAAO,EAAP;AACD;AAhBS;AATD,eAhKR;AA4LLkB,4BAAc,EAAE;AACd9B,2BAAW,EAAE,MADC;AAEdC,oBAAI,EAAE,gBAFQ;AAGdR,qBAAK,EAAE,UAHO;AAIdR,qBAAK,EAAEa,eAAe,GAAGA,eAAe,CAACgC,cAAnB,GAAoC,CAJ5C;AAKdpC,oBAAI,EAAE,QALQ;AAMda,yBAAS,EAAE,CANG;AAOdM,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAAC8B,MAAnC,GAA4C,KAA5C,GAAoD,IAPhD;AAQdpB,0BAAU,EAAE;AACVP,sBAAI,EAAE,gBADI;AAEVQ,oCAAkB,EAAE,8BAAkB;AACpC,2BAAOC,+DAAmB,CAAEA,iEAAqB,CAArB,CAAF,EAA2BA,iEAAqB,CAArB,CAA3B,EAAoDA,+DAAmB,UAAnB,CAApD,EAAoFA,2DAAe,CAAf,CAApF,CAAnB,CAAP;AACD,mBAJS;AAKVC,mCAAiB,EAAE,2BAACC,KAAD,EAAoC;AACrD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,mCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,mCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,SAAD,CAAT,EAAsB;AACpB,6BAAO,qCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,KAAD,CAAT,EAAkB;AAChB,6BAAO,4CAAP;AACD;;AACD,2BAAO,EAAP;AACD;AAnBS;AARE,eA5LX;AA0NLmB,yBAAW,EAAE;AACX5B,uBAAO,EAAEL,eAAe,GAAG,KAAI,CAACiB,eAAL,CAAqB,aAArB,EAAoCjB,eAApC,CAAH,GAA0D,EADvE;AAEXE,2BAAW,EAAE,iBAFF;AAGXP,qBAAK,EAAE,EAHI;AAIXQ,oBAAI,EAAE,aAJK;AAKXe,4BAAY,EAAE,aALH;AAMXC,8BAAc,EAAEnB,eAAe,GAAG,KAAI,CAACoB,gBAAL,CAAsB,aAAtB,EAAqCpB,eAArC,CAAH,GAA2D,EAN/E;AAOXqB,6BAAa,EAAE,KAPJ;AAQXC,gCAAgB,EAAE,IARP;AASXP,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAAC8B,MAAnC,GAA4C,KAA5C,GAAoD;AATnD,eA1NR;AAqOLI,oBAAM,EAAE;AACNhC,2BAAW,EAAE,EADP;AAENP,qBAAK,EAAE,EAFD;AAGNQ,oBAAI,EAAE,QAHA;AAINC,uBAAO,EAAE,QAJH;AAKNjB,qBAAK,EAAE,EALD;AAMNS,oBAAI,EAAE,UANA;AAONS,uBAAO,EAAE,CAAE;AAAEV,uBAAK,EAAE,EAAT;AAAaW,oBAAE,EAAE,CAAjB;AAAoBC,yBAAO,EAAEP,eAAe,GAAGA,eAAe,CAACkC,MAAnB,GAA4B;AAAxE,iBAAF,CAPH;AAQNnB,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAACkC,MAAnC,GAA4C,KAA5C,GAAoD;AARxD,eArOH;AA+OLC,yBAAW,EAAE;AACXjC,2BAAW,EAAE,oBADF;AAEXP,qBAAK,EAAE,EAFI;AAGXQ,oBAAI,EAAE,aAHK;AAIXC,uBAAO,EAAE,aAJE;AAKXjB,qBAAK,EAAEa,eAAe,GAAGA,eAAe,CAACkC,MAAnB,GAA4B,EALvC;AAMXtC,oBAAI,EAAE,MANK;AAOXa,yBAAS,EAAE,EAPA;AAQXM,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAACkC,MAAnC,GAA4C,KAA5C,GAAoD,IARnD;AASXxB,0BAAU,EAAE;AACVP,sBAAI,EAAE,aADI;AAEVQ,oCAAkB,EAAE,8BAAkB;AACpC,2BAAOC,+DAAmB,CAAEA,iEAAqB,CAArB,CAAF,EAA2BA,iEAAqB,EAArB,CAA3B,EAAqDA,+DAAmB,eAAnB,CAArD,CAAnB,CAAP;AACD,mBAJS;AAKVC,mCAAiB,EAAE,2BAACC,KAAD,EAAoC;AACrD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,yCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,0CAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,SAAD,CAAT,EAAsB;AACpB,6BAAO,2CAAP;AACD;;AACD,2BAAO,EAAP;AACD;AAhBS;AATD,eA/OR;AA2QLsB,4BAAc,EAAE;AACdlC,2BAAW,EAAE,MADC;AAEdC,oBAAI,EAAE,gBAFQ;AAGdR,qBAAK,EAAE,UAHO;AAIdR,qBAAK,EAAEa,eAAe,GAAGA,eAAe,CAACoC,cAAnB,GAAoC,CAJ5C;AAKdxC,oBAAI,EAAE,QALQ;AAMda,yBAAS,EAAE,CANG;AAOdM,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAACkC,MAAnC,GAA4C,KAA5C,GAAoD,IAPhD;AAQdxB,0BAAU,EAAE;AACVP,sBAAI,EAAE,gBADI;AAEVQ,oCAAkB,EAAE,8BAAkB;AACpC,2BAAOC,+DAAmB,CAAEA,iEAAqB,CAArB,CAAF,EAA2BA,iEAAqB,CAArB,CAA3B,EAAoDA,+DAAmB,UAAnB,CAApD,EAAoFA,2DAAe,CAAf,CAApF,CAAnB,CAAP;AACD,mBAJS;AAKVC,mCAAiB,EAAE,2BAACC,KAAD,EAAoC;AACrD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,mCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,mCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,SAAD,CAAT,EAAsB;AACpB,6BAAO,qCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,KAAD,CAAT,EAAkB;AAChB,6BAAO,4CAAP;AACD;;AACD,2BAAO,EAAP;AACD;AAnBS;AARE,eA3QX;AAySLuB,yBAAW,EAAE;AACXhC,uBAAO,EAAEL,eAAe,GAAG,KAAI,CAACiB,eAAL,CAAqB,aAArB,EAAoCjB,eAApC,CAAH,GAA0D,EADvE;AAEXE,2BAAW,EAAE,iBAFF;AAGXP,qBAAK,EAAE,EAHI;AAIXQ,oBAAI,EAAE,aAJK;AAKXe,4BAAY,EAAE,aALH;AAMXC,8BAAc,EAAEnB,eAAe,GAAG,KAAI,CAACoB,gBAAL,CAAsB,aAAtB,EAAqCpB,eAArC,CAAH,GAA2D,EAN/E;AAOXqB,6BAAa,EAAE,KAPJ;AAQXC,gCAAgB,EAAE,IARP;AASXP,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAACkC,MAAnC,GAA4C,KAA5C,GAAoD;AATnD,eAzSR;AAoTLI,oBAAM,EAAE;AACNpC,2BAAW,EAAE,EADP;AAENP,qBAAK,EAAE,EAFD;AAGNQ,oBAAI,EAAE,QAHA;AAINC,uBAAO,EAAE,QAJH;AAKNjB,qBAAK,EAAE,EALD;AAMNS,oBAAI,EAAE,UANA;AAONS,uBAAO,EAAE,CAAE;AAAEV,uBAAK,EAAE,EAAT;AAAaW,oBAAE,EAAE,CAAjB;AAAoBC,yBAAO,EAAEP,eAAe,GAAGA,eAAe,CAACsC,MAAnB,GAA4B;AAAxE,iBAAF;AAPH,eApTH;AA6TLC,yBAAW,EAAE;AACXrC,2BAAW,EAAE,oBADF;AAEXP,qBAAK,EAAE,EAFI;AAGXQ,oBAAI,EAAE,aAHK;AAIXC,uBAAO,EAAE,aAJE;AAKXjB,qBAAK,EAAEa,eAAe,GAAGA,eAAe,CAACsC,MAAnB,GAA4B,EALvC;AAMX1C,oBAAI,EAAE,MANK;AAOXa,yBAAS,EAAE,EAPA;AAQXM,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAACsC,MAAnC,GAA4C,KAA5C,GAAoD,IARnD;AASX5B,0BAAU,EAAE;AACVP,sBAAI,EAAE,aADI;AAEVQ,oCAAkB,EAAE,8BAAkB;AACpC,2BAAOC,+DAAmB,CAAEA,iEAAqB,CAArB,CAAF,EAA2BA,iEAAqB,EAArB,CAA3B,EAAqDA,+DAAmB,eAAnB,CAArD,CAAnB,CAAP;AACD,mBAJS;AAKVC,mCAAiB,EAAE,2BAACC,KAAD,EAAoC;AACrD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,yCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,0CAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,SAAD,CAAT,EAAsB;AACpB,6BAAO,2CAAP;AACD;;AACD,2BAAO,EAAP;AACD;AAhBS;AATD,eA7TR;AAyVL0B,4BAAc,EAAE;AACdtC,2BAAW,EAAE,MADC;AAEdC,oBAAI,EAAE,gBAFQ;AAGdR,qBAAK,EAAE,UAHO;AAIdR,qBAAK,EAAEa,eAAe,GAAGA,eAAe,CAACwC,cAAnB,GAAoC,CAJ5C;AAKd5C,oBAAI,EAAE,QALQ;AAMda,yBAAS,EAAE,CANG;AAOdM,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAACsC,MAAnC,GAA4C,KAA5C,GAAoD,IAPhD;AAQd5B,0BAAU,EAAE;AACVP,sBAAI,EAAE,gBADI;AAEVQ,oCAAkB,EAAE,8BAAkB;AACpC,2BAAOC,+DAAmB,CAAEA,iEAAqB,CAArB,CAAF,EAA2BA,iEAAqB,CAArB,CAA3B,EAAoDA,+DAAmB,UAAnB,CAApD,EAAoFA,2DAAe,CAAf,CAApF,CAAnB,CAAP;AACD,mBAJS;AAKVC,mCAAiB,EAAE,2BAACC,KAAD,EAAoC;AACrD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,mCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,mCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,SAAD,CAAT,EAAsB;AACpB,6BAAO,qCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,KAAD,CAAT,EAAkB;AAChB,6BAAO,4CAAP;AACD;;AACD,2BAAO,EAAP;AACD;AAnBS;AARE,eAzVX;AAuXL2B,yBAAW,EAAE;AACXpC,uBAAO,EAAEL,eAAe,GAAG,KAAI,CAACiB,eAAL,CAAqB,aAArB,EAAoCjB,eAApC,CAAH,GAA0D,EADvE;AAEXE,2BAAW,EAAE,iBAFF;AAGXP,qBAAK,EAAE,EAHI;AAIXQ,oBAAI,EAAE,aAJK;AAKXe,4BAAY,EAAE,aALH;AAMXC,8BAAc,EAAEnB,eAAe,GAAG,KAAI,CAACoB,gBAAL,CAAsB,aAAtB,EAAqCpB,eAArC,CAAH,GAA2D,EAN/E;AAOXqB,6BAAa,EAAE,KAPJ;AAQXC,gCAAgB,EAAE,IARP;AASXP,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAACsC,MAAnC,GAA4C,KAA5C,GAAoD;AATnD,eAvXR;AAkYLI,oBAAM,EAAE;AACNxC,2BAAW,EAAE,EADP;AAENP,qBAAK,EAAE,EAFD;AAGNQ,oBAAI,EAAE,QAHA;AAINC,uBAAO,EAAE,QAJH;AAKNjB,qBAAK,EAAE,EALD;AAMNS,oBAAI,EAAE,UANA;AAONS,uBAAO,EAAE,CAAE;AAAEV,uBAAK,EAAE,EAAT;AAAaW,oBAAE,EAAE,CAAjB;AAAoBC,yBAAO,EAAEP,eAAe,GAAGA,eAAe,CAAC0C,MAAnB,GAA4B;AAAxE,iBAAF;AAPH,eAlYH;AA2YLC,yBAAW,EAAE;AACXzC,2BAAW,EAAE,oBADF;AAEXP,qBAAK,EAAE,EAFI;AAGXQ,oBAAI,EAAE,aAHK;AAIXC,uBAAO,EAAE,aAJE;AAKXjB,qBAAK,EAAEa,eAAe,GAAGA,eAAe,CAAC0C,MAAnB,GAA4B,EALvC;AAMX9C,oBAAI,EAAE,MANK;AAOXa,yBAAS,EAAE,EAPA;AAQXM,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAAC0C,MAAnC,GAA4C,KAA5C,GAAoD,IARnD;AASXhC,0BAAU,EAAE;AACVP,sBAAI,EAAE,aADI;AAEVQ,oCAAkB,EAAE,8BAAkB;AACpC,2BAAOC,+DAAmB,CAAEA,iEAAqB,CAArB,CAAF,EAA2BA,iEAAqB,EAArB,CAA3B,EAAqDA,+DAAmB,eAAnB,CAArD,CAAnB,CAAP;AACD,mBAJS;AAKVC,mCAAiB,EAAE,2BAACC,KAAD,EAAoC;AACrD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,yCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,0CAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,SAAD,CAAT,EAAsB;AACpB,6BAAO,2CAAP;AACD;;AACD,2BAAO,EAAP;AACD;AAhBS;AATD,eA3YR;AAuaL8B,4BAAc,EAAE;AACd1C,2BAAW,EAAE,MADC;AAEdC,oBAAI,EAAE,gBAFQ;AAGdR,qBAAK,EAAE,UAHO;AAIdR,qBAAK,EAAEa,eAAe,GAAGA,eAAe,CAAC4C,cAAnB,GAAoC,CAJ5C;AAKdhD,oBAAI,EAAE,QALQ;AAMda,yBAAS,EAAE,CANG;AAOdM,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAAC0C,MAAnC,GAA4C,KAA5C,GAAoD,IAPhD;AAQdhC,0BAAU,EAAE;AACVP,sBAAI,EAAE,gBADI;AAEVQ,oCAAkB,EAAE,8BAAkB;AACpC,2BAAOC,+DAAmB,CAAEA,iEAAqB,CAArB,CAAF,EAA2BA,iEAAqB,CAArB,CAA3B,EAAoDA,+DAAmB,UAAnB,CAApD,EAAoFA,2DAAe,CAAf,CAApF,CAAnB,CAAP;AACD,mBAJS;AAKVC,mCAAiB,EAAE,2BAACC,KAAD,EAAoC;AACrD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,mCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,WAAD,CAAT,EAAwB;AACtB,6BAAO,mCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,SAAD,CAAT,EAAsB;AACpB,6BAAO,qCAAP;AACD;;AACD,wBAAIA,KAAK,CAAC,KAAD,CAAT,EAAkB;AAChB,6BAAO,4CAAP;AACD;;AACD,2BAAO,EAAP;AACD;AAnBS;AARE,eAvaX;AAqcL+B,yBAAW,EAAE;AACXxC,uBAAO,EAAEL,eAAe,GAAG,KAAI,CAACiB,eAAL,CAAqB,aAArB,EAAoCjB,eAApC,CAAH,GAA0D,EADvE;AAEXE,2BAAW,EAAE,iBAFF;AAGXP,qBAAK,EAAE,EAHI;AAIXQ,oBAAI,EAAE,aAJK;AAKXe,4BAAY,EAAE,aALH;AAMXC,8BAAc,EAAEnB,eAAe,GAAG,KAAI,CAACoB,gBAAL,CAAsB,aAAtB,EAAqCpB,eAArC,CAAH,GAA2D,EAN/E;AAOXqB,6BAAa,EAAE,KAPJ;AAQXC,gCAAgB,EAAE,IARP;AASXP,wBAAQ,EAAEf,eAAe,IAAIA,eAAe,CAAC0C,MAAnC,GAA4C,KAA5C,GAAoD;AATnD;AArcR,aAAP;AAidD,WAldD;;AAodA,yCAA0B,YAA2B;AACnD,mBAAO;AACLzC,wBAAU,EAAE,KADP;AAELO,gCAAkB,EAAE,IAFf;AAGLsC,0BAAY,EAAE,IAHT;AAIL9B,6BAAe,EAAE,EAJZ;AAKLQ,sBAAQ,EAAE,KALL;AAMLuB,sBAAQ,EAAE,IANL;AAOLtB,yBAAW,EAAE,EAPR;AAQLC,mBAAK,EAAE,EARF;AASLE,2BAAa,EAAE,CATV;AAULoB,qBAAO,EAAE,IAVJ;AAWLnB,wBAAU,EAAE,EAXP;AAYLC,oBAAM,EAAE,EAZH;AAaLE,4BAAc,EAAE,CAbX;AAcLiB,sBAAQ,EAAE,IAdL;AAeLhB,yBAAW,EAAE,EAfR;AAgBLC,oBAAM,EAAE,EAhBH;AAiBLE,4BAAc,EAAE,CAjBX;AAkBLc,sBAAQ,EAAE,IAlBL;AAmBLb,yBAAW,EAAE,EAnBR;AAoBLC,oBAAM,EAAE,EApBH;AAqBLE,4BAAc,EAAE,CArBX;AAsBLW,sBAAQ,EAAE,IAtBL;AAuBLV,yBAAW,EAAE,EAvBR;AAwBLC,oBAAM,EAAE,EAxBH;AAyBLE,4BAAc,EAAE,CAzBX;AA0BLQ,sBAAQ,EAAE,IA1BL;AA2BLP,yBAAW,EAAE;AA3BR,aAAP;AA8BD,WA/BD;;AA9dE,eAAKQ,SAAL,GAAiB,KAAKC,kBAAL,EAAjB;AACA,eAAKC,QAAL,GAAgB,KAAKC,uBAAL,EAAhB;AACD;AA+fD;;;;;;;iBAGA,oBAAQ;AACN,iBAAK/D,cAAL,CAAoBgE,QAApB,CAA6B,UAA7B,EAAyC,CAAE,sBAAF,EAA0B,gBAA1B,CAAzC;AACA,iBAAKjE,aAAL,CAAmBkE,WAAnB;AACA,iBAAKC,oBAAL;AACD;AAED;;;;;;iBAGA,2BAAe;AACb;AACA;AACA,iBAAKjE,GAAL,CAASkE,aAAT;AACD;AAED;;;;;;;iBAIA,kCAAsB;AACpB,gBAAI,KAAKC,sBAAL,EAAJ,EAAmC;AACjC,mBAAKC,eAAL,CAAqBlE,IAArB,GAA4B,SAA5B;AACD,aAFD,MAEO;AACL,mBAAKkE,eAAL,CAAqBlE,IAArB,GAA4B,UAA5B;AACD;AACF;AAED;;;;;;;iBAIA,gCAAoB;AAAA;;AAClB,iBAAKL,eAAL,CAAqBoE,oBAArB,GAA4CI,SAA5C,CAAsD;AACpDC,kBAAI,EAAE,cAACC,MAAD,EAAgB;AACpB,sBAAI,CAACC,uBAAL,GAA+BD,MAAM,CAACE,IAAtC;;AACA,sBAAI,CAACC,WAAL;AACD,eAJmD;AAIjDtD,mBAAK,EAAE,eAACuD,GAAD,EAAa;AACrB,sBAAI,CAAC7E,aAAL,CAAmB8E,WAAnB;;AACA,sBAAI,CAAC7E,cAAL,CAAoB8E,YAApB,CAAiCF,GAAjC;AACD;AAPmD,aAAtD;AASD;AAED;;;;;;iBAGA,uBAAW;AAAA;;AACT,iBAAK9E,eAAL,CAAqB6E,WAArB,GAAmCL,SAAnC,CAA6C;AAC3CC,kBAAI,EAAE,cAACC,MAAD,EAAgB;AACpB,oBAAIO,YAAY,GAAG,IAAnB;;AACA,oBAAIP,MAAM,IAAIA,MAAM,CAACE,IAAjB,IAAyBF,MAAM,CAACE,IAAP,CAAYK,YAArC,IAAqDP,MAAM,CAACE,IAAP,CAAYK,YAAZ,CAAyBC,MAAlF,EAA0F;AACxFD,8BAAY,GAAG,MAAI,CAACE,mBAAL,CAAyBT,MAAM,CAACE,IAAP,CAAYK,YAArC,CAAf;AACA,wBAAI,CAACnB,SAAL,GAAiB,MAAI,CAACC,kBAAL,CAAwBkB,YAAxB,CAAjB;;AACA,wBAAI,CAACjF,eAAL,CAAqBoF,cAArB,CAAoCC,IAApC,CAAyCJ,YAAY,CAAChD,QAAtD;AACD,iBAJD,MAIO;AACL,wBAAI,CAAC+B,QAAL,CAActD,UAAd,GAA2B,IAA3B;AACA,wBAAI,CAACsD,QAAL,CAAc/C,kBAAd,GAAmC,EAAnC;AACA,wBAAI,CAAC6C,SAAL,GAAiB,MAAI,CAACC,kBAAL,CAAwB,MAAI,CAACC,QAA7B,CAAjB;AACD;;AACD,oBAAIU,MAAM,IAAIA,MAAM,CAACE,IAAjB,IAAyBF,MAAM,CAACE,IAAP,CAAYU,UAArC,IAAmDZ,MAAM,CAACE,IAAP,CAAYU,UAAZ,CAAuBC,WAA9E,EAA2F;AACzF,wBAAI,CAACvF,eAAL,CAAqBwF,iBAArB,CAAuCH,IAAvC,CAA4CX,MAAM,CAACE,IAAP,CAAYU,UAAZ,CAAuBC,WAAvB,CAAmCL,MAAnC,GAA4C,CAA5C,GAAgD,IAAhD,GAAuD,KAAnG;AACD;;AACD,sBAAI,CAACjF,aAAL,CAAmB8E,WAAnB;AACD,eAhB0C;AAiB3CxD,mBAAK,EAAE,eAACuD,GAAD,EAAa;AAClB,sBAAI,CAAC7E,aAAL,CAAmB8E,WAAnB;;AACA,sBAAI,CAAC7E,cAAL,CAAoB8E,YAApB,CAAiCF,GAAjC;AACD;AApB0C,aAA7C;AAsBD;AAED;;;;;;iBAGA,6BAAoBF,IAApB,EAA6B;AAC3B,iBAAK,IAAIa,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGb,IAAI,CAACM,MAAzB,EAAiCO,CAAC,EAAlC,EAAsC;AACpC,kBAAMC,OAAO,GAAGd,IAAI,CAACa,CAAD,CAApB;;AAEA,sBAAQC,OAAO,CAACC,QAAhB;AACA,qBAAK,YAAL;AACE,uBAAK3B,QAAL,CAAc/C,kBAAd,GAAmCyE,OAAO,CAACE,QAA3C;AACA,uBAAK5B,QAAL,CAActD,UAAd,GAA2B,IAA3B;AACA,uBAAKsD,QAAL,CAAcT,YAAd,GAA6BmC,OAAO,CAAC3E,EAArC;AACA,uBAAKiD,QAAL,CAAcvC,eAAd,GAAgCiE,OAAO,CAACG,KAAxC;AACA;;AAEF,qBAAK,QAAL;AACE,uBAAK7B,QAAL,CAAc/B,QAAd,GAAyB,IAAzB;AACA,uBAAK+B,QAAL,CAAcR,QAAd,GAAyBkC,OAAO,CAAC3E,EAAjC;AACA,uBAAKiD,QAAL,CAAc9B,WAAd,GAA4BwD,OAAO,CAACG,KAApC;AACA;;AACF;AACE;AAdF;AAgBD;;AACD,gBAAMC,SAAS,GAAGlB,IAAI,CAACmB,MAAL,CAAY,WAAC;AAAA,qBAAIC,CAAC,CAACL,QAAF,CAAWM,WAAX,OAA6B,OAAjC;AAAA,aAAb,CAAlB;;AACA,iBAAK,IAAIR,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGK,SAAS,CAACZ,MAA9B,EAAsCO,EAAC,EAAvC,EAA2C;AACzC,kBAAMC,QAAO,GAAGI,SAAS,CAACL,EAAD,CAAzB;;AACA,kBAAIA,EAAC,KAAK,CAAV,EAAa;AACX,qBAAKzB,QAAL,CAAc7B,KAAd,GAAsBuD,QAAO,CAAC9E,IAA9B;AACA,qBAAKoD,QAAL,CAAc3B,aAAd,GAA8BqD,QAAO,CAACE,QAAtC;AACA,qBAAK5B,QAAL,CAAcP,OAAd,GAAwBiC,QAAO,CAAC3E,EAAhC;AACA,qBAAKiD,QAAL,CAAc1B,UAAd,GAA2BoD,QAAO,CAACG,KAAnC;AACD,eALD,MAKO;AACL,qBAAK7B,QAAL,gBAAsByB,EAAtB,KAA6BC,QAAO,CAAC9E,IAArC;AACA,qBAAKoD,QAAL,gBAAsByB,EAAtB,iBAAqCC,QAAO,CAACE,QAA7C;AACA,qBAAK5B,QAAL,gBAAsByB,EAAtB,WAA+BC,QAAO,CAAC3E,EAAvC;AACA,qBAAKiD,QAAL,gBAAsByB,EAAtB,cAAkCC,QAAO,CAACG,KAA1C;AACD;AACF;;AACD,mBAAO,KAAK7B,QAAZ;AACD;AAED;;;;;;;iBAIA,kCAAsB;AACpB,gBAAIkC,OAAO,GAAG,IAAd;AACA,gBAAMC,OAAO,GAAG,KAAKrC,SAAL,CAAe3B,KAAf,CAAqBrB,OAArB,CAA6BsF,IAA7B,CAAkC,UAACC,GAAD;AAAA,qBAAcA,GAAG,CAACrF,OAAJ,KAAgB,IAAhB,IAAwBqF,GAAG,CAACrF,OAAJ,IAAe,EAArD;AAAA,aAAlC,CAAhB;AACA,gBAAMsF,YAAY,GAAG,KAAKxC,SAAL,CAAepD,UAAf,CAA0BI,OAA1B,CAAkCsF,IAAlC,CAAuC,UAACC,GAAD;AAAA,qBAAcA,GAAG,CAACrF,OAAJ,KAAgB,IAA9B;AAAA,aAAvC,CAArB;AACA,gBAAMiB,QAAQ,GAAG,KAAK6B,SAAL,CAAe9B,MAAf,CAAsBlB,OAAtB,CAA8BsF,IAA9B,CAAmC,UAACC,GAAD;AAAA,qBAAcA,GAAG,CAACrF,OAAJ,KAAgB,IAA9B;AAAA,aAAnC,CAAjB;AACA,gBAAMuF,QAAQ,GAAG,KAAKzC,SAAL,CAAevB,MAAf,CAAsBzB,OAAtB,CAA8BsF,IAA9B,CAAmC,UAACC,GAAD;AAAA,qBAAcA,GAAG,CAACrF,OAAJ,KAAgB,IAAhB,IAAwBqF,GAAG,CAACrF,OAAJ,IAAe,EAArD;AAAA,aAAnC,CAAjB;AACA,gBAAMwF,QAAQ,GAAG,KAAK1C,SAAL,CAAenB,MAAf,CAAsB7B,OAAtB,CAA8BsF,IAA9B,CAAmC,UAACC,GAAD;AAAA,qBAAcA,GAAG,CAACrF,OAAJ,KAAgB,IAAhB,IAAwBqF,GAAG,CAACrF,OAAJ,IAAe,EAArD;AAAA,aAAnC,CAAjB;AACA,gBAAMyF,QAAQ,GAAG,KAAK3C,SAAL,CAAef,MAAf,CAAsBjC,OAAtB,CAA8BsF,IAA9B,CAAmC,UAACC,GAAD;AAAA,qBAAcA,GAAG,CAACrF,OAAJ,KAAgB,IAAhB,IAAwBqF,GAAG,CAACrF,OAAJ,IAAe,EAArD;AAAA,aAAnC,CAAjB;AACA,gBAAM0F,QAAQ,GAAG,KAAK5C,SAAL,CAAeX,MAAf,CAAsBrC,OAAtB,CAA8BsF,IAA9B,CAAmC,UAACC,GAAD;AAAA,qBAAcA,GAAG,CAACrF,OAAJ,KAAgB,IAAhB,IAAwBqF,GAAG,CAACrF,OAAJ,IAAe,EAArD;AAAA,aAAnC,CAAjB;;AAEA,gBAAIsF,YAAY,KAAK,KAAKxC,SAAL,CAAe7C,kBAAf,CAAkCrB,KAAlC,IAA2C,EAA3C,IAAiD+G,QAAQ,CAAC,KAAK7C,SAAL,CAAe7C,kBAAf,CAAkCrB,KAAlC,CAAwCgH,QAAxC,EAAD,CAAR,GAA+D,CAAhH,IAAqH,KAAK9C,SAAL,CAAerC,eAAf,CAA+BG,cAA/B,CAA8ChB,IAA9C,KAAuDiG,SAAjL,CAAhB,EAA6M;AAC3MX,qBAAO,GAAG,KAAV;AACD;;AACD,gBAAIC,OAAO,KAAK,KAAKrC,SAAL,CAAe1B,UAAf,CAA0BxC,KAA1B,IAAmC,EAAnC,IAAyC,KAAKkE,SAAL,CAAezB,aAAf,CAA6BzC,KAA7B,IAAsC,CAA/E,IAAqFkH,MAAM,CAACC,IAAP,CAAY,KAAKjD,SAAL,CAAexB,UAAf,CAA0BV,cAAtC,EAAsDsD,MAAtD,KAAiE,CAAjE,IAAsE,KAAKpB,SAAL,CAAexB,UAAf,CAA0BV,cAA1B,CAAyChB,IAAzC,KAAkD,EAAlN,CAAX,EAAmO;AACjOsF,qBAAO,GAAG,KAAV;AACD;;AACD,gBAAIK,QAAQ,KAAK,KAAKzC,SAAL,CAAetB,WAAf,CAA2B5C,KAA3B,IAAoC,EAApC,IAA0C,KAAKkE,SAAL,CAAerB,cAAf,CAA8B7C,KAA9B,IAAuC,CAAjF,IAAuFkH,MAAM,CAACC,IAAP,CAAY,KAAKjD,SAAL,CAAepB,WAAf,CAA2Bd,cAAvC,EAAuDsD,MAAvD,KAAkE,CAAlE,IAAuE,KAAKpB,SAAL,CAAepB,WAAf,CAA2Bd,cAA3B,CAA0ChB,IAA1C,KAAmD,EAAtN,CAAZ,EAAwO;AACtOsF,qBAAO,GAAG,KAAV;AACD;;AACD,gBAAIM,QAAQ,KAAK,KAAK1C,SAAL,CAAelB,WAAf,CAA2BhD,KAA3B,IAAoC,EAApC,IAA0C,KAAKkE,SAAL,CAAejB,cAAf,CAA8BjD,KAA9B,IAAuC,CAAjF,IAAuFkH,MAAM,CAACC,IAAP,CAAY,KAAKjD,SAAL,CAAehB,WAAf,CAA2BlB,cAAvC,EAAuDsD,MAAvD,KAAkE,CAAlE,IAAuE,KAAKpB,SAAL,CAAehB,WAAf,CAA2BlB,cAA3B,CAA0ChB,IAA1C,KAAmD,EAAtN,CAAZ,EAAwO;AACtOsF,qBAAO,GAAG,KAAV;AACD;;AACD,gBAAIO,QAAQ,KAAK,KAAK3C,SAAL,CAAed,WAAf,CAA2BpD,KAA3B,IAAoC,EAApC,IAA0C,KAAKkE,SAAL,CAAeb,cAAf,CAA8BrD,KAA9B,IAAuC,CAAjF,IAAuFkH,MAAM,CAACC,IAAP,CAAY,KAAKjD,SAAL,CAAeZ,WAAf,CAA2BtB,cAAvC,EAAuDsD,MAAvD,KAAkE,CAAlE,IAAuE,KAAKpB,SAAL,CAAeZ,WAAf,CAA2BtB,cAA3B,CAA0ChB,IAA1C,KAAmD,EAAtN,CAAZ,EAAwO;AACtOsF,qBAAO,GAAG,KAAV;AACD;;AACD,gBAAIQ,QAAQ,KAAK,KAAK5C,SAAL,CAAeV,WAAf,CAA2BxD,KAA3B,IAAoC,EAApC,IAA0C,KAAKkE,SAAL,CAAeT,cAAf,CAA8BzD,KAA9B,IAAuC,CAAjF,IAAuFkH,MAAM,CAACC,IAAP,CAAY,KAAKjD,SAAL,CAAeR,WAAf,CAA2B1B,cAAvC,EAAuDsD,MAAvD,KAAkE,CAAlE,IAAuE,KAAKpB,SAAL,CAAeR,WAAf,CAA2B1B,cAA3B,CAA0ChB,IAA1C,KAAmD,EAAtN,CAAZ,EAAwO;AACtOsF,qBAAO,GAAG,KAAV;AACD;;AACD,gBAAIjE,QAAQ,KAAK6E,MAAM,CAACC,IAAP,CAAY,KAAKjD,SAAL,CAAe5B,WAAf,CAA2BN,cAAvC,EAAuDsD,MAAvD,KAAkE,CAAlE,IAAuE,KAAKpB,SAAL,CAAe5B,WAAf,CAA2BN,cAA3B,CAA0ChB,IAA1C,KAAmD,EAA/H,CAAZ,EAAgJ;AAC9IsF,qBAAO,GAAG,KAAV;AACD;;AACD,mBAAOA,OAAP;AACD;AAED;;;;;;;;iBAKA,sBAAac,MAAb,EAAkC;AAChC,gBAAIA,MAAJ,EAAY;AACV,kBAAIA,MAAM,CAAC3G,IAAP,KAAgB,QAApB,EAA8B;AAC5B,qBAAKyD,SAAL,CAAekD,MAAM,CAACpG,IAAtB,EAA4BhB,KAA5B,GAAoC+G,QAAQ,CAACK,MAAM,CAACpH,KAAR,CAA5C;AACD,eAFD,MAEO;AACL,qBAAKkE,SAAL,CAAekD,MAAM,CAACpG,IAAtB,EAA4BhB,KAA5B,GAAoCoH,MAAM,CAACpH,KAA3C;AACD;;AACD,kBAAIoH,MAAM,CAACpG,IAAP,IAAe,QAAnB,EAA6B;AAC3B,oBAAIoG,MAAM,CAACpH,KAAP,IAAgB,IAApB,EAA0B;AACxB,uBAAKkE,SAAL,CAAe5B,WAAf,GAA0B4E,gCAAQ,KAAKhD,SAAL,CAAe5B,WAAvB,GAAkC;AAAEV,4BAAQ,EAAE;AAAZ,mBAAlC,CAA1B;AACD,iBAFD,MAEO;AACL,uBAAKsC,SAAL,CAAe5B,WAAf,GAA0B4E,gCAAQ,KAAKhD,SAAL,CAAe5B,WAAvB,GAAkC;AAAEN,kCAAc,EAAE,EAAlB;AAAsBJ,4BAAQ,EAAE;AAAhC,mBAAlC,CAA1B;AACD;AACF;;AACD,kBAAIwF,MAAM,CAACpG,IAAP,IAAe,YAAnB,EAAiC;AAC/B,oBAAIoG,MAAM,CAACpH,KAAP,IAAgB,IAApB,EAA0B;AACxB,uBAAKkE,SAAL,CAAe7C,kBAAf,GAAiC6F,gCAAQ,KAAKhD,SAAL,CAAe7C,kBAAvB,GAAyC;AAAEO,4BAAQ,EAAE,KAAZ;AAAmB5B,yBAAK,EAAE;AAA1B,mBAAzC,CAAjC;AACA,uBAAKkE,SAAL,CAAerC,eAAf,GAA8BqF,gCAAQ,KAAKhD,SAAL,CAAerC,eAAvB,GAAsC;AAAED,4BAAQ,EAAE;AAAZ,mBAAtC,CAA9B;AACD,iBAHD,MAGO;AACL,uBAAKsC,SAAL,CAAe7C,kBAAf,GAAiC6F,gCAAQ,KAAKhD,SAAL,CAAe7C,kBAAvB,GAAyC;AAAEO,4BAAQ,EAAE,IAAZ;AAAkB5B,yBAAK,EAAE;AAAzB,mBAAzC,CAAjC;AACA,uBAAKkE,SAAL,CAAerC,eAAf,GAA8BqF,gCAAQ,KAAKhD,SAAL,CAAerC,eAAvB,GAAsC;AAAEG,kCAAc,EAAE,EAAlB;AAAsBJ,4BAAQ,EAAE;AAAhC,mBAAtC,CAA9B;AACD;AACF;;AACD,kBAAIwF,MAAM,CAACpG,IAAP,IAAe,OAAnB,EAA4B;AAC1B,oBAAIoG,MAAM,CAACpG,IAAP,IAAe,OAAf,IAA0BoG,MAAM,CAACpH,KAAP,IAAgB,IAA9C,EAAoD;AAClD,uBAAKkE,SAAL,CAAe1B,UAAf,GAAyB0E,gCAAQ,KAAKhD,SAAL,CAAe1B,UAAvB,GAAiC;AAAEZ,4BAAQ,EAAE;AAAZ,mBAAjC,CAAzB;AACA,uBAAKsC,SAAL,CAAezB,aAAf,GAA4ByE,gCAAQ,KAAKhD,SAAL,CAAezB,aAAvB,GAAoC;AAAEb,4BAAQ,EAAE;AAAZ,mBAApC,CAA5B;AACA,uBAAKsC,SAAL,CAAexB,UAAf,GAAyBwE,gCAAQ,KAAKhD,SAAL,CAAexB,UAAvB,GAAiC;AAAEd,4BAAQ,EAAE;AAAZ,mBAAjC,CAAzB;AACD,iBAJD,MAIO;AACL,uBAAKsC,SAAL,CAAe1B,UAAf,GAAyB0E,gCAAQ,KAAKhD,SAAL,CAAe1B,UAAvB,GAAiC;AAAEZ,4BAAQ,EAAE,IAAZ;AAAkB5B,yBAAK,EAAE;AAAzB,mBAAjC,CAAzB;AACA,uBAAKkE,SAAL,CAAezB,aAAf,GAA4ByE,gCAAQ,KAAKhD,SAAL,CAAezB,aAAvB,GAAoC;AAAEb,4BAAQ,EAAE,IAAZ;AAAkB5B,yBAAK,EAAE;AAAzB,mBAApC,CAA5B;AACA,uBAAKkE,SAAL,CAAexB,UAAf,GAAyBwE,gCAAQ,KAAKhD,SAAL,CAAexB,UAAvB,GAAiC;AAAEV,kCAAc,EAAE,EAAlB;AAAsBJ,4BAAQ,EAAE;AAAhC,mBAAjC,CAAzB;AACD;AACF;;AACD,kBAAIwF,MAAM,CAACpG,IAAP,IAAe,QAAnB,EAA6B;AAC3B,oBAAIoG,MAAM,CAACpG,IAAP,IAAe,QAAf,IAA2BoG,MAAM,CAACpH,KAAP,IAAgB,IAA/C,EAAqD;AACnD,uBAAKkE,SAAL,CAAetB,WAAf,GAA0BsE,gCAAQ,KAAKhD,SAAL,CAAetB,WAAvB,GAAkC;AAAEhB,4BAAQ,EAAE;AAAZ,mBAAlC,CAA1B;AACA,uBAAKsC,SAAL,CAAerB,cAAf,GAA6BqE,gCAAQ,KAAKhD,SAAL,CAAerB,cAAvB,GAAqC;AAAEjB,4BAAQ,EAAE;AAAZ,mBAArC,CAA7B;AACA,uBAAKsC,SAAL,CAAepB,WAAf,GAA0BoE,gCAAQ,KAAKhD,SAAL,CAAepB,WAAvB,GAAkC;AAAElB,4BAAQ,EAAE;AAAZ,mBAAlC,CAA1B;AACD,iBAJD,MAIO;AACL,uBAAKsC,SAAL,CAAetB,WAAf,GAA0BsE,gCAAQ,KAAKhD,SAAL,CAAetB,WAAvB,GAAkC;AAAEhB,4BAAQ,EAAE,IAAZ;AAAkB5B,yBAAK,EAAE;AAAzB,mBAAlC,CAA1B;AACA,uBAAKkE,SAAL,CAAerB,cAAf,GAA6BqE,gCAAQ,KAAKhD,SAAL,CAAerB,cAAvB,GAAqC;AAAEjB,4BAAQ,EAAE,IAAZ;AAAkB5B,yBAAK,EAAE;AAAzB,mBAArC,CAA7B;AACA,uBAAKkE,SAAL,CAAepB,WAAf,GAA0BoE,gCAAQ,KAAKhD,SAAL,CAAepB,WAAvB,GAAkC;AAAEd,kCAAc,EAAE,EAAlB;AAAsBJ,4BAAQ,EAAE;AAAhC,mBAAlC,CAA1B;AACD;AACF;;AACD,kBAAIwF,MAAM,CAACpG,IAAP,IAAe,QAAnB,EAA6B;AAC3B,oBAAIoG,MAAM,CAACpG,IAAP,IAAe,QAAf,IAA2BoG,MAAM,CAACpH,KAAP,IAAgB,IAA/C,EAAqD;AACnD,uBAAKkE,SAAL,CAAelB,WAAf,GAA0BkE,gCAAQ,KAAKhD,SAAL,CAAelB,WAAvB,GAAkC;AAAEpB,4BAAQ,EAAE;AAAZ,mBAAlC,CAA1B;AACA,uBAAKsC,SAAL,CAAejB,cAAf,GAA6BiE,gCAAQ,KAAKhD,SAAL,CAAejB,cAAvB,GAAqC;AAAErB,4BAAQ,EAAE;AAAZ,mBAArC,CAA7B;AACA,uBAAKsC,SAAL,CAAehB,WAAf,GAA0BgE,gCAAQ,KAAKhD,SAAL,CAAehB,WAAvB,GAAkC;AAAEtB,4BAAQ,EAAE;AAAZ,mBAAlC,CAA1B;AACD,iBAJD,MAIO;AACL,uBAAKsC,SAAL,CAAelB,WAAf,GAA0BkE,gCAAQ,KAAKhD,SAAL,CAAelB,WAAvB,GAAkC;AAAEpB,4BAAQ,EAAE,IAAZ;AAAkB5B,yBAAK,EAAE;AAAzB,mBAAlC,CAA1B;AACA,uBAAKkE,SAAL,CAAejB,cAAf,GAA6BiE,gCAAQ,KAAKhD,SAAL,CAAejB,cAAvB,GAAqC;AAAErB,4BAAQ,EAAE,IAAZ;AAAkB5B,yBAAK,EAAE;AAAzB,mBAArC,CAA7B;AACA,uBAAKkE,SAAL,CAAehB,WAAf,GAA0BgE,gCAAQ,KAAKhD,SAAL,CAAehB,WAAvB,GAAkC;AAAElB,kCAAc,EAAE,EAAlB;AAAsBJ,4BAAQ,EAAE;AAAhC,mBAAlC,CAA1B;AACD;AACF;;AACD,kBAAIwF,MAAM,CAACpG,IAAP,IAAe,QAAnB,EAA6B;AAC3B,oBAAIoG,MAAM,CAACpG,IAAP,IAAe,QAAf,IAA2BoG,MAAM,CAACpH,KAAP,IAAgB,IAA/C,EAAqD;AACnD,uBAAKkE,SAAL,CAAed,WAAf,GAA0B8D,gCAAQ,KAAKhD,SAAL,CAAed,WAAvB,GAAkC;AAAExB,4BAAQ,EAAE;AAAZ,mBAAlC,CAA1B;AACA,uBAAKsC,SAAL,CAAeb,cAAf,GAA6B6D,gCAAQ,KAAKhD,SAAL,CAAeb,cAAvB,GAAqC;AAAEzB,4BAAQ,EAAE;AAAZ,mBAArC,CAA7B;AACA,uBAAKsC,SAAL,CAAeZ,WAAf,GAA0B4D,gCAAQ,KAAKhD,SAAL,CAAeZ,WAAvB,GAAkC;AAAE1B,4BAAQ,EAAE;AAAZ,mBAAlC,CAA1B;AACD,iBAJD,MAIO;AACL,uBAAKsC,SAAL,CAAed,WAAf,GAA0B8D,gCAAQ,KAAKhD,SAAL,CAAed,WAAvB,GAAkC;AAAExB,4BAAQ,EAAE,IAAZ;AAAkB5B,yBAAK,EAAE;AAAzB,mBAAlC,CAA1B;AACA,uBAAKkE,SAAL,CAAeb,cAAf,GAA6B6D,gCAAQ,KAAKhD,SAAL,CAAeb,cAAvB,GAAqC;AAAEzB,4BAAQ,EAAE,IAAZ;AAAkB5B,yBAAK,EAAE;AAAzB,mBAArC,CAA7B;AACA,uBAAKkE,SAAL,CAAeZ,WAAf,GAA0B4D,gCAAQ,KAAKhD,SAAL,CAAeZ,WAAvB,GAAkC;AAAEtB,kCAAc,EAAE,EAAlB;AAAsBJ,4BAAQ,EAAE;AAAhC,mBAAlC,CAA1B;AACD;AACF;;AACD,kBAAIwF,MAAM,CAACpG,IAAP,IAAe,QAAnB,EAA6B;AAC3B,oBAAIoG,MAAM,CAACpG,IAAP,IAAe,QAAf,IAA2BoG,MAAM,CAACpH,KAAP,IAAgB,IAA/C,EAAqD;AACnD,uBAAKkE,SAAL,CAAeV,WAAf,GAA0B0D,gCAAQ,KAAKhD,SAAL,CAAeV,WAAvB,GAAkC;AAAE5B,4BAAQ,EAAE;AAAZ,mBAAlC,CAA1B;AACA,uBAAKsC,SAAL,CAAeT,cAAf,GAA6ByD,gCAAQ,KAAKhD,SAAL,CAAeT,cAAvB,GAAqC;AAAE7B,4BAAQ,EAAE;AAAZ,mBAArC,CAA7B;AACA,uBAAKsC,SAAL,CAAeR,WAAf,GAA0BwD,gCAAQ,KAAKhD,SAAL,CAAeR,WAAvB,GAAkC;AAAE9B,4BAAQ,EAAE;AAAZ,mBAAlC,CAA1B;AACD,iBAJD,MAIO;AACL,uBAAKsC,SAAL,CAAeV,WAAf,GAA0B0D,gCAAQ,KAAKhD,SAAL,CAAeV,WAAvB,GAAkC;AAAE5B,4BAAQ,EAAE,IAAZ;AAAkB5B,yBAAK,EAAE;AAAzB,mBAAlC,CAA1B;AACA,uBAAKkE,SAAL,CAAeT,cAAf,GAA6ByD,gCAAQ,KAAKhD,SAAL,CAAeT,cAAvB,GAAqC;AAAE7B,4BAAQ,EAAE,IAAZ;AAAkB5B,yBAAK,EAAE;AAAzB,mBAArC,CAA7B;AACA,uBAAKkE,SAAL,CAAeR,WAAf,GAA0BwD,gCAAQ,KAAKhD,SAAL,CAAeR,WAAvB,GAAkC;AAAE1B,kCAAc,EAAE,EAAlB;AAAsBJ,4BAAQ,EAAE;AAAhC,mBAAlC,CAA1B;AACD;AACF;;AACD,mBAAKyF,sBAAL;AACA,mBAAKC,mBAAL;AACD;AACF;AAED;;;;;;;iBAIO,sBAAaC,MAAb,EAAwB;AAC7B,iBAAKrD,SAAL,CAAeqD,MAAM,CAACvG,IAAtB,EAA4BgB,cAA5B,GAA6CuF,MAAM,CAACvH,KAApD;AACA,iBAAKsH,mBAAL;AACA,iBAAKE,YAAL,CAAkBD,MAAlB;AAED;AACD;;;;;;;iBAIA,sBAAU;AAAA;;AACR,gBAAI,CAAC,KAAK7C,sBAAL,EAAL,EAAoC;AAClC;AACD;;AACD,iBAAKpE,cAAL,CAAoBgE,QAApB,CAA6B,YAA7B,EAA2C,CAAE,sBAAF,EAA0B,gBAA1B,CAA3C;AACA,gBAAMiC,OAAO,GAAI,KAAKrC,SAAL,CAAe3B,KAAf,CAAqBrB,OAArB,CAA6BsF,IAA7B,CAAkC,UAACC,GAAD;AAAA,qBAAcA,GAAG,CAACrF,OAAJ,KAAgB,IAA9B;AAAA,aAAlC,KAAyE,KAAK8C,SAAL,CAAe1B,UAAf,CAA0BxC,KAA1B,IAAmC,EAA7H;AACA,gBAAM2G,QAAQ,GAAI,KAAKzC,SAAL,CAAevB,MAAf,CAAsBzB,OAAtB,CAA8BsF,IAA9B,CAAmC,UAACC,GAAD;AAAA,qBAAcA,GAAG,CAACrF,OAAJ,KAAgB,IAA9B;AAAA,aAAnC,KAA0E,KAAK8C,SAAL,CAAetB,WAAf,CAA2B5C,KAA3B,IAAoC,EAAhI;AACA,gBAAM4G,QAAQ,GAAI,KAAK1C,SAAL,CAAenB,MAAf,CAAsB7B,OAAtB,CAA8BsF,IAA9B,CAAmC,UAACC,GAAD;AAAA,qBAAcA,GAAG,CAACrF,OAAJ,KAAgB,IAA9B;AAAA,aAAnC,KAA0E,KAAK8C,SAAL,CAAelB,WAAf,CAA2BhD,KAA3B,IAAoC,EAAhI;AACA,gBAAM6G,QAAQ,GAAI,KAAK3C,SAAL,CAAef,MAAf,CAAsBjC,OAAtB,CAA8BsF,IAA9B,CAAmC,UAACC,GAAD;AAAA,qBAAcA,GAAG,CAACrF,OAAJ,KAAgB,IAA9B;AAAA,aAAnC,KAA0E,KAAK8C,SAAL,CAAed,WAAf,CAA2BpD,KAA3B,IAAoC,EAAhI;AACA,gBAAM8G,QAAQ,GAAI,KAAK5C,SAAL,CAAeX,MAAf,CAAsBrC,OAAtB,CAA8BsF,IAA9B,CAAmC,UAACC,GAAD;AAAA,qBAAcA,GAAG,CAACrF,OAAJ,KAAgB,IAA9B;AAAA,aAAnC,KAA0E,KAAK8C,SAAL,CAAeV,WAAf,CAA2BxD,KAA3B,IAAoC,EAAhI;AACA,gBAAMyH,OAAO,GAAG,EAAhB;AACA,gBAAMzC,IAAI,GAAG;AACXlE,wBAAU,EAAE,KAAKoD,SAAL,CAAepD,UAAf,CAA0BI,OAA1B,CAAkCsF,IAAlC,CAAuC,UAACC,GAAD;AAAA,uBAAcA,GAAG,CAACrF,OAAJ,KAAgB,IAA9B;AAAA,eAAvC,CADD;AAEXC,gCAAkB,EAAE,KAAK6C,SAAL,CAAe7C,kBAAf,CAAkCrB,KAAlC,GAA0C+G,QAAQ,CAAC,KAAK7C,SAAL,CAAe7C,kBAAf,CAAkCrB,KAAlC,CAAwCgH,QAAxC,EAAD,CAAlD,GAAyG,CAFlH;AAGXnF,6BAAe,EAAE,KAAKqC,SAAL,CAAerC,eAAf,CAA+BG,cAA/B,CAA8ChB,IAHpD;AAIX2C,0BAAY,EAAE,KAAKS,QAAL,CAAcT,YAJjB;AAKXtB,sBAAQ,EAAE,KAAK6B,SAAL,CAAe9B,MAAf,CAAsBlB,OAAtB,CAA8BsF,IAA9B,CAAmC,UAACC,GAAD;AAAA,uBAAcA,GAAG,CAACrF,OAAJ,KAAgB,IAA9B;AAAA,eAAnC,CALC;AAMXkB,yBAAW,EAAE,KAAK4B,SAAL,CAAe5B,WAAf,CAA2BN,cAA3B,CAA0ChB,IAN5C;AAOX4C,sBAAQ,EAAE,KAAKQ,QAAL,CAAcR,QAPb;AAQXrB,mBAAK,EAAEgE,OAAO,GAAG,KAAKrC,SAAL,CAAe1B,UAAf,CAA0BxC,KAA1B,CAAgCgH,QAAhC,EAAH,GAAgD,EARnD;AASXvE,2BAAa,EAAE8D,OAAO,GAAGQ,QAAQ,CAAC,KAAK7C,SAAL,CAAezB,aAAf,CAA6BzC,KAA7B,CAAmCgH,QAAnC,EAAD,CAAX,GAA6D,CATxE;AAUXtE,wBAAU,EAAE,KAAKwB,SAAL,CAAexB,UAAf,CAA0BV,cAA1B,CAAyChB,IAV1C;AAWX6C,qBAAO,EAAE,KAAKO,QAAL,CAAcP,OAXZ;AAaXlB,oBAAM,EAAEgE,QAAQ,GAAG,KAAKzC,SAAL,CAAetB,WAAf,CAA2B5C,KAA3B,CAAiCgH,QAAjC,EAAH,GAAiD,EAbtD;AAcXnE,4BAAc,EAAE8D,QAAQ,GAAGI,QAAQ,CAAC,KAAK7C,SAAL,CAAerB,cAAf,CAA8B7C,KAA9B,CAAoCgH,QAApC,EAAD,CAAX,GAA8D,CAd3E;AAeXlE,yBAAW,EAAE,KAAKoB,SAAL,CAAepB,WAAf,CAA2Bd,cAA3B,CAA0ChB,IAf5C;AAgBX8C,sBAAQ,EAAE,KAAKM,QAAL,CAAcN,QAhBb;AAkBXf,oBAAM,EAAE6D,QAAQ,GAAG,KAAK1C,SAAL,CAAelB,WAAf,CAA2BhD,KAA3B,CAAiCgH,QAAjC,EAAH,GAAiD,EAlBtD;AAmBX/D,4BAAc,EAAE2D,QAAQ,GAAGG,QAAQ,CAAC,KAAK7C,SAAL,CAAejB,cAAf,CAA8BjD,KAA9B,CAAoCgH,QAApC,EAAD,CAAX,GAA8D,CAnB3E;AAoBX9D,yBAAW,EAAE,KAAKgB,SAAL,CAAehB,WAAf,CAA2BlB,cAA3B,CAA0ChB,IApB5C;AAqBX+C,sBAAQ,EAAE,KAAKK,QAAL,CAAcL,QArBb;AAuBXZ,oBAAM,EAAE0D,QAAQ,GAAG,KAAK3C,SAAL,CAAed,WAAf,CAA2BpD,KAA3B,CAAiCgH,QAAjC,EAAH,GAAiD,EAvBtD;AAwBX3D,4BAAc,EAAEwD,QAAQ,GAAGE,QAAQ,CAAC,KAAK7C,SAAL,CAAeb,cAAf,CAA8BrD,KAA9B,CAAoCgH,QAApC,EAAD,CAAX,GAA8D,CAxB3E;AAyBX1D,yBAAW,EAAE,KAAKY,SAAL,CAAeZ,WAAf,CAA2BtB,cAA3B,CAA0ChB,IAzB5C;AA0BXgD,sBAAQ,EAAE,KAAKI,QAAL,CAAcJ,QA1Bb;AA4BXT,oBAAM,EAAEuD,QAAQ,GAAG,KAAK5C,SAAL,CAAeV,WAAf,CAA2BxD,KAA3B,CAAiCgH,QAAjC,EAAH,GAAiD,EA5BtD;AA6BXvD,4BAAc,EAAEqD,QAAQ,GAAGC,QAAQ,CAAC,KAAK7C,SAAL,CAAeT,cAAf,CAA8BzD,KAA9B,CAAoCgH,QAApC,EAAD,CAAX,GAA8D,CA7B3E;AA8BXtD,yBAAW,EAAE,KAAKQ,SAAL,CAAeR,WAAf,CAA2B1B,cAA3B,CAA0ChB,IA9B5C;AA+BXiD,sBAAQ,EAAE,KAAKG,QAAL,CAAcH;AA/Bb,aAAb;;AAkCA,gBAAIe,IAAI,CAAClE,UAAT,EAAqB;AACnB2G,qBAAO,CAACC,IAAR,CAAa;AACX3B,wBAAQ,EAAE4B,8FADC;AAEX3G,oBAAI,EAAE2G,8FAFK;AAGX3B,wBAAQ,EAAEhB,IAAI,CAAC3D,kBAHJ;AAIX4E,qBAAK,EAAEjB,IAAI,CAACnD,eAJD;AAKXV,kBAAE,EAAE6D,IAAI,CAACrB;AALE,eAAb;AAOD;;AACD,gBAAIqB,IAAI,CAAC3C,QAAT,EAAmB;AACjBoF,qBAAO,CAACC,IAAR,CAAa;AACX3B,wBAAQ,EAAE4B,0FADC;AAEX3G,oBAAI,EAAE2G,0FAFK;AAGX3B,wBAAQ,EAAE,CAHC;AAIXC,qBAAK,EAAEjB,IAAI,CAAC1C,WAJD;AAKXnB,kBAAE,EAAE6D,IAAI,CAACpB;AALE,eAAb;AAOD;;AACD,gBAAI2C,OAAJ,EAAa;AACXkB,qBAAO,CAACC,IAAR,CAAa;AACX3B,wBAAQ,EAAE4B,yFADC;AAEX3G,oBAAI,EAAEgE,IAAI,CAACzC,KAFA;AAGXyD,wBAAQ,EAAEhB,IAAI,CAACvC,aAHJ;AAIXtB,kBAAE,EAAE6D,IAAI,CAACnB,OAJE;AAKXoC,qBAAK,EAAEjB,IAAI,CAACtC;AALD,eAAb;AAOD;;AACD,gBAAIiE,QAAJ,EAAc;AACZc,qBAAO,CAACC,IAAR,CAAa;AACX3B,wBAAQ,EAAE4B,yFADC;AAEX3G,oBAAI,EAAEgE,IAAI,CAACrC,MAFA;AAGXqD,wBAAQ,EAAEhB,IAAI,CAACnC,cAHJ;AAIXoD,qBAAK,EAAEjB,IAAI,CAAClC,WAJD;AAKX3B,kBAAE,EAAE6D,IAAI,CAAClB;AALE,eAAb;AAOD;;AACD,gBAAI8C,QAAJ,EAAc;AACZa,qBAAO,CAACC,IAAR,CAAa;AACX3B,wBAAQ,EAAE4B,yFADC;AAEX3G,oBAAI,EAAEgE,IAAI,CAACjC,MAFA;AAGXiD,wBAAQ,EAAEhB,IAAI,CAAC/B,cAHJ;AAIXgD,qBAAK,EAAEjB,IAAI,CAAC9B,WAJD;AAKX/B,kBAAE,EAAE6D,IAAI,CAACjB;AALE,eAAb;AAOD;;AACD,gBAAI8C,QAAJ,EAAc;AACZY,qBAAO,CAACC,IAAR,CAAa;AACX3B,wBAAQ,EAAE4B,yFADC;AAEX3G,oBAAI,EAAEgE,IAAI,CAAC7B,MAFA;AAGX6C,wBAAQ,EAAEhB,IAAI,CAAC3B,cAHJ;AAIX4C,qBAAK,EAAEjB,IAAI,CAAC1B,WAJD;AAKXnC,kBAAE,EAAE6D,IAAI,CAAChB;AALE,eAAb;AAOD;;AACD,gBAAI8C,QAAJ,EAAc;AACZW,qBAAO,CAACC,IAAR,CAAa;AACX3B,wBAAQ,EAAE4B,yFADC;AAEX3G,oBAAI,EAAEgE,IAAI,CAACzB,MAFA;AAGXyC,wBAAQ,EAAEhB,IAAI,CAACvB,cAHJ;AAIXwC,qBAAK,EAAEjB,IAAI,CAACtB,WAJD;AAKXvC,kBAAE,EAAE6D,IAAI,CAACf;AALE,eAAb;AAOD;;AACD,gBAAGwD,OAAO,CAACnC,MAAR,IAAkB,CAArB,EAAwB;AACxB,iBAAKjF,aAAL,CAAmBkE,WAAnB;AACA,iBAAKnE,eAAL,CAAqBwH,kBAArB,CAAwC;AACtC,8BAAgBH;AADsB,aAAxC,EAEG7C,SAFH,CAEa;AACXC,kBAAI,EAAE,gBAAK;AACT,oBAAI,MAAI,CAACgD,SAAT,EAAoB;AAClB,wBAAI,CAACxH,aAAL,CAAmByH,aAAnB,CAAiC,IAAjC,EAAuC,mDAAvC;AACD;;AACD,sBAAI,CAAC1H,eAAL,CAAqBoF,cAArB,CAAoCC,IAApC,CAAyCT,IAAI,CAAC3C,QAA9C;;AACA,sBAAI,CAACjC,eAAL,CAAqBwF,iBAArB,CAAuCH,IAAvC,CAA4CT,IAAI,CAAC3C,QAAjD;;AACA,sBAAI,CAAC6B,SAAL,GAAiB,MAAI,CAACC,kBAAL,EAAjB;AACA,sBAAI,CAACC,QAAL,GAAgB,MAAI,CAACC,uBAAL,EAAhB;;AACA,sBAAI,CAACY,WAAL;AACD,eAVU;AAWXtD,mBAAK,EAAE,eAACuD,GAAD,EAAa;AAClB,sBAAI,CAAC7E,aAAL,CAAmB8E,WAAnB;;AACA,sBAAI,CAAC7E,cAAL,CAAoB8E,YAApB,CAAiCF,GAAjC;AACD;AAdU,aAFb;AAkBD;AAED;;;;;;;;iBAKA,0BAAiBa,QAAjB,EAAmCgC,MAAnC,EAA8C;AAC5C,gBAAMC,QAAQ,GAAG,KAAKjD,uBAAL,CAA6BkD,IAA7B,CAAkC,WAAC;AAAA,qBAAI7B,CAAC,CAACpF,IAAF,KAAW+G,MAAM,CAAChC,QAAD,CAArB;AAAA,aAAnC,CAAjB;AACA,mBAAOiC,QAAQ,SAAR,YAAQ,WAAR,cAAY,EAAnB;AACD;AAED;;;;;;;;iBAKA,yBAAgBjC,QAAhB,EAAkCgC,MAAlC,EAA6C;AAC3C,gBAAMG,cAAc,GAAGhB,MAAM,CAACa,MAAP,CAAcA,MAAd,EAAsB5B,MAAtB,CAA6B,UAACnG,KAAD,EAAQmI,KAAR;AAAA,qBAAkBjB,MAAM,CAACC,IAAP,CAAYY,MAAZ,EAAoBI,KAApB,MAA+BpC,QAA/B,IAA2CmB,MAAM,CAACC,IAAP,CAAYY,MAAZ,EAAoBI,KAApB,EAA2BC,QAA3B,CAAoC,OAApC,CAA7D;AAAA,aAA7B,CAAvB;AACA,mBAAO,KAAKrD,uBAAL,CAA6BoB,MAA7B,CAAoC,WAAC;AAAA,qBAAI,CAAC+B,cAAc,CAACE,QAAf,CAAwBhC,CAAC,CAACpF,IAA1B,CAAL;AAAA,aAArC,CAAP;AACD;AAED;;;;;;iBAGA,+BAAmB;AAAA;;AACjB,gBAAMqH,YAAY,GAAGnB,MAAM,CAACa,MAAP,CAAc,KAAK7D,SAAnB,EAA8BiC,MAA9B,CAAqC,UAACnG,KAAD,EAAQmI,KAAR;AAAA,qBAAkBjB,MAAM,CAACC,IAAP,CAAY,MAAI,CAACjD,SAAjB,EAA4BiE,KAA5B,EAAmCC,QAAnC,CAA4C,OAA5C,CAAlB;AAAA,aAArC,CAArB;AACA,gBAAML,MAAM,GAAGb,MAAM,CAACa,MAAP,CAAc,KAAK7D,SAAnB,EAA8BiC,MAA9B,CAAqC,UAACnG,KAAD,EAAQmI,KAAR;AAAA,qBAAkBjB,MAAM,CAACC,IAAP,CAAY,MAAI,CAACjD,SAAjB,EAA4BiE,KAA5B,EAAmCC,QAAnC,CAA4C,OAA5C,CAAlB;AAAA,aAArC,EACZjC,MADY,CACL,WAAC,EAAG;AAAA;;AAAC,4BAAC,CAACnE,cAAF,MAAgB,IAAhB,IAAgBsG,aAAhB,GAAgB,MAAhB,GAAgBA,GAAEtH,IAAlB;AAAsB,aADtB,EAEZuH,GAFY,CAER,WAAC,EAAG;AAAA;;AAAC,qBAAC;AAAE,wBAAQC,CAAC,CAACxH,IAAZ;AAAkB,yBAAS,OAAC,CAACgB,cAAF,MAAgB,IAAhB,IAAgBsG,aAAhB,GAAgB,MAAhB,GAAgBA,GAAEtH;AAA7C,eAAD;AAAqD,aAFlD,EAGZyH,MAHY,CAGL,UAACC,GAAD,EAAMC,GAAN;AAAA,qBAAczB,gCAAMwB,GAAN,uBAAYC,GAAG,CAAC3H,IAAhB,EAAuB2H,GAAG,CAAC1C,KAA3B,EAAd;AAAA,aAHK,EAG8C,EAH9C,CAAf;AAIAoC,wBAAY,CAACO,OAAb,CAAqB,UAACC,GAAD,EAAQ;AAC3B,kBAAM3H,OAAO,GAAG,MAAI,CAACY,eAAL,CAAqB+G,GAAG,CAAC7H,IAAzB,EAA+B+G,MAA/B,CAAhB;;AACAc,iBAAG,CAAC,SAAD,CAAH,sBAAsB3H,OAAtB;AACD,aAHD;AAIA,iBAAK4H,UAAL;AACD;AAED;;;;;;;iBAIA,sBAAU;AACR,iBAAK5E,SAAL,CAAerC,eAAf,GAA8BqF,kBACzB,KAAKhD,SAAL,CAAerC,eADU,CAA9B;AAGA,iBAAKqC,SAAL,CAAe5B,WAAf,GAA0B4E,kBACrB,KAAKhD,SAAL,CAAe5B,WADM,CAA1B;AAGA,iBAAK4B,SAAL,CAAexB,UAAf,GAAyBwE,kBACpB,KAAKhD,SAAL,CAAexB,UADK,CAAzB;AAGA,iBAAKwB,SAAL,CAAepB,WAAf,GAA0BoE,kBACrB,KAAKhD,SAAL,CAAepB,WADM,CAA1B;AAGA,iBAAKoB,SAAL,CAAehB,WAAf,GAA0BgE,kBACrB,KAAKhD,SAAL,CAAehB,WADM,CAA1B;AAGA,iBAAKgB,SAAL,CAAeZ,WAAf,GAA0B4D,kBACrB,KAAKhD,SAAL,CAAeZ,WADM,CAA1B;AAGA,iBAAKY,SAAL,CAAeR,WAAf,GAA0BwD,kBACrB,KAAKhD,SAAL,CAAeR,WADM,CAA1B;AAID;AAED;;;;;;iBAGA,uBAAW;AACT,iBAAKmE,SAAL,GAAiB,KAAjB;AACA,iBAAKlH,UAAL;AACD;;;;;;;yBAx9BUR,uBAAoBD;AAAA;;;cAApBC;AAAoB4I;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;ADfjCjJ;;AACIA;;AACIA;;AACIA;;AACIA;;AAAwBA;;;;AAAqCA;;AAC7DA;;AACIA;;AACIA;;AACIA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AAAMA;;;;AAAwBA;;AAClCA;;AACAA;;AACIA;;AAAsDA;AAAA,qBAAYkJ,wBAAZ;AAAgC,aAAhC;;AACtDlJ;;AACJA;;AACAA;;AAGJA;;AACAA;;AACAA;;AACIA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AAAMA;;;;AAA4BA;;AACtCA;;AACAA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AAA0DA;AAAA,qBAAYkJ,wBAAZ;AAAgC,aAAhC;;AAC1DlJ;;AACJA;;AACAA;;AAGJA;;AACAA;;AACAA;;AACIA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACCA;AAAA,qBAAYkJ,wBAAZ;AAAgC,aAAhC;;AACDlJ;;AACJA;;AACAA;;AAIJA;;AACAA;;AACAA;;AACIA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACAA;AAAA,qBAAYkJ,wBAAZ;AAAgC,aAAhC;;AACAlJ;;AACJA;;AACAA;;AAGJA;;AACJA;;AACAA;;AACAA;;AACIA;;AACIA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACCA;AAAA,qBAAYkJ,wBAAZ;AAAgC,aAAhC;;AACDlJ;;AACJA;;AACAA;;AAIJA;;AACAA;;AACAA;;AACIA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACAA;AAAA,qBAAYkJ,wBAAZ;AAAgC,aAAhC;;AACJlJ;;AACAA;;AACAA;;AAGJA;;AACAA;;AACAA;;AACIA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACIA;AAAA,qBAAiBkJ,wBAAjB;AAAqC,aAArC;;AAAuClJ;;AAC/CA;;AACAA;;AACIA;;AACEA;AAAA,qBAAYkJ,wBAAZ;AAAgC,aAAhC;;AACFlJ;;AACJA;;AACAA;;AAGJA;;AACJA;;AACJA;;AACJA;;AACJA;;AACJA;;AACAA;;AACIA;;AACIA;;AACIA;;AACJA;;AACJA;;AACAA;;AACIA;;AACJA;;AACJA;;AACJA;;;;AA9KwCA;;AAAAA;;AAKGA;;AAAAA;;AAILA;;AAAAA;;AAGQA;;AAAAA;;AAGEA;;AAAAA;;AAOLA;;AAAAA;;AAILA;;AAAAA;;AAGwBA;;AAAAA;;AAIhBA;;AAAAA;;AAGEA;;AAAAA;;AAOLA;;AAAAA;;AAIAA;;AAAAA;;AAImBA;;AAAAA;;AAIhBA;;AAAAA;;AAIEA;;AAAAA;;AAQLA;;AAAAA;;AAIAA;;AAAAA;;AAImBA;;AAAAA;;AAIhBA;;AAAAA;;AAIEA;;AAAAA;;AASLA;;AAAAA;;AAIAA;;AAAAA;;AAImBA;;AAAAA;;AAIhBA;;AAAAA;;AAIEA;;AAAAA;;AAQLA;;AAAAA;;AAIAA;;AAAAA;;AAImBA;;AAAAA;;AAIhBA;;AAAAA;;AAIEA;;AAAAA;;AAOLA;;AAAAA;;AAIAA;;AAAAA;;AAImBA;;AAAAA;;AAIhBA;;AAAAA;;AAIEA;;AAAAA;;AAgBWA;;AAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AE7I3BmJ;;AACIA;;AAA4BA;;;;AAAkCA;;AAC9DA;;AACIA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAEmJA;;AAC3JA;;;;;;;;AALgCA;;AAAAA;;AAChBA;;AAAAA,mHAA4C,MAA5C,EAA4C,iBAA5C,EAA4C,SAA5C,EAA4CA,4NAA5C,EAA4C,UAA5C,EAA4C,qJAA5C;;;;;;;;;;;;;;AAjB5BA;;AACIA;;AACIA;;AACIA;;AACIA;;AAA4BA;;;;AAAwBA;;AACpDA;;AAGIA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA8CA;;AACtDA;;AACAA;;AACIA;;AAA4BA;;;;AAAuBA;;AACnDA;;AACIA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA8CA;;AACtDA;;AACAA;;AAOJA;;AACAA;;AACIA;;AAA4BA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACQA;;AACpCA;;AAA2BA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACWA;;AAC1CA;;AACJA;;AACJA;;;;;;;;AA9B4BA;;AAIgBA;;AAAAA;;AAChBA;;AAAAA,oHAA6C,SAA7C,EAA6CC,sCAA7C,EAA6C,MAA7C,EAA6C,QAA7C,EAA6C,SAA7C,EAA6CD,2GAA7C;;AAMgBA;;AAAAA;;AAChBA;;AAAAA,8GAAuC,MAAvC,EAAuC,OAAvC;;AAGKA;;AAAAA;;AAUjBA;;AAAAA;;AAEAA;;AAAAA;;;;;;;;AAaZA;;AACIA;;AAAIA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAyCA;;AAAcA;;AAC/DA;;;;;;AADiDA;;AAAAA;;;;;;;;AAEjDA;;AACIA;;AACIA;;AACIA;;AAC8BA;AAAAA;;AAAA;;AAAA;;AAAA;;AAAA,6DAAwC,KAAxC,EAA6CC,OAA7C,EAA6CC,QAA7C;AAA6C,WAA7C;;AAA4DF;;AAC9FA;;AACJA;;AACJA;;;;;;;;AAJsBA;;AAAAA,4LAAmD,SAAnD,EAAmD,aAAnD;;;;;;AAZ9BA;;AAEIA;;AACIA;;AACIA;;AAAkBA;;AAAaA;;AACnCA;;AACAA;;AAGAA;;AAQJA;;AACJA;;;;;;;;AAd8BA;;AAAAA;;AAEAA;;AAAAA;;AAGjBA;;AAAAA,wGAA+B,UAA/B,EAA+BG,IAA/B;;;;;;;;AAWTH;;AACIA;;AACIA;;AACIA;;AACIA;;AACIA;AAAAA;;AAAA;;AAAA;;AAAA;;AAAA,6DAAwC,KAAxC,EAA6CC,OAA7C,EAA6CC,QAA7C;AAA6C,WAA7C;;AAA4DF;;AACpEA;;AACJA;;AACJA;;AACJA;;;;AAL0BA;;AAAAA;;;;;;AAzBlCA;;AACIA;;AAmBAA;;AAYJA;;;;;;;;AA9BSA;;AAAAA,oJAA0E,UAA1E,EAA0EG,IAA1E;;;;;;;;;;;;;;;;;;;;AAjDbH;;AACIA;;AACIA;;AACIA;;AACIA;AAAAA;;AAAA;;AAAA;AAAA;;AAAsBA;;AAC9BA;;AACAA;;AACIA;;AACIA;;AACIA;;AAAmBA;;AAAaA;;AAChCA;;AAAyDA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACVA;;AACnDA;;AACJA;;AACAA;;AA+BJA;;AACJA;;AACAA;;AAiCAA;;AACIA;;AACIA;;AACIA;AAAAA;;AAAA;;AAAA;AAAA;;AAAuBA;;AAC/BA;;AACJA;;AACJA;;;;;;;;AAnFsBA;;AAAAA,+KAAwC,SAAxC,EAAwC,UAAxC;;AAKsBA;;AAAAA;;AACLA;;AAAAA;;AACeA;;AAAAA,0FAAsB,SAAtB,EAAsBA,6FAAtB;;AAI4BA;;AAAAA;;AAiC/BA;;AAAAA;;AAmC7BA;;AAAAA,0MAA4D,SAA5D,EAA4D,UAA5D;;;;;;AAnF1BA;;AACIA;;AAuFJA;;;;;;AAvF6CA;;AAAAA;;;;;;AAyF7CA;;AACIA;;AACIA;;AACAA;;AAAMA;;;;AAAiCA;;AACvCA;;AAAMA;;;;AAA0CA;;AACpDA;;AACJA;;;;AAHcA;;AAAAA;;AACAA;;AAAAA;;;;UClFLI;AAqDX;;;AAGA,qCACSpJ,aADT,EAESqJ,MAFT,EAGUpJ,cAHV,EAIUqJ,kBAJV,EAKUvJ,eALV,EAK0C;AAAA;;AAJjC;AACA;AACC;AACA;AACA;AA3DH,mCAA2C;AAChDI,iBAAK,EAAE,SADyC;AAEhDC,gBAAI,EAAE,SAF0C;AAGhDmJ,gBAAI,EAAE;AAH0C,WAA3C;AAKA,oCAA4C;AACjDpJ,iBAAK,EAAE,UAD0C;AAEjDC,gBAAI,EAAE,SAF2C;AAGjDmJ,gBAAI,EAAE;AAH2C,WAA5C;AAMA,iCAAyC;AAC9CpJ,iBAAK,EAAE,MADuC;AAE9CC,gBAAI,EAAE;AAFwC,WAAzC;AAKA,mCAA2C;AAChDD,iBAAK,EAAE,EADyC;AAEhDC,gBAAI,EAAE,gBAF0C;AAGhDmJ,gBAAI,EAAE;AAH0C,WAA3C;AAMA,iCAAyC;AAC9CpJ,iBAAK,EAAE,EADuC;AAE9CC,gBAAI,EAAE,SAFwC;AAG9CmJ,gBAAI,EAAE;AAHwC,WAAzC;AAMP;;;;;;;;;;;;AAYO,0BAAgB,EAAhB;AACA,0BAAkB,EAAlB;AACA,6BAAqB,EAArB;AAEP,4BAAa,CAAb;AACA,2BAAY,CAAZ;AACA,oCAA4B,EAA5B;AACA,4BAAa,CAAb;AACA,+BAAyB,KAAzB;AACA,4BAAa,KAAb;;AAYE,cAAI,KAAKvJ,aAAL,CAAmBwJ,WAAnB,CAA+BC,MAAnC,EAA2C;AACzC,iBAAKzJ,aAAL,CAAmBwJ,WAAnB,GAAiC,IAAIE,iDAAJ,CAA6B,IAA7B,CAAjC;AACD;AACF;AAED;;;;;;;iBAGM,oBAAQ;;;;;AACZ,yBAAKzJ,cAAL,CAAoBgE,QAApB,CAA6B,UAA7B,EAAyC,CAAE,oBAAF,EAAwB,gBAAxB,CAAzC;AACA,yBAAKjE,aAAL,CAAmBkE,WAAnB;AACA,yBAAKyF,OAAL;;;;;;;;AACD;AAED;;;;;;iBAGA,mBAAO;AAAA;;AACL,iBAAKC,UAAL,GAAkB,IAAlB;AACA,iBAAKN,kBAAL,CAAwBK,OAAxB,GAAkCpF,SAAlC,CAA4C;AAC1CC,kBAAI,EAAE,cAACC,MAAD,EAAgB;AACpB,oBAAIA,MAAJ,EAAY;AACV,wBAAI,CAACmF,UAAL,GAAkB,KAAlB;AACA,wBAAI,CAACC,UAAL,GAAkBpF,MAAM,CAACE,IAAP,CAAYM,MAA9B;;AACA,sBAAI,MAAI,CAAC4E,UAAL,IAAmB,EAAvB,EAA2B;AACzB,0BAAI,CAACC,iBAAL,CAAuB1J,IAAvB,GAA8B,UAA9B;AACD,mBAFD,MAEO;AACL,0BAAI,CAAC0J,iBAAL,CAAuB1J,IAAvB,GAA8B,SAA9B;AACD;;AAEDqE,wBAAM,CAACE,IAAP,GAAcF,MAAM,CAACE,IAAP,CAAYuD,GAAZ,CAAgB,UAACnC,CAAD,EAAM;AAClCA,qBAAC,CAACgE,aAAF,GAAkB,KAAlB;AACA,2BAAOhE,CAAP;AACD,mBAHa,CAAd;;AAKA,uBAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGf,MAAM,CAACE,IAAP,CAAYM,MAAhC,EAAwCO,CAAC,EAAzC,EAA6C;AAC3C,wBAAMwE,aAAa,GAAGC,IAAI,CAACC,GAAL,WAAI,qBAAQzF,MAAM,CAACE,IAAP,CAAYa,CAAZ,EAAe2E,sBAAf,CAAsCjC,GAAtC,CAA0C,WAAC;AAAA,6BAAInC,CAAC,CAACqE,KAAF,CAAQnF,MAAZ;AAAA,qBAA3C,CAAR,EAA1B;AACA,0BAAI,CAACK,WAAL,gCAAwB,MAAI,CAACA,WAA7B,sBAA6Cb,MAAM,CAACE,IAAP,CAAYa,CAAZ,EAAe2E,sBAAf,CAAsCrE,MAAtC,CAA6C,WAAC;AAAA,6BAAI,CAAC,MAAI,CAACR,WAAL,CAAiBa,IAAjB,CAAsB,WAAC;AAAA,+BAAIkE,CAAC,CAACvJ,EAAF,KAASiF,CAAC,CAACjF,EAAf;AAAA,uBAAvB,CAAL;AAAA,qBAA9C,EAA8FoH,GAA9F,CAAkG,UAACnC,CAAD,EAAM;AACnJ,6BAAO;AACL,8BAAMA,CAAC,CAACjF,EADH;AAEL,gCAAQiF,CAAC,CAACpF,IAFL;AAGL,uCAAeoF,CAAC,CAACuE,WAHZ;AAIL,iCAAS;AAJJ,uBAAP;AAMD,qBAP4C,CAA7C;;AASA,yBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG9F,MAAM,CAACE,IAAP,CAAYa,CAAZ,EAAe2E,sBAAf,CAAsClF,MAA1D,EAAkEsF,CAAC,EAAnE,EAAuE;AACrE,0BAAMC,iBAAiB,GAAG/F,MAAM,CAACE,IAAP,CAAYa,CAAZ,EAAe2E,sBAAf,CAAsCI,CAAtC,EAAyCH,KAAzC,CAA+CnF,MAAzE;;AACA,0BAAIuF,iBAAiB,GAAGR,aAAxB,EAAuC;AACrC,4BAAMS,OAAO,GAAG;AACd,gCAAMhG,MAAM,CAACE,IAAP,CAAYa,CAAZ,EAAe2E,sBAAf,CAAsCI,CAAtC,EAAyCH,KAAzC,CAA+CtJ,EADvC;AAEd,yCAAe2D,MAAM,CAACE,IAAP,CAAYa,CAAZ,EAAe2E,sBAAf,CAAsCI,CAAtC,EAAyCH,KAAzC,CAA+CM,WAFhD;AAGd,kCAAQ,EAHM;AAId,yCAAejG,MAAM,CAACE,IAAP,CAAYa,CAAZ,EAAe2E,sBAAf,CAAsCI,CAAtC,EAAyCH,KAAzC,CAA+CO,WAJhD;AAKd,gDAAsBlG,MAAM,CAACE,IAAP,CAAYa,CAAZ,EAAe2E,sBAAf,CAAsCI,CAAtC,EAAyCH,KAAzC,CAA+CQ;AALvD,yBAAhB;;AAOA,6BAAK,IAAI9C,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAIkC,aAAa,GAAGQ,iBAA7C,EAAiE1C,KAAK,EAAtE,EAA0E;AACxErD,gCAAM,CAACE,IAAP,CAAYa,CAAZ,EAAe2E,sBAAf,CAAsCI,CAAtC,EAAyCH,KAAzC,CAA+C/C,IAA/C,CAAoDoD,OAApD;AACD;AACF;AACF;AACF;;AAED,sBAAI,MAAI,CAACnF,WAAL,CAAiBL,MAAjB,GAA0B,CAA9B,EAAiC;AAC/B,0BAAI,CAAC4F,SAAL,GAAiB,MAAI,CAACvF,WAAL,CAAiBL,MAAjB,GAA0B,CAA3C;AACD;;AAED,sBAAI,MAAI,CAAC4E,UAAL,IAAmB,CAAvB,EAA0B;AACxB,0BAAI,CAAC9J,eAAL,CAAqB6E,WAArB,GAAmCL,SAAnC,CAA6C;AAC3CC,0BAAI,EAAE,cAACC,MAAD,EAAgB;AACpB,4BAAIA,MAAM,IAAIA,MAAM,CAACE,IAAjB,IAAyBF,MAAM,CAACE,IAAP,CAAYU,UAArC,IAAmDZ,MAAM,CAACE,IAAP,CAAYU,UAAZ,CAAuBC,WAA9E,EAA2F;AACzF,gCAAI,CAACwF,aAAL,GAAqBrG,MAAM,CAACE,IAAP,CAAYU,UAAZ,CAAuBC,WAAvB,CAAmCyC,QAAnC,CAA4C,CAA5C,KAAkDtD,MAAM,CAACE,IAAP,CAAYU,UAAZ,CAAuBC,WAAvB,CAAmCyC,QAAnC,CAA4C,CAA5C,CAAvE;AACD;;AACD,8BAAI,CAAC/H,aAAL,CAAmB8E,WAAnB;AACD,uBAN0C;AAO3CxD,2BAAK,EAAE,eAACuD,GAAD,EAAa;AAClB,8BAAI,CAAC7E,aAAL,CAAmB8E,WAAnB;;AACA,8BAAI,CAAC7E,cAAL,CAAoB8E,YAApB,CAAiCF,GAAjC;AACD;AAV0C,qBAA7C;AAYD,mBAbD,MAaK;AACH,0BAAI,CAACiG,aAAL,GAAqB,MAAI,CAACxF,WAAL,CAAiBa,IAAjB,CAAsB,WAAC,EAAG;AAAA;;AAAC,qCAAC,CAACxF,IAAF,MAAM,IAAN,IAAMsH,aAAN,GAAM,MAAN,GAAMA,GAAEjC,WAAF,EAAN,KAAyB,MAAzB,IAAmC,QAAC,CAACrF,IAAF,MAAM,IAAN,IAAMoK,aAAN,GAAM,MAAN,GAAMA,GAAE/E,WAAF,EAAN,KAAyB,OAA5D;AAAmE,qBAA9F,CAArB;AACD;;AACD,wBAAI,CAACgF,kBAAL,GAA0B,MAAI,CAAC1F,WAAL,CAAiB4C,GAAjB,CAAqB,WAAC;AAAA,2BAAInC,CAAC,CAACjF,EAAN;AAAA,mBAAtB,CAA1B;AACA,wBAAI,CAACmK,QAAL,GAAgBxG,MAAM,CAACE,IAAvB;AACA,wBAAI,CAACuG,QAAL,GAAgB,MAAI,CAAC5F,WAAL,CAAiBL,MAAjB,GAA0B,CAA1B,GAA8B,MAAI,CAACK,WAAnC,GAAiD,CAAE,MAAI,CAACA,WAAL,CAAiB,CAAjB,CAAF,EAAuB,MAAI,CAACA,WAAL,CAAiB,CAAjB,CAAvB,EAA4C,MAAI,CAACA,WAAL,CAAiB,CAAjB,CAA5C,EAAiE,MAAI,CAACA,WAAL,CAAiB,CAAjB,CAAjE,CAAjE;;AACA,wBAAI,CAACvF,eAAL,CAAqBoF,cAArB,CAAoCC,IAApC,CAAyC,IAAzC;;AACA,wBAAI,CAACpF,aAAL,CAAmB8E,WAAnB;AACD;AACF,eAtEyC;AAuE1CxD,mBAAK,EAAE,eAACuD,GAAD,EAAa;AAClB,sBAAI,CAAC+E,UAAL,GAAkB,KAAlB;;AACA,sBAAI,CAAC5J,aAAL,CAAmB8E,WAAnB;;AACA,sBAAI,CAAC7E,cAAL,CAAoB8E,YAApB,CAAiCF,GAAjC;AACD;AA3EyC,aAA5C;AA6ED;AAED;;;;;;iBAGA,2BAAkBsF,sBAAlB,EAA+C;AAAA;;AAC7C,mBAAOA,sBAAsB,SAAtB,0BAAsB,WAAtB,GAAsB,MAAtB,yBAAsB,CAAErE,MAAxB,CAA+B,WAAC;AAAA,qBAAI,MAAI,CAACoF,QAAL,CAAc/E,IAAd,CAAmB,WAAC;AAAA,uBAAIgF,CAAC,CAACrK,EAAF,KAASuJ,CAAC,CAACvJ,EAAf;AAAA,eAApB,CAAJ;AAAA,aAAhC,CAAP;AACD;AAED;;;;;;iBAGA,wBAAesK,OAAf,EAAsB;AACpB,mBAAO,QAAO,SAAP,WAAO,WAAP,GAAO,MAAP,UAAO,CAAEjB,sBAAT,CAAgCjC,GAAhC,CAAoC,WAAC;AAAA,qBAAImC,CAAC,CAACD,KAAF,CAAQtE,MAAR,CAAe,WAAC;AAAA,uBAAIuF,CAAC,CAAC1K,IAAF,KAAW,EAAf;AAAA,eAAhB,EAAmCsE,MAAvC;AAAA,aAArC,EAAoFmD,MAApF,CAA2F,UAACC,GAAD,EAAMG,GAAN;AAAA,qBAAcH,GAAG,GAAGG,GAApB;AAAA,aAA3F,EAAoH,CAApH,MAA0H,CAAjI;AACD;AAED;;;;;;iBAGA,2BAAkB4C,OAAlB,EAA2BE,QAA3B,EAAmC;;;AACjC,gBAAIA,QAAQ,CAACxK,EAAT,KAAgB8F,SAApB,EAA+B;AAC/B,gBAAM2E,kBAAkB,GAAG,0BAAO,SAAP,WAAO,WAAP,GAAO,MAAP,UAAO,CAAEpB,sBAAT,MAA+B,IAA/B,IAA+BlC,aAA/B,GAA+B,MAA/B,GAA+BA,GAAEuD,OAAF,CAAU,WAAC;AAAA,qBAAInB,CAAC,CAACD,KAAF,CAAQtE,MAAR,CAAe,WAAC;AAAA,uBAAIuF,CAAC,CAACvK,EAAF,KAASwK,QAAQ,CAACxK,EAAtB;AAAA,eAAhB,EAA0CmE,MAA1C,GAAmDoF,CAAnD,GAAuD,IAA3D;AAAA,aAAX,CAA/B,MAA0G,IAA1G,IAA0GU,aAA1G,GAA0G,MAA1G,GAA0GA,GAAEjF,MAAF,CAAS,WAAC;AAAA,qBAAIuE,CAAC,KAAK,IAAV;AAAA,aAAV,CAA1G,MAAmI,IAAnI,IAAmIoB,aAAnI,GAAmI,MAAnI,GAAmIA,GAAEvD,GAAF,CAAM,WAAC;AAAA,qBAAImC,CAAC,CAACvJ,EAAN;AAAA,aAAP,CAAnI,KAAuJ,EAAlL;AACA,gBAAM6D,IAAI,GAAG;AACX+G,qBAAO,EAAEN,OAAO,SAAP,WAAO,WAAP,GAAO,MAAP,UAAO,CAAEM,OADP;AAEXC,+BAAiB,EAAEP,OAAO,SAAP,WAAO,WAAP,GAAO,MAAP,UAAO,CAAEO,iBAFjB;AAGXL,sBAAQ,EAARA,QAHW;AAIXC,gCAAkB,EAAlBA,kBAJW;AAKXP,gCAAkB,EAAE,KAAKA,kBALd;AAMXY,yBAAW,EAAE,KAAKC,cAAL,CAAoBT,OAApB;AANF,aAAb;AAQA,iBAAKU,gBAAL,CAAsBnH,IAAtB,EAA4B,IAA5B;AACD;AAED;;;;;;;iBAIA,sBAAaA,IAAb,EAAsB;AAAA;;AACpB,gBAAI,CAACA,IAAD,IAAS,KAAKkF,UAAL,IAAmB,EAAhC,EAAoC;AACpC,gBAAMkC,SAAS,GAAG,KAAK1C,MAAL,CAAY2C,IAAZ,CAAiBC,0GAAjB,EAAwC;AACxDtH,kBAAI,EAAE;AACJsG,wBAAQ,EAAEtG,IAAI,GAAGA,IAAH,GAAU,IADpB;AAEJmG,6BAAa,EAAE,KAAKA;AAFhB,eADkD;AAKxDoB,mBAAK,EAAE,OALiD;AAMxDC,sBAAQ,EAAE,OAN8C;AAOxDC,oBAAM,EAAE,MAPgD;AAQxDC,wBAAU,EAAE,iBAR4C;AASxDC,uBAAS,EAAE;AAT6C,aAAxC,CAAlB;AAYAP,qBAAS,CAACQ,WAAV,GAAwBhI,SAAxB,CAAkC;AAChCC,kBAAI,EAAE,cAACgI,QAAD,EAAkB;AACtB,oBAAIA,QAAJ,EAAc;AACZ,wBAAI,CAAC7C,OAAL;AACD;AACF;AAL+B,aAAlC;AAOD;AAED;;;;;;;iBAIA,0BAAiBhF,IAAjB,EAAiF;AAAA;;AAAA,gBAArD8H,MAAqD,uEAAnC,KAAmC;AAAA,gBAA5BC,IAA4B,uEAArB,IAAqB;AAAA,gBAAfrH,UAAe;AAC/E,gBAAIqH,IAAI,IAAI,KAAKb,cAAL,CAAoBa,IAApB,KAA6B,EAAzC,EAA6C;AAC7C,gBAAMX,SAAS,GAAG,KAAK1C,MAAL,CAAY2C,IAAZ,CAAiBW,6GAAjB,EAAyC;AACzDhI,kBAAI,EAAE8H,MAAM,GAAG9H,IAAH,GAAU;AACpB+G,uBAAO,EAAE/G,IADW;AAEpBqG,kCAAkB,EAAE,KAAKA,kBAFL;AAGpBY,2BAAW,EAAE,KAAKC,cAAL,CAAoBa,IAApB,CAHO;AAIpBnB,kCAAkB,EAAE,CAAElG,UAAU,CAACvE,EAAb;AAJA,eADmC;AAOzDoL,mBAAK,EAAE,OAPkD;AAQzDC,sBAAQ,EAAE,OAR+C;AASzDC,oBAAM,EAAE,MATiD;AAUzDC,wBAAU,EAAE,iBAV6C;AAWzDC,uBAAS,EAAE;AAX8C,aAAzC,CAAlB;AAcAP,qBAAS,CAACQ,WAAV,GAAwBhI,SAAxB,CAAkC;AAChCC,kBAAI,EAAE,cAACgI,QAAD,EAAkB;AACtB,oBAAIA,QAAJ,EAAc;AACZ,wBAAI,CAACxM,aAAL,CAAmBkE,WAAnB;;AACA,wBAAI,CAACyF,OAAL;AACD;AACF;AAN+B,aAAlC;AAQD;AAED;;;;;;iBAGA,wBAAehF,IAAf,EAA0BiI,CAA1B,EAA2B;AAAA;;;;AACzB,gBAAIC,mBAAmB,GAAY,IAAnC;;AACA,gBAAIlI,IAAI,IAAI,IAAR,IAAgBA,IAAI,CAAC+G,OAAzB,EAAkC;AAChC,kBAAMT,QAAQ,GACd;AACEtK,oBAAI,EAAEgE,IAAI,CAAChE,IADb;AAEEiF,qBAAK,EAAEjB,IAAI,CAACiB,KAFd;AAGE/E,uBAAO,EAAE;AACPiM,wCAAsB,EAAE,UAAI,SAAJ,QAAI,WAAJ,GAAI,MAAJ,OAAI,CAAEjM,OAAN,MAAa,IAAb,IAAaoH,aAAb,GAAa,MAAb,GAAaA,GAAE6E,sBADhC;AAEPC,qCAAmB,EAAE,UAAI,SAAJ,QAAI,WAAJ,GAAI,MAAJ,OAAI,CAAElM,OAAN,MAAa,IAAb,IAAakK,aAAb,GAAa,MAAb,GAAaA,GAAEgC,mBAF7B;AAGPC,gCAAc,EAAE,UAAI,SAAJ,QAAI,WAAJ,GAAI,MAAJ,OAAI,CAAEnM,OAAN,MAAa,IAAb,IAAa4K,aAAb,GAAa,MAAb,GAAaA,GAAEuB,cAHxB;AAIPC,qCAAmB,EAAE,UAAI,SAAJ,QAAI,WAAJ,GAAI,MAAJ,OAAI,CAAEpM,OAAN,MAAa,IAAb,IAAaqM,aAAb,GAAa,MAAb,GAAaA,GAAED;AAJ7B;AAHX,eADA;;AAWA,kBAAIL,CAAC,IAAIA,CAAC,CAACjM,IAAF,IAAU,QAAnB,EAA6B;AAC3B,oBAAIiM,CAAC,CAAC7L,OAAN,EAAe;AACb8L,qCAAmB,GAAG,KAAtB;;AACA,sBAAIlI,IAAI,SAAJ,QAAI,WAAJ,GAAI,MAAJ,OAAI,CAAE9D,OAAV,EAAmB;AACjB8D,wBAAI,CAAC9D,OAAL,CAAaiM,sBAAb,GAAsC,IAAtC;AACD;;AACD,uBAAKK,YAAL,CAAkBxI,IAAlB;AACA,uBAAKgF,OAAL;AACD,iBAPD,MAOO;AACLsB,0BAAQ,CAACpK,OAAT,CAAiBiM,sBAAjB,GAA0C,KAA1C;AACA7B,0BAAQ,CAACpK,OAAT,CAAiBoM,mBAAjB,GAAuC,IAAvC;AACD;AACF,eAZD,MAYO,IAAIL,CAAC,IAAIA,CAAC,CAACjM,IAAF,IAAU,OAAnB,EAA4B;AACjC,oBAAIiM,CAAC,CAAC7L,OAAN,EAAe;AACbkK,0BAAQ,CAACpK,OAAT,CAAiBmM,cAAjB,GAAkC,IAAlC;AACD,iBAFD,MAEO;AACL/B,0BAAQ,CAACpK,OAAT,CAAiBmM,cAAjB,GAAkC,KAAlC;AACD;AACF,eANM,MAMA,IAAIJ,CAAC,IAAIA,CAAC,CAACjM,IAAF,IAAU,iBAAnB,EAAsC;AAC3C,oBAAIiM,CAAC,CAAC7L,OAAN,EAAe;AACbkK,0BAAQ,CAACpK,OAAT,CAAiBkM,mBAAjB,GAAuC,IAAvC;AACD,iBAFD,MAEO;AACL9B,0BAAQ,CAACpK,OAAT,CAAiBkM,mBAAjB,GAAuC,KAAvC;AACD;AACF;;AACD,kBAAIF,mBAAJ,EAAyB;AACvB,qBAAK7M,aAAL,CAAmBkE,WAAnB;AACA,qBAAKoF,kBAAL,CAAwB8D,OAAxB,CACEnC,QADF,EACYtG,IAAI,CAAC+G,OADjB,EAEEnH,SAFF,CAEY;AACVC,sBAAI,EAAE,gBAAK;AACT,2BAAI,CAACmF,OAAL;;AACA,2BAAI,CAAC3J,aAAL,CAAmB8E,WAAnB;AACD,mBAJS;AAKVxD,uBAAK,EAAE,eAACuD,GAAD,EAAa;AAClB,2BAAI,CAAC7E,aAAL,CAAmB8E,WAAnB;;AACA,2BAAI,CAAC7E,cAAL,CAAoB8E,YAApB,CAAiCF,GAAjC;AACD;AARS,iBAFZ;AAYD;AACF;AACF;AAED;;;;;;iBAGA,gBAAO6H,IAAP,EAAW;AACTA,gBAAI,CAAC3C,aAAL,GAAqB,CAAC2C,IAAI,CAAC3C,aAA3B;AACD;AAED;;;;;;iBAGA,qBAAS;AACP,gBAAI,KAAKsD,UAAL,KAAoB,CAAxB,EAA2B;AACzB;AACD,aAFD,MAEO,IAAI,KAAKxC,SAAL,KAAmB,CAAvB,EAA0B;AAC/B,mBAAKA,SAAL,GAAiB,KAAKvF,WAAL,CAAiBL,MAAjB,GAA0B,CAA3C;AACA,mBAAKoI,UAAL;AACA,mBAAKnC,QAAL,CAAcoC,OAAd,CAAsB,KAAKhI,WAAL,CAAiB,KAAK+H,UAAtB,CAAtB;AACA,mBAAKnC,QAAL,CAAcqC,GAAd;AACD,aALM,MAKA;AACL,mBAAKF,UAAL;AACA,mBAAKxC,SAAL;AACA,mBAAKK,QAAL,CAAcoC,OAAd,CAAsB,KAAKhI,WAAL,CAAiB,KAAK+H,UAAtB,CAAtB;AACA,mBAAKnC,QAAL,CAAcqC,GAAd;AACD;;AACD;AACD;AAED;;;;;;iBAGA,sBAAU;AACR,gBAAI,KAAK1C,SAAL,KAAmB,KAAKvF,WAAL,CAAiBL,MAAjB,GAA0B,CAAjD,EAAoD;AAClD;AACD,aAFD,MAEO,IAAI,KAAKoI,UAAL,KAAoB,KAAK/H,WAAL,CAAiBL,MAAjB,GAA0B,CAAlD,EAAqD;AAC1D,mBAAKoI,UAAL,GAAkB,CAAlB;AACA,mBAAKxC,SAAL;AACA,mBAAKK,QAAL,CAAcsC,KAAd;AACA,mBAAKtC,QAAL,CAAc7D,IAAd,CAAmB,KAAK/B,WAAL,CAAiB,KAAKuF,SAAtB,CAAnB;AACD,aALM,MAKA;AACL,mBAAKwC,UAAL;AACA,mBAAKxC,SAAL;AACA,mBAAKK,QAAL,CAAcsC,KAAd;AACA,mBAAKtC,QAAL,CAAc7D,IAAd,CAAmB,KAAK/B,WAAL,CAAiB,KAAKuF,SAAtB,CAAnB;AACD;;AACD;AACD;AAED;;;;;;iBAGA,mBAAUa,OAAV,EAAsB;AAAA;;AACpB,gBAAMK,SAAS,GAAG,KAAK/L,aAAL,CAAmByN,wBAAnB,CAA4C,kBAA5C,EAChB,yEADgB,CAAlB;AAEA,iBAAKxN,cAAL,CAAoBgE,QAApB,CAA6B,WAA7B,EAA0C,CAAE,oBAAF,EAAwB,gBAAxB,CAA1C;AAEA8H,qBAAS,CAACQ,WAAV,GAAwBhI,SAAxB,CAAkC,UAACE,MAAD,EAAW;AAC3C,kBAAIA,MAAJ,EAAY;AACV,uBAAI,CAACzE,aAAL,CAAmBkE,WAAnB;;AACA,uBAAI,CAACoF,kBAAL,CAAwBoE,cAAxB,CAAuChC,OAAvC,EAAgDnH,SAAhD,CAA0D;AACxDC,sBAAI,EAAE,gBAAK;AACT,2BAAI,CAACmF,OAAL;;AACA,2BAAI,CAAC3J,aAAL,CAAmB8E,WAAnB;AACD,mBAJuD;AAKxDxD,uBAAK,EAAE,iBAAK;AACV,2BAAI,CAACtB,aAAL,CAAmB8E,WAAnB;AACD;AAPuD,iBAA1D;AASD;AACF,aAbD;AAcD;;;;;;;yBA1XUsE,qBAAkBJ;AAAA;;;cAAlBI;AAAkBV;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;ADhB/BE;;AACIA;;AACIA;;AAA8CA;AAAA,qBAASD,iBAAa,IAAb,CAAT;AAA2B,aAA3B;;AAA6BC;;;;AAAyBA;;AACxGA;;AACAA;;AA0FAA;;AAQAA;;AACIA;;AACIA;;AACIA;;AACJA;;AACJA;;AACJA;;AACJA;;;;AA3GoBA;;AAAAA;;AAA+DA;;AAAAA;;AAETA;;AAAAA;;AA0FxCA;;AAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AE9ElC,UAAM2E,WAAW,GAAY,CAC3B;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAEC,sFAFb;AAGEC,eAAO,EAAE;AAAEC,iBAAO,EAAEC;AAAX;AAHX,OAD2B,EAM3B;AACEL,YAAI,EAAE,aADR;AAEEC,iBAAS,EAAEK,mFAFb;AAGEH,eAAO,EAAE;AAAEC,iBAAO,EAAEC;AAAX;AAHX,OAN2B,EAW3B;AACEL,YAAI,EAAE,YADR;AAEEC,iBAAS,EAAEM,gFAFb;AAGEJ,eAAO,EAAE;AAAEC,iBAAO,EAAEC;AAAX;AAHX,OAX2B,EAgB3B;AACEL,YAAI,EAAE,YADR;AAEEC,iBAAS,EAAEO,iFAFb;AAGEL,eAAO,EAAE;AAAEC,iBAAO,EAAEC;AAAX;AAHX,OAhB2B,CAA7B;;UA4CaI;;;;;yBAAAA;AAAgB;;;cAAhBA;;;kBAbF,CACPC,yDADO,EAEPC,oEAAsBZ,WAAtB,CAFO,EAGPa,6EAHO,EAIPC,sEAJO,EAKPC,8EALO,EAMPC,kEANO,EAOPC,iEAPO,EAQPC,wDARO,GAUEN,4DACTG;;;;4HAESL,mBAAgB;AAAAS,yBAnBzBC,qGAmByB,EAlBzBjB,sFAkByB,EAjBzBI,mFAiByB,EAhBzBC,gFAgByB,EAfzBC,iFAeyB;AAfNY,oBAGnBV,yDAHmB,EAGPC,0DAHO,EAKnBC,6EALmB,EAMnBC,sEANmB,EAOnBC,8EAPmB,EAQnBC,kEARmB,EASnBC,iEATmB,EAUnBC,wDAVmB,CAeM;AALdI,oBAEFV,0DAFE,EAEYQ,qGAFZ,EAGXL,8EAHW;AAKc;AAFN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDCQ;;AACIA;;AACIA;;AAA4BA;;AAAaA;;AACzCA;;AAA2BA;;AACFA;AAAAA;;AAAA;;AAAA;AAAA;;AAAwCA;;AAAaA;;AAClFA;;AACJA;;;;;;AAJoCA;;AAAAA;;AACWA;;AAAAA,wGAAiC,MAAjC,EAAiCC,UAAjC;;;;UCC1DC;AAaX;;;;;;;AAOA,sCACUC,cADV,EAEUrP,aAFV,EAGSC,cAHT,EAIUF,eAJV,EAI0C;AAAA;;AAHhC;AACA;AACD;AACC;AAtBH,iCAAyC;AAC9CI,iBAAK,EAAE,MADuC;AAE9CC,gBAAI,EAAE,UAFwC;AAG9CC,mBAAO,EAAE,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB;AAHqC,WAAzC;AAMA,iCAAuB,EAAvB;AAEP,oCAA+B,EAA/B;AACA,2BAAqB,IAArB;AAcK;AAEL;;;;;;;iBAGM,oBAAQ;;;;;AACZ,yBAAKN,cAAL,CAAoBgE,QAApB,CAA6B,UAA7B,EAAyC,CAAE,qBAAF,EAAyB,gBAAzB,CAAzC;AACA,yBAAKjE,aAAL,CAAmBkE,WAAnB;AACA,yBAAKoL,cAAL;;;;;;;;AACD;AAED;;;;;;iBAGA,0BAAc;AAAA;;AACZ,iBAAKD,cAAL,CAAoBC,cAApB,GAAqC/K,SAArC,CAA+C;AAC7CC,kBAAI,EAAE,cAACC,MAAD,EAAgB;AACpB,oBAAIA,MAAJ,EAAY;AACV,yBAAI,CAAC8K,eAAL,GAAuB9K,MAAM,CAACE,IAA9B;;AACA,yBAAI,CAACC,WAAL;AACD;AACF,eAN4C;AAO7CtD,mBAAK,EAAE,eAACuD,GAAD,EAAa;AAClB,uBAAI,CAAC7E,aAAL,CAAmB8E,WAAnB;;AACA,uBAAI,CAAC7E,cAAL,CAAoB8E,YAApB,CAAiCF,GAAjC;AACD;AAV4C,aAA/C;AAYD;AAED;;;;;;iBAGA,uBAAW;AAAA;;AACT,iBAAK9E,eAAL,CAAqB6E,WAArB,GAAmCL,SAAnC,CAA6C;AAC3CC,kBAAI,EAAE,cAACC,MAAD,EAAgB;AACpB,oBAAIA,MAAM,IAAIA,MAAM,CAACE,IAAjB,IAAyBF,MAAM,CAACE,IAAP,CAAYU,UAArC,IAAmDZ,MAAM,CAACE,IAAP,CAAYU,UAAZ,CAAuBmK,eAA9E,EAA+F;AAC7F,yBAAI,CAACA,eAAL,GAAuB/K,MAAM,CAACE,IAAP,CAAYU,UAAZ,CAAuBmK,eAA9C;AACD;;AACD,oBAAI/K,MAAM,IAAIA,MAAM,CAACE,IAAjB,IAAyBF,MAAM,CAACE,IAAP,CAAYU,UAArC,IAAmDZ,MAAM,CAACE,IAAP,CAAYU,UAAZ,CAAuBC,WAA9E,EAA2F;AACzF,yBAAI,CAACiK,eAAL,GAAuB,OAAI,CAACA,eAAL,CAAqBrH,GAArB,CAAyB,UAACM,GAAD,EAAQ;AACtD,2DACKA,GADL,GACQ;AAAEzH,6BAAO,EAAE0D,MAAM,CAACE,IAAP,CAAYU,UAAZ,CAAuBC,WAAvB,CAAmCyC,QAAnC,CAA4CS,GAAG,CAAC1H,EAAhD;AAAX,qBADR;AAGD,mBAJsB,CAAvB;AAKA,yBAAI,CAACyK,kBAAL,GAA0B9G,MAAM,CAACE,IAAP,CAAYU,UAAZ,CAAuBC,WAAjD;;AACA,yBAAI,CAACvF,eAAL,CAAqBwF,iBAArB,CAAuCH,IAAvC,CAA4CX,MAAM,CAACE,IAAP,CAAYU,UAAZ,CAAuBC,WAAvB,CAAmCL,MAAnC,GAA4C,CAA5C,GAAgD,IAAhD,GAAuD,KAAnG;AACD;;AACD,uBAAI,CAACjF,aAAL,CAAmB8E,WAAnB;AACD,eAf0C;AAgB3CxD,mBAAK,EAAE,eAACuD,GAAD,EAAa;AAClB,uBAAI,CAAC7E,aAAL,CAAmB8E,WAAnB;;AACA,uBAAI,CAAC7E,cAAL,CAAoB8E,YAApB,CAAiCF,GAAjC;AACD;AAnB0C,aAA7C;AAqBD;AAED;;;;;;iBAGA,wBAAe+H,CAAf,EAAgB;AACd,gBAAIA,CAAC,CAAC7L,OAAF,IAAa,CAAC,KAAKwK,kBAAL,CAAwBxD,QAAxB,CAAiCrB,QAAQ,CAACkG,CAAC,CAACjM,IAAH,CAAzC,CAAlB,EAAsE;AACpE,mBAAK4K,kBAAL,CAAwBlE,IAAxB,CAA6BX,QAAQ,CAACkG,CAAC,CAACjM,IAAH,CAArC;AACD,aAFD,MAEO;AACL,mBAAK4K,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBzF,MAAxB,CAA+B,YAAE;AAAA,uBAAIhF,EAAE,KAAK4F,QAAQ,CAACkG,CAAC,CAACjM,IAAH,CAAnB;AAAA,eAAjC,CAA1B;AACD;;AACD,iBAAK2D,eAAL,CAAqBlE,IAArB,GAA4B,KAAKmL,kBAAL,CAAwBtG,MAAxB,GAAiC,SAAjC,GAA6C,UAAzE;AACD;AAED;;;;;;;iBAIA,iCAAqB;AACnB,gBAAMgB,OAAO,GAAG,KAAKsF,kBAAL,CAAwBtG,MAAxB,GAAiC,IAAjC,GAAwC,KAAxD;AACA,mBAAOgB,OAAP;AACD;AAED;;;;;;;iBAIA,sBAAU;AAAA;;AACR,gBAAI,CAAC,KAAKwJ,qBAAL,EAAD,IAAiC,KAAKnL,eAAL,CAAqBlE,IAArB,KAA8B,UAAnE,EAA+E;AAC7E;AACD;;AACD,iBAAKH,cAAL,CAAoBgE,QAApB,CAA6B,YAA7B,EAA2C,CAAE,qBAAF,EAAyB,gBAAzB,CAA3C;AACA,gBAAMyL,cAAc,GACpB;AACEF,6BAAe,EAAE,KAAKA,eADxB;AAEEG,yBAAW,EAAE,KAAKpE;AAFpB,aADA;AAKA,iBAAKvL,aAAL,CAAmBkE,WAAnB;AACA,iBAAKnE,eAAL,CAAqB6P,iBAArB,CAAuCF,cAAvC,EAAuDnL,SAAvD,CAAiE;AAC/DC,kBAAI,EAAE,cAACC,MAAD,EAAgB;AACpB,oBAAG,OAAI,CAAC+C,SAAR,EAAkB;AAChB,yBAAI,CAACxH,aAAL,CAAmByH,aAAnB,CAAiC,IAAjC,EAAuC,mDAAvC;AACD;;AACD,uBAAI,CAAC1H,eAAL,CAAqBwF,iBAArB,CAAuCH,IAAvC,CAA4C,OAAI,CAACmG,kBAAL,CAAwBtG,MAAxB,GAAiC,CAAjC,GAAqC,IAArC,GAA4C,KAAxF;;AACA,uBAAI,CAACjF,aAAL,CAAmB8E,WAAnB;AACD,eAP8D;AAQ/DxD,mBAAK,EAAE,eAACuD,GAAD,EAAa;AAClB,uBAAI,CAAC7E,aAAL,CAAmB8E,WAAnB;;AACA,uBAAI,CAAC7E,cAAL,CAAoB8E,YAApB,CAAiCF,GAAjC;AACD;AAX8D,aAAjE;AAaD;AAED;;;;;;iBAGA,uBAAW;AACT,iBAAK2C,SAAL,GAAiB,KAAjB;AACA,iBAAKlH,UAAL;AACD;;;;;;;yBA1IU8O,sBAAmBF;AAAA;;;cAAnBE;AAAmB1G;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;ADbhCoG;;AACIA;;AACIA;;AACIA;;AACIA;;AACIA;;;;AACJA;;AACAA;;AACIA;;AACIA;;AAOJA;;AACJA;;AACJA;;AACJA;;AACJA;;AACAA;;AACIA;;AACIA;;AACIA;;AACJA;;AACJA;;AACAA;;AACIA;;AACJA;;AACJA;;AACJA;;;;AA1BoBA;;AAAAA;;AAImCA;;AAAAA;;AAmBIA;;AAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AECnCrP;;AACIA;;AAAIA;;AAAsBA;AAAA;;AAAA;;AAAA;;AAAA,qCAAoB,MAApB,EAA0BgQ,IAA1B;AAA0B,WAA1B;;AAC8ChQ;;AAAYA;;AACpFA;;AACAA;;AACIA;;AACIA;AAAA;;AAAA;;AAAA;;AAAA,oDAA0C,MAA1C,EAAiD,OAAjD,EAAwDgQ,IAAxD;AAAwD,WAAxD;;AAA6DhQ;;AACrEA;;AACAA;;AACIA;;AACIA;AAAA;;AAAA;;AAAA;;AAAA,oDAA0C,MAA1C,EAAiD,KAAjD,EAAsDgQ,IAAtD;AAAsD,WAAtD;;AAA2DhQ;;AACnEA;;AACJA;;;;;;;;;AAVYA;;AAAAA;;AAAgEA;;AAAAA;;AAEpEA;;AAAAA;;AACWA;;AAAAA;;AAGXA;;AAAAA;;AACWA;;AAAAA;;;;;;AA6BPA;;AAAuCA;;AAAcA;;;;;;AAAdA;;AAAAA;;;;;;AAGvCA;;AAAuCA;;AAAeA;;;;;;AAAfA;;AAAAA;;;;;;;;AAP/CA;;AACIA;;AAAIA;;AAAsBA;;AAC1BA;;AAAIA;;AAAwBA;;AAC5BA;;AACIA;;AACJA;;AACAA;;AACIA;;AACJA;;AACAA;;AAAIA;;AACIA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAiDA;;AAAWA;;AACxEA;;;;;;AAVQA;;AAAAA;;AACAA;;AAAAA;;AAEuBA;;AAAAA;;AAGAA;;AAAAA;;AAEDA;;AAAAA;;;;;;;;AArD9CA;;AACIA;;AACIA;;AACIA;;AAA2CA;;;;AAAwCA;;AACnFA;;AACIA;;AACIA;AAAAA;;AAAA;;AAAA,qDAA0C,MAA1C,EAAiD,OAAjD;AAAwD,WAAxD;;AAA2DA;;AACnEA;;AACJA;;AACAA;;AACIA;;AAaJA;;AACAA;;AACIA;;AACAA;AAAAA;;AAAA;;AAAA;AAAA;;AAA4BA;;;;AAAsBA;;AAClDA;;AACAA;AAAAA;;AAAA;;AAAA,kDAAgC,MAAhC;AAAsC,WAAtC;;AAAyCA;;;;AAA0CA;;AACvFA;;AAEJA;;AACAA;;AACIA;;AACIA;;AACIA;;AACIA;;AAAIA;;;;AAA+BA;;AACnCA;;AAAIA;;;;AAA4BA;;AAChCA;;AAAuBA;;;;AAAsBA;;AAC7CA;;AAAIA;;;;AAAuBA;;AAC3BA;;AAAIA;;;;AAAwBA;;AAChCA;;AACJA;;AACAA;;AACIA;;AAYJA;;AACJA;;AACJA;;AACJA;;;;;;AAxDuDA;;AAAAA;;AAE5BA;;AAAAA;;AAKMA;;AAAAA;;AAgBOA;;AAAAA;;AAEaA;;AAAAA;;AAQ7BA;;AAAAA;;AACAA;;AAAAA;;AACmBA;;AAAAA;;AACnBA;;AAAAA;;AACAA;;AAAAA;;AAIaA;;AAAAA;;;;;;;;AA0CzBA;;AACIA;;AAAIA;;AAAsBA;AAAA;;AAAA;;AAAA;;AAAA,sCAAoB,KAApB,EAAyBiQ,KAAzB;AAAyB,WAAzB;;AAC8CjQ;;AAAYA;;AACpFA;;AACAA;;AACIA;;AACIA;AAAA;;AAAA;;AAAA;;AAAA,qDAA0C,KAA1C,EAAgD,OAAhD,EAAuDiQ,KAAvD;AAAuD,WAAvD;;AAA4DjQ;;AACpEA;;AACAA;;AACIA;;AACIA;AAAA;;AAAA;;AAAA;;AAAA,qDAA0C,KAA1C,EAAgD,KAAhD,EAAqDiQ,KAArD;AAAqD,WAArD;;AAA0DjQ;;AAClEA;;AACJA;;;;;;;;;AAVYA;;AAAAA;;AAAgEA;;AAAAA;;AAEpEA;;AAAAA;;AACWA;;AAAAA;;AAGXA;;AAAAA;;AACWA;;AAAAA;;;;;;AAXvBA;;AAEIA;;AAaJA;;;;;;AAbyBA;;AAAAA;;;;;;AA8CTA;;AAAsCA;;AAAaA;;;;;;AAAbA;;AAAAA;;;;;;AAItCA;;AAAsCA;;AAAcA;;;;;;AAAdA;;AAAAA;;;;;;;;AAR9CA;;AACIA;;AAAIA;;AAAsBA;;AAC1BA;;AAAIA;;AAAoBA;;AAAIA;;AAAkBA;;AAC9CA;;AACIA;;AACJA;;AACAA;;AAAIA;;AAAgBA;;AACpBA;;AACIA;;AACJA;;AACAA;;AAAIA;;AACIA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA0CA;;AAAWA;;AACjEA;;;;;;AAXQA;;AAAAA;;AACAA;;AAAAA;;AAAwBA;;AAAAA;;AAEFA;;AAAAA;;AAEtBA;;AAAAA;;AAEsBA;;AAAAA;;AAEAA;;AAAAA;;;;;;;;AA7E9CA;;AACIA;;AACIA;;AACIA;;AACIA;;AAA6BA;;;;AAA0BA;;AAAKA;;AAChEA;;AACJA;;AACAA;;AACIA;;AACIA;;AACIA;AAAAA;;AAAA;;AAAA,sDAA2C,WAA3C;AAAsD,WAAtD;;AAAyDA;;AACjEA;;AACJA;;AACAA;;AACIA;;AACIA;;AACIA;AAAAA;;AAAA;;AAAA,qDAA0C,KAA1C,EAAgD,OAAhD;AAAuD,WAAvD;;AAA0DA;;AAClEA;;AACAA;;AACIA;;AACIA;AAAAA;;AAAA;;AAAA,qDAA0C,KAA1C,EAAgD,KAAhD;AAAqD,WAArD;;AAAwDA;;AAChEA;;AACJA;;AACAA;;AAsBAA;;AACIA;;AACIA;AAAAA;;AAAA;;AAAA;AAAA;;AAC6HA;;;;AAAsBA;;AACvJA;;AACIA;AAAAA;;AAAA;;AAAA,kDAAgC,KAAhC;AAAqC,WAArC;;AAAqKA;;;;AAA0CA;;AACvNA;;AACJA;;AACAA;;AACIA;;AACIA;;AAEIA;;AACIA;;AAAIA;;;;AAA+BA;;AACnCA;;AAAIA;;;;AAAgCA;;AACpCA;;AAAuBA;;;;AAAsBA;;AAC7CA;;AAAIA;;;;AAAsBA;;AAC1BA;;AAAIA;;;;AAAuBA;;AAC3BA;;AAAIA;;;;AAAyBA;;AACjCA;;AACJA;;AACAA;;AACIA;;AAaJA;;AACJA;;AACJA;;AACJA;;;;;;AA/E6CA;;AAAAA;;AAKlBA;;AAAAA;;AAMAA;;AAAAA;;AAIAA;;AAAAA;;AAKdA;;AAAAA;;AAwBGA;;AAAAA;;AAA6HA;;AAAAA;;AAErFA;;AAAAA;;AAA6HA;;AAAAA;;AAQ7JA;;AAAAA;;AACAA;;AAAAA;;AACmBA;;AAAAA;;AACnBA;;AAAAA;;AACAA;;AAAAA;;AACAA;;AAAAA;;AAIaA;;AAAAA;;;;ACzIjDkQ,gDAAaC,2DAAb;AACAD,gDAAaE,iDAAb;AACAF,gDAAaG,6CAAb;AAEA,UAAMC,WAAW,GAAG,EAApB;;UAOaC;AAgKX;;;;AAIA,sCACUC,KADV,EAEUtQ,eAFV,EAGUC,aAHV,EAGsC;AAAA;;AAF5B;AACA;AACA;AAtKV,qCAAsB+P,kCAAK,CAAC,sBAAD,CAAL,CAA8BO,MAA9B,CAAqC,SAArC,CAAtB;AACA,iCAAkB;AAChBC,0BAAc,EAAE,sBADA;AAEhBC,0BAAc,EAAE,oBAFA;AAGhBC,uBAAW,EAAE,oBAHG;AAIhBC,uBAAW,EAAE,kBAJG;AAKhBC,mBAAO,EAAE;AALO,WAAlB;AAOA,0BAAW;AAAE,mBAAO,QAAT;AAAmB,mBAAO,SAA1B;AAAqC,mBAAO,WAA5C;AAAyD,mBAAO,UAAhE;AAA4E,mBAAO,QAAnF;AAA6F,mBAAO,UAApG;AAAgH,mBAAO;AAAvH,WAAX;AACA,8BAAsB,EAAtB;AACA,0BAAgB;AAAEC,yBAAa,EAAE,EAAjB;AAAqBC,oBAAQ,EAAE;AAA/B,WAAhB;AACO,oCAAqB,EAArB;AACP,qCAAsB,EAAtB;AAEA,0BAAW,CACT;AAAEC,eAAG,EAAE,KAAP;AAAc/P,mBAAO,EAAE;AAAvB,WADS,EAET;AAAE+P,eAAG,EAAE,KAAP;AAAc/P,mBAAO,EAAE;AAAvB,WAFS,EAGT;AAAE+P,eAAG,EAAE,KAAP;AAAc/P,mBAAO,EAAE;AAAvB,WAHS,EAIT;AAAE+P,eAAG,EAAE,KAAP;AAAc/P,mBAAO,EAAE;AAAvB,WAJS,EAKT;AAAE+P,eAAG,EAAE,KAAP;AAAc/P,mBAAO,EAAE;AAAvB,WALS,EAMT;AAAE+P,eAAG,EAAE,KAAP;AAAc/P,mBAAO,EAAE;AAAvB,WANS,EAOT;AAAE+P,eAAG,EAAE,KAAP;AAAc/P,mBAAO,EAAE;AAAvB,WAPS,CAAX;AASA,yBAAU,CACR;AAAE+P,eAAG,EAAE,KAAP;AAAcC,gBAAI,EAAE,IAApB;AAA0BhQ,mBAAO,EAAE;AAAnC,WADQ,EAER;AAAE+P,eAAG,EAAE,KAAP;AAAcC,gBAAI,EAAE,IAApB;AAA0BhQ,mBAAO,EAAE;AAAnC,WAFQ,EAGR;AAAE+P,eAAG,EAAE,KAAP;AAAcC,gBAAI,EAAE,IAApB;AAA0BhQ,mBAAO,EAAE;AAAnC,WAHQ,EAIR;AAAE+P,eAAG,EAAE,KAAP;AAAcC,gBAAI,EAAE,IAApB;AAA0BhQ,mBAAO,EAAE;AAAnC,WAJQ,EAKR;AAAE+P,eAAG,EAAE,KAAP;AAAcC,gBAAI,EAAE,IAApB;AAA0BhQ,mBAAO,EAAE;AAAnC,WALQ,EAMR;AAAE+P,eAAG,EAAE,KAAP;AAAcC,gBAAI,EAAE,IAApB;AAA0BhQ,mBAAO,EAAE;AAAnC,WANQ,EAOR;AAAE+P,eAAG,EAAE,KAAP;AAAcC,gBAAI,EAAE,IAApB;AAA0BhQ,mBAAO,EAAE;AAAnC,WAPQ,CAAV;AAUA,8BAAe,MAAf;AACA,yCAA0B;AACxBZ,iBAAK,EAAE,YADiB;AAExBC,gBAAI,EAAE,MAFkB;AAGxBO,gBAAI,EAAE,WAHkB;AAIxB,qBAAO,OAJiB;AAKxBD,uBAAW,EAAE,kBALW;AAMxBsQ,mBAAO,EAAE,IAAIC,IAAJ,EANe;AAOxBtR,iBAAK,EAAE,IAAIsR,IAAJ;AAPiB,WAA1B;AAUA,wCAAyB;AACvB9Q,iBAAK,EAAE,OADgB;AAEvBC,gBAAI,EAAE,MAFiB;AAGvBO,gBAAI,EAAE,UAHiB;AAIvB,qBAAO,OAJgB;AAKvBD,uBAAW,EAAE,kBALU;AAMvBsQ,mBAAO,EAAE,IAAIC,IAAJ,EANc;AAOvBtR,iBAAK,EAAE,IAAIsR,IAAJ;AAPgB,WAAzB;AAUA,sCAAuB;AACrB9Q,iBAAK,EAAE,KADc;AAErBC,gBAAI,EAAE,MAFe;AAGrBO,gBAAI,EAAE,QAHe;AAIrB,qBAAO,OAJc;AAKrBD,uBAAW,EAAE,gBALQ;AAMrBsQ,mBAAO,EAAE,IAAIC,IAAJ,EANY;AAOrBtR,iBAAK,EAAE,IAAIsR,IAAJ;AAPc,WAAvB;AAUA,sCAAuB;AACrB9Q,iBAAK,EAAE,gBADc;AAErBC,gBAAI,EAAE,MAFe;AAGrBO,gBAAI,EAAE,UAHe;AAIrB,qBAAO,OAJc;AAKrBD,uBAAW,EAAE,MALQ;AAMrBf,iBAAK,EAAEoQ,kCAAK,CAAC,kBAAD,CANS;AAOrBmB,oBAAQ,EAAEf;AAPW,WAAvB;AAUA,oCAAqB;AACnBhQ,iBAAK,EAAE,cADY;AAEnBC,gBAAI,EAAE,MAFa;AAGnBO,gBAAI,EAAE,UAHa;AAInB,qBAAO,OAJY;AAKnBD,uBAAW,EAAE,MALM;AAMnBf,iBAAK,EAAEoQ,kCAAK,CAAC,kBAAD,CANO;AAOnBmB,oBAAQ,EAAEf;AAPS,WAArB;AAUA,2CAA4B,EAA5B;AACA,yCAA0B,EAA1B;AACA,0CAA2B,EAA3B;AACA,wCAAyB,EAAzB;AAEA,oCAAqB;AACnBgB,qBAAS,EAAE;AACThR,mBAAK,EAAE,YADE;AAETC,kBAAI,EAAE,QAFG;AAGTO,kBAAI,EAAE,WAHG;AAIT,uBAAO,OAJE;AAKTD,yBAAW,EAAE,mBALJ;AAMTf,mBAAK,EAAE,EANE;AAOT+B,0BAAY,EAAE,OAPL;AAQT0P,wBAAU,EAAE,OARH;AASTzP,4BAAc,EAAE;AAAE0P,4BAAY,EAAE;AAAhB,eATP;AAUTxQ,qBAAO,EAAE,EAVA;AAWTgB,2BAAa,EAAE;AAXN,aADQ;AAcnByP,2BAAe,EAAE;AACfnR,mBAAK,EAAE,WADQ;AAEfC,kBAAI,EAAE,QAFS;AAGfO,kBAAI,EAAE,WAHS;AAIf,uBAAO,OAJQ;AAKfD,yBAAW,EAAE,yBALE;AAMff,mBAAK,EAAE,EANQ;AAOf+B,0BAAY,EAAE,OAPC;AAQf0P,wBAAU,EAAE,OARG;AASfzP,4BAAc,EAAE;AAAExB,qBAAK,EAAE;AAAT,eATD;AAUfU,qBAAO,EAAE,CAAE;AAAEV,qBAAK,EAAE;AAAT,eAAF,EAA8B;AAAEA,qBAAK,EAAE;AAAT,eAA9B,CAVM;AAWf0B,2BAAa,EAAE;AAXA,aAdE;AA2BnB0P,2BAAe,EAAE;AACfpR,mBAAK,EAAE,WADQ;AAEfC,kBAAI,EAAE,QAFS;AAGfO,kBAAI,EAAE,WAHS;AAIf,uBAAO,OAJQ;AAKfD,yBAAW,EAAE,yBALE;AAMff,mBAAK,EAAE,EANQ;AAOf+B,0BAAY,EAAE,OAPC;AAQf0P,wBAAU,EAAE,OARG;AASfzP,4BAAc,EAAE;AAAExB,qBAAK,EAAE;AAAT,eATD;AAUfU,qBAAO,EAAE,CAAE;AAAEV,qBAAK,EAAE;AAAT,eAAF,EAA8B;AAAEA,qBAAK,EAAE;AAAT,eAA9B,CAVM;AAWf0B,2BAAa,EAAE;AAXA,aA3BE;AAwCnB2P,iBAAK,EAAE;AACLrR,mBAAK,EAAE,OADF;AAELC,kBAAI,EAAE,MAFD;AAGLO,kBAAI,EAAE,UAHD;AAIL,uBAAO,OAJF;AAKLD,yBAAW,EAAE,kBALR;AAMLsQ,qBAAO,EAAE,IAAIC,IAAJ,EANJ;AAOLQ,qBAAO,EAAE,IAAIR,IAAJ,EAPJ;AAQLtR,mBAAK,EAAE,IAAIsR,IAAJ;AARF,aAxCY;AAkDnBS,eAAG,EAAE;AACHvR,mBAAK,EAAE,KADJ;AAEHC,kBAAI,EAAE,MAFH;AAGHO,kBAAI,EAAE,QAHH;AAIH,uBAAO,OAJJ;AAKHD,yBAAW,EAAE,gBALV;AAMHsQ,qBAAO,EAAE,IAAIC,IAAJ,EANN;AAOHQ,qBAAO,EAAE,IAAIR,IAAJ,EAPN;AAQHtR,mBAAK,EAAE,IAAIsR,IAAJ;AARJ;AAlDc,WAArB;AA8DA,6BAAc,IAAIA,IAAJ,EAAd;AAEA,uCAAiC,IAAjC;AACA,6BAAcd,WAAd;AACA,6BAAc,EAAd;AACA,yBAAU,EAAV;AACA,wBAAS,EAAT;AAUK;AAEL;;;;;;;iBAGA,oBAAQ;AAAA;;AACN,iBAAKnQ,aAAL,CAAmB2R,eAAnB,CAAmCpN,SAAnC,CAA6C;AAC3CC,kBAAI,EAAE,cAACoN,aAAD,EAAkB;AACtB,oBAAMC,UAAU,GAAGD,aAAa,CAACjN,IAAd,CAAmBmN,MAAtC;;AACA,uBAAI,CAAC9R,aAAL,CAAmBkE,WAAnB;;AACA,sEAAe,OAAI,CAACnE,eAAL,CAAqBgS,kBAArB,CAAwCF,UAAxC,CAAf,EAAoEG,IAApE,CAAyE,UAACxF,QAAD,EAAa;AACpF,yBAAI,CAACyF,QAAL,GAAgBzF,QAAQ,CAAC7H,IAAzB;AACA,yBAAI,CAACsN,QAAL,CAAcrB,aAAd,GAA8B,OAAI,CAACsB,0BAAL,CAAgC,OAAI,CAACD,QAAL,CAAcrB,aAA9C,EAA6D,MAA7D,CAA9B;AACA,yBAAI,CAACqB,QAAL,CAAcpB,QAAd,GAAyB,OAAI,CAACqB,0BAAL,CAAgC,OAAI,CAACD,QAAL,CAAcpB,QAA9C,EAAwD,SAAxD,CAAzB;;AACA,yBAAI,CAAC7Q,aAAL,CAAmB8E,WAAnB;AACD,iBALD,WAKS,YAAK;AACZ,yBAAI,CAAC9E,aAAL,CAAmB8E,WAAnB;AACD,iBAPD;;AAQA,uBAAI,CAAC/E,eAAL,CAAqBoS,sBAArB,GAA8C5N,SAA9C,CAAwD;AACtDC,sBAAI,EAAE,cAACC,MAAD,EAAW;AACf,2BAAI,CAAC2N,kBAAL,CAAwBjB,SAAxB,CAAkCtQ,OAAlC,GAA4C4D,MAAM,CAAC,MAAD,CAAN,CAAeyD,GAAf,CAAmB,UAACwE,IAAD,EAAS;AACtEA,0BAAI,CAACtM,IAAL,GAAYsM,IAAI,CAACpC,WAAL,CAAiB+H,OAAjB,CAAyB,MAAzB,KAAoC,CAAC,CAArC,GAAyC,MAAzC,GAAkD,OAA9D;AACA3F,0BAAI,CAACvM,KAAL,GAAauM,IAAI,CAAC/L,IAAlB;AACA,6BAAO+L,IAAP;AACD,qBAJ2C,EAIzC5G,MAJyC,CAIlC,WAAC;AAAA,6BAAIC,CAAC,CAACpF,IAAF,CAAOqF,WAAP,MAAwB,cAAxB,IAA0CD,CAAC,CAACpF,IAAF,CAAOqF,WAAP,MAAwB,YAAtE;AAAA,qBAJiC,CAA5C,CADe,CAOf;AACD;AATqD,iBAAxD;;AAYA,uBAAI,CAACsM,QAAL,CAAc/J,OAAd,CAAsB,UAACmE,IAAD,EAAS;AAC7B,yBAAI,CAAC6F,yBAAL,CAA+BlL,IAA/B,CAAmCR,kBAAM,OAAI,CAAC2L,oBAAX,CAAnC;;AACA,yBAAI,CAACC,uBAAL,CAA6BpL,IAA7B,CAAiCR,kBAAM,OAAI,CAAC6L,kBAAX,CAAjC;;AACA,yBAAI,CAACC,wBAAL,CAA8BtL,IAA9B,CAAkCR,gCAAM,OAAI,CAAC2L,oBAAX,GAA+B;AAAE7S,yBAAK,EAAEoQ,kCAAK,CAAC,mBAAD;AAAd,mBAA/B,CAAlC;;AACA,yBAAI,CAAC6C,sBAAL,CAA4BvL,IAA5B,CAAgCR,gCAAM,OAAI,CAAC6L,kBAAX,GAA6B;AAAE/S,yBAAK,EAAEoQ,kCAAK,CAAC,kBAAD;AAAd,mBAA7B,CAAhC;AACD,iBALD;AAMD;AA9B0C,aAA7C;AAgCD;AAED;;;;;;;iBAIA,oBAAW3P,IAAX,EAAiB0H,KAAjB,EAAsB;AACpB,gBAAI1H,IAAI,IAAI,MAAZ,EAAoB;AAClB,mBAAKkS,QAAL,CAAcxK,KAAd,EAAqB/G,OAArB,GAA+B,CAAC,KAAKuR,QAAL,CAAcxK,KAAd,EAAqB/G,OAArD;AACD,aAFD,MAEO,IAAIX,IAAI,IAAI,KAAZ,EAAmB;AACxB,mBAAKyS,OAAL,CAAa/K,KAAb,EAAoB/G,OAApB,GAA8B,CAAC,KAAK8R,OAAL,CAAa/K,KAAb,EAAoB/G,OAAnD;AACD;AACF;AAED;;;;;;;;;;;iBAQA,2BAAkB+R,KAAlB,EAAyB1S,IAAzB,EAA+B2S,UAA/B,EAA2CjL,KAA3C,EAAgD;AAC9CkL,mBAAO,CAACC,GAAR,CAAYH,KAAZ,EAAmB1S,IAAnB,EAAyB2S,UAAzB,EAAqCjL,KAArC;;AACA,gBAAI1H,IAAI,KAAK,MAAb,EAAqB;AACnB,kBAAI2S,UAAU,KAAK,OAAnB,EAA4B;AAC1B,qBAAKR,yBAAL,CAA+BzK,KAA/B,EAAsCnI,KAAtC,GAA8CmT,KAAK,CAACnT,KAApD;AACD,eAFD,MAEO;AACL,qBAAK8S,uBAAL,CAA6B3K,KAA7B,EAAoCnI,KAApC,GAA4CmT,KAAK,CAACnT,KAAlD;AACD;AACF,aAND,MAMO,IAAIS,IAAI,KAAK,KAAb,EAAoB;AACzB,kBAAI2S,UAAU,KAAK,OAAnB,EAA4B;AAC1B,qBAAKJ,wBAAL,CAA8B7K,KAA9B,EAAqCnI,KAArC,GAA6CmT,KAAK,CAACnT,KAAnD;AACD,eAFD,MAEO;AACL,qBAAKiT,sBAAL,CAA4B9K,KAA5B,EAAmCnI,KAAnC,GAA2CmT,KAAK,CAACnT,KAAjD;AACD;AACF;AACF;AAED;;;;;;;;;iBAMA,2BAAkBmT,KAAlB,EAAyB1S,IAAzB,EAA+B2S,UAA/B,EAAyC;AACvCC,mBAAO,CAACC,GAAR,CAAYH,KAAZ,EAAmB1S,IAAnB,EAAyB2S,UAAzB;;AACA,gBAAI3S,IAAI,KAAK,MAAb,EAAqB;AACnB,mBAAK8S,uBAAL,CAA6BvT,KAA7B,GAAqCmT,KAAK,CAACnT,KAA3C;AACD,aAFD,MAEO,IAAIS,IAAI,KAAK,KAAb,EAAoB;AACzB,kBAAI2S,UAAU,KAAK,OAAnB,EAA4B;AAC1B,qBAAKI,sBAAL,CAA4BxT,KAA5B,GAAoCmT,KAAK,CAACnT,KAA1C;AACD,eAFD,MAEO;AACL,qBAAKyT,oBAAL,CAA0BzT,KAA1B,GAAkCmT,KAAK,CAACnT,KAAxC;AACD;AACF;AACF;AAED;;;;;;;iBAIA,gCAAuBS,IAAvB,EAA2B;AAAA;;AACzB,gBAAMiT,OAAO,GAAG,wBAAhB;AACA,gBAAMC,OAAO,GAAG,+DAAhB;AACA,gBAAMvH,SAAS,GAAG,KAAK/L,aAAL,CAAmBuT,sBAAnB,CAA0CF,OAA1C,EAAmDC,OAAnD,CAAlB;AACAvH,qBAAS,CAACQ,WAAV,GAAwBhI,SAAxB,CAAkC,UAACiP,GAAD,EAAiB;AACjD,kBAAIA,GAAJ,EAAS;AACP,oBAAIpT,IAAI,KAAK,MAAb,EAAqB;AACnB,yBAAI,CAACqT,sBAAL;AACD,iBAFD,MAEO,IAAIrT,IAAI,KAAK,KAAb,EAAoB;AACzB,yBAAI,CAACsT,oBAAL;AACD;AACF;AACF,aARD;AASD;AAED;;;;;;;iBAIA,4BAAmBxM,MAAnB,EAA2B9G,IAA3B,EAA+B;AAC7B4S,mBAAO,CAACC,GAAR,CAAY/L,MAAZ,EAAoB9G,IAApB;AACA,iBAAKgS,kBAAL,CAAwBhS,IAAxB,IAA6ByG,gCAAQ,KAAKuL,kBAAL,CAAwBhS,IAAxB,CAAR,GAAqC;AAAEuB,4BAAc,EAAEuF,MAAM,CAACvH;AAAzB,aAArC,CAA7B,CAF6B,CAG7B;AACD;AAED;;;;;;;;iBAKA,+BAAsBgU,QAAtB,EAA8B;AAC5B,gBAAIC,UAAU,GAAG,KAAjB;AACAZ,mBAAO,CAACC,GAAR,CAAYlD,kCAAK,CAAC4D,QAAD,CAAL,CAAgBE,GAAhB,GAAsBvD,MAAtB,CAA6B,OAA7B,IAAwCP,kCAAK,CAAC4D,QAAD,CAAL,CAAgBrD,MAAhB,CAAuB,OAAvB,CAApD;;AACA,gBAAGP,kCAAK,CAAC4D,QAAD,CAAL,CAAgBE,GAAhB,GAAsBvD,MAAtB,CAA6B,OAA7B,IAAwCP,kCAAK,CAAC4D,QAAD,CAAL,CAAgBrD,MAAhB,CAAuB,OAAvB,CAA3C,EAA2E;AACzEsD,wBAAU,GAAG,IAAb;AACD;;AACD,mBAAOA,UAAP;AACD;AAED;;;;;;iBAGA,2BAAe;AAAA;;AACb,gBAAI,KAAK3B,QAAL,CAAcrB,aAAd,CAA4B3L,MAA5B,IAAsC,EAA1C,EAA8C;AAC5C,mBAAK6O,gBAAL,CAAsB,wBAAtB,EAAgD,oCAAhD;AACA;AACD;;AACD,iBAAK9T,aAAL,CAAmBkE,WAAnB;AACA,gBAAMS,IAAI,GAAG;AACX,0BAAY,EADD;AAEX,+BAAiBoL,kCAAK,CAAC,KAAKmD,uBAAL,CAA6BvT,KAA9B,CAAL,CAA0C2Q,MAA1C,CAAiD,YAAjD;AAFN,aAAb;;AAIA,iBAAI,IAAMxI,KAAV,IAAmB,KAAKwK,QAAxB,EAAkC;AAChC,kBAAM5F,IAAI,GAAG,KAAK4F,QAAL,CAAcxK,KAAd,CAAb;;AACA,kBAAI4E,IAAI,CAAC3L,OAAT,EAAkB;AAChB,oBAAG,KAAKgT,qBAAL,CAA2B,KAAKxB,yBAAL,CAA+BzK,KAA/B,EAAsCnI,KAAjE,CAAH,EAA2E;AACzE,uBAAKmU,gBAAL,CAAsB,OAAtB,EAA+B,8BAA6B,KAAKE,mBAAlC,GAAwD,aAAvF;AACA,uBAAKhU,aAAL,CAAmB8E,WAAnB;AACA;AACD;;AACD,oBAAG,KAAKiP,qBAAL,CAA2B,KAAKtB,uBAAL,CAA6B3K,KAA7B,EAAoCnI,KAA/D,CAAH,EAAyE;AACvE,uBAAKmU,gBAAL,CAAsB,OAAtB,EAA+B,4BAA2B,KAAKE,mBAAhC,GAAsD,aAArF;AACA,uBAAKhU,aAAL,CAAmB8E,WAAnB;AACA;AACD;;AACDH,oBAAI,CAAC2N,QAAL,CAAcjL,IAAd,CAAmB;AACjByJ,qBAAG,EAAE,KAAKmD,QAAL,CAAcvH,IAAI,CAACoE,GAAnB,CADY;AAEjBoD,2BAAS,EAAE,CAAE;AACXC,6BAAS,EAAEpE,kCAAK,CAAC,KAAKwC,yBAAL,CAA+BzK,KAA/B,EAAsCnI,KAAvC,CAAL,CAAmDkU,GAAnD,GAAyDvD,MAAzD,CAAgE,OAAhE,CADA;AAEX8D,2BAAO,EAAErE,kCAAK,CAAC,KAAK0C,uBAAL,CAA6B3K,KAA7B,EAAoCnI,KAArC,CAAL,CAAiDkU,GAAjD,GAAuDvD,MAAvD,CAA8D,OAA9D;AAFE,mBAAF;AAFM,iBAAnB;AAOD;AACF;;AACD,iBAAKvQ,eAAL,CAAqBsU,eAArB,CAAqC,KAAKpC,QAAL,CAAcqC,YAAnD,EAAiE3P,IAAjE,EAAuEJ,SAAvE,CAAiF;AAC/EC,kBAAI,EAAE,cAACC,MAAD,EAAW;AACf,uBAAI,CAACzE,aAAL,CAAmB8E,WAAnB;;AACA,oBAAIL,MAAM,CAAC8P,OAAX,EAAoB;AAClB,yBAAI,CAACC,kBAAL,CAAwB/P,MAAM,CAAC6O,OAA/B,EAAwC7O,MAAM,CAAC6O,OAA/C;;AACA,yBAAI,CAACrB,QAAL,CAAcrB,aAAd,GAA8B,OAAI,CAACsB,0BAAL,CAAgCzN,MAAM,CAACE,IAAP,CAAYiM,aAA5C,EAA2D,MAA3D,CAA9B;AACD,iBAHD,MAGO,IAAInM,MAAM,CAACgQ,aAAX,EAA0B;AAC/B,yBAAI,CAACX,gBAAL,CAAsB,OAAtB,EAA+BrP,MAAM,CAACgQ,aAAtC;AACD,iBAFM,MAEA;AACL,yBAAI,CAACX,gBAAL,CAAsB,OAAtB,EAA+BrP,MAAM,CAACiQ,OAAtC;AACD;AACF,eAX8E;AAY/EpT,mBAAK,EAAE,eAACA,MAAD,EAAU;AACf,uBAAI,CAACtB,aAAL,CAAmB8E,WAAnB;AACD;AAd8E,aAAjF;AAgBD;AAED;;;;;;iBAGA,kCAAsB;AAAA;;AACpB,iBAAK9E,aAAL,CAAmBkE,WAAnB;AACA,gBAAMS,IAAI,GAAG;AACX,0BAAY,EADD;AAEX,+BAAiBoL,kCAAK,CAAC,KAAKmD,uBAAL,CAA6BvT,KAA9B,CAAL,CAA0C2Q,MAA1C,CAAiD,YAAjD;AAFN,aAAb;;AAIA,iBAAI,IAAMxI,KAAV,IAAmB,KAAKwK,QAAxB,EAAkC;AAChC,kBAAM5F,IAAI,GAAG,KAAK4F,QAAL,CAAcxK,KAAd,CAAb;;AACA,kBAAI4E,IAAI,CAAC3L,OAAT,EAAkB;AAChB,oBAAG,KAAKgT,qBAAL,CAA2B,KAAKxB,yBAAL,CAA+BzK,KAA/B,EAAsCnI,KAAjE,CAAH,EAA2E;AACzE,uBAAKmU,gBAAL,CAAsB,OAAtB,EAA+B,8BAA6B,KAAKE,mBAAlC,GAAwD,aAAvF;AACA,uBAAKhU,aAAL,CAAmB8E,WAAnB;AACA;AACD;;AACD,oBAAG,KAAKiP,qBAAL,CAA2B,KAAKtB,uBAAL,CAA6B3K,KAA7B,EAAoCnI,KAA/D,CAAH,EAAyE;AACvE,uBAAKmU,gBAAL,CAAsB,OAAtB,EAA+B,4BAA2B,KAAKE,mBAAhC,GAAsD,aAArF;AACA,uBAAKhU,aAAL,CAAmB8E,WAAnB;AACA;AACD;;AACDH,oBAAI,CAAC2N,QAAL,CAAcjL,IAAd,CAAmB;AACjByJ,qBAAG,EAAE,KAAKmD,QAAL,CAAcvH,IAAI,CAACoE,GAAnB,CADY;AAEjBoD,2BAAS,EAAE,CAAE;AACXC,6BAAS,EAAEpE,kCAAK,CAAC,KAAKwC,yBAAL,CAA+BzK,KAA/B,EAAsCnI,KAAvC,CAAL,CAAmDkU,GAAnD,GAAyDvD,MAAzD,CAAgE,OAAhE,CADA;AAEX8D,2BAAO,EAAErE,kCAAK,CAAC,KAAK0C,uBAAL,CAA6B3K,KAA7B,EAAoCnI,KAArC,CAAL,CAAiDkU,GAAjD,GAAuDvD,MAAvD,CAA8D,OAA9D;AAFE,mBAAF;AAFM,iBAAnB;AAOD;AACF;;AAED,iBAAKvQ,eAAL,CAAqB0T,sBAArB,CAA4C,KAAKxB,QAAL,CAAcqC,YAA1D,EAAwE3P,IAAxE,EAA8EJ,SAA9E,CAAwF;AACtFC,kBAAI,EAAE,cAACC,MAAD,EAAW;AACf,uBAAI,CAACzE,aAAL,CAAmB8E,WAAnB;;AACA,oBAAIL,MAAM,CAAC8P,OAAX,EAAoB;AAClB,yBAAI,CAACC,kBAAL,CAAwB/P,MAAM,CAAC6O,OAA/B,EAAwC7O,MAAM,CAACE,IAA/C;AACD;AACF,eANqF;AAOtFrD,mBAAK,EAAE,eAACA,OAAD,EAAU;AACf,uBAAI,CAACtB,aAAL,CAAmB8E,WAAnB;AACD;AATqF,aAAxF;AAWD;AAED;;;;;;iBAGA,kCAAsB;AAAA;;AACpBkO,mBAAO,CAACC,GAAR,CAAY,KAAKb,kBAAL,CAAwBjB,SAAxB,CAAkCxP,cAAlC,CAAiD0P,YAA7D;AACA,gBAAIsD,SAAS,GAAG,KAAhB;AACA,iBAAK1C,QAAL,CAAcrB,aAAd,CAA4BrI,OAA5B,CAAoC,UAACqM,YAAD,EAAe9M,KAAf,EAAwB;AAC1D,kBAAI,OAAI,CAACmK,QAAL,CAAcrB,aAAd,CAA4B9I,KAAK,GAAG,CAApC,KAA0ClB,SAA9C,EAAyD;AACvD,oBAAI,IAAIqK,IAAJ,CAAS2D,YAAY,CAAC,eAAD,CAArB,KAA2C,IAAI3D,IAAJ,CAAS,OAAI,CAACkC,sBAAL,CAA4B,aAA5B,EAA2CxT,KAApD,CAA/C,EAA2G;AACzGgV,2BAAS,GAAG,IAAZ;AACA;AACD;AACF,eALD,MAKO;AACL,oBAAI,OAAI,CAAC1C,QAAL,CAAcrB,aAAd,CAA4B9I,KAAK,GAAG,CAApC,KAA0C,IAAImJ,IAAJ,CAAS2D,YAAY,CAAC,eAAD,CAArB,KAA2C,IAAI3D,IAAJ,CAAS,OAAI,CAACkC,sBAAL,CAA4B,aAA5B,EAA2CxT,KAApD,CAArF,IAAmJ,IAAIsR,IAAJ,CAAS,OAAI,CAACgB,QAAL,CAAcrB,aAAd,CAA4B9I,KAAK,GAAG,CAApC,EAAuC,eAAvC,CAAT,KAAqE,IAAImJ,IAAJ,CAAS,OAAI,CAACmC,oBAAL,CAA0B,aAA1B,EAAyCzT,KAAlD,CAA5N,EAAsR;AACpRgV,2BAAS,GAAG,IAAZ;AACA;AACD;AACF;AACF,aAZD;;AAaA,gBAAIA,SAAJ,EAAe;AACb,kBAAM5I,SAAS,GAAG,KAAK/L,aAAL,CAAmByN,wBAAnB,CAA4C,OAA5C,EAAqD,iGAArD,CAAlB;AACA1B,uBAAS,CAACQ,WAAV,GAAwBhI,SAAxB,CAAkC,UAACE,MAAD,EAAW;AAC3C,oBAAIA,MAAJ,EAAY;AACV,yBAAI,CAACoQ,aAAL;AACD;AACF,eAJD;AAKD,aAPD,MAOO;AACL,mBAAKA,aAAL;AACD;AACF;AAED;;;;;;iBAGA,yBAAa;AAAA;;AACX,iBAAK7U,aAAL,CAAmBkE,WAAnB;AACA,gBAAMS,IAAI,GAAG;AACX,yBAAW,EADA;AAEX,+BAAiB,KAAKyN,kBAAL,CAAwBjB,SAAxB,CAAkCxP,cAAlC,CAAiD,IAAjD,CAFN;AAGX,2BAAaoO,kCAAK,CAAC,KAAKoD,sBAAL,CAA4B,aAA5B,EAA2CxT,KAA5C,CAAL,CAAwD2Q,MAAxD,CAA+D,YAA/D,CAHF;AAIX,yBAAWP,kCAAK,CAAC,KAAKqD,oBAAL,CAA0B,aAA1B,EAAyCzT,KAA1C,CAAL,CAAsD2Q,MAAtD,CAA6D,YAA7D;AAJA,aAAb;;AAMA,gBAAI,KAAK8B,kBAAL,CAAwBjB,SAAxB,CAAkCxP,cAAlC,CAAiD,cAAjD,MAAqE,OAAzE,EAAkF;AAChF,mBAAI,IAAMmG,KAAV,IAAmB,KAAK+K,OAAxB,EAAiC;AAC/B,oBAAMnG,IAAI,GAAG,KAAKmG,OAAL,CAAa/K,KAAb,CAAb;;AACA,oBAAI4E,IAAI,CAAC3L,OAAT,EAAkB;AAChB,sBAAG,KAAKgT,qBAAL,CAA2B,KAAKpB,wBAAL,CAA8B7K,KAA9B,EAAqCnI,KAAhE,CAAH,EAA0E;AACxE,yBAAKmU,gBAAL,CAAsB,OAAtB,EAA+B,0BAAyB,KAAKE,mBAA9B,GAAoD,aAAnF;AACA,yBAAKhU,aAAL,CAAmB8E,WAAnB;AACA;AACD;;AACD,sBAAG,KAAKiP,qBAAL,CAA2B,KAAKnB,sBAAL,CAA4B9K,KAA5B,EAAmCnI,KAA9D,CAAH,EAAwE;AACtE,yBAAKmU,gBAAL,CAAsB,OAAtB,EAA+B,wBAAuB,KAAKE,mBAA5B,GAAiD,aAAhF;AACA,yBAAKhU,aAAL,CAAmB8E,WAAnB;AACA;AACD;;AACDH,sBAAI,CAACkO,OAAL,CAAaxL,IAAb,CAAkB;AAChByJ,uBAAG,EAAE,KAAKmD,QAAL,CAAcvH,IAAI,CAACoE,GAAnB,CADW;AAEhBqD,6BAAS,EAAEpE,kCAAK,CAAC,KAAK4C,wBAAL,CAA8B7K,KAA9B,EAAqCnI,KAAtC,CAAL,CAAkDkU,GAAlD,GAAwDvD,MAAxD,CAA+D,OAA/D,CAFK;AAGhB8D,2BAAO,EAAErE,kCAAK,CAAC,KAAK6C,sBAAL,CAA4B9K,KAA5B,EAAmCnI,KAApC,CAAL,CAAgDkU,GAAhD,GAAsDvD,MAAtD,CAA6D,OAA7D;AAHO,mBAAlB;AAKD;AACF;AACF,aArBD,MAqBO;AACL,qBAAO3L,IAAI,CAAC,SAAD,CAAX;AACD;;AACDqO,mBAAO,CAACC,GAAR,CAAYtO,IAAZ,EAAkB,KAAKwO,sBAAvB,EAA+C,KAAKC,oBAApD,EAA0E,KAAKhB,kBAAL,CAAwBjB,SAAlG,EAhCW,CAiCX;;AACA,iBAAKpR,eAAL,CAAqB8U,aAArB,CAAmC,KAAK5C,QAAL,CAAcqC,YAAjD,EAA+D3P,IAA/D,EAAqEJ,SAArE,CAA+E;AAC7EC,kBAAI,EAAE,cAACC,MAAD,EAAW;AACf,uBAAI,CAACzE,aAAL,CAAmB8E,WAAnB;;AACA,oBAAIL,MAAM,CAAC8P,OAAX,EAAoB;AAClB,yBAAI,CAACC,kBAAL,CAAwB/P,MAAM,CAAC6O,OAA/B,EAAwC7O,MAAM,CAAC6O,OAA/C;;AACA,yBAAI,CAACrB,QAAL,CAAcpB,QAAd,GAAyB,OAAI,CAACqB,0BAAL,CAAgCzN,MAAM,CAACE,IAAP,CAAYkM,QAA5C,EAAsD,SAAtD,CAAzB;AACD,iBAHD,MAGO,IAAIpM,MAAM,CAACgQ,aAAX,EAA0B;AAC/B,yBAAI,CAACX,gBAAL,CAAsB,OAAtB,EAA+BrP,MAAM,CAACgQ,aAAtC;AACD,iBAFM,MAEA;AACL,yBAAI,CAACX,gBAAL,CAAsB,OAAtB,EAA+BrP,MAAM,CAACiQ,OAAtC;AACD;AACF,eAX4E;AAY7EpT,mBAAK,EAAE,eAACA,OAAD,EAAU;AACf,uBAAI,CAACtB,aAAL,CAAmB8E,WAAnB;AACD;AAd4E,aAA/E;AAgBD;AAED;;;;;;iBAGA,gCAAoB;AAAA;;AAClB,iBAAK9E,aAAL,CAAmBkE,WAAnB;AACA,gBAAMS,IAAI,GAAG;AACX,yBAAW,EADA;AAEX,+BAAiB,KAAKyN,kBAAL,CAAwBjB,SAAxB,CAAkCxP,cAAlC,CAAiD,IAAjD,CAFN;AAGX,2BAAaoO,kCAAK,CAAC,KAAKoD,sBAAL,CAA4B,aAA5B,EAA2CxT,KAA5C,CAAL,CAAwD2Q,MAAxD,CAA+D,YAA/D,CAHF;AAIX,yBAAWP,kCAAK,CAAC,KAAKqD,oBAAL,CAA0B,aAA1B,EAAyCzT,KAA1C,CAAL,CAAsD2Q,MAAtD,CAA6D,YAA7D;AAJA,aAAb;;AAMA,gBAAI,KAAK8B,kBAAL,CAAwBjB,SAAxB,CAAkCxP,cAAlC,CAAiD,cAAjD,MAAqE,OAAzE,EAAkF;AAChF,mBAAI,IAAMmG,KAAV,IAAmB,KAAK+K,OAAxB,EAAiC;AAC/B,oBAAMnG,IAAI,GAAG,KAAKmG,OAAL,CAAa/K,KAAb,CAAb;;AACA,oBAAI4E,IAAI,CAAC3L,OAAT,EAAkB;AAChB,sBAAG,KAAKgT,qBAAL,CAA2B,KAAKpB,wBAAL,CAA8B7K,KAA9B,EAAqCnI,KAAhE,CAAH,EAA0E;AACxE,yBAAKmU,gBAAL,CAAsB,OAAtB,EAA+B,0BAAyB,KAAKE,mBAA9B,GAAoD,aAAnF;AACA,yBAAKhU,aAAL,CAAmB8E,WAAnB;AACA;AACD;;AACD,sBAAG,KAAKiP,qBAAL,CAA2B,KAAKnB,sBAAL,CAA4B9K,KAA5B,EAAmCnI,KAA9D,CAAH,EAAwE;AACtE,yBAAKmU,gBAAL,CAAsB,OAAtB,EAA+B,wBAAuB,KAAKE,mBAA5B,GAAkD,aAAjF;AACA,yBAAKhU,aAAL,CAAmB8E,WAAnB;AACA;AACD;;AACDH,sBAAI,CAACkO,OAAL,CAAaxL,IAAb,CAAkB;AAChByJ,uBAAG,EAAE,KAAKmD,QAAL,CAAcvH,IAAI,CAACoE,GAAnB,CADW;AAEhBqD,6BAAS,EAAEpE,kCAAK,CAAC,KAAK4C,wBAAL,CAA8B7K,KAA9B,EAAqCnI,KAAtC,CAAL,CAAkDkU,GAAlD,GAAwDvD,MAAxD,CAA+D,OAA/D,CAFK;AAGhB8D,2BAAO,EAAErE,kCAAK,CAAC,KAAK6C,sBAAL,CAA4B9K,KAA5B,EAAmCnI,KAApC,CAAL,CAAgDkU,GAAhD,GAAsDvD,MAAtD,CAA6D,OAA7D;AAHO,mBAAlB;AAKD;AACF;AACF,aArBD,MAqBO;AACL,qBAAO3L,IAAI,CAAC,SAAD,CAAX;AACD;;AACDqO,mBAAO,CAACC,GAAR,CAAYtO,IAAZ,EAAkB,KAAKwO,sBAAvB,EAA+C,KAAKC,oBAApD,EAA0E,KAAKhB,kBAAL,CAAwBjB,SAAlG,EAhCkB,CAiClB;;AACA,iBAAKpR,eAAL,CAAqB2T,oBAArB,CAA0C,KAAKzB,QAAL,CAAcqC,YAAxD,EAAsE3P,IAAtE,EAA4EJ,SAA5E,CAAsF;AACpFC,kBAAI,EAAE,cAACC,MAAD,EAAW;AACf,uBAAI,CAACzE,aAAL,CAAmB8E,WAAnB;;AACA,oBAAIL,MAAM,CAAC8P,OAAX,EAAoB;AAClB,yBAAI,CAACC,kBAAL,CAAwB/P,MAAM,CAAC6O,OAA/B,EAAwC7O,MAAM,CAACE,IAA/C;AACD,iBAFD,MAEO,IAAIF,MAAM,CAACgQ,aAAX,EAA0B;AAC/B,yBAAI,CAACX,gBAAL,CAAsB,OAAtB,EAA+BrP,MAAM,CAACgQ,aAAtC;AACD,iBAFM,MAEA;AACL,yBAAI,CAACX,gBAAL,CAAsB,OAAtB,EAA+BrP,MAAM,CAACiQ,OAAtC;AACD;AACF,eAVmF;AAWpFpT,mBAAK,EAAE,eAACA,OAAD,EAAU;AACf,uBAAI,CAACtB,aAAL,CAAmB8E,WAAnB;AACD;AAbmF,aAAtF;AAeD;AAGD;;;;;;iBAGA,yBAAgBgQ,gBAAhB,EAAwC;AAAA;;AACtC,iBAAK9U,aAAL,CAAmBkE,WAAnB;AACA,iBAAKnE,eAAL,CAAqBgV,eAArB,CAAqC,KAAK9C,QAAL,CAAcqC,YAAnD,EAAiEQ,gBAAjE,EAAmFvQ,SAAnF,CAA6F;AAC3FC,kBAAI,EAAE,cAACC,MAAD,EAAW;AACf,uBAAI,CAACzE,aAAL,CAAmB8E,WAAnB;;AACA,oBAAIL,MAAM,CAAC8P,OAAX,EAAoB;AAClB,yBAAI,CAACC,kBAAL,CAAwB/P,MAAM,CAAC6O,OAA/B,EAAwC7O,MAAM,CAAC6O,OAA/C;;AACA,yBAAI,CAACrB,QAAL,CAAcrB,aAAd,GAA8B,OAAI,CAACsB,0BAAL,CAAgCzN,MAAM,CAACE,IAAP,CAAYiM,aAA5C,EAA2D,MAA3D,CAA9B;AACD,iBAHD,MAGO;AACL,yBAAI,CAACkD,gBAAL,CAAsB,OAAtB,EAA+BrP,MAAM,CAACiQ,OAAtC;AACD;AACF,eAT0F;AAU3FpT,mBAAK,EAAE,eAACA,OAAD,EAAU;AACf,uBAAI,CAACtB,aAAL,CAAmB8E,WAAnB;AACD;AAZ0F,aAA7F;AAcD;AAED;;;;;;iBAGA,uBAAckQ,WAAd,EAAiC;AAAA;;AAC/B,iBAAKhV,aAAL,CAAmBkE,WAAnB;AACA,iBAAKnE,eAAL,CAAqBkV,aAArB,CAAmC,KAAKhD,QAAL,CAAcqC,YAAjD,EAA+DU,WAA/D,EAA4EzQ,SAA5E,CAAsF;AACpFC,kBAAI,EAAE,cAACC,MAAD,EAAW;AACf,uBAAI,CAACzE,aAAL,CAAmB8E,WAAnB;;AACA,oBAAIL,MAAM,CAAC8P,OAAX,EAAoB;AAClB,yBAAI,CAACC,kBAAL,CAAwB/P,MAAM,CAAC6O,OAA/B,EAAwC7O,MAAM,CAAC6O,OAA/C;;AACA,yBAAI,CAACrB,QAAL,CAAcpB,QAAd,GAAyB,OAAI,CAACqB,0BAAL,CAAgCzN,MAAM,CAACE,IAAP,CAAYkM,QAA5C,EAAsD,SAAtD,CAAzB;AACD,iBAHD,MAGO;AACL,yBAAI,CAACiD,gBAAL,CAAsB,OAAtB,EAA+BrP,MAAM,CAACiQ,OAAtC;AACD;AACF,eATmF;AAUpFpT,mBAAK,EAAE,eAACA,OAAD,EAAU;AACf,uBAAI,CAACtB,aAAL,CAAmB8E,WAAnB;AACD;AAZmF,aAAtF;AAcD;AAED;;;;;;;;;iBAMA,+BAAsB6O,QAAtB,EAAsC;AACpC,mBAAO5D,kCAAK,CAAC4D,QAAD,CAAL,CAAgBrD,MAAhB,CAAuB,SAAvB,CAAP;AACD;AAED;;;;;;;;iBAKA,yBAAgBwC,KAAhB,EAAqB;AACnBE,mBAAO,CAACC,GAAR,CAAYH,KAAZ;;AACA,gBAAIA,KAAK,CAACnS,IAAN,KAAe,aAAnB,EAAkC;AAChC,kBAAMuU,WAAW,GAAGnF,kCAAK,CAAC+C,KAAK,CAACnT,KAAP,CAAL,CAAmBwV,OAAnB,CAA2B,CAA3B,EAA8B7E,MAA9B,CAAqC,YAArC,CAApB;AACA,mBAAK8E,oBAAL,GAA4BF,WAA5B;AACD;AACF;AAED;;;;;;;;iBAKA,0BAAiBG,KAAjB,EAAwBC,IAAxB,EAA4B;AAC1B,iBAAKtV,aAAL,CAAmBwH,SAAnB,CAA6B,GAA7B,EAAkC8N,IAAlC;AACD;AAED;;;;;;;;iBAKA,4BAAmBD,KAAnB,EAA0BC,IAA1B,EAA8B;AAC5B,iBAAKtV,aAAL,CAAmByH,aAAnB,CAAiC,IAAjC,EAAuC6N,IAAvC;AACD;AAED;;;;;;;;iBAKA,oCAA2BC,GAA3B,EAAgCnV,IAAhC,EAA4C;AAAA;;AAC1C,gBAAI,CAACmV,GAAL,EAAU,OAAO,IAAP;;AACV,gBAAInV,IAAI,KAAK,MAAb,EAAqB;AACnB,kBAAMuE,IAAI,GAAG4Q,GAAG,CAACrN,GAAJ,CAAQ,UAAC0M,YAAD,EAAiB;;;AACpC,uDACKA,YADL,GACiB;AAAEY,wBAAM,EAAE,kBAAY,CAACA,MAAb,MAAmB,IAAnB,IAAmBvN,aAAnB,GAAmB,MAAnB,GAAmBA,GAAEC,GAAF,CAAM,UAACmN,KAAD,EAAU;AAC1D,wBAAI,CAACA,KAAK,CAACI,KAAP,IAAgBJ,KAAK,CAACI,KAAN,CAAYpD,OAAZ,CAAoB,KAApB,MAA+B,CAAC,CAApD,EAAuD,OAAOgD,KAAP;AACvD,wBAAMK,UAAU,GAAGL,KAAK,CAACI,KAAN,CAAYE,KAAZ,CAAkB,KAAlB,CAAnB;AACAD,8BAAU,CAAC,CAAD,CAAV,GAAgB3F,kCAAK,CAAC,gBAAgB2F,UAAU,CAAC,CAAD,CAA1B,GAAgC,IAAjC,EAAuC,OAAI,CAACE,eAAL,CAAqBrF,cAA5D,CAAL,CAAiFD,MAAjF,CAAwF,SAAxF,CAAhB;AACAoF,8BAAU,CAAC,CAAD,CAAV,GAAgB3F,kCAAK,CAAC,gBAAgB2F,UAAU,CAAC,CAAD,CAA1B,GAAgC,IAAjC,EAAuC,OAAI,CAACE,eAAL,CAAqBrF,cAA5D,CAAL,CAAiFD,MAAjF,CAAwF,SAAxF,CAAhB;AACA,2DAAY+E,KAAZ,GAAiB;AAAEI,2BAAK,EAAEC,UAAU,CAACG,IAAX,CAAgB,KAAhB;AAAT,qBAAjB;AACD,mBAN2C;AAA7B,iBADjB;AASD,eAVY,CAAb;AAWA,qBAAOlR,IAAP;AACD,aAbD,MAaO,IAAIvE,IAAI,KAAK,SAAb,EAAwB;AAC7B,kBAAMuE,KAAI,GAAG4Q,GAAG,CAACrN,GAAJ,CAAQ,UAAC4N,OAAD,EAAY;AAC/B,oBAAIA,OAAO,CAACN,MAAR,IAAkBM,OAAO,CAACN,MAAR,CAAevQ,MAAf,GAAwB,CAA9C,EAAiD;AAC/C,yDACK6Q,OADL,GACY;AAAEN,0BAAM,EAAEM,OAAO,CAACN,MAAR,CAAetN,GAAf,CAAmB,UAACmN,KAAD,EAAU;AAC/C,0BAAI,CAACA,KAAK,CAACI,KAAP,IAAgBJ,KAAK,CAACI,KAAN,CAAYpD,OAAZ,CAAoB,KAApB,MAA+B,CAAC,CAApD,EAAuD,OAAOgD,KAAP;AACvD,0BAAMK,UAAU,GAAGL,KAAK,CAACI,KAAN,CAAYE,KAAZ,CAAkB,KAAlB,CAAnB;AACAD,gCAAU,CAAC,CAAD,CAAV,GAAgB3F,kCAAK,CAAC,gBAAgB2F,UAAU,CAAC,CAAD,CAA1B,GAAgC,IAAjC,EAAuC,OAAI,CAACE,eAAL,CAAqBrF,cAA5D,CAAL,CAAiFD,MAAjF,CAAwF,SAAxF,CAAhB;AACAoF,gCAAU,CAAC,CAAD,CAAV,GAAgB3F,kCAAK,CAAC,gBAAgB2F,UAAU,CAAC,CAAD,CAA1B,GAAgC,IAAjC,EAAuC,OAAI,CAACE,eAAL,CAAqBrF,cAA5D,CAAL,CAAiFD,MAAjF,CAAwF,SAAxF,CAAhB;AACA,6DAAY+E,KAAZ,GAAiB;AAAEI,6BAAK,EAAEC,UAAU,CAACG,IAAX,CAAgB,KAAhB;AAAT,uBAAjB;AACD,qBANmB;AAAV,mBADZ;AASD,iBAVD,MAUO;AACL,yBAAOC,OAAP;AACD;AACF,eAdY,CAAb;;AAeA,qBAAOnR,KAAP;AACD,aAjBM,MAiBA;AACL,qBAAO4Q,GAAP;AACD;AACF;;;;;;;yBA7pBUnF,sBAAmBvQ;AAAA;;;cAAnBuQ;AAAmB1H;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;ADrBhCjJ;;AACIA;;AACIA;;;;AACJA;;AACAA;;AACIA;;AACIA;;AACIA;;AACIA;;AACIA;;AAA6CA;AAAA;AAAA;;AAA7CA;;AACAA;;AAAOA;;;;AAA+BA;;AAC1CA;;AACAA;;AACIA;;AAA4CA;AAAA;AAAA;;AAA5CA;;AACAA;;AAAOA;;;;AAA0BA;;AACrCA;;AAEJA;;AACJA;;AACAA;;AA6DAA;;AAoFJA;;AACJA;;AACAA;;AACIA;;AACIA;;AACIA;;AACJA;;AACJA;;AACJA;;AACJA;;;;AA3KQA;;AAAAA;;AAO6DA;;AAAAA;;AACtCA;;AAAAA;;AAGqCA;;AAAAA;;AACrCA;;AAAAA;;AAKDA;;AAAAA;;AA6DAA;;AAAAA;;;;;;;;;","names":["BookingTypeCategories","BookingTypeColors","value","key","_angular_core__WEBPACK_IMPORTED_MODULE_7__","BookingTypeComponent","settingsService","commonService","monitorService","cdr","label","type","onclick","submitForm","bind","bookingTypeData","assessment","placeHolder","name","idField","options","id","checked","assessmentDuration","maxLength","validation","validationFunction","_angular_forms__WEBPACK_IMPORTED_MODULE_8__","validationMessage","error","disabled","assessmentColor","getColorOptions","displayValue","selectedOption","getSelectedValue","isMultiSelect","showSelectOption","repair","isRepair","repairColor","other","otherInput","otherDuration","otherColor","other1","other1Input","other1Duration","other1Color","other2","other2Input","other2Duration","other2Color","other3","other3Input","other3Duration","other3Color","other4","other4Input","other4Duration","other4Color","assessmentId","repairId","otherId","other1Id","other2Id","other3Id","other4Id","formModel","newBookingTypeForm","formData","newBookingTypeFormModel","logEvent","showLoading","getBookingTypeColors","detectChanges","isBookingTypeFormValid","saveButtonModel","subscribe","next","result","bookingTypeColorsLookup","data","getSettings","err","hideLoading","logException","bookingTypes","length","convertSettingsData","isRepairChange","emit","repairType","repairTypes","isJobTasksEnabled","i","element","category","duration","color","otherData","filter","x","toLowerCase","isValid","isOther","some","opt","isAssessment","isOther1","isOther2","isOther3","isOther4","parseInt","toString","undefined","Object","keys","output","checkForFormValidation","refreshColorOptions","$event","onFormUpdate","payload","push","src_app_model_chq_settings_model__WEBPACK_IMPORTED_MODULE_0__","saveNewBookingType","showToast","showInfoToast","values","selected","find","excludedColors","index","includes","colorOptions","_a","map","y","reduce","acc","cur","forEach","ele","updateForm","selectors","decls","vars","consts","template","ctx","_angular_core__WEBPACK_IMPORTED_MODULE_8__","item_r3","data_r21","_r23","JobsTasksComponent","dialog","jobSettingsService","icon","accessRight","closed","rxjs__WEBPACK_IMPORTED_MODULE_9__","getJobs","CallingAPI","jobsLength","addJobButtonModel","expandControl","taskMaxLength","Math","max","repairServiceTypeTasks","tasks","r","description","j","currentTaskLength","tempObj","jobTaskGuid","isMandatory","importFromGTMotive","lastIndex","isBodyOrPaint","_b","enabledRepairTypes","jobsData","mediator","m","jobData","t","taskData","checkedRepairTypes","flatMap","_c","jobGuid","createdByUserName","tasksLength","getTasksLength","openAddTaskPopup","dialogRef","open","src_app_dialogs_add_job_dialog_add_job_dialog_component__WEBPACK_IMPORTED_MODULE_0__","width","maxWidth","height","panelClass","autoFocus","afterClosed","response","isEdit","item","src_app_dialogs_add_task_dialog_add_task_dialog_component__WEBPACK_IMPORTED_MODULE_1__","e","shouldCallUpdateJob","isUploadPhotosRequired","isAIAnalysisEnabled","isTimerEnabled","uploadImagesOptions","_d","openJobPopup","editJob","startIndex","unshift","pop","shift","openConfirmationOkDialog","deleteJobsById","casesRoutes","path","component","_booking_type_booking_type_component__WEBPACK_IMPORTED_MODULE_3__","resolve","version","src_app_resolvers_versionControl_resolver__WEBPACK_IMPORTED_MODULE_0__","_repair_type_repair_type_component__WEBPACK_IMPORTED_MODULE_6__","_jobs_tasks_jobs_tasks_component__WEBPACK_IMPORTED_MODULE_4__","_scheduling_scheduling_component__WEBPACK_IMPORTED_MODULE_7__","OperationsModule","_angular_common__WEBPACK_IMPORTED_MODULE_9__","_angular_router__WEBPACK_IMPORTED_MODULE_10__","src_app_widgets_chq_widgets_module__WEBPACK_IMPORTED_MODULE_2__","src_app_shared_shared_module__WEBPACK_IMPORTED_MODULE_1__","_angular_material_datepicker__WEBPACK_IMPORTED_MODULE_11__","_angular_material_icon__WEBPACK_IMPORTED_MODULE_12__","_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__","_angular_forms__WEBPACK_IMPORTED_MODULE_14__","declarations","_operations_layout_operations_layout_component__WEBPACK_IMPORTED_MODULE_5__","imports","exports","_angular_core__WEBPACK_IMPORTED_MODULE_6__","item_r1","RepairTypeComponent","bookingService","getRepairTypes","repairTypesData","bookingRepairId","isRepairTypeFormValid","repairTypeData","repairtypes","saveNewRepairType","i_r5","i_r25","dayjs__WEBPACK_IMPORTED_MODULE_0__","dayjs_plugin_customParseFormat__WEBPACK_IMPORTED_MODULE_1__","dayjs_plugin_weekday__WEBPACK_IMPORTED_MODULE_3__","dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_2__","timeSlotMin","SchedulingComponent","route","format","dateTimeUTC12h","dateTimeUTC24h","dateTime12h","dateTime24h","time12h","workSchedules","offTimes","day","date","minDate","Date","interval","breakType","fieldValue","durationUnit","frequencyWeekly","frequencyYearly","start","maxDate","end","userProfileData","profileResult","employeeId","userId","getEmployeeDetails","then","employee","convertTimeToLocalTimeZone","getEmployeeOffTimeType","offTimeInputModels","indexOf","workDays","workStartTimePickerModels","startTimePickerModel","workEndTimePickerModels","endTimePickerModel","offStartTimePickerModels","offEndTimePickerModels","offDays","event","startOrEnd","console","log","workStartDateInputModel","offStartDateInputModel","offEndDateInputModel","pheader","message","openConfirmYesNoDialog","res","addNewWorkHoursForTeam","addNewOffTimeForTeam","dateTime","returnFlag","utc","showErrorMessage","isDayOverlapInUTCTime","localTimeZoneString","daysList","timeSlots","startTime","endTime","addNewWorkHours","employeeGuid","success","showSuccessMessage","errorMessages","Message","isOverlap","workSchedule","addNewOffTime","workScheduleGuid","deleteWorkHours","offTimeGuid","deleteOffTime","currentDate","weekday","selectedCalendarDate","title","desc","obj","titles","hours","hoursArray","split","dateTimeFormats","join","offTime"],"sources":["webpack:///src/app/model/chq-settings-model.ts","webpack:///src/app/modules/settings/operations/booking-type/booking-type.component.html","webpack:///src/app/modules/settings/operations/booking-type/booking-type.component.ts","webpack:///src/app/modules/settings/operations/jobs-tasks/jobs-tasks.component.html","webpack:///src/app/modules/settings/operations/jobs-tasks/jobs-tasks.component.ts","webpack:///src/app/modules/settings/operations/operations.module.ts","webpack:///src/app/modules/settings/operations/repair-type/repair-type.component.html","webpack:///src/app/modules/settings/operations/repair-type/repair-type.component.ts","webpack:///src/app/modules/settings/operations/scheduling/scheduling.component.html","webpack:///src/app/modules/settings/operations/scheduling/scheduling.component.ts"],"sourcesContent":["import { ChqWidgetsDropdownModel } from './chq-widgets-dropdown-model';\r\nimport { ChqWidgetsInputModel } from './chq-widgets-input-model';\r\n\r\nexport interface AddNewBookingTypeForm {\r\n    assessment: ChqWidgetsInputModel,\r\n    assessmentDuration: ChqWidgetsInputModel,\r\n    assessmentColor: ChqWidgetsDropdownModel,\r\n    repair: ChqWidgetsInputModel,\r\n    repairColor: ChqWidgetsDropdownModel,\r\n    other: ChqWidgetsInputModel,\r\n    otherInput: ChqWidgetsInputModel,\r\n    otherDuration: ChqWidgetsInputModel,\r\n    otherColor: ChqWidgetsDropdownModel,\r\n    other1: ChqWidgetsInputModel,\r\n    other1Input: ChqWidgetsInputModel,\r\n    other1Duration: ChqWidgetsInputModel,\r\n    other1Color: ChqWidgetsDropdownModel,\r\n    other2: ChqWidgetsInputModel,\r\n    other2Input: ChqWidgetsInputModel,\r\n    other2Duration: ChqWidgetsInputModel,\r\n    other2Color: ChqWidgetsDropdownModel,\r\n    other3: ChqWidgetsInputModel,\r\n    other3Input: ChqWidgetsInputModel,\r\n    other3Duration: ChqWidgetsInputModel,\r\n    other3Color: ChqWidgetsDropdownModel,\r\n    other4: ChqWidgetsInputModel,\r\n    other4Input: ChqWidgetsInputModel,\r\n    other4Duration: ChqWidgetsInputModel,\r\n    other4Color: ChqWidgetsDropdownModel\r\n}\r\n\r\nexport interface BookingTypeFormModel {\r\n    assessment: boolean;\r\n    assessmentDuration: number;\r\n    assessmentId: number;\r\n    assessmentColor: string;\r\n    isRepair: boolean;\r\n    repairId: number;\r\n    repairColor: string;\r\n    other: string;\r\n    otherDuration: number;\r\n    otherId: number;\r\n    otherColor: string;\r\n    other1: string;\r\n    other1Duration: number;\r\n    other1Id: number;\r\n    other1Color: string;\r\n    other2: string;\r\n    other2Duration: number;\r\n    other2Id: number;\r\n    other2Color: string;\r\n    other3: string;\r\n    other3Duration: number;\r\n    other3Id: number;\r\n    other3Color: string;\r\n    other4: string;\r\n    other4Duration: number;\r\n    other4Id: number;\r\n    other4Color: string;\r\n}\r\nexport interface RepairTypeFormModel {\r\n    bookingRepairId: number,\r\n    repairtypes: number[]\r\n}\r\n\r\nexport const BookingTypeCategories = {\r\n  'Assessment': 'Assessment',\r\n  'Repair': 'Repair',\r\n  'Other': 'Other'\r\n}\r\n\r\nexport const BookingTypeColors = [\r\n  { value: 'Green', key: '#03A31B' },\r\n  { value: 'Blue', key: '#3B82F6' },\r\n  { value: 'Red', key: '#B53E3E' },\r\n  { value: 'Orange', key: '#F88318' },\r\n  { value: 'Yellow', key: '#FEF301' },\r\n  { value: 'Violet', key: '#4b0082' },\r\n  { value: 'Indigo', key: '#e5d0ff' },\r\n\r\n]","<div class=\"page-container-booking-type\">\r\n    <div class=\"booking-type-wrapper\">\r\n        <form class=\"booking-type-form\">\r\n            <div class=\"main-div\">\r\n                <p class=\"header-label\">{{'booking_type_header' | translate}}</p>\r\n                <div class=\"main-container\">\r\n                    <div class=\"left-div fx-1\">\r\n                        <div class=\"repair-wrapper fx-row booking-type-container\">\r\n                            <div class=\"repair-checkbox\">\r\n                                <chq-input [inputModel]=\"formModel.repair\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"input-field text-only\">\r\n                                <span>{{'repair' | translate}}</span>\r\n                            </div>\r\n                            <div class=\"color-dropdown\">\r\n                                <chq-dropdown [dropdownModel]=\"formModel.repairColor\" (selected)=\"selectFilter($event)\">\r\n                                </chq-dropdown>\r\n                            </div>\r\n                            <div class=\"color\" *ngIf=\"formModel.repairColor?.selectedOption.name\">\r\n                                <div [ngStyle]=\"{'background': formModel.repairColor?.selectedOption.name}\"></div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"vector\"></div>\r\n                        <div class=\"assessment-wrapper fx-row booking-type-container\">\r\n                            <div class=\"assessment-checkbox\">\r\n                                <chq-input [inputModel]=\"formModel.assessment\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"input-field text-only\">\r\n                                <span>{{'assessment' | translate}}</span>\r\n                            </div>\r\n                            <div class=\"time-wrapper\">\r\n                                <chq-input class=\"time-input\" [inputModel]=\"formModel.assessmentDuration\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"color-dropdown\">\r\n                                <chq-dropdown [dropdownModel]=\"formModel.assessmentColor\" (selected)=\"selectFilter($event)\">\r\n                                </chq-dropdown>\r\n                            </div>\r\n                            <div class=\"color\" *ngIf=\"formModel.assessmentColor?.selectedOption.name\">\r\n                                <div [ngStyle]=\"{'background': formModel.assessmentColor?.selectedOption.name}\"></div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"vector\"></div>\r\n                        <div class=\"other-wrapper fx-row booking-type-container\">\r\n                            <div class=\"other-checkbox\">\r\n                                <chq-input [inputModel]=\"formModel.other\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"input-field\">\r\n                                <chq-input [inputModel]=\"formModel.otherInput\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"time-wrapper\">\r\n                                <chq-input class=\"time-input\" [inputModel]=\"formModel.otherDuration\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"color-dropdown\">\r\n                                <chq-dropdown [dropdownModel]=\"formModel.otherColor\"\r\n                                 (selected)=\"selectFilter($event)\">\r\n                                </chq-dropdown>\r\n                            </div>\r\n                            <div class=\"color\" *ngIf=\"formModel.otherColor?.selectedOption.name\">\r\n                                <div [ngStyle]=\"{'background': formModel.otherColor?.selectedOption.name}\"></div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class=\"vector\"></div>\r\n                        <div class=\"other-wrapper fx-row booking-type-container\">\r\n                            <div class=\"other-checkbox\">\r\n                                <chq-input [inputModel]=\"formModel.other1\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"input-field\">\r\n                                <chq-input [inputModel]=\"formModel.other1Input\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"time-wrapper\">\r\n                                <chq-input class=\"time-input\" [inputModel]=\"formModel.other1Duration\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"color-dropdown\">\r\n                                <chq-dropdown [dropdownModel]=\"formModel.other1Color\" \r\n                                (selected)=\"selectFilter($event)\">\r\n                                </chq-dropdown>\r\n                            </div>\r\n                            <div class=\"color\" *ngIf=\"formModel.other1Color?.selectedOption.name\">\r\n                                <div [ngStyle]=\"{'background': formModel.other1Color?.selectedOption.name}\"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"vector hr-show-sm\" ></div>\r\n                    <div class=\"right-div fx-1\">\r\n                        <div class=\"other-wrapper fx-row booking-type-container\">\r\n                            <div class=\"other-checkbox\">\r\n                                <chq-input [inputModel]=\"formModel.other2\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"input-field\">\r\n                                <chq-input [inputModel]=\"formModel.other2Input\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"time-wrapper\">\r\n                                <chq-input class=\"time-input\" [inputModel]=\"formModel.other2Duration\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"color-dropdown\">\r\n                                <chq-dropdown [dropdownModel]=\"formModel.other2Color\" \r\n                                 (selected)=\"selectFilter($event)\">\r\n                                </chq-dropdown>\r\n                            </div>\r\n                            <div class=\"color\" *ngIf=\"formModel.other2Color?.selectedOption.name\">\r\n                                <div [ngStyle]=\"{'background': formModel.other2Color?.selectedOption.name}\"></div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class=\"vector\"></div>\r\n                        <div class=\"other-wrapper fx-row booking-type-container\">\r\n                            <div class=\"other-checkbox\">\r\n                                <chq-input [inputModel]=\"formModel.other3\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"input-field\">\r\n                                <chq-input [inputModel]=\"formModel.other3Input\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"time-wrapper\">\r\n                                <chq-input class=\"time-input\" [inputModel]=\"formModel.other3Duration\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"color-dropdown\">\r\n                                <chq-dropdown [dropdownModel]=\"formModel.other3Color\"\r\n                                (selected)=\"selectFilter($event)\">\r\n                            </chq-dropdown>\r\n                            </div>\r\n                            <div class=\"color\" *ngIf=\"formModel.other3Color?.selectedOption.name\">\r\n                                <div [ngStyle]=\"{'background': formModel.other3Color?.selectedOption.name}\"></div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"vector\"></div>\r\n                        <div class=\"other-wrapper fx-row booking-type-container\">\r\n                            <div class=\"other-checkbox\">\r\n                                <chq-input [inputModel]=\"formModel.other4\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"input-field\">\r\n                                <chq-input [inputModel]=\"formModel.other4Input\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"time-wrapper\">\r\n                                <chq-input class=\"time-input\" [inputModel]=\"formModel.other4Duration\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"color-dropdown\">\r\n                                <chq-dropdown [dropdownModel]=\"formModel.other4Color\"\r\n                                  (selected)=\"selectFilter($event)\">\r\n                                </chq-dropdown>\r\n                            </div>\r\n                            <div class=\"color\" *ngIf=\"formModel.other4Color?.selectedOption.name\">\r\n                                <div [ngStyle]=\"{'background': formModel.other4Color?.selectedOption.name}\"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/addenda-repair.png\" />\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <chq-button class=\"footer-save-button-wrapper\" [buttonModel]=\"saveButtonModel\"></chq-button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { ValidationErrors, ValidatorFn, Validators } from '@angular/forms';\r\nimport { AddNewBookingTypeForm, BookingTypeCategories, BookingTypeFormModel } from 'src/app/model/chq-settings-model';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { IControlValue } from 'src/app/model/chq-widgets-input-model';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\r\nimport { SettingsService } from 'src/app/services/settings/settings.service';\r\n\r\n@Component({\r\n  selector: 'app-booking-type',\r\n  templateUrl: './booking-type.component.html',\r\n  styleUrls: [ './booking-type.component.scss' ]\r\n})\r\n\r\nexport class BookingTypeComponent implements OnInit {\r\n  bookingTypeColorsLookup: any[] = [];\r\n  showToast: boolean = true;\r\n\r\n  /**\r\n     * constructor\r\n     * @param router \r\n     */\r\n  constructor(\r\n    private settingsService: SettingsService,\r\n    private commonService: CommonService,\r\n    public monitorService: MonitorService,\r\n    private cdr: ChangeDetectorRef\r\n  ) {\r\n    this.formModel = this.newBookingTypeForm();\r\n    this.formData = this.newBookingTypeFormModel();\r\n  }\r\n\r\n  public saveButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'save',\r\n    type: 'disabled',\r\n    onclick: this.submitForm.bind(this)\r\n  }\r\n\r\n  newBookingTypeForm = (bookingTypeData?): AddNewBookingTypeForm => {\r\n    return {\r\n      assessment: {\r\n        placeHolder: '',\r\n        label: '',\r\n        name: 'assessment',\r\n        idField: 'assessment',\r\n        value: '',\r\n        type: 'checkbox',\r\n        options: [ { label: '', id: 1, checked: bookingTypeData ? bookingTypeData.assessment : false } ],\r\n      },\r\n      assessmentDuration: {\r\n        placeHolder: 'time',\r\n        name: 'assessmentDuration',\r\n        label: 'time_min',\r\n        value: bookingTypeData ? bookingTypeData.assessmentDuration : null,\r\n        type: 'number',\r\n        maxLength: 3,\r\n        validation: {\r\n          name: 'assessmentDuration',\r\n          validationFunction: (): ValidatorFn => {\r\n            return Validators.compose([ Validators.minLength(1), Validators.maxLength(3), Validators.pattern('^[0-9]+$'), Validators.min(1) ])\r\n          },\r\n          validationMessage: (error: ValidationErrors): string => {\r\n            if (error['minlength']) {\r\n              return 'Time should have min 1 characters'\r\n            }\r\n            if (error['maxlength']) {\r\n              return 'Time should have max 3 characters'\r\n            }\r\n            if (error['pattern']) {\r\n              return 'Only numeric characters are allowed'\r\n            }\r\n            if (error['min']) {\r\n              return 'Time should be greater than or equal to 1.'\r\n            }\r\n            return '';\r\n          }\r\n        },\r\n        disabled: bookingTypeData && bookingTypeData.assessment ? false : true\r\n      },\r\n      assessmentColor: {\r\n        options: bookingTypeData ? this.getColorOptions('assessmentColor', bookingTypeData) : [],\r\n        placeHolder: 'color_selection',\r\n        label: '',\r\n        name: 'assessmentColor',\r\n        displayValue: 'description',\r\n        selectedOption: bookingTypeData ? this.getSelectedValue('assessmentColor', bookingTypeData) : {},\r\n        isMultiSelect: false,\r\n        showSelectOption: true,\r\n        disabled: bookingTypeData && bookingTypeData.assessment ? false : true\r\n      },\r\n      repair: {\r\n        placeHolder: '',\r\n        label: '',\r\n        name: 'repair',\r\n        idField: 'repairId',\r\n        value: '',\r\n        type: 'checkbox',\r\n        options: [ { label: '', id: 1, checked: bookingTypeData ? bookingTypeData.isRepair : false } ],\r\n      },\r\n      repairColor: {\r\n        options: bookingTypeData ? this.getColorOptions('repairColor', bookingTypeData) : [],\r\n        placeHolder: 'color_selection',\r\n        label: '',\r\n        name: 'repairColor',\r\n        displayValue: 'description',\r\n        selectedOption: bookingTypeData ? this.getSelectedValue('repairColor', bookingTypeData) : {},\r\n        isMultiSelect: false,\r\n        showSelectOption: true,\r\n        disabled: bookingTypeData && bookingTypeData.isRepair ? false : true\r\n      },\r\n      other: {\r\n        placeHolder: '',\r\n        label: '',\r\n        name: 'other',\r\n        idField: 'other',\r\n        value: '',\r\n        type: 'checkbox',\r\n        options: [ { label: '', id: 1, checked: bookingTypeData ? bookingTypeData.other : false } ],\r\n        disabled: bookingTypeData && bookingTypeData.other ? false : true\r\n      },\r\n      otherInput: {\r\n        placeHolder: 'enter_booking_type',\r\n        label: '',\r\n        name: 'otherInput',\r\n        idField: 'otherInput',\r\n        value: bookingTypeData ? bookingTypeData.other : '',\r\n        type: 'text',\r\n        maxLength: 50,\r\n        disabled: bookingTypeData && bookingTypeData.other ? false : true,\r\n        validation: {\r\n          name: 'otherInput',\r\n          validationFunction: (): ValidatorFn => {\r\n            return Validators.compose([ Validators.minLength(4), Validators.maxLength(50), Validators.pattern(/^[a-z\\d\\s]+$/i) ])\r\n          },\r\n          validationMessage: (error: ValidationErrors): string => {\r\n            if (error['minlength']) {\r\n              return 'This field should have min 4 characters'\r\n            }\r\n            if (error['maxlength']) {\r\n              return 'This field should have max 50 characters'\r\n            }\r\n            if (error['pattern']) {\r\n              return 'Only alphanumberic characters are allowed'\r\n            }\r\n            return '';\r\n          }\r\n        }\r\n      },\r\n      otherDuration: {\r\n        placeHolder: 'time',\r\n        name: 'otherDuration',\r\n        label: 'time_min',\r\n        value: bookingTypeData ? bookingTypeData.otherDuration : 0,\r\n        type: 'number',\r\n        maxLength: 3,\r\n        disabled: bookingTypeData && bookingTypeData.other ? false : true,\r\n        validation: {\r\n          name: 'otherDuration',\r\n          validationFunction: (): ValidatorFn => {\r\n            return Validators.compose([ Validators.minLength(1), Validators.maxLength(3), Validators.pattern('^[0-9]+$'), Validators.min(1) ])\r\n          },\r\n          validationMessage: (error: ValidationErrors): string => {\r\n            if (error['minlength']) {\r\n              return 'Time should have min 1 characters'\r\n            }\r\n            if (error['maxlength']) {\r\n              return 'Time should have max 3 characters'\r\n            }\r\n            if (error['pattern']) {\r\n              return 'Only numeric characters are allowed'\r\n            }\r\n            if (error['min']) {\r\n              return 'Time should be greater than or equal to 1.'\r\n            }\r\n            return '';\r\n          }\r\n        }\r\n      },\r\n      otherColor: {\r\n        options: bookingTypeData ? this.getColorOptions('otherColor', bookingTypeData) : [],\r\n        placeHolder: 'color_selection',\r\n        label: '',\r\n        name: 'otherColor',\r\n        displayValue: 'description',\r\n        selectedOption: bookingTypeData ? this.getSelectedValue('otherColor', bookingTypeData) : {},\r\n        isMultiSelect: false,\r\n        showSelectOption: true,\r\n        disabled: bookingTypeData && bookingTypeData.other ? false : true\r\n      },\r\n      other1: {\r\n        placeHolder: '',\r\n        label: '',\r\n        name: 'other1',\r\n        idField: 'other1',\r\n        value: '',\r\n        type: 'checkbox',\r\n        options: [ { label: '', id: 1, checked: bookingTypeData ? bookingTypeData.other1 : false } ],\r\n        disabled: bookingTypeData && bookingTypeData.other1 ? false : true\r\n      },\r\n      other1Input: {\r\n        placeHolder: 'enter_booking_type',\r\n        label: '',\r\n        name: 'other1Input',\r\n        idField: 'other1Input',\r\n        value: bookingTypeData ? bookingTypeData.other1 : '',\r\n        type: 'text',\r\n        maxLength: 50,\r\n        disabled: bookingTypeData && bookingTypeData.other1 ? false : true,\r\n        validation: {\r\n          name: 'other1Input',\r\n          validationFunction: (): ValidatorFn => {\r\n            return Validators.compose([ Validators.minLength(4), Validators.maxLength(50), Validators.pattern(/^[a-z\\d\\s]+$/i) ])\r\n          },\r\n          validationMessage: (error: ValidationErrors): string => {\r\n            if (error['minlength']) {\r\n              return 'This field should have min 4 characters'\r\n            }\r\n            if (error['maxlength']) {\r\n              return 'This field should have max 50 characters'\r\n            }\r\n            if (error['pattern']) {\r\n              return 'Only alphanumberic characters are allowed'\r\n            }\r\n            return '';\r\n          }\r\n        }\r\n      },\r\n      other1Duration: {\r\n        placeHolder: 'time',\r\n        name: 'other1Duration',\r\n        label: 'time_min',\r\n        value: bookingTypeData ? bookingTypeData.other1Duration : 0,\r\n        type: 'number',\r\n        maxLength: 3,\r\n        disabled: bookingTypeData && bookingTypeData.other1 ? false : true,\r\n        validation: {\r\n          name: 'other1Duration',\r\n          validationFunction: (): ValidatorFn => {\r\n            return Validators.compose([ Validators.minLength(1), Validators.maxLength(3), Validators.pattern('^[0-9]+$'), Validators.min(1) ])\r\n          },\r\n          validationMessage: (error: ValidationErrors): string => {\r\n            if (error['minlength']) {\r\n              return 'Time should have min 1 characters'\r\n            }\r\n            if (error['maxlength']) {\r\n              return 'Time should have max 3 characters'\r\n            }\r\n            if (error['pattern']) {\r\n              return 'Only numeric characters are allowed'\r\n            }\r\n            if (error['min']) {\r\n              return 'Time should be greater than or equal to 1.'\r\n            }\r\n            return '';\r\n          }\r\n        }\r\n      },\r\n      other1Color: {\r\n        options: bookingTypeData ? this.getColorOptions('other1Color', bookingTypeData) : [],\r\n        placeHolder: 'color_selection',\r\n        label: '',\r\n        name: 'other1Color',\r\n        displayValue: 'description',\r\n        selectedOption: bookingTypeData ? this.getSelectedValue('other1Color', bookingTypeData) : {},\r\n        isMultiSelect: false,\r\n        showSelectOption: true,\r\n        disabled: bookingTypeData && bookingTypeData.other1 ? false : true,\r\n      },\r\n      other2: {\r\n        placeHolder: '',\r\n        label: '',\r\n        name: 'other2',\r\n        idField: 'other2',\r\n        value: '',\r\n        type: 'checkbox',\r\n        options: [ { label: '', id: 1, checked: bookingTypeData ? bookingTypeData.other2 : false } ],\r\n        disabled: bookingTypeData && bookingTypeData.other2 ? false : true\r\n      },\r\n      other2Input: {\r\n        placeHolder: 'enter_booking_type',\r\n        label: '',\r\n        name: 'other2Input',\r\n        idField: 'other2Input',\r\n        value: bookingTypeData ? bookingTypeData.other2 : '',\r\n        type: 'text',\r\n        maxLength: 50,\r\n        disabled: bookingTypeData && bookingTypeData.other2 ? false : true,\r\n        validation: {\r\n          name: 'other2Input',\r\n          validationFunction: (): ValidatorFn => {\r\n            return Validators.compose([ Validators.minLength(4), Validators.maxLength(50), Validators.pattern(/^[a-z\\d\\s]+$/i) ])\r\n          },\r\n          validationMessage: (error: ValidationErrors): string => {\r\n            if (error['minlength']) {\r\n              return 'This field should have min 4 characters'\r\n            }\r\n            if (error['maxlength']) {\r\n              return 'This field should have max 50 characters'\r\n            }\r\n            if (error['pattern']) {\r\n              return 'Only alphanumberic characters are allowed'\r\n            }\r\n            return '';\r\n          }\r\n        }\r\n      },\r\n      other2Duration: {\r\n        placeHolder: 'time',\r\n        name: 'other2Duration',\r\n        label: 'time_min',\r\n        value: bookingTypeData ? bookingTypeData.other2Duration : 0,\r\n        type: 'number',\r\n        maxLength: 3,\r\n        disabled: bookingTypeData && bookingTypeData.other2 ? false : true,\r\n        validation: {\r\n          name: 'other2Duration',\r\n          validationFunction: (): ValidatorFn => {\r\n            return Validators.compose([ Validators.minLength(1), Validators.maxLength(3), Validators.pattern('^[0-9]+$'), Validators.min(1) ])\r\n          },\r\n          validationMessage: (error: ValidationErrors): string => {\r\n            if (error['minlength']) {\r\n              return 'Time should have min 1 characters'\r\n            }\r\n            if (error['maxlength']) {\r\n              return 'Time should have max 3 characters'\r\n            }\r\n            if (error['pattern']) {\r\n              return 'Only numeric characters are allowed'\r\n            }\r\n            if (error['min']) {\r\n              return 'Time should be greater than or equal to 1.'\r\n            }\r\n            return '';\r\n          }\r\n        }\r\n      },\r\n      other2Color: {\r\n        options: bookingTypeData ? this.getColorOptions('other2Color', bookingTypeData) : [],\r\n        placeHolder: 'color_selection',\r\n        label: '',\r\n        name: 'other2Color',\r\n        displayValue: 'description',\r\n        selectedOption: bookingTypeData ? this.getSelectedValue('other2Color', bookingTypeData) : {},\r\n        isMultiSelect: false,\r\n        showSelectOption: true,\r\n        disabled: bookingTypeData && bookingTypeData.other2 ? false : true\r\n      },\r\n      other3: {\r\n        placeHolder: '',\r\n        label: '',\r\n        name: 'other3',\r\n        idField: 'other3',\r\n        value: '',\r\n        type: 'checkbox',\r\n        options: [ { label: '', id: 1, checked: bookingTypeData ? bookingTypeData.other3 : false } ],\r\n      },\r\n      other3Input: {\r\n        placeHolder: 'enter_booking_type',\r\n        label: '',\r\n        name: 'other3Input',\r\n        idField: 'other3Input',\r\n        value: bookingTypeData ? bookingTypeData.other3 : '',\r\n        type: 'text',\r\n        maxLength: 50,\r\n        disabled: bookingTypeData && bookingTypeData.other3 ? false : true,\r\n        validation: {\r\n          name: 'other3Input',\r\n          validationFunction: (): ValidatorFn => {\r\n            return Validators.compose([ Validators.minLength(4), Validators.maxLength(50), Validators.pattern(/^[a-z\\d\\s]+$/i) ])\r\n          },\r\n          validationMessage: (error: ValidationErrors): string => {\r\n            if (error['minlength']) {\r\n              return 'This field should have min 4 characters'\r\n            }\r\n            if (error['maxlength']) {\r\n              return 'This field should have max 50 characters'\r\n            }\r\n            if (error['pattern']) {\r\n              return 'Only alphanumberic characters are allowed'\r\n            }\r\n            return '';\r\n          }\r\n        }\r\n      },\r\n      other3Duration: {\r\n        placeHolder: 'time',\r\n        name: 'other3Duration',\r\n        label: 'time_min',\r\n        value: bookingTypeData ? bookingTypeData.other3Duration : 0,\r\n        type: 'number',\r\n        maxLength: 3,\r\n        disabled: bookingTypeData && bookingTypeData.other3 ? false : true,\r\n        validation: {\r\n          name: 'other3Duration',\r\n          validationFunction: (): ValidatorFn => {\r\n            return Validators.compose([ Validators.minLength(1), Validators.maxLength(3), Validators.pattern('^[0-9]+$'), Validators.min(1) ])\r\n          },\r\n          validationMessage: (error: ValidationErrors): string => {\r\n            if (error['minlength']) {\r\n              return 'Time should have min 1 characters'\r\n            }\r\n            if (error['maxlength']) {\r\n              return 'Time should have max 3 characters'\r\n            }\r\n            if (error['pattern']) {\r\n              return 'Only numeric characters are allowed'\r\n            }\r\n            if (error['min']) {\r\n              return 'Time should be greater than or equal to 1.'\r\n            }\r\n            return '';\r\n          }\r\n        }\r\n      },\r\n      other3Color: {\r\n        options: bookingTypeData ? this.getColorOptions('other3Color', bookingTypeData) : [],\r\n        placeHolder: 'color_selection',\r\n        label: '',\r\n        name: 'other3Color',\r\n        displayValue: 'description',\r\n        selectedOption: bookingTypeData ? this.getSelectedValue('other3Color', bookingTypeData) : {},\r\n        isMultiSelect: false,\r\n        showSelectOption: true,\r\n        disabled: bookingTypeData && bookingTypeData.other3 ? false : true\r\n      },\r\n      other4: {\r\n        placeHolder: '',\r\n        label: '',\r\n        name: 'other4',\r\n        idField: 'other4',\r\n        value: '',\r\n        type: 'checkbox',\r\n        options: [ { label: '', id: 1, checked: bookingTypeData ? bookingTypeData.other4 : false } ]\r\n      },\r\n      other4Input: {\r\n        placeHolder: 'enter_booking_type',\r\n        label: '',\r\n        name: 'other4Input',\r\n        idField: 'other4Input',\r\n        value: bookingTypeData ? bookingTypeData.other4 : '',\r\n        type: 'text',\r\n        maxLength: 50,\r\n        disabled: bookingTypeData && bookingTypeData.other4 ? false : true,\r\n        validation: {\r\n          name: 'other4Input',\r\n          validationFunction: (): ValidatorFn => {\r\n            return Validators.compose([ Validators.minLength(4), Validators.maxLength(50), Validators.pattern(/^[a-z\\d\\s]+$/i) ])\r\n          },\r\n          validationMessage: (error: ValidationErrors): string => {\r\n            if (error['minlength']) {\r\n              return 'This field should have min 4 characters'\r\n            }\r\n            if (error['maxlength']) {\r\n              return 'This field should have max 50 characters'\r\n            }\r\n            if (error['pattern']) {\r\n              return 'Only alphanumberic characters are allowed'\r\n            }\r\n            return '';\r\n          }\r\n        }\r\n      },\r\n      other4Duration: {\r\n        placeHolder: 'time',\r\n        name: 'other4Duration',\r\n        label: 'time_min',\r\n        value: bookingTypeData ? bookingTypeData.other4Duration : 0,\r\n        type: 'number',\r\n        maxLength: 3,\r\n        disabled: bookingTypeData && bookingTypeData.other4 ? false : true,\r\n        validation: {\r\n          name: 'other4Duration',\r\n          validationFunction: (): ValidatorFn => {\r\n            return Validators.compose([ Validators.minLength(1), Validators.maxLength(3), Validators.pattern('^[0-9]+$'), Validators.min(1) ])\r\n          },\r\n          validationMessage: (error: ValidationErrors): string => {\r\n            if (error['minlength']) {\r\n              return 'Time should have min 1 characters'\r\n            }\r\n            if (error['maxlength']) {\r\n              return 'Time should have max 3 characters'\r\n            }\r\n            if (error['pattern']) {\r\n              return 'Only numeric characters are allowed'\r\n            }\r\n            if (error['min']) {\r\n              return 'Time should be greater than or equal to 1.'\r\n            }\r\n            return '';\r\n          }\r\n        }\r\n      },\r\n      other4Color: {\r\n        options: bookingTypeData ? this.getColorOptions('other4Color', bookingTypeData) : [],\r\n        placeHolder: 'color_selection',\r\n        label: '',\r\n        name: 'other4Color',\r\n        displayValue: 'description',\r\n        selectedOption: bookingTypeData ? this.getSelectedValue('other4Color', bookingTypeData) : {},\r\n        isMultiSelect: false,\r\n        showSelectOption: true,\r\n        disabled: bookingTypeData && bookingTypeData.other4 ? false : true\r\n      },\r\n    }\r\n  }\r\n\r\n  newBookingTypeFormModel = (): BookingTypeFormModel => {\r\n    return {\r\n      assessment: false,\r\n      assessmentDuration: null,\r\n      assessmentId: null,\r\n      assessmentColor: '',\r\n      isRepair: false,\r\n      repairId: null,\r\n      repairColor: '',\r\n      other: '',\r\n      otherDuration: 0,\r\n      otherId: null,\r\n      otherColor: '',\r\n      other1: '',\r\n      other1Duration: 0,\r\n      other1Id: null,\r\n      other1Color: '',\r\n      other2: '',\r\n      other2Duration: 0,\r\n      other2Id: null,\r\n      other2Color: '',\r\n      other3: '',\r\n      other3Duration: 0,\r\n      other3Id: null,\r\n      other3Color: '',\r\n      other4: '',\r\n      other4Duration: 0,\r\n      other4Id: null,\r\n      other4Color: ''\r\n    };\r\n\r\n  }\r\n\r\n  public formModel?: AddNewBookingTypeForm;\r\n  public formData: BookingTypeFormModel;\r\n  /**\r\n   * on init\r\n   */\r\n  ngOnInit(): void {\r\n    this.monitorService.logEvent('ngOnInit', [ 'BookingTypeComponent', 'addenda-repair' ]);\r\n    this.commonService.showLoading();\r\n    this.getBookingTypeColors();\r\n  }\r\n\r\n  /**\r\n   * after view init\r\n   */\r\n  ngAfterViewInit(): void {\r\n    //Called after ngAfterContentInit when the component's view has been initialized. Applies to components only.\r\n    //Add 'implements AfterViewInit' to the class.\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  /**\r\n  * check for form validation and set button type\r\n  * @returns {void}\r\n */\r\n  checkForFormValidation(): void {\r\n    if (this.isBookingTypeFormValid()) {\r\n      this.saveButtonModel.type = 'primary';\r\n    } else {\r\n      this.saveButtonModel.type = 'disabled';\r\n    }\r\n  }\r\n\r\n  /**\r\n * check for form validation and set button type\r\n * @returns {void}\r\n*/\r\n  getBookingTypeColors(): void {\r\n    this.settingsService.getBookingTypeColors().subscribe({\r\n      next: (result: any) => {\r\n        this.bookingTypeColorsLookup = result.data;\r\n        this.getSettings();\r\n      }, error: (err: any) => {\r\n        this.commonService.hideLoading();\r\n        this.monitorService.logException(err);\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * get settings\r\n   */\r\n  getSettings(): void {\r\n    this.settingsService.getSettings().subscribe({\r\n      next: (result: any) => {\r\n        let bookingTypes = null;\r\n        if (result && result.data && result.data.bookingTypes && result.data.bookingTypes.length) {\r\n          bookingTypes = this.convertSettingsData(result.data.bookingTypes)\r\n          this.formModel = this.newBookingTypeForm(bookingTypes);\r\n          this.settingsService.isRepairChange.emit(bookingTypes.isRepair)\r\n        } else {\r\n          this.formData.assessment = true\r\n          this.formData.assessmentDuration = 30\r\n          this.formModel = this.newBookingTypeForm(this.formData);\r\n        }\r\n        if (result && result.data && result.data.repairType && result.data.repairType.repairTypes) {\r\n          this.settingsService.isJobTasksEnabled.emit(result.data.repairType.repairTypes.length > 0 ? true : false)\r\n        }\r\n        this.commonService.hideLoading();\r\n      },\r\n      error: (err: any) => {\r\n        this.commonService.hideLoading();\r\n        this.monitorService.logException(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n    * convert settings data\r\n    */\r\n  convertSettingsData(data: any): BookingTypeFormModel {\r\n    for (let i = 0; i < data.length; i++) {\r\n      const element = data[i];\r\n\r\n      switch (element.category) {\r\n      case 'Assessment':\r\n        this.formData.assessmentDuration = element.duration;\r\n        this.formData.assessment = true;\r\n        this.formData.assessmentId = element.id;\r\n        this.formData.assessmentColor = element.color;\r\n        break;\r\n\r\n      case 'Repair':\r\n        this.formData.isRepair = true;\r\n        this.formData.repairId = element.id;\r\n        this.formData.repairColor = element.color;\r\n        break;\r\n      default:\r\n        break;\r\n      }\r\n    }\r\n    const otherData = data.filter(x => x.category.toLowerCase() === 'other');\r\n    for (let i = 0; i < otherData.length; i++) {\r\n      const element = otherData[i];\r\n      if (i === 0) {\r\n        this.formData.other = element.name;\r\n        this.formData.otherDuration = element.duration;\r\n        this.formData.otherId = element.id;\r\n        this.formData.otherColor = element.color;\r\n      } else {\r\n        this.formData[`other${i}`] = element.name;\r\n        this.formData[`other${i}Duration`] = element.duration;\r\n        this.formData[`other${i}Id`] = element.id;\r\n        this.formData[`other${i}Color`] = element.color;\r\n      }\r\n    }\r\n    return this.formData\r\n  }\r\n\r\n  /**\r\n   * check for form validation\r\n   * @returns {void}\r\n   */\r\n  isBookingTypeFormValid(): boolean {\r\n    let isValid = true;\r\n    const isOther = this.formModel.other.options.some((opt: any) => opt.checked === true || opt.checked != '');\r\n    const isAssessment = this.formModel.assessment.options.some((opt: any) => opt.checked === true);\r\n    const isRepair = this.formModel.repair.options.some((opt: any) => opt.checked === true);\r\n    const isOther1 = this.formModel.other1.options.some((opt: any) => opt.checked === true || opt.checked != '');\r\n    const isOther2 = this.formModel.other2.options.some((opt: any) => opt.checked === true || opt.checked != '');\r\n    const isOther3 = this.formModel.other3.options.some((opt: any) => opt.checked === true || opt.checked != '');\r\n    const isOther4 = this.formModel.other4.options.some((opt: any) => opt.checked === true || opt.checked != '');\r\n\r\n    if (isAssessment && (this.formModel.assessmentDuration.value == '' || parseInt(this.formModel.assessmentDuration.value.toString()) < 1 || this.formModel.assessmentColor.selectedOption.name === undefined)) {\r\n      isValid = false;\r\n    }\r\n    if (isOther && (this.formModel.otherInput.value == '' || this.formModel.otherDuration.value == 0 || (Object.keys(this.formModel.otherColor.selectedOption).length === 0 || this.formModel.otherColor.selectedOption.name === ''))) {\r\n      isValid = false;\r\n    }\r\n    if (isOther1 && (this.formModel.other1Input.value == '' || this.formModel.other1Duration.value == 0 || (Object.keys(this.formModel.other1Color.selectedOption).length === 0 || this.formModel.other1Color.selectedOption.name === ''))) {\r\n      isValid = false;\r\n    }\r\n    if (isOther2 && (this.formModel.other2Input.value == '' || this.formModel.other2Duration.value == 0 || (Object.keys(this.formModel.other2Color.selectedOption).length === 0 || this.formModel.other2Color.selectedOption.name === ''))) {\r\n      isValid = false;\r\n    }\r\n    if (isOther3 && (this.formModel.other3Input.value == '' || this.formModel.other3Duration.value == 0 || (Object.keys(this.formModel.other3Color.selectedOption).length === 0 || this.formModel.other3Color.selectedOption.name === ''))) {\r\n      isValid = false;\r\n    }\r\n    if (isOther4 && (this.formModel.other4Input.value == '' || this.formModel.other4Duration.value == 0 || (Object.keys(this.formModel.other4Color.selectedOption).length === 0 || this.formModel.other4Color.selectedOption.name === ''))) {\r\n      isValid = false;\r\n    }\r\n    if (isRepair && (Object.keys(this.formModel.repairColor.selectedOption).length === 0 || this.formModel.repairColor.selectedOption.name === '')) {\r\n      isValid = false;\r\n    }\r\n    return isValid;\r\n  }\r\n\r\n  /**\r\n  Updates the form model and form data based on the output received.assessmentDuration\r\n  @param {IControlValue} output - The output received from the form control.\r\n  @returns {void}\r\n*/\r\n  onFormUpdate(output: IControlValue): void {\r\n    if (output) {\r\n      if (output.type === 'number') {\r\n        this.formModel[output.name].value = parseInt(output.value);\r\n      } else {\r\n        this.formModel[output.name].value = output.value;\r\n      }\r\n      if (output.name == 'repair') {\r\n        if (output.value == true) {\r\n          this.formModel.repairColor = { ...this.formModel.repairColor, disabled: false };\r\n        } else {\r\n          this.formModel.repairColor = { ...this.formModel.repairColor, selectedOption: {}, disabled: true };\r\n        }\r\n      }\r\n      if (output.name == 'assessment') {\r\n        if (output.value == true) {\r\n          this.formModel.assessmentDuration = { ...this.formModel.assessmentDuration, disabled: false, value: 30 };\r\n          this.formModel.assessmentColor = { ...this.formModel.assessmentColor, disabled: false };\r\n        } else {\r\n          this.formModel.assessmentDuration = { ...this.formModel.assessmentDuration, disabled: true, value: '' };\r\n          this.formModel.assessmentColor = { ...this.formModel.assessmentColor, selectedOption: {}, disabled: true };\r\n        }\r\n      }\r\n      if (output.name == 'other') {\r\n        if (output.name == 'other' && output.value == true) {\r\n          this.formModel.otherInput = { ...this.formModel.otherInput, disabled: false };\r\n          this.formModel.otherDuration = { ...this.formModel.otherDuration, disabled: false };\r\n          this.formModel.otherColor = { ...this.formModel.otherColor, disabled: false };\r\n        } else {\r\n          this.formModel.otherInput = { ...this.formModel.otherInput, disabled: true, value: '' };\r\n          this.formModel.otherDuration = { ...this.formModel.otherDuration, disabled: true, value: '' };\r\n          this.formModel.otherColor = { ...this.formModel.otherColor, selectedOption: {}, disabled: true };\r\n        }\r\n      }\r\n      if (output.name == 'other1') {\r\n        if (output.name == 'other1' && output.value == true) {\r\n          this.formModel.other1Input = { ...this.formModel.other1Input, disabled: false };\r\n          this.formModel.other1Duration = { ...this.formModel.other1Duration, disabled: false };\r\n          this.formModel.other1Color = { ...this.formModel.other1Color, disabled: false };\r\n        } else {\r\n          this.formModel.other1Input = { ...this.formModel.other1Input, disabled: true, value: '' };\r\n          this.formModel.other1Duration = { ...this.formModel.other1Duration, disabled: true, value: '' };\r\n          this.formModel.other1Color = { ...this.formModel.other1Color, selectedOption: {}, disabled: true };\r\n        }\r\n      }\r\n      if (output.name == 'other2') {\r\n        if (output.name == 'other2' && output.value == true) {\r\n          this.formModel.other2Input = { ...this.formModel.other2Input, disabled: false };\r\n          this.formModel.other2Duration = { ...this.formModel.other2Duration, disabled: false };\r\n          this.formModel.other2Color = { ...this.formModel.other2Color, disabled: false };\r\n        } else {\r\n          this.formModel.other2Input = { ...this.formModel.other2Input, disabled: true, value: '' };\r\n          this.formModel.other2Duration = { ...this.formModel.other2Duration, disabled: true, value: '' };\r\n          this.formModel.other2Color = { ...this.formModel.other2Color, selectedOption: {}, disabled: true };\r\n        }\r\n      }\r\n      if (output.name == 'other3') {\r\n        if (output.name == 'other3' && output.value == true) {\r\n          this.formModel.other3Input = { ...this.formModel.other3Input, disabled: false };\r\n          this.formModel.other3Duration = { ...this.formModel.other3Duration, disabled: false };\r\n          this.formModel.other3Color = { ...this.formModel.other3Color, disabled: false };\r\n        } else {\r\n          this.formModel.other3Input = { ...this.formModel.other3Input, disabled: true, value: '' };\r\n          this.formModel.other3Duration = { ...this.formModel.other3Duration, disabled: true, value: '' };\r\n          this.formModel.other3Color = { ...this.formModel.other3Color, selectedOption: {}, disabled: true };\r\n        }\r\n      }\r\n      if (output.name == 'other4') {\r\n        if (output.name == 'other4' && output.value == true) {\r\n          this.formModel.other4Input = { ...this.formModel.other4Input, disabled: false };\r\n          this.formModel.other4Duration = { ...this.formModel.other4Duration, disabled: false };\r\n          this.formModel.other4Color = { ...this.formModel.other4Color, disabled: false };\r\n        } else {\r\n          this.formModel.other4Input = { ...this.formModel.other4Input, disabled: true, value: '' };\r\n          this.formModel.other4Duration = { ...this.formModel.other4Duration, disabled: true, value: '' };\r\n          this.formModel.other4Color = { ...this.formModel.other4Color, selectedOption: {}, disabled: true };\r\n        }\r\n      }\r\n      this.checkForFormValidation();\r\n      this.refreshColorOptions();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * selected any filter in the dropdown\r\n   * @param $event \r\n   */\r\n  public selectFilter($event: any): void {\r\n    this.formModel[$event.name].selectedOption = $event.value;\r\n    this.refreshColorOptions();\r\n    this.onFormUpdate($event);\r\n\r\n  }\r\n  /**\r\n     Submits the form data to the server.\r\n     @returns {void}\r\n   */\r\n  submitForm(): any {\r\n    if (!this.isBookingTypeFormValid()) {\r\n      return;\r\n    }\r\n    this.monitorService.logEvent('submitForm', [ 'BookingTypeComponent', 'addenda-repair' ]);\r\n    const isOther = (this.formModel.other.options.some((opt: any) => opt.checked === true) || this.formModel.otherInput.value != '');\r\n    const isOther1 = (this.formModel.other1.options.some((opt: any) => opt.checked === true) || this.formModel.other1Input.value != '');\r\n    const isOther2 = (this.formModel.other2.options.some((opt: any) => opt.checked === true) || this.formModel.other2Input.value != '');\r\n    const isOther3 = (this.formModel.other3.options.some((opt: any) => opt.checked === true) || this.formModel.other3Input.value != '');\r\n    const isOther4 = (this.formModel.other4.options.some((opt: any) => opt.checked === true) || this.formModel.other4Input.value != '');\r\n    const payload = [];\r\n    const data = {\r\n      assessment: this.formModel.assessment.options.some((opt: any) => opt.checked === true),\r\n      assessmentDuration: this.formModel.assessmentDuration.value ? parseInt(this.formModel.assessmentDuration.value.toString()) : 0,\r\n      assessmentColor: this.formModel.assessmentColor.selectedOption.name,\r\n      assessmentId: this.formData.assessmentId,\r\n      isRepair: this.formModel.repair.options.some((opt: any) => opt.checked === true),\r\n      repairColor: this.formModel.repairColor.selectedOption.name,\r\n      repairId: this.formData.repairId,\r\n      other: isOther ? this.formModel.otherInput.value.toString() : '',\r\n      otherDuration: isOther ? parseInt(this.formModel.otherDuration.value.toString()) : 0,\r\n      otherColor: this.formModel.otherColor.selectedOption.name,\r\n      otherId: this.formData.otherId,\r\n\r\n      other1: isOther1 ? this.formModel.other1Input.value.toString() : '',\r\n      other1Duration: isOther1 ? parseInt(this.formModel.other1Duration.value.toString()) : 0,\r\n      other1Color: this.formModel.other1Color.selectedOption.name,\r\n      other1Id: this.formData.other1Id,\r\n\r\n      other2: isOther2 ? this.formModel.other2Input.value.toString() : '',\r\n      other2Duration: isOther2 ? parseInt(this.formModel.other2Duration.value.toString()) : 0,\r\n      other2Color: this.formModel.other2Color.selectedOption.name,\r\n      other2Id: this.formData.other2Id,\r\n\r\n      other3: isOther3 ? this.formModel.other3Input.value.toString() : '',\r\n      other3Duration: isOther3 ? parseInt(this.formModel.other3Duration.value.toString()) : 0,\r\n      other3Color: this.formModel.other3Color.selectedOption.name,\r\n      other3Id: this.formData.other3Id,\r\n\r\n      other4: isOther4 ? this.formModel.other4Input.value.toString() : '',\r\n      other4Duration: isOther4 ? parseInt(this.formModel.other4Duration.value.toString()) : 0,\r\n      other4Color: this.formModel.other4Color.selectedOption.name,\r\n      other4Id: this.formData.other4Id,\r\n    };\r\n\r\n    if (data.assessment) {\r\n      payload.push({\r\n        category: BookingTypeCategories.Assessment,\r\n        name: BookingTypeCategories.Assessment,\r\n        duration: data.assessmentDuration,\r\n        color: data.assessmentColor,\r\n        id: data.assessmentId\r\n      })\r\n    }\r\n    if (data.isRepair) {\r\n      payload.push({\r\n        category: BookingTypeCategories.Repair,\r\n        name: BookingTypeCategories.Repair,\r\n        duration: 0,\r\n        color: data.repairColor,\r\n        id: data.repairId\r\n      })\r\n    }\r\n    if (isOther) {\r\n      payload.push({\r\n        category: BookingTypeCategories.Other,\r\n        name: data.other,\r\n        duration: data.otherDuration,\r\n        id: data.otherId,\r\n        color: data.otherColor\r\n      })\r\n    }\r\n    if (isOther1) {\r\n      payload.push({\r\n        category: BookingTypeCategories.Other,\r\n        name: data.other1,\r\n        duration: data.other1Duration,\r\n        color: data.other1Color,\r\n        id: data.other1Id\r\n      })\r\n    }\r\n    if (isOther2) {\r\n      payload.push({\r\n        category: BookingTypeCategories.Other,\r\n        name: data.other2,\r\n        duration: data.other2Duration,\r\n        color: data.other2Color,\r\n        id: data.other2Id\r\n      })\r\n    }\r\n    if (isOther3) {\r\n      payload.push({\r\n        category: BookingTypeCategories.Other,\r\n        name: data.other3,\r\n        duration: data.other3Duration,\r\n        color: data.other3Color,\r\n        id: data.other3Id\r\n      })\r\n    }\r\n    if (isOther4) {\r\n      payload.push({\r\n        category: BookingTypeCategories.Other,\r\n        name: data.other4,\r\n        duration: data.other4Duration,\r\n        color: data.other4Color,\r\n        id: data.other4Id\r\n      })\r\n    }\r\n    if(payload.length == 0) return\r\n    this.commonService.showLoading();\r\n    this.settingsService.saveNewBookingType({\r\n      'bookingTypes': payload\r\n    }).subscribe({\r\n      next: () => {\r\n        if (this.showToast) {\r\n          this.commonService.showInfoToast(5000, 'New changes will be applied only to new bookings.');\r\n        }\r\n        this.settingsService.isRepairChange.emit(data.isRepair);\r\n        this.settingsService.isJobTasksEnabled.emit(data.isRepair);\r\n        this.formModel = this.newBookingTypeForm();\r\n        this.formData = this.newBookingTypeFormModel();\r\n        this.getSettings();\r\n      },\r\n      error: (err: any) => {\r\n        this.commonService.hideLoading();\r\n        this.monitorService.logException(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * retrieve selected value\r\n   * @param category \r\n   * @param values \r\n   */\r\n  getSelectedValue(category: string, values: any): any {\r\n    const selected = this.bookingTypeColorsLookup.find(x => x.name === values[category]);\r\n    return selected ?? {};\r\n  }\r\n\r\n  /**\r\n   * get options which and not assigned \r\n   * @param category \r\n   * @param values \r\n   */\r\n  getColorOptions(category: string, values: any): any {\r\n    const excludedColors = Object.values(values).filter((value, index) => Object.keys(values)[index] !== category && Object.keys(values)[index].includes('Color'));\r\n    return this.bookingTypeColorsLookup.filter(x => !excludedColors.includes(x.name));\r\n  }\r\n\r\n  /**\r\n   * refresh all color selection dropdown\r\n   */\r\n  refreshColorOptions(): void {\r\n    const colorOptions = Object.values(this.formModel).filter((value, index) => Object.keys(this.formModel)[index].includes('Color'));\r\n    const values = Object.values(this.formModel).filter((value, index) => Object.keys(this.formModel)[index].includes('Color'))\r\n      .filter(x => x.selectedOption?.name)\r\n      .map(y => ({ 'name': y.name, 'color': y.selectedOption?.name }))\r\n      .reduce((acc, cur) => ({ ...acc, [cur.name]: cur.color }), {});\r\n    colorOptions.forEach((ele) => {\r\n      const options = this.getColorOptions(ele.name, values);\r\n      ele['options'] = [ ...options ];\r\n    })\r\n    this.updateForm();\r\n  }\r\n\r\n  /**\r\n   * update form model\r\n   * @param ele \r\n   */\r\n  updateForm(): void {\r\n    this.formModel.assessmentColor = {\r\n      ...this.formModel.assessmentColor\r\n    }\r\n    this.formModel.repairColor = {\r\n      ...this.formModel.repairColor\r\n    }\r\n    this.formModel.otherColor = {\r\n      ...this.formModel.otherColor\r\n    }\r\n    this.formModel.other1Color = {\r\n      ...this.formModel.other1Color\r\n    }\r\n    this.formModel.other2Color = {\r\n      ...this.formModel.other2Color\r\n    }\r\n    this.formModel.other3Color = {\r\n      ...this.formModel.other3Color\r\n    }\r\n    this.formModel.other4Color = {\r\n      ...this.formModel.other4Color\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n  * on Destroy\r\n  */\r\n  ngOnDestroy(): void {\r\n    this.showToast = false;\r\n    this.submitForm()\r\n  }\r\n}\r\n","<div class=\"page-container-jobs-tasks fx-col h-100\">\r\n    <div class=\"add-btn d-flex fx-0\">\r\n        <chq-button [buttonModel]=\"addJobButtonModel\" (click)=\"openJobPopup(null)\">{{'add_job' | translate}}</chq-button>\r\n    </div>\r\n    <div class=\"list-container justify-space-between fx-1 overflow-auto\" *ngIf=\"jobsLength >= 1\">\r\n        <div class=\"job fx-row\" *ngFor=\"let item of jobsData\">\r\n            <div class=\"left-container\">\r\n                <div class=\"nav-left-toggle\">\r\n                    <mat-icon [ngClass]=\"{'disable':startIndex === 0}\" [svgIcon]=\"'dropdown'\"\r\n                        (click)=\"leftClick()\"></mat-icon>\r\n                </div>\r\n                <div class=\"controls\">\r\n                    <div class=\"frame\">\r\n                        <div class=\"collapse-frame\" [ngStyle]=\"{'background': item.color}\">\r\n                            <div class=\"label\">{{item.name}}</div>\r\n                            <mat-icon size=\"sm\" color=\"white\" [svgIcon]=\"'dropdown'\" (click)=\"expand(item)\"\r\n                                [ngClass]=\"{'active': item.expandControl}\"></mat-icon>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"expanded-block\" [ngStyle]=\"{'border-color': item.color}\" *ngIf=\"item.expandControl\">\r\n                        <div>\r\n                            <div class=\"toggle-frame\">\r\n                                <div class=\"toggle\">\r\n                                    <label class=\"label-toggle\">{{'photos' | translate}}</label>\r\n                                    <chq-toggle [disabled]=\"item.options.isAIAnalysisEnabled\"\r\n                                        [checked]=\"item.options.isUploadPhotosRequired\" [name]=\"'photos'\"\r\n                                        [ngClass]=\"{'disable':item.options.isAIAnalysisEnabled}\"\r\n                                        (ToggleChange)=\"onToggleChange(item, $event)\"></chq-toggle>\r\n                                </div>\r\n                                <div class=\"toggle\">\r\n                                    <label class=\"label-toggle\">{{'timer' | translate}}</label>\r\n                                    <chq-toggle [checked]=\"item.options.isTimerEnabled\" [name]=\"'timer'\"\r\n                                        (ToggleChange)=\"onToggleChange(item, $event)\"></chq-toggle>\r\n                                </div>\r\n                                <div class=\"toggle\" *ngIf=\"isBodyOrPaint\">\r\n                                    <label class=\"label-toggle\">{{'damage_detection' | translate}}</label>\r\n                                    <chq-toggle [checked]=\"item.options.isAIAnalysisEnabled\" [name]=\"'damageDetection'\"\r\n                                        (ToggleChange)=\"onToggleChange(item, $event)\"\r\n                                        [ngClass]=\"{'disable':!(item.options && item.options.uploadImagesOptions !== null && item.options.uploadImagesOptions.minNumOfPhotos >= 1 && isBodyOrPaint)}\"\r\n                                        [disabled]=\"!(item.options && item.options.uploadImagesOptions !== null && item.options.uploadImagesOptions.minNumOfPhotos >= 1 && isBodyOrPaint)\"></chq-toggle>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"btn-group\">\r\n                                <chq-button class=\"editbtn\" (click)=\"openJobPopup(item)\"\r\n                                    [buttonModel]=\"editButtonModel\"></chq-button>\r\n                                <chq-button class=\"dltbtn\" (click)=\"deleteJob(item.jobGuid)\"\r\n                                    [buttonModel]=\"deleteButtonModel\"></chq-button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"job-content fx-1\" *ngFor=\"let data of filterRepairtypes(item.repairServiceTypeTasks)\">\r\n                <ng-container\r\n                    *ngIf=\"item.repairServiceTypeTasks && item.repairServiceTypeTasks.length ; else elseTemplate\">\r\n                    <table class=\"table-item\">\r\n                        <tr class=\"table-header\">\r\n                            <th class=\"frame\">{{data.name}}</th>\r\n                        </tr>\r\n                        <tr *ngFor=\"let data2 of data.tasks\">\r\n                            <td (click)=\"handleCellClicked(item, data2)\">{{data2.name}}</td>\r\n                        </tr>\r\n                        <tr *ngIf=\"data.tasks.length !== 0; else elseTemplate\" class=\"plus-btn-sticky\">\r\n                            <td class=\"plus-btn-border\">\r\n                                <div class=\"plus-buttons-block\">\r\n                                    <mat-icon [ngClass]=\"{'disable':getTasksLength(item) >= 20 }\" class=\"vector\"\r\n                                        [svgIcon]=\"'plus-active'\" (click)=\"openAddTaskPopup(item.jobGuid, false, item, data)\"></mat-icon>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </ng-container>\r\n                <ng-template #elseTemplate>\r\n                    <table class=\"table-item\">\r\n                        <tr class=\"plus-btn-block\">\r\n                            <td class=\"plus-btn-border remove-top-border\">\r\n                                <div class=\"add-task-buttons-block\">\r\n                                    <mat-icon [svgIcon]=\"'plus-active'\"\r\n                                        (click)=\"openAddTaskPopup(item.jobGuid, false, item, data)\"></mat-icon>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </ng-template>\r\n            </div>\r\n            <div class=\"right-container\">\r\n                <div class=\"nav-right-toggle\">\r\n                    <mat-icon [ngClass]=\"{'disable':lastIndex === repairTypes.length - 1}\" [svgIcon]=\"'dropdown'\"\r\n                        (click)=\"rightClick()\"></mat-icon>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"no-data-wrapper\" *ngIf=\"jobsLength === 0 && !CallingAPI\">\r\n        <div class=\"no-data-content\">\r\n            <img src=\"assets/img/no-data.png\" alt=\"\">\r\n            <span>{{'no_result_found' | translate}}</span>\r\n            <span>{{'could_not_find_any_data' | translate}}.</span>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/addenda-repair.png\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { AddJobDialogComponent } from 'src/app/dialogs/add-job-dialog/add-job-dialog.component';\r\nimport { AddTaskDialogComponent } from 'src/app/dialogs/add-task-dialog/add-task-dialog.component';\r\nimport { AddSettingsJobsFormDataModel } from 'src/app/model/chq-settings-jobs-tasks-model';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { JobSettingsService } from 'src/app/services/jobs-settings/job-settings.service';\r\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\r\nimport { SettingsService } from 'src/app/services/settings/settings.service';\r\n@Component({\r\n  selector: 'app-jobs-tasks',\r\n  templateUrl: './jobs-tasks.component.html',\r\n  styleUrls: [ './jobs-tasks.component.scss' ]\r\n})\r\nexport class JobsTasksComponent {\r\n\r\n  public addJobButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Add Job',\r\n    type: 'primary',\r\n    icon: 'plus-filled'\r\n  }\r\n  public addTaskButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Add Task',\r\n    type: 'primary',\r\n    icon: 'plus-filled'\r\n  }\r\n\r\n  public saveButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'save',\r\n    type: 'primary'\r\n  }\r\n\r\n  public deleteButtonModel: ChqWidgetsButtonModel = {\r\n    label: '',\r\n    type: 'outline-danger',\r\n    icon: 'delete',\r\n  }\r\n\r\n  public editButtonModel: ChqWidgetsButtonModel = {\r\n    label: '',\r\n    type: 'outline',\r\n    icon: 'edit',\r\n  }\r\n\r\n  /**\r\n    Constructor for the component.\r\n    @param {CommonService} commonService - The CommonService instance.\r\n    @param {RepairEstimateService} repairEstimateService - The RepairEstimateService instance.\r\n    @param {ActivatedRoute} route - The ActivatedRoute instance.\r\n    @param {MatDialog} dialog - The MatDialog instance.\r\n    @param {BookingService} bookingService - The BookingService instance.\r\n    @param {RepairEstimateOperationService} repairEstimateOperationService - The RepairEstimateOperationService instance.\r\n    @param {MonitorService} monitorService - The MonitorService instance.\r\n    @param {Router} router - The Router instance.\r\n  */\r\n\r\n  public jobsData: any = [];\r\n  public mediator: any[] = [];\r\n  public repairTypes: any[] = [];\r\n\r\n  startIndex = 0\r\n  lastIndex = 3\r\n  enabledRepairTypes: any[] = [];\r\n  jobsLength = 0;\r\n  isBodyOrPaint: boolean = false;\r\n  CallingAPI = false;\r\n\r\n  /**\r\n  Constructor for the class.\r\n */\r\n  constructor(\r\n    public commonService: CommonService,\r\n    public dialog: MatDialog,\r\n    private monitorService: MonitorService,\r\n    private jobSettingsService: JobSettingsService,\r\n    private settingsService: SettingsService\r\n  ) {\r\n    if (this.commonService.accessRight.closed) {\r\n      this.commonService.accessRight = new BehaviorSubject<boolean>(true);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * on init\r\n   */\r\n  async ngOnInit(): Promise<void> {\r\n    this.monitorService.logEvent('ngOnInit', [ 'JobsTasksComponent', 'addenda-repair' ]);\r\n    this.commonService.showLoading();\r\n    this.getJobs();\r\n  }\r\n\r\n  /**\r\n * get repair Types\r\n */\r\n  getJobs(): void {\r\n    this.CallingAPI = true;\r\n    this.jobSettingsService.getJobs().subscribe({\r\n      next: (result: any) => {\r\n        if (result) {\r\n          this.CallingAPI = false;\r\n          this.jobsLength = result.data.length\r\n          if (this.jobsLength >= 20) {\r\n            this.addJobButtonModel.type = 'disabled';\r\n          } else {\r\n            this.addJobButtonModel.type = 'primary';\r\n          }\r\n\r\n          result.data = result.data.map((x) => {\r\n            x.expandControl = false\r\n            return x\r\n          })\r\n\r\n          for (let i = 0; i < result.data.length; i++) {\r\n            const taskMaxLength = Math.max(...result.data[i].repairServiceTypeTasks.map(x => x.tasks.length))\r\n            this.repairTypes = [ ...this.repairTypes, ...result.data[i].repairServiceTypeTasks.filter(x => !this.repairTypes.some(r => r.id === x.id)).map((x) => {\r\n              return {\r\n                'id': x.id,\r\n                'name': x.name,\r\n                'description': x.description,\r\n                'tasks': []\r\n              }\r\n            }) ]\r\n\r\n            for (let j = 0; j < result.data[i].repairServiceTypeTasks.length; j++) {\r\n              const currentTaskLength = result.data[i].repairServiceTypeTasks[j].tasks.length;\r\n              if (currentTaskLength < taskMaxLength) {\r\n                const tempObj = {\r\n                  'id': result.data[i].repairServiceTypeTasks[j].tasks.id,\r\n                  'jobTaskGuid': result.data[i].repairServiceTypeTasks[j].tasks.jobTaskGuid,\r\n                  'name': '',\r\n                  'isMandatory': result.data[i].repairServiceTypeTasks[j].tasks.isMandatory,\r\n                  'importFromGTMotive': result.data[i].repairServiceTypeTasks[j].tasks.importFromGTMotive\r\n                }\r\n                for (let index = 0; index < (taskMaxLength - currentTaskLength); index++) {\r\n                  result.data[i].repairServiceTypeTasks[j].tasks.push(tempObj)\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          if (this.repairTypes.length < 4) {\r\n            this.lastIndex = this.repairTypes.length - 1;\r\n          }\r\n\r\n          if (this.jobsLength == 0) {\r\n            this.settingsService.getSettings().subscribe({\r\n              next: (result: any) => {\r\n                if (result && result.data && result.data.repairType && result.data.repairType.repairTypes) {\r\n                  this.isBodyOrPaint = result.data.repairType.repairTypes.includes(1) || result.data.repairType.repairTypes.includes(2)\r\n                }\r\n                this.commonService.hideLoading();\r\n              },\r\n              error: (err: any) => {\r\n                this.commonService.hideLoading();\r\n                this.monitorService.logException(err);\r\n              }\r\n            });\r\n          }else{\r\n            this.isBodyOrPaint = this.repairTypes.some(x => x.name?.toLowerCase() == 'body' || x.name?.toLowerCase() == 'paint')\r\n          }\r\n          this.enabledRepairTypes = this.repairTypes.map(x => x.id)\r\n          this.jobsData = result.data;\r\n          this.mediator = this.repairTypes.length < 4 ? this.repairTypes : [ this.repairTypes[0], this.repairTypes[1], this.repairTypes[2], this.repairTypes[3] ]\r\n          this.settingsService.isRepairChange.emit(true);\r\n          this.commonService.hideLoading();\r\n        } \r\n      },\r\n      error: (err: any) => {\r\n        this.CallingAPI = false;\r\n        this.commonService.hideLoading();\r\n        this.monitorService.logException(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n* get repair Types\r\n*/\r\n  filterRepairtypes(repairServiceTypeTasks: any[]): Array<any> {\r\n    return repairServiceTypeTasks?.filter(r => this.mediator.some(m => m.id === r.id))\r\n  }\r\n\r\n  /**\r\n  * get repair Types\r\n  */\r\n  getTasksLength(jobData): number {\r\n    return jobData?.repairServiceTypeTasks.map(r => r.tasks.filter(t => t.name !== '').length).reduce((acc, ele) => acc + ele, 0) || 0;\r\n  }\r\n\r\n  /**\r\n * cellClickedCallback\r\n */\r\n  handleCellClicked(jobData, taskData): void {\r\n    if (taskData.id === undefined) return\r\n    const checkedRepairTypes = jobData?.repairServiceTypeTasks?.flatMap(r => r.tasks.filter(t => t.id === taskData.id).length ? r : null)?.filter(r => r !== null)?.map(r => r.id) || [];\r\n    const data = {\r\n      jobGuid: jobData?.jobGuid,\r\n      createdByUserName: jobData?.createdByUserName,\r\n      taskData,\r\n      checkedRepairTypes,\r\n      enabledRepairTypes: this.enabledRepairTypes,\r\n      tasksLength: this.getTasksLength(jobData)\r\n    }\r\n    this.openAddTaskPopup(data, true)\r\n  }\r\n\r\n  /**\r\n    Opens a dialog box for the repair estimate operation component with the specified data and panel class.\r\n    @returns {void}\r\n  */\r\n  openJobPopup(data: any): void {\r\n    if (!data && this.jobsLength >= 20) return\r\n    const dialogRef = this.dialog.open(AddJobDialogComponent, {\r\n      data: {\r\n        jobsData: data ? data : null,\r\n        isBodyOrPaint: this.isBodyOrPaint\r\n      },\r\n      width: '564px',\r\n      maxWidth: '564px',\r\n      height: 'auto',\r\n      panelClass: 'operation-panel',\r\n      autoFocus: false\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe({\r\n      next: (response: any) => {\r\n        if (response) {\r\n          this.getJobs()\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   Opens a dialog box for the repair estimate operation component with the specified data and panel class.\r\n   @returns {void}\r\n */\r\n  openAddTaskPopup(data: any, isEdit: boolean = false, item = null, repairType?:any): void {\r\n    if (item && this.getTasksLength(item) >= 20) return\r\n    const dialogRef = this.dialog.open(AddTaskDialogComponent, {\r\n      data: isEdit ? data : {\r\n        jobGuid: data,\r\n        enabledRepairTypes: this.enabledRepairTypes,\r\n        tasksLength: this.getTasksLength(item),\r\n        checkedRepairTypes: [ repairType.id ]\r\n      },\r\n      width: '480px',\r\n      maxWidth: '480px',\r\n      height: 'auto',\r\n      panelClass: 'operation-panel',\r\n      autoFocus: false\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe({\r\n      next: (response: any) => {\r\n        if (response) {\r\n          this.commonService.showLoading();\r\n          this.getJobs()\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n  * on toggle change\r\n  */\r\n  onToggleChange(data: any, e): void {\r\n    let shouldCallUpdateJob: boolean = true;\r\n    if (data != null && data.jobGuid) {\r\n      const jobsData: AddSettingsJobsFormDataModel =\r\n      {\r\n        name: data.name,\r\n        color: data.color,\r\n        options: {\r\n          isUploadPhotosRequired: data?.options?.isUploadPhotosRequired,\r\n          isAIAnalysisEnabled: data?.options?.isAIAnalysisEnabled,\r\n          isTimerEnabled: data?.options?.isTimerEnabled,\r\n          uploadImagesOptions: data?.options?.uploadImagesOptions\r\n        }\r\n      }\r\n      if (e && e.name == 'photos') {\r\n        if (e.checked) {\r\n          shouldCallUpdateJob = false;\r\n          if (data?.options) {\r\n            data.options.isUploadPhotosRequired = true;\r\n          }\r\n          this.openJobPopup(data);\r\n          this.getJobs();\r\n        } else {\r\n          jobsData.options.isUploadPhotosRequired = false\r\n          jobsData.options.uploadImagesOptions = null\r\n        }\r\n      } else if (e && e.name == 'timer') {\r\n        if (e.checked) {\r\n          jobsData.options.isTimerEnabled = true\r\n        } else {\r\n          jobsData.options.isTimerEnabled = false\r\n        }\r\n      } else if (e && e.name == 'damageDetection') {\r\n        if (e.checked) {\r\n          jobsData.options.isAIAnalysisEnabled = true\r\n        } else {\r\n          jobsData.options.isAIAnalysisEnabled = false\r\n        }\r\n      }\r\n      if (shouldCallUpdateJob) {\r\n        this.commonService.showLoading();\r\n        this.jobSettingsService.editJob(\r\n          jobsData, data.jobGuid\r\n        ).subscribe({\r\n          next: () => {\r\n            this.getJobs();\r\n            this.commonService.hideLoading();\r\n          },\r\n          error: (err: any) => {\r\n            this.commonService.hideLoading();\r\n            this.monitorService.logException(err);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * expand user -detail \r\n  */\r\n  expand(item): void {\r\n    item.expandControl = !item.expandControl;\r\n  }\r\n\r\n  /**\r\n   * leftClick \r\n  */\r\n  leftClick(): void {\r\n    if (this.startIndex === 0) {\r\n      return;\r\n    } else if (this.lastIndex === 0) {\r\n      this.lastIndex = this.repairTypes.length - 1\r\n      this.startIndex--\r\n      this.mediator.unshift(this.repairTypes[this.startIndex])\r\n      this.mediator.pop()\r\n    } else {\r\n      this.startIndex--\r\n      this.lastIndex--\r\n      this.mediator.unshift(this.repairTypes[this.startIndex])\r\n      this.mediator.pop()\r\n    }\r\n    return\r\n  }\r\n\r\n  /**\r\n   * rightClick \r\n  */\r\n  rightClick(): void {\r\n    if (this.lastIndex === this.repairTypes.length - 1) {\r\n      return;\r\n    } else if (this.startIndex === this.repairTypes.length - 1) {\r\n      this.startIndex = 0\r\n      this.lastIndex++\r\n      this.mediator.shift()\r\n      this.mediator.push(this.repairTypes[this.lastIndex])\r\n    } else {\r\n      this.startIndex++\r\n      this.lastIndex++\r\n      this.mediator.shift()\r\n      this.mediator.push(this.repairTypes[this.lastIndex])\r\n    }\r\n    return\r\n  }\r\n\r\n  /**\r\n* on Delete Job\r\n*/\r\n  deleteJob(jobGuid: any): void {\r\n    const dialogRef = this.commonService.openConfirmationOkDialog('Confirm Deleting',\r\n      'Are you sure you also want to delete all the tasks included in the job?');\r\n    this.monitorService.logEvent('deleteJob', [ 'JobsTasksComponent', 'addenda-repair' ]);\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result) {\r\n        this.commonService.showLoading();\r\n        this.jobSettingsService.deleteJobsById(jobGuid).subscribe({\r\n          next: () => {\r\n            this.getJobs();\r\n            this.commonService.hideLoading();\r\n          },\r\n          error: () => {\r\n            this.commonService.hideLoading();\r\n          }\r\n        })\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { Route, RouterModule } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { VersionControlResolver } from 'src/app/resolvers/versionControl.resolver';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { WidgetsModule } from 'src/app/widgets/chq-widgets.module';\r\nimport { BookingTypeComponent } from './booking-type/booking-type.component';\r\nimport { JobsTasksComponent } from './jobs-tasks/jobs-tasks.component';\r\nimport { OperationsLayoutComponent } from './operations-layout/operations-layout.component';\r\nimport { RepairTypeComponent } from './repair-type/repair-type.component';\r\nimport { SchedulingComponent } from './scheduling/scheduling.component';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nconst casesRoutes: Route[] = [\r\n  {\r\n    path: '', \r\n    component: BookingTypeComponent,\r\n    resolve: { version: VersionControlResolver }\r\n  },\r\n  { \r\n    path: 'repair-type', \r\n    component: RepairTypeComponent, \r\n    resolve: { version: VersionControlResolver }\r\n  },\r\n  { \r\n    path: 'jobs-tasks', \r\n    component: JobsTasksComponent, \r\n    resolve: { version: VersionControlResolver }\r\n  },\r\n  { \r\n    path: 'scheduling', \r\n    component: SchedulingComponent, \r\n    resolve: { version: VersionControlResolver }\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    OperationsLayoutComponent,\r\n    BookingTypeComponent,\r\n    RepairTypeComponent,\r\n    JobsTasksComponent,\r\n    SchedulingComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(casesRoutes),\r\n    WidgetsModule,\r\n    SharedModule,\r\n    MatDatepickerModule,\r\n    MatIconModule,\r\n    TranslateModule,\r\n    FormsModule\r\n  ],\r\n  exports: [ RouterModule, OperationsLayoutComponent,\r\n    MatDatepickerModule ]\r\n})\r\nexport class OperationsModule { }\r\n","<div class=\"page-container-repair-type\">\r\n    <div class=\"repair-type-wrapper\">\r\n        <form>\r\n            <div class=\"main-div\">\r\n                <div class=\"repair-type-title\">\r\n                    {{ 'repair_type_msg' | translate }}\r\n                </div>\r\n                <div class=\"parent-control\">\r\n                    <div class=\"left-control\">\r\n                        <ng-container *ngFor=\"let item of repairTypesData\">\r\n                            <div class=\"toggle\">\r\n                                <label class=\"label-toggle\">{{item.name}}</label>\r\n                                <div class=\"toggle-button\"><chq-toggle [checked]=\"item.checked || false\"\r\n                                        [name]=\"item.id\" (ToggleChange)=\"onToggleChange($event)\"></chq-toggle></div>\r\n                            </div>\r\n                        </ng-container>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/addenda-repair.png\" />\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <chq-button class=\"footer-save-button-wrapper\" [buttonModel]=\"saveButtonModel\"></chq-button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component } from '@angular/core';\r\nimport { RepairTypeFormModel } from 'src/app/model/chq-settings-model';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\r\nimport { SettingsService } from 'src/app/services/settings/settings.service';\r\n\r\n@Component({\r\n  selector: 'app-repair-type',\r\n  templateUrl: './repair-type.component.html',\r\n  styleUrls: [ './repair-type.component.scss' ]\r\n})\r\nexport class RepairTypeComponent {\r\n\r\n  public saveButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'save',\r\n    type: 'disabled',\r\n    onclick: this.submitForm.bind(this)\r\n  }\r\n\r\n  public repairTypesData: any = [];\r\n  bookingRepairId: any;\r\n  checkedRepairTypes: number[] = []\r\n  showToast: boolean = true;\r\n\r\n  /**\r\n  Constructor for the class.\r\n  @constructor\r\n  @param {CommonService} commonService - Service for common operations.\r\n  @param {MonitorService} monitorService - Service for monitoring operations.\r\n  @param {ChangeDetectorRef} changeDetectorRef - Service to detect changes\r\n*/\r\n  constructor(\r\n    private bookingService: BookingService,\r\n    private commonService: CommonService,\r\n    public monitorService: MonitorService,\r\n    private settingsService: SettingsService,\r\n  ) { }\r\n\r\n  /**\r\n   * on init\r\n   */\r\n  async ngOnInit(): Promise<void> {\r\n    this.monitorService.logEvent('ngOnInit', [ 'RepairTypeComponent', 'addenda-repair' ]);\r\n    this.commonService.showLoading();\r\n    this.getRepairTypes();\r\n  }\r\n\r\n  /**\r\n   * get repair Types\r\n   */\r\n  getRepairTypes(): void {\r\n    this.bookingService.getRepairTypes().subscribe({\r\n      next: (result: any) => {\r\n        if (result) {\r\n          this.repairTypesData = result.data\r\n          this.getSettings();\r\n        }\r\n      },\r\n      error: (err: any) => {\r\n        this.commonService.hideLoading();\r\n        this.monitorService.logException(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * get settings\r\n   */\r\n  getSettings(): void {\r\n    this.settingsService.getSettings().subscribe({\r\n      next: (result: any) => {\r\n        if (result && result.data && result.data.repairType && result.data.repairType.bookingRepairId) {\r\n          this.bookingRepairId = result.data.repairType.bookingRepairId\r\n        }\r\n        if (result && result.data && result.data.repairType && result.data.repairType.repairTypes) {\r\n          this.repairTypesData = this.repairTypesData.map((ele) => {\r\n            return {\r\n              ...ele, checked: result.data.repairType.repairTypes.includes(ele.id)\r\n            }\r\n          });\r\n          this.checkedRepairTypes = result.data.repairType.repairTypes;\r\n          this.settingsService.isJobTasksEnabled.emit(result.data.repairType.repairTypes.length > 0 ? true : false)\r\n        }\r\n        this.commonService.hideLoading();\r\n      },\r\n      error: (err: any) => {\r\n        this.commonService.hideLoading();\r\n        this.monitorService.logException(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * on toggle change\r\n   */\r\n  onToggleChange(e): void {\r\n    if (e.checked && !this.checkedRepairTypes.includes(parseInt(e.name))) {\r\n      this.checkedRepairTypes.push(parseInt(e.name));\r\n    } else {\r\n      this.checkedRepairTypes = this.checkedRepairTypes.filter(id => id !== parseInt(e.name));\r\n    }\r\n    this.saveButtonModel.type = this.checkedRepairTypes.length ? 'primary' : 'disabled'\r\n  }\r\n\r\n  /**\r\n   * check for form validation\r\n   * @returns {void}\r\n   */\r\n  isRepairTypeFormValid(): boolean {\r\n    const isValid = this.checkedRepairTypes.length ? true : false;\r\n    return isValid;\r\n  }\r\n\r\n  /**\r\n     Submits the form data to the server.\r\n     @returns {void}\r\n   */\r\n  submitForm(): void {\r\n    if (!this.isRepairTypeFormValid() || this.saveButtonModel.type === 'disabled') {\r\n      return;\r\n    }\r\n    this.monitorService.logEvent('submitForm', [ 'RepairTypeComponent', 'addenda-repair' ]);\r\n    const repairTypeData: RepairTypeFormModel =\r\n    {\r\n      bookingRepairId: this.bookingRepairId,\r\n      repairtypes: this.checkedRepairTypes\r\n    }\r\n    this.commonService.showLoading();\r\n    this.settingsService.saveNewRepairType(repairTypeData).subscribe({\r\n      next: (result: any) => {\r\n        if(this.showToast){\r\n          this.commonService.showInfoToast(5000, 'New changes will be applied only to new bookings.');\r\n        }\r\n        this.settingsService.isJobTasksEnabled.emit(this.checkedRepairTypes.length > 0 ? true : false)\r\n        this.commonService.hideLoading();\r\n      },\r\n      error: (err: any) => {\r\n        this.commonService.hideLoading();\r\n        this.monitorService.logException(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n * on Destroy\r\n */\r\n  ngOnDestroy(): void {\r\n    this.showToast = false;\r\n    this.submitForm()\r\n  }\r\n}\r\n","<div class=\"page-container-booking-type\">\r\n    <div class=\"title\">\r\n        {{'team_scheduling' | translate}}\r\n    </div>\r\n    <div class=\"booking-type-wrapper\">\r\n        <form class=\"form-container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-12 radio\">\r\n                    <span class=\"radio-option\">\r\n                        <input type=\"radio\" name=\"scheduleType-work\" [(ngModel)]=\"scheduleType\" value=\"work\" />\r\n                        <label>{{'work_schedule' | translate}}</label>\r\n                    </span>\r\n                    <span class=\"radio-option\">\r\n                        <input type=\"radio\" name=\"scheduleType-off\" [(ngModel)]=\"scheduleType\" value=\"off\" />\r\n                        <label>{{'off_time' | translate}}</label>\r\n                    </span>\r\n\r\n                </div>\r\n            </div>\r\n            <div class=\"row\" *ngIf=\"scheduleType === 'work'\">\r\n                <div class=\"mobile-width-100 col-12\">\r\n                    <div class=\"row\" style=\"margin-bottom: 12px;align-items: flex-end;\">\r\n                        <h3 class=\"col-7\" style=\"font-size: 14px;\">{{'add_edit_work_schedule' | translate}}</h3>\r\n                        <div class=\"col-5\">\r\n                            <chq-input [inputModel]=\"workStartDateInputModel\"\r\n                                (controlOutput)=\"updateDatePickers($event,'work','start')\"></chq-input>\r\n                        </div>\r\n                    </div>\r\n                    <table class=\"work-days-table\">\r\n                        <tr *ngFor=\"let item of workDays; let i = index\">\r\n                            <td><button type=\"button\" (click)=\"toggleDays('work',i)\" class=\"mat-icon toggle-days-button\"\r\n                                    [ngClass]=\"item.checked ? 'bg-primary text-white' : 'bg-white'\">{{item.day}}</button>\r\n                            </td>\r\n                            <td [hidden]=\"!item.checked\">\r\n                                <chq-input [inputModel]=\"workStartTimePickerModels[i]\"\r\n                                    (controlOutput)=\"updateTimePickers($event,'work','start',i)\"></chq-input>\r\n                            </td>\r\n                            <td [hidden]=\"!item.checked\">\r\n                                <chq-input [inputModel]=\"workEndTimePickerModels[i]\"\r\n                                    (controlOutput)=\"updateTimePickers($event,'work','end',i)\"></chq-input>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                    <div class=\"row no-margin button-container\">\r\n                        <button type=\"button\" class=\"btn-primary d-none\"\r\n                        (click)=\"addNewWorkHours()\">{{'save' | translate}}</button>\r\n                        <button type=\"button\" class=\"btn-primary\"\r\n                        (click)=\"showConfirmApplyDialog('work')\">{{'apply_to_the_entire_team' | translate}}</button>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"mobile-width-100 col-6 work-days-details-table-container d-none\">\r\n                    <table class=\"work-days-details-table\" cellpadding=\"0\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>{{'creation_date' | translate}}</th>\r\n                                <th>{{'start_date' | translate}}</th>\r\n                                <th class=\"capitalize\">{{'days' | translate}}</th>\r\n                                <th>{{'hours' | translate}}</th>\r\n                                <th>{{'action' | translate}}</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let item of employee.workSchedules\">\r\n                                <td>{{ item.createdDate }}</td>\r\n                                <td>{{ item.effectiveDate }}</td>\r\n                                <td>\r\n                                    <div *ngFor=\"let title of item.titles\">{{title.days}}</div>\r\n                                </td>\r\n                                <td>\r\n                                    <div *ngFor=\"let title of item.titles\">{{title.hours}}</div>\r\n                                </td>\r\n                                <td><mat-icon color=\"red\" [svgIcon]=\"'trash'\"\r\n                                        (click)=\"deleteWorkHours(item.workScheduleGuid)\"></mat-icon></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row\" *ngIf=\"scheduleType === 'off'\">\r\n                <div class=\"mobile-width-100 col-12 no-padding\">\r\n                    <div class=\"row no-margin\">\r\n                        <div class=\"col-12\">\r\n                            <h3 style=\"font-size: 14px;\">{{'off_time' | translate}}</h3><br>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row no-margin\">\r\n                        <div class=\"col-12\">\r\n                            <chq-input [inputModel]=\"offTimeInputModels.breakType\"\r\n                                (controlOutput)=\"offTimeInputChange($event,'breakType')\"></chq-input>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row no-margin\" style=\"margin-top: 12px\">\r\n                        <div class=\"col-6\">\r\n                            <chq-input [inputModel]=\"offStartDateInputModel\"\r\n                                (controlOutput)=\"updateDatePickers($event,'off','start')\"></chq-input>\r\n                        </div>\r\n                        <div class=\"col-6\">\r\n                            <chq-input [inputModel]=\"offEndDateInputModel\"\r\n                                (controlOutput)=\"updateDatePickers($event,'off','end')\"></chq-input>\r\n                        </div>\r\n                    </div>\r\n                    <table class=\"work-days-table\"\r\n                        *ngIf=\"offTimeInputModels.breakType.selectedOption.durationUnit === 'Hours'\">\r\n                        <tr *ngFor=\"let item of offDays; let i = index\">\r\n                            <td><button type=\"button\" (click)=\"toggleDays('off',i)\" class=\"mat-icon toggle-days-button\"\r\n                                    [ngClass]=\"item.checked ? 'bg-primary text-white' : 'bg-white'\">{{item.day}}</button>\r\n                            </td>\r\n                            <td [hidden]=\"!item.checked\">\r\n                                <chq-input [inputModel]=\"offStartTimePickerModels[i]\"\r\n                                    (controlOutput)=\"updateTimePickers($event,'off','start',i)\"></chq-input>\r\n                            </td>\r\n                            <td [hidden]=\"!item.checked\">\r\n                                <chq-input [inputModel]=\"offEndTimePickerModels[i]\"\r\n                                    (controlOutput)=\"updateTimePickers($event,'off','end',i)\"></chq-input>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                    <!-- <div class=\"row no-margin\">\r\n                    <div class=\"col-12\">\r\n                        <chq-input [inputModel]=\"offTimeInputModels.frequencyWeekly\" *ngIf=\"offTimeInputModels.breakType.selectedOption.durationUnit === 'Hours'\" (controlOutput)=\"offTimeInputChange($event,'frequencyWeekly')\"></chq-input>\r\n                        <chq-input [inputModel]=\"offTimeInputModels.frequencyYearly\" *ngIf=\"offTimeInputModels.breakType.selectedOption.durationUnit === 'Days'\" (controlOutput)=\"offTimeInputChange($event,'frequencyYearly')\"></chq-input>\r\n                    </div>\r\n                </div> -->\r\n                    <div class=\"row no-margin button-container\">\r\n                        <button type=\"button\" class=\"btn-primary d-none\"\r\n                            (click)=\"checkAddOffTimeAllowed()\"\r\n                            [disabled]=\"!offTimeInputModels.breakType.selectedOption || offTimeInputModels.breakType.selectedOption.durationUnit === ''\">{{'save' | translate}}</button>\r\n                        <button type=\"button\" class=\"btn-primary\"\r\n                            (click)=\"showConfirmApplyDialog('off')\" [disabled]=\"!offTimeInputModels.breakType.selectedOption || offTimeInputModels.breakType.selectedOption.durationUnit === ''\">{{'apply_to_the_entire_team' | translate}}</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"mobile-width-100 col-6 off-days-details-table-container d-none\">\r\n                    <table class=\"work-days-details-table \">\r\n                        <thead>\r\n\r\n                            <tr>\r\n                                <th>{{'creation_date' | translate}}</th>\r\n                                <th>{{'start_end_date' | translate}}</th>\r\n                                <th class=\"capitalize\">{{'days' | translate}}</th>\r\n                                <th>{{'type' | translate}}</th>\r\n                                <th>{{'hours' | translate}}</th>\r\n                                <th>{{'actions' | translate}}</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let item of employee.offTimes\">\r\n                                <td>{{ item.createdDate }}</td>\r\n                                <td>{{ item.startDate }}<br>{{ item.endDate }}</td>\r\n                                <td>\r\n                                    <div *ngFor=\"let item of item.titles\">{{item.days}}</div>\r\n                                </td>\r\n                                <td>{{ item.label }}</td>\r\n                                <td>\r\n                                    <div *ngFor=\"let item of item.titles\">{{item.hours}}</div>\r\n                                </td>\r\n                                <td><mat-icon color=\"red\" [svgIcon]=\"'trash'\"\r\n                                        (click)=\"deleteOffTime(item.offTimeGuid)\"></mat-icon></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/addenda-repair.png\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","/* eslint-disable max-len */\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport * as dayjs from 'dayjs';\r\nimport * as customParseFormat from 'dayjs/plugin/customParseFormat';\r\nimport * as utc from 'dayjs/plugin/utc';\r\nimport * as weekday from 'dayjs/plugin/weekday';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { SettingsService } from 'src/app/services/settings/settings.service';\r\ndayjs.extend(customParseFormat)\r\ndayjs.extend(weekday)\r\ndayjs.extend(utc)\r\n\r\nconst timeSlotMin = 30;\r\n\r\n@Component({\r\n  selector: 'app-scheduling',\r\n  templateUrl: './scheduling.component.html',\r\n  styleUrls: [ './scheduling.component.scss' ]\r\n})\r\nexport class SchedulingComponent implements OnInit {\r\n  localTimeZoneString = dayjs('2023-01-01T00:00:00Z').format('HH:mm A')\r\n  dateTimeFormats = {\r\n    dateTimeUTC12h: 'YYYY-MM-DD hh:mm A Z',\r\n    dateTimeUTC24h: 'YYYY-MM-DD HH:mm Z',\r\n    dateTime12h: 'YYYY-MM-DD hh:mm A',\r\n    dateTime24h: 'YYYY-MM-DD HH:mm',\r\n    time12h: 'hh:mm A'\r\n  }\r\n  daysList = { 'MON': 'Monday', 'TUE': 'Tuesday', 'WED': 'Wednesday', 'THU': 'Thursday', 'FRI': 'Friday', 'SAT': 'Saturday', 'SUN': 'Sunday' }\r\n  calendarData: any[] = []\r\n  employee: any = { workSchedules: [], offTimes: [] };\r\n  public employeeInputModel = [];\r\n  employeeOffTimeType = [];\r\n\r\n  workDays = [\r\n    { day: 'MON', checked: true },\r\n    { day: 'TUE', checked: true },\r\n    { day: 'WED', checked: true },\r\n    { day: 'THU', checked: true },\r\n    { day: 'FRI', checked: true },\r\n    { day: 'SAT', checked: true },\r\n    { day: 'SUN', checked: false },\r\n  ]\r\n  offDays = [\r\n    { day: 'MON', date: '15', checked: true },\r\n    { day: 'TUE', date: '16', checked: true },\r\n    { day: 'WED', date: '17', checked: true },\r\n    { day: 'THU', date: '18', checked: true },\r\n    { day: 'FRI', date: '19', checked: true },\r\n    { day: 'SAT', date: '20', checked: true },\r\n    { day: 'SUN', date: '21', checked: false },\r\n  ]\r\n\r\n  scheduleType = 'work'\r\n  workStartDateInputModel = {\r\n    label: 'start_date',\r\n    type: 'date',\r\n    name: 'workStart',\r\n    class: 'col-1',\r\n    placeHolder: 'enter_start_date',\r\n    minDate: new Date(),\r\n    value: new Date()\r\n  }\r\n\r\n  offStartDateInputModel = {\r\n    label: 'start',\r\n    type: 'date',\r\n    name: 'offStart',\r\n    class: 'col-1',\r\n    placeHolder: 'enter_start_date',\r\n    minDate: new Date(),\r\n    value: new Date()\r\n  }\r\n\r\n  offEndDateInputModel = {\r\n    label: 'end',\r\n    type: 'date',\r\n    name: 'offEnd',\r\n    class: 'col-1',\r\n    placeHolder: 'enter_end_date',\r\n    minDate: new Date(),\r\n    value: new Date()\r\n  }\r\n\r\n  startTimePickerModel = {\r\n    label: 'job_start_time',\r\n    type: 'time',\r\n    name: 'jobStart',\r\n    class: 'col-6',\r\n    placeHolder: 'time',\r\n    value: dayjs('2023-01-01 08:00'),\r\n    interval: timeSlotMin\r\n  }\r\n\r\n  endTimePickerModel = {\r\n    label: 'job_end_time',\r\n    type: 'time',\r\n    name: 'jobStart',\r\n    class: 'col-6',\r\n    placeHolder: 'time',\r\n    value: dayjs('2023-01-01 18:00'),\r\n    interval: timeSlotMin\r\n  }\r\n\r\n  workStartTimePickerModels = []\r\n  workEndTimePickerModels = []\r\n  offStartTimePickerModels = []\r\n  offEndTimePickerModels = []\r\n\r\n  offTimeInputModels = {\r\n    breakType: {\r\n      label: 'break_type',\r\n      type: 'select',\r\n      name: 'breakType',\r\n      class: 'col-6',\r\n      placeHolder: 'select_break_type',\r\n      value: '',\r\n      displayValue: 'label',\r\n      fieldValue: 'value',\r\n      selectedOption: { durationUnit: '' },\r\n      options: [],\r\n      isMultiSelect: false\r\n    },\r\n    frequencyWeekly: {\r\n      label: 'frequency',\r\n      type: 'select',\r\n      name: 'frequency',\r\n      class: 'col-6',\r\n      placeHolder: 'select_repeat_frequency',\r\n      value: '',\r\n      displayValue: 'label',\r\n      fieldValue: 'value',\r\n      selectedOption: { label: 'Do Not Repeat' },\r\n      options: [ { label: 'Do Not Repeat' }, { label: 'Repeat Every Week' } ],\r\n      isMultiSelect: false\r\n    },\r\n    frequencyYearly: {\r\n      label: 'frequency',\r\n      type: 'select',\r\n      name: 'frequency',\r\n      class: 'col-6',\r\n      placeHolder: 'select_repeat_frequency',\r\n      value: '',\r\n      displayValue: 'label',\r\n      fieldValue: 'value',\r\n      selectedOption: { label: 'Do Not Repeat' },\r\n      options: [ { label: 'Do Not Repeat' }, { label: 'Repeat Every Year' } ],\r\n      isMultiSelect: false\r\n    },\r\n    start: {\r\n      label: 'start',\r\n      type: 'date',\r\n      name: 'offStart',\r\n      class: 'col-6',\r\n      placeHolder: 'enter_start_date',\r\n      minDate: new Date(),\r\n      maxDate: new Date(),\r\n      value: new Date()\r\n    },\r\n    end: {\r\n      label: 'end',\r\n      type: 'date',\r\n      name: 'offEnd',\r\n      class: 'col-6',\r\n      placeHolder: 'enter_end_date',\r\n      minDate: new Date(),\r\n      maxDate: new Date(),\r\n      value: new Date()\r\n    },\r\n  }\r\n\r\n  currentDate = new Date();\r\n  selectedCalendarDate;\r\n  editEmployeeFormValid: boolean = true;\r\n  timeSlotMin = timeSlotMin;\r\n  weekendDate = {};\r\n  holiday = {};\r\n  dinner = {};\r\n\r\n  /**\r\n   * Creates an instance of SchedulingComponent.\r\n   * @constructor\r\n   */\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private settingsService: SettingsService,\r\n    private commonService: CommonService\r\n  ) { }\r\n\r\n  /**\r\n   * ngOnInit\r\n   */\r\n  ngOnInit(): void {\r\n    this.commonService.userProfileData.subscribe({\r\n      next: (profileResult) => {\r\n        const employeeId = profileResult.data.userId;\r\n        this.commonService.showLoading();\r\n        firstValueFrom(this.settingsService.getEmployeeDetails(employeeId)).then((response) => {\r\n          this.employee = response.data;\r\n          this.employee.workSchedules = this.convertTimeToLocalTimeZone(this.employee.workSchedules, 'work');\r\n          this.employee.offTimes = this.convertTimeToLocalTimeZone(this.employee.offTimes, 'offtime');\r\n          this.commonService.hideLoading();\r\n        }).catch(() => {\r\n          this.commonService.hideLoading();\r\n        });\r\n        this.settingsService.getEmployeeOffTimeType().subscribe({\r\n          next: (result) => {\r\n            this.offTimeInputModels.breakType.options = result['data'].map((item) => {\r\n              item.type = item.description.indexOf('Days') != -1 ? 'Days' : 'Hours';\r\n              item.label = item.name;\r\n              return item;\r\n            }).filter(x => x.name.toLowerCase() != 'unpaid leave' && x.name.toLowerCase() != 'paid leave');\r\n\r\n            //this.offTimeInputModels.breakType.selectedOption = this.offTimeInputModels.breakType.options[0];\r\n          }\r\n        })\r\n\r\n        this.workDays.forEach((item) => {\r\n          this.workStartTimePickerModels.push({ ...this.startTimePickerModel })\r\n          this.workEndTimePickerModels.push({ ...this.endTimePickerModel })\r\n          this.offStartTimePickerModels.push({ ...this.startTimePickerModel, value: dayjs('2023-01-01 13:00 ') })\r\n          this.offEndTimePickerModels.push({ ...this.endTimePickerModel, value: dayjs('2023-01-01 14:00') })\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * toggleDays\r\n   * @param {*} index\r\n   */\r\n  toggleDays(type, index): void {\r\n    if (type == 'work') {\r\n      this.workDays[index].checked = !this.workDays[index].checked;\r\n    } else if (type == 'off') {\r\n      this.offDays[index].checked = !this.offDays[index].checked;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * updateTimePickers\r\n   *\r\n   * @param {*} event\r\n   * @param {*} type\r\n   * @param {*} startOrEnd\r\n   * @param {*} index\r\n   */\r\n  updateTimePickers(event, type, startOrEnd, index): void {\r\n    console.log(event, type, startOrEnd, index);\r\n    if (type === 'work') {\r\n      if (startOrEnd === 'start') {\r\n        this.workStartTimePickerModels[index].value = event.value;\r\n      } else {\r\n        this.workEndTimePickerModels[index].value = event.value;\r\n      }\r\n    } else if (type === 'off') {\r\n      if (startOrEnd === 'start') {\r\n        this.offStartTimePickerModels[index].value = event.value;\r\n      } else {\r\n        this.offEndTimePickerModels[index].value = event.value;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * updateDatePickers\r\n   * @param {*} event\r\n   * @param {*} type\r\n   * @param {*} startOrEnd\r\n   */\r\n  updateDatePickers(event, type, startOrEnd): void {\r\n    console.log(event, type, startOrEnd);\r\n    if (type === 'work') {\r\n      this.workStartDateInputModel.value = event.value;\r\n    } else if (type === 'off') {\r\n      if (startOrEnd === 'start') {\r\n        this.offStartDateInputModel.value = event.value;\r\n      } else {\r\n        this.offEndDateInputModel.value = event.value;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * showConfirmApplyDialog\r\n   * @param {*} type\r\n   */\r\n  showConfirmApplyDialog(type): void {\r\n    const pheader = 'Apply to entire Team ?';\r\n    const message = 'Are you sure you want to apply this change to the entire team';\r\n    const dialogRef = this.commonService.openConfirmYesNoDialog(pheader, message);\r\n    dialogRef.afterClosed().subscribe((res: boolean) => {\r\n      if (res) {\r\n        if (type === 'work') {\r\n          this.addNewWorkHoursForTeam();\r\n        } else if (type === 'off') {\r\n          this.addNewOffTimeForTeam();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * breakTypeChange\r\n   * @param {*} $event\r\n   */\r\n  offTimeInputChange($event, type): void {\r\n    console.log($event, type);\r\n    this.offTimeInputModels[type] = { ...this.offTimeInputModels[type], selectedOption: $event.value };\r\n    //    this.offTimeInputModels.breakType.selectedOption = $event.value;\r\n  }\r\n  \r\n  /**\r\n   * checkDayOverlapInUTCTime\r\n   * @param {*} dateTime\r\n   * @returns {boolean}\r\n   */\r\n  isDayOverlapInUTCTime(dateTime): boolean{\r\n    let returnFlag = false;\r\n    console.log(dayjs(dateTime).utc().format('HH:MM') > dayjs(dateTime).format('HH:MM'))\r\n    if(dayjs(dateTime).utc().format('HH:MM') > dayjs(dateTime).format('HH:MM')){\r\n      returnFlag = true;\r\n    }\r\n    return returnFlag;\r\n  }\r\n\r\n  /**\r\n   * addNewWorkHours\r\n   */\r\n  addNewWorkHours(): void {\r\n    if (this.employee.workSchedules.length >= 10) {\r\n      this.showErrorMessage('Max Work Hours Reached', 'Cannot Add more than 10 Work Hours');\r\n      return;\r\n    }\r\n    this.commonService.showLoading();\r\n    const data = {\r\n      'workDays': [],\r\n      'effectiveDate': dayjs(this.workStartDateInputModel.value).format('YYYY-MM-DD'),\r\n    }\r\n    for(const index in this.workDays) {\r\n      const item = this.workDays[index];\r\n      if (item.checked) {\r\n        if(this.isDayOverlapInUTCTime(this.workStartTimePickerModels[index].value)){\r\n          this.showErrorMessage('Error', 'Job Start Time should be '+ this.localTimeZoneString + ' and beyond');\r\n          this.commonService.hideLoading();\r\n          return;\r\n        }\r\n        if(this.isDayOverlapInUTCTime(this.workEndTimePickerModels[index].value)){\r\n          this.showErrorMessage('Error', 'Job End Time should be '+ this.localTimeZoneString + ' and beyond');\r\n          this.commonService.hideLoading();\r\n          return;\r\n        }\r\n        data.workDays.push({\r\n          day: this.daysList[item.day],\r\n          timeSlots: [ {\r\n            startTime: dayjs(this.workStartTimePickerModels[index].value).utc().format('HH:mm'),\r\n            endTime: dayjs(this.workEndTimePickerModels[index].value).utc().format('HH:mm')\r\n          } ]\r\n        })\r\n      }\r\n    }\r\n    this.settingsService.addNewWorkHours(this.employee.employeeGuid, data).subscribe({\r\n      next: (result) => {\r\n        this.commonService.hideLoading();\r\n        if (result.success) {\r\n          this.showSuccessMessage(result.message, result.message);\r\n          this.employee.workSchedules = this.convertTimeToLocalTimeZone(result.data.workSchedules, 'work');\r\n        } else if (result.errorMessages) {\r\n          this.showErrorMessage('Error', result.errorMessages);\r\n        } else {\r\n          this.showErrorMessage('Error', result.Message);\r\n        }\r\n      },\r\n      error: (error) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * addNewWorkHoursForTeam\r\n   */\r\n  addNewWorkHoursForTeam(): void {\r\n    this.commonService.showLoading();\r\n    const data = {\r\n      'workDays': [],\r\n      'effectiveDate': dayjs(this.workStartDateInputModel.value).format('YYYY-MM-DD'),\r\n    }\r\n    for(const index in this.workDays) {\r\n      const item = this.workDays[index];\r\n      if (item.checked) {\r\n        if(this.isDayOverlapInUTCTime(this.workStartTimePickerModels[index].value)){\r\n          this.showErrorMessage('Error', 'Job Start Time should be '+ this.localTimeZoneString + ' and beyond');\r\n          this.commonService.hideLoading();\r\n          return;\r\n        }\r\n        if(this.isDayOverlapInUTCTime(this.workEndTimePickerModels[index].value)){\r\n          this.showErrorMessage('Error', 'Job End Time should be '+ this.localTimeZoneString + ' and beyond');\r\n          this.commonService.hideLoading();\r\n          return;\r\n        }\r\n        data.workDays.push({\r\n          day: this.daysList[item.day],\r\n          timeSlots: [ {\r\n            startTime: dayjs(this.workStartTimePickerModels[index].value).utc().format('HH:mm'),\r\n            endTime: dayjs(this.workEndTimePickerModels[index].value).utc().format('HH:mm')\r\n          } ]\r\n        })\r\n      }\r\n    }\r\n\r\n    this.settingsService.addNewWorkHoursForTeam(this.employee.employeeGuid, data).subscribe({\r\n      next: (result) => {\r\n        this.commonService.hideLoading();\r\n        if (result.success) {\r\n          this.showSuccessMessage(result.message, result.data);\r\n        }\r\n      },\r\n      error: (error) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * checkAddOffTimeAllowed\r\n   */\r\n  checkAddOffTimeAllowed(): void {\r\n    console.log(this.offTimeInputModels.breakType.selectedOption.durationUnit);\r\n    let isOverlap = false;\r\n    this.employee.workSchedules.forEach((workSchedule, index) => {\r\n      if (this.employee.workSchedules[index + 1] == undefined) {\r\n        if (new Date(workSchedule['effectiveDate']) <= new Date(this.offStartDateInputModel['formControl'].value)) {\r\n          isOverlap = true;\r\n          return;\r\n        }\r\n      } else {\r\n        if (this.employee.workSchedules[index + 1] && new Date(workSchedule['effectiveDate']) <= new Date(this.offStartDateInputModel['formControl'].value) && new Date(this.employee.workSchedules[index + 1]['effectiveDate']) >= new Date(this.offEndDateInputModel['formControl'].value)) {\r\n          isOverlap = true;\r\n          return;\r\n        }\r\n      }\r\n    })\r\n    if (isOverlap) {\r\n      const dialogRef = this.commonService.openConfirmationOkDialog('Oops!', 'The employee selected is already allocated to a job in the selected period, please check again.')\r\n      dialogRef.afterClosed().subscribe((result) => {\r\n        if (result) {\r\n          this.addNewOffTime();\r\n        }\r\n      });\r\n    } else {\r\n      this.addNewOffTime();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * addNewOffTime\r\n   */\r\n  addNewOffTime(): void {\r\n    this.commonService.showLoading();\r\n    const data = {\r\n      'offDays': [],\r\n      'offTimeTypeId': this.offTimeInputModels.breakType.selectedOption['id'],\r\n      'startDate': dayjs(this.offStartDateInputModel['formControl'].value).format('YYYY-MM-DD'),\r\n      'endDate': dayjs(this.offEndDateInputModel['formControl'].value).format('YYYY-MM-DD')\r\n    };\r\n    if (this.offTimeInputModels.breakType.selectedOption['durationUnit'] === 'Hours') {\r\n      for(const index in this.offDays) {\r\n        const item = this.offDays[index];\r\n        if (item.checked) {\r\n          if(this.isDayOverlapInUTCTime(this.offStartTimePickerModels[index].value)){\r\n            this.showErrorMessage('Error', 'Start Time should be '+ this.localTimeZoneString + ' and beyond');\r\n            this.commonService.hideLoading();\r\n            return;\r\n          }\r\n          if(this.isDayOverlapInUTCTime(this.offEndTimePickerModels[index].value)){\r\n            this.showErrorMessage('Error', 'End Time should be '+ this.localTimeZoneString+ ' and beyond');\r\n            this.commonService.hideLoading();\r\n            return;\r\n          }\r\n          data.offDays.push({\r\n            day: this.daysList[item.day],\r\n            startTime: dayjs(this.offStartTimePickerModels[index].value).utc().format('HH:mm'),\r\n            endTime: dayjs(this.offEndTimePickerModels[index].value).utc().format('HH:mm')\r\n          })\r\n        }\r\n      }\r\n    } else {\r\n      delete data['offDays'];\r\n    }\r\n    console.log(data, this.offStartDateInputModel, this.offEndDateInputModel, this.offTimeInputModels.breakType);\r\n    //return;\r\n    this.settingsService.addNewOffTime(this.employee.employeeGuid, data).subscribe({\r\n      next: (result) => {\r\n        this.commonService.hideLoading();\r\n        if (result.success) {\r\n          this.showSuccessMessage(result.message, result.message);\r\n          this.employee.offTimes = this.convertTimeToLocalTimeZone(result.data.offTimes, 'offtime');\r\n        } else if (result.errorMessages) {\r\n          this.showErrorMessage('Error', result.errorMessages);\r\n        } else {\r\n          this.showErrorMessage('Error', result.Message);\r\n        }\r\n      },\r\n      error: (error) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * addNewOffTime\r\n   */\r\n  addNewOffTimeForTeam(): void {\r\n    this.commonService.showLoading();\r\n    const data = {\r\n      'offDays': [],\r\n      'offTimeTypeId': this.offTimeInputModels.breakType.selectedOption['id'],\r\n      'startDate': dayjs(this.offStartDateInputModel['formControl'].value).format('YYYY-MM-DD'),\r\n      'endDate': dayjs(this.offEndDateInputModel['formControl'].value).format('YYYY-MM-DD')\r\n    };\r\n    if (this.offTimeInputModels.breakType.selectedOption['durationUnit'] === 'Hours') {\r\n      for(const index in this.offDays) {\r\n        const item = this.offDays[index];\r\n        if (item.checked) {\r\n          if(this.isDayOverlapInUTCTime(this.offStartTimePickerModels[index].value)){\r\n            this.showErrorMessage('Error', 'Start Time should be '+ this.localTimeZoneString + ' and beyond');\r\n            this.commonService.hideLoading();\r\n            return;\r\n          }\r\n          if(this.isDayOverlapInUTCTime(this.offEndTimePickerModels[index].value)){\r\n            this.showErrorMessage('Error', 'End Time should be '+ this.localTimeZoneString + ' and beyond');\r\n            this.commonService.hideLoading();\r\n            return;\r\n          }\r\n          data.offDays.push({\r\n            day: this.daysList[item.day],\r\n            startTime: dayjs(this.offStartTimePickerModels[index].value).utc().format('HH:mm'),\r\n            endTime: dayjs(this.offEndTimePickerModels[index].value).utc().format('HH:mm')\r\n          })\r\n        }\r\n      }\r\n    } else {\r\n      delete data['offDays'];\r\n    }\r\n    console.log(data, this.offStartDateInputModel, this.offEndDateInputModel, this.offTimeInputModels.breakType);\r\n    //return;\r\n    this.settingsService.addNewOffTimeForTeam(this.employee.employeeGuid, data).subscribe({\r\n      next: (result) => {\r\n        this.commonService.hideLoading();\r\n        if (result.success) {\r\n          this.showSuccessMessage(result.message, result.data);\r\n        } else if (result.errorMessages) {\r\n          this.showErrorMessage('Error', result.errorMessages);\r\n        } else {\r\n          this.showErrorMessage('Error', result.Message);\r\n        }\r\n      },\r\n      error: (error) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  /**\r\n   * deleteWorkHours\r\n   */\r\n  deleteWorkHours(workScheduleGuid: string): void {\r\n    this.commonService.showLoading();\r\n    this.settingsService.deleteWorkHours(this.employee.employeeGuid, workScheduleGuid).subscribe({\r\n      next: (result) => {\r\n        this.commonService.hideLoading();\r\n        if (result.success) {\r\n          this.showSuccessMessage(result.message, result.message);\r\n          this.employee.workSchedules = this.convertTimeToLocalTimeZone(result.data.workSchedules, 'work');\r\n        } else {\r\n          this.showErrorMessage('Error', result.Message);\r\n        }\r\n      },\r\n      error: (error) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * deleteOffTime\r\n   */\r\n  deleteOffTime(offTimeGuid: string): void {\r\n    this.commonService.showLoading();\r\n    this.settingsService.deleteOffTime(this.employee.employeeGuid, offTimeGuid).subscribe({\r\n      next: (result) => {\r\n        this.commonService.hideLoading();\r\n        if (result.success) {\r\n          this.showSuccessMessage(result.message, result.message);\r\n          this.employee.offTimes = this.convertTimeToLocalTimeZone(result.data.offTimes, 'offtime');\r\n        } else {\r\n          this.showErrorMessage('Error', result.Message);\r\n        }\r\n      },\r\n      error: (error) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * appointmentTimeFormat\r\n   *\r\n   * @param {string} dateTime\r\n   * @returns {string}\r\n   */\r\n  appointmentTimeFormat(dateTime: string): string {\r\n    return dayjs(dateTime).format('hh:mm A');\r\n  }\r\n\r\n  /**\r\n   * onOptionChanged Calendar\r\n   *\r\n   * @param {*} event\r\n   */\r\n  onOptionChanged(event): void {\r\n    console.log(event);\r\n    if (event.name === 'currentDate') {\r\n      const currentDate = dayjs(event.value).weekday(1).format('YYYY-MM-DD');\r\n      this.selectedCalendarDate = currentDate;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * showErrorMessage\r\n   * @param {*} title\r\n   * @param {*} desc\r\n   */\r\n  showErrorMessage(title, desc): void {\r\n    this.commonService.showToast(400, desc);\r\n  }\r\n\r\n  /**\r\n   * showSuccessMessage\r\n   * @param {*} title\r\n   * @param {*} desc\r\n   */\r\n  showSuccessMessage(title, desc): void {\r\n    this.commonService.showInfoToast(5000, desc);\r\n  }\r\n\r\n  /**\r\n   * convertTimesToLocal\r\n   * @param {*} obj\r\n   * @param {*} type\r\n   */\r\n  convertTimeToLocalTimeZone(obj, type: string): any {\r\n    if (!obj) return null;\r\n    if (type === 'work') {\r\n      const data = obj.map((workSchedule) => {\r\n        return {\r\n          ...workSchedule, titles: workSchedule.titles?.map((title) => {\r\n            if (!title.hours || title.hours.indexOf(' - ') === -1) return title;\r\n            const hoursArray = title.hours.split(' - ');\r\n            hoursArray[0] = dayjs('2023-01-01 ' + hoursArray[0] + ' Z', this.dateTimeFormats.dateTimeUTC12h).format('hh:mm A');\r\n            hoursArray[1] = dayjs('2023-01-01 ' + hoursArray[1] + ' Z', this.dateTimeFormats.dateTimeUTC12h).format('hh:mm A');\r\n            return { ...title, hours: hoursArray.join(' - ') };\r\n          })\r\n        }\r\n      })\r\n      return data;\r\n    } else if (type === 'offtime') {\r\n      const data = obj.map((offTime) => {\r\n        if (offTime.titles && offTime.titles.length > 0) {\r\n          return {\r\n            ...offTime, titles: offTime.titles.map((title) => {\r\n              if (!title.hours || title.hours.indexOf(' - ') === -1) return title;\r\n              const hoursArray = title.hours.split(' - ');\r\n              hoursArray[0] = dayjs('2023-01-01 ' + hoursArray[0] + ' Z', this.dateTimeFormats.dateTimeUTC12h).format('hh:mm A');\r\n              hoursArray[1] = dayjs('2023-01-01 ' + hoursArray[1] + ' Z', this.dateTimeFormats.dateTimeUTC12h).format('hh:mm A');\r\n              return { ...title, hours: hoursArray.join(' - ') };\r\n            })\r\n          }\r\n        } else {\r\n          return offTime;\r\n        }\r\n      })\r\n      return data;\r\n    } else {\r\n      return obj;\r\n    }\r\n  }\r\n}\r\n"]}