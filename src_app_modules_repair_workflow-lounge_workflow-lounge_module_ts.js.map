{"version":3,"file":"src_app_modules_repair_workflow-lounge_workflow-lounge_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAA+C;AAEmB;AACT;AACF;AACY;AACZ;AACM;AACA;AACP;AACA;AACsB;AACO;AACvB;AACG;AACO;;;AAEtE,MAAMgB,cAAc,GAAY,CAC9B;EACEC,IAAI,EAAE,EAAE;EACRC,SAAS,EAAEH,+EAAuB;EAClCI,OAAO,EAAE;IAAEC,OAAO,EAAER,6FAAsBA;EAAA;CAC3C,CACF;AAuBK,MAAOS,oBAAoB;EAAA;qBAApBA,oBAAoB;EAAA;EAAA;UAApBA;EAAoB;EAAA;cAhB7BrB,yDAAY,EACZc,yEAAa,EACbD,sEAAY,EACZR,6EAAmB,EACnBD,iEAAa,EACbE,iEAAa,EACbH,oEAAc,EACdM,mEAAqB,CAACO,cAAc,CAAC,EACrCf,wDAAW,EACXC,gEAAmB,EACnBK,wEAAgB,EAChBG,iEAAe,EACfF,wEAAgB,EAChBG,sFAAe;EAAA;;;sHAGNU,oBAAoB;IAAAE,eAnB7BR,+EAAuB;IAAAS,UAGvBxB,yDAAY,EACZc,yEAAa,EACbD,sEAAY,EACZR,6EAAmB,EACnBD,iEAAa,EACbE,iEAAa,EACbH,oEAAc,EAAE,4DAEhBF,wDAAW,EACXC,gEAAmB,EACnBK,wEAAgB,EAChBG,iEAAe,EACfF,wEAAgB,EAChBG,sFAAe;EAAA;AAAA;;;;;;;;;;;;;;;;;;;ACxCoC;;;AAMjD,MAAOC,sBAAsB;EACjC;;;;EAIAgB,YAAoBC,aAA4B;IAA5B,kBAAa,GAAbA,aAAa;EAAmB;EACpD;;;;EAIAV,OAAO;IACL,IAAI,CAACU,aAAa,CAACC,WAAW,EAAE;IAChC,OAAO,IAAI,CAACD,aAAa,CAACE,YAAY,EAAE,CAACC,IAAI,CAC3CN,yCAAG,CAAEO,GAAG,IAAI;MACV,IAAI,CAACJ,aAAa,CAACK,WAAW,EAAE;MAChC,MAAMC,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;MACvD,MAAMC,UAAU,GAAGL,GAAG,CAACM,aAAa;MACpC,IAAIJ,YAAY,IAAIA,YAAY,IAAIG,UAAU,EAAE;QAC9CF,YAAY,CAACI,OAAO,CAAC,YAAY,EAAEF,UAAU,CAAC;QAC9CG,UAAU,CAAC,MAAK;UACdC,QAAQ,CAACC,MAAM,EAAE;QACnB,CAAC,EAAE,EAAE,CAAC;QACN,OAAOhB,wCAAE,CAAC,uBAAuB,CAAC;OACnC,MAAM;QACLS,YAAY,CAACI,OAAO,CAAC,YAAY,EAAEF,UAAU,CAAC;QAC9C,OAAOX,wCAAE,CAAC,8BAA8B,CAAC;;IAE7C,CAAC,CAAC,EACFF,gDAAU,CAAC,MAAK;MACd,IAAI,CAACI,aAAa,CAACK,WAAW,EAAE;MAChC,OAAOP,wCAAE,CAAC,iCAAiC,CAAC;IAC9C,CAAC,CAAC,CACH;EACH;EAAC;qBAjCUf,sBAAsB;EAAA;EAAA;WAAtBA,sBAAsB;IAAAgC,SAAtBhC,sBAAsB;IAAAiC,YAFrB;EAAM","sources":["./src/app/modules/repair/workflow-lounge/workflow-lounge.module.ts","./src/app/resolvers/versionControl.resolver.ts"],"sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { Route, RouterModule } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { DirectiveModule } from 'src/app/helper/directive/directive.module';\r\nimport { VersionControlResolver } from 'src/app/resolvers/versionControl.resolver';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { WidgetsModule } from 'src/app/widgets/widgets.module';\r\nimport { WorkflowLoungeComponent } from './workflow-lounge.component';\r\n\r\nconst workflowRoutes: Route[] = [\r\n  {\r\n    path: '',\r\n    component: WorkflowLoungeComponent,\r\n    resolve: { version: VersionControlResolver }\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    WorkflowLoungeComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    WidgetsModule,\r\n    SharedModule,\r\n    MatDatepickerModule,\r\n    MatCardModule,\r\n    MatIconModule,\r\n    MatBadgeModule, \r\n    RouterModule.forChild(workflowRoutes),\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MatSidenavModule,\r\n    TranslateModule,\r\n    MatTooltipModule,\r\n    DirectiveModule\r\n  ]\r\n})\r\nexport class WorkflowLoungeModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\n\r\nimport { catchError, map, Observable, of } from 'rxjs';\r\nimport { CommonService } from '../services/common/common.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VersionControlResolver implements Resolve<Observable<any>> {\r\n  /**\r\n   * contructor\r\n   * @param commonService \r\n   */\r\n  constructor(private commonService: CommonService) { }\r\n  /**\r\n   * resolve the \r\n   * @returns \r\n   */\r\n  resolve(): Observable<any> {\r\n    this.commonService.showLoading();\r\n    return this.commonService.checkVersion().pipe(\r\n      map((res) => {\r\n        this.commonService.hideLoading();\r\n        const localVersion = localStorage.getItem('appVersion');\r\n        const appVersion = res.buildRevision;\r\n        if (localVersion && localVersion != appVersion) {\r\n          localStorage.setItem('appVersion', appVersion);\r\n          setTimeout(() => {\r\n            location.reload();\r\n          }, 10);\r\n          return of('new version available');\r\n        } else {\r\n          localStorage.setItem('appVersion', appVersion);\r\n          return of('new version is not available');\r\n        }\r\n      }),\r\n      catchError(() => {\r\n        this.commonService.hideLoading();\r\n        return of('data not available at this time');\r\n      })\r\n    )\r\n  }\r\n}"],"names":["CommonModule","FormsModule","ReactiveFormsModule","MatBadgeModule","MatCardModule","MatDatepickerModule","MatIconModule","MatSidenavModule","MatTooltipModule","RouterModule","TranslateModule","DirectiveModule","VersionControlResolver","SharedModule","WidgetsModule","WorkflowLoungeComponent","workflowRoutes","path","component","resolve","version","WorkflowLoungeModule","forChild","declarations","imports","catchError","map","of","constructor","commonService","showLoading","checkVersion","pipe","res","hideLoading","localVersion","localStorage","getItem","appVersion","buildRevision","setItem","setTimeout","location","reload","factory","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}