{"version":3,"file":"default-src_app_shared_shared_module_ts.js","mappings":"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","sources":["./src/app/config/display/registered-garage-table-config.ts","./src/app/dialogs/claim-garage-assignment/claim-garage-assignment.component.ts","./src/app/dialogs/claim-garage-assignment/claim-garage-assignment.component.html","./src/app/dialogs/existing-claim-dialog/existing-claim-dialog.component.ts","./src/app/dialogs/existing-claim-dialog/existing-claim-dialog.component.html","./src/app/dialogs/garage-assignment-preference/garage-assignment-preference.component.ts","./src/app/dialogs/garage-assignment-preference/garage-assignment-preference.component.html","./src/app/dialogs/registered-garage-view-estimate/registered-garage-view-estimate.component.ts","./src/app/dialogs/registered-garage-view-estimate/registered-garage-view-estimate.component.html","./src/app/dialogs/request-missing-information-dialog/request-missing-information-dialog.component.ts","./src/app/dialogs/request-missing-information-dialog/request-missing-information-dialog.component.html","./src/app/shared/add-photos/add-photos.component.ts","./src/app/shared/add-photos/add-photos.component.html","./src/app/shared/error-page/error.module.ts","./src/app/shared/error-page/no-access-error/no-access-error.component.ts","./src/app/shared/error-page/no-access-error/no-access-error.component.html","./src/app/shared/new-documents/new-documents.component.ts","./src/app/shared/new-documents/new-documents.component.html","./src/app/shared/new-photos/new-photos.component.ts","./src/app/shared/new-photos/new-photos.component.html","./src/app/shared/shared.module.ts"],"sourcesContent":["export const RegisteredGarageTableConfig = {\r\n  columns: [\r\n    {\r\n      id: 'Id',\r\n      width: '0px',\r\n      style: 'display: none',\r\n      header: {\r\n        text: 'Id',\r\n        tooltip: '',\r\n        style: 'display: none; max-width: 0'\r\n      },\r\n      cellStyle: 'display: none; max-width: 0',\r\n      selector: {\r\n        field: 'paymentId',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'SerialNo',\r\n      sortable: false,\r\n      header: {\r\n        text: 'serial_no',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'serialNo',\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      }\r\n    },\r\n    {\r\n      id: 'DocumentName',\r\n      sortable: false,\r\n      selector: {\r\n        field: 'name',\r\n      },\r\n      header: {\r\n        text: 'name',\r\n        tooltip: '',\r\n        style: 'text-align: center;'\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      },\r\n    },\r\n    {\r\n      id: 'Date',\r\n      sortable: false,\r\n      selector: {\r\n        field: 'date',\r\n      },\r\n      header: {\r\n        text: 'date',\r\n        tooltip: '',\r\n        style: 'text-align: center;'\r\n      },\r\n      cellStyle: 'justify-content: center;',\r\n      widget: {\r\n        type: 'dateTime',\r\n        dateFormat: 'dd/MM/YYYY hh:mm a'\r\n      },\r\n    },\r\n    {\r\n      id: 'Attachment',\r\n      sortable: false,\r\n      selector: {\r\n        field: 'url',\r\n      },\r\n      header: {\r\n        text: 'attachment',\r\n        tooltip: 'attachment',\r\n        style: 'text-align: center;'\r\n      },\r\n      childColumns: [ {\r\n        id: 'Download',\r\n        // disableColumns: true,\r\n        selector: {\r\n          field: 'url',\r\n        },\r\n        widget: {\r\n          type: 'icon',\r\n          config: {\r\n            svgIcon: 'download-arrow',\r\n          }\r\n        },\r\n      }, {\r\n        id: 'Preview',\r\n        selector: {\r\n          field: 'url',\r\n        },\r\n        // disableColumns: true,\r\n        widget: {\r\n          type: 'icon',\r\n          config: {\r\n            svgIcon: 'eye',\r\n          }\r\n        },\r\n      } \r\n      ],\r\n      cellStyle: 'justify-content: center;',\r\n    }\r\n  ]\r\n}","import { Component, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\n\r\n@Component({\r\n  selector: 'app-claim-garage-assignment',\r\n  templateUrl: './claim-garage-assignment.component.html',\r\n  styleUrls: [ './claim-garage-assignment.component.scss' ]\r\n})\r\nexport class ClaimGarageAssignmentComponent {\r\n  public yesButton: ChqWidgetsButtonModel = {\r\n    label: 'yes',\r\n    type: 'primary',\r\n    onclick: this.handleYes.bind(this)\r\n  }\r\n\r\n  public noButton: ChqWidgetsButtonModel = {\r\n    label: 'cancel',\r\n    type: 'outline',\r\n    onclick: this.handleCancel.bind(this)\r\n  }\r\n\r\n  public garageDetails: any = {}\r\n\r\n  /**\r\n   * constructor\r\n   * @param dialogRef \r\n   * @param data \r\n   * @param changeDedectionRef \r\n   */\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<ClaimGarageAssignmentComponent>,\r\n    private monitorService: MonitorService,\r\n    public commonService: CommonService\r\n  ) {\r\n    this.garageDetails = data.garageDetails || {}\r\n  }\r\n\r\n  /**\r\n   * handle clicked on No\r\n   */\r\n  handleCancel(): void {\r\n    this.monitorService.logEvent('handleCancel', [ 'ClaimGarageAssignmentComponent', 'addenda-claim' ]);\r\n    this.close();\r\n  }\r\n\r\n  /**\r\n   * handle clicked on Yes\r\n   */\r\n  handleYes(): void {\r\n    this.monitorService.logEvent('handleYes', [ 'ClaimGarageAssignmentComponent', 'addenda-claim' ]);\r\n    this.dialogRef.close(true);\r\n  }\r\n  /**\r\n   * close\r\n   */\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","<div class=\"claim-garage-assignment\">\r\n    <div class=\"header\">\r\n        <h3>Do you want to assign this claim to this garage.</h3>\r\n        <div class=\"close-icon\">\r\n            <mat-icon [svgIcon]=\"'cross'\" (click)=\"close();\"></mat-icon>\r\n        </div>\r\n    </div>\r\n    <div class=\"main-container\">\r\n        <p class=\"hint-text\">Once Assigned, the garage cannot be re-assigned for this claim until rejected by garage</p>\r\n        <div class=\"garage-info-wrapper\">\r\n            <div class=\"info-group\">\r\n                <img class=\"avtar\" src=\"{{garageDetails.LogoUrl || 'assets/img/xa_logo.png'}}\" />\r\n                <div class=\"card-wrapper\">\r\n                    <div class=\"title-wrap\">{{garageDetails.Name}}\r\n                    </div>\r\n                    <div class=\"status-wrap\" *ngIf=\"garageDetails.Type\">\r\n                        <div class=\"label-wrap\">{{garageDetails.Type}}</div>\r\n                    </div>\r\n                    <div class=\"address-wrap\" *ngIf=\"garageDetails.Address\">{{garageDetails.Address}}</div>\r\n                    <div class=\"contact-group row\"*ngIf=\"garageDetails.GarageMobileNumber\">\r\n                        <mat-icon class=\"phone-icon\" [svgIcon]=\"'call'\"></mat-icon>\r\n                        <span class=\"contact\">{{garageDetails.GarageMobileNumber}}</span>\r\n                    </div>\r\n                    <div class=\"location-group row\" *ngIf=\"garageDetails.Distance\">\r\n                        <mat-icon class=\"location-icon\" [svgIcon]=\"'location'\"></mat-icon>\r\n                        <span class=\"distance\">{{garageDetails.Distance}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"footer form-data-footer\">\r\n        <chq-button [buttonModel]=\"noButton\" class=\"left\"></chq-button>\r\n        <chq-button [buttonModel]=\"yesButton\" class=\"right\"></chq-button>\r\n    </div>\r\n</div>","import { Component, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\n\r\n@Component({\r\n  selector: 'app-existing-claim-dialog',\r\n  templateUrl: './existing-claim-dialog.component.html',\r\n  styleUrls: [ './existing-claim-dialog.component.scss' ]\r\n})\r\nexport class ExistingClaimDialogComponent {\r\n  public yesButton: ChqWidgetsButtonModel = {\r\n    label: 'yes',\r\n    type: 'primary',\r\n    onclick: this.handleYes.bind(this)\r\n  }\r\n\r\n  public noButton: ChqWidgetsButtonModel = {\r\n    label: 'no',\r\n    type: 'outline',\r\n    onclick: this.handleNo.bind(this)\r\n  }\r\n\r\n  /**\r\n   * constructor\r\n   * @param dialogRef \r\n   * @param data \r\n   * @param changeDedectionRef \r\n   */\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<ExistingClaimDialogComponent>,\r\n    private monitorService: MonitorService,\r\n    public commonService: CommonService,\r\n    private translateService: TranslateService,\r\n  ) {\r\n  }\r\n\r\n  /**\r\n   * handle clicked on No\r\n   */\r\n  handleNo(): void {\r\n    this.monitorService.logEvent('handleNo', [ 'ExistingClaimDialogComponent', 'addenda-claim' ]);\r\n    this.close();\r\n  }\r\n\r\n  /**\r\n   * handle clicked on Yes\r\n   */\r\n  handleYes(): void {\r\n    this.monitorService.logEvent('handleYes', [ 'ExistingClaimDialogComponent', 'addenda-claim' ]);\r\n    this.dialogRef.close(true);\r\n  }\r\n\r\n  /**\r\n   * handle split for existing claim number\r\n   */\r\n  splitExistingClaimData(ind:number):string {\r\n    return this.translateService.instant('existing_claim').split('{{existingClaim}}')[ind]\r\n  }\r\n\r\n  /**\r\n   * close\r\n   */\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n","<div class=\"customer-policy-details-container\">\r\n    <div class=\"header\">\r\n        <div class=\"close-icon\">\r\n            <mat-icon [svgIcon]=\"'cross'\" (click)=\"close();\"></mat-icon>\r\n        </div>\r\n    </div>\r\n    <div class=\"title\">\r\n        <h3>{{splitExistingClaimData(0)}}<a href='claim/claim-detail/{{data.claimGuid}}/customer-view?mode=readonly'>{{data.claimNo}}</a>{{splitExistingClaimData(1)}}</h3>\r\n    </div>\r\n    <div class=\"footer form-data-footer\">\r\n        <chq-button [buttonModel]=\"noButton\" class=\"left\"></chq-button>\r\n        <chq-button [buttonModel]=\"yesButton\" class=\"left\"></chq-button>\r\n    </div>\r\n</div>","import { Component } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\n\r\n@Component({\r\n  selector: 'app-garage-assignment-preference',\r\n  templateUrl: './garage-assignment-preference.component.html',\r\n  styleUrls: [ './garage-assignment-preference.component.scss' ]\r\n})\r\nexport class GarageAssignmentPreferenceComponent {\r\n  public yesButton: ChqWidgetsButtonModel = {\r\n    label: 'yes',\r\n    type: 'primary',\r\n    onclick: this.handleYes.bind(this)\r\n  }\r\n\r\n  public noButton: ChqWidgetsButtonModel = {\r\n    label: 'cancel',\r\n    type: 'outline',\r\n    onclick: this.handleCancel.bind(this)\r\n  }\r\n\r\n\r\n  /**\r\n   * constructor\r\n   * @param dialogRef \r\n   * @param data \r\n   * @param changeDedectionRef \r\n   */\r\n  constructor(\r\n    public dialogRef: MatDialogRef<GarageAssignmentPreferenceComponent>,\r\n    private monitorService: MonitorService,\r\n    public commonService: CommonService\r\n  ) {}\r\n\r\n  /**\r\n   * handle clicked on No\r\n   */\r\n  handleCancel(): void {\r\n    this.monitorService.logEvent('handleCancel', [ 'GarageAssignmentPreferenceComponent', 'addenda-claim' ]);\r\n    this.close();\r\n  }\r\n\r\n  /**\r\n   * handle clicked on Yes\r\n   */\r\n  handleYes(): void {\r\n    this.monitorService.logEvent('handleYes', [ 'GarageAssignmentPreferenceComponent', 'addenda-claim' ]);\r\n    this.dialogRef.close(true);\r\n  }\r\n  /**\r\n   * close\r\n   */\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","<div class=\"garage-assignment-preference\">\r\n    <div class=\"header\">\r\n        <!-- <h3>Do you want to assign this claim to this garage.</h3> -->\r\n        <div class=\"close-icon\">\r\n            <mat-icon [svgIcon]=\"'cross'\" (click)=\"close();\"></mat-icon>\r\n        </div>\r\n    </div>\r\n    <div class=\"main-container\">\r\n        <div class=\"preference-text\">Do you want to save this garage preference for this Policy holder?</div>\r\n    </div>\r\n    <div class=\"footer form-data-footer\">\r\n        <chq-button [buttonModel]=\"noButton\" class=\"left\"></chq-button>\r\n        <chq-button [buttonModel]=\"yesButton\" class=\"right\"></chq-button>\r\n    </div>\r\n</div>","import { Component, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { CellClickedCallback, TableCellData, TableConfig, TableRowData } from 'src/app/widgets/xa-table/xa-table.component';\r\nimport { RegisteredGarageTableConfig } from 'src/app/config/display/registered-garage-table-config';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\nimport * as saveAs from 'file-saver';\r\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\r\n\r\n@Component({\r\n  selector: 'app-registered-garage-view-estimate',\r\n  templateUrl: './registered-garage-view-estimate.component.html',\r\n  styleUrls: [ './registered-garage-view-estimate.component.scss' ]\r\n})\r\nexport class RegisteredGarageViewEstimateComponent {\r\n  public tableConfig: TableConfig = RegisteredGarageTableConfig;\r\n  public tableData: any = [];\r\n  i18n: i18nInfo;\r\n  /**\r\n   * constructor\r\n   * @param dialogRef \r\n   * @param data \r\n   * @param changeDedectionRef \r\n   */\r\n  constructor(\r\n  @Inject(MAT_DIALOG_DATA) public data: any,\r\n  public dialogRef: MatDialogRef<RegisteredGarageViewEstimateComponent>,\r\n  private monitorService: MonitorService,\r\n  private commonService: CommonService,\r\n  ) {\r\n    this.i18n = this.commonService.geti18nInfo();\r\n    this.tableData = data.list\r\n  }\r\n\r\n  /**\r\n * close\r\n */\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  /**\r\n    Handles a cell click event.\r\n    @param {TableRowData} row - The row data.\r\n    @param {Partial} column - The column data.\r\n    @returns {void}\r\n  */\r\n  handleCellClick: CellClickedCallback = (row: TableRowData, column: Partial<TableCellData>, event: PointerEvent): void => {\r\n    if(column.id === 'Download') {\r\n      const urls = row[4]?.result.value.split('/');\r\n      const fileName = urls[urls?.length -1]?.split('?')[0];\r\n  \r\n      this.commonService.showLoading()\r\n      this.commonService.getFileBlob(row[4]?.result?.value).subscribe({\r\n        next: (value)=>{\r\n          this.commonService.hideLoading()\r\n          const blob = new Blob([ value.res ], { type: 'application/octet-stream' });\r\n          saveAs(blob, fileName)\r\n        },\r\n        error: (err: any) => {\r\n          this.commonService.hideLoading();\r\n          this.monitorService.logException(err);\r\n        }\r\n      });\r\n  \r\n    } else if(column.id === 'Preview') {\r\n      window.open(row[4]?.result?.value, '_blank');\r\n    }\r\n  };\r\n\r\n  /**\r\n * close\r\n */\r\n  handleRejectEstimateThirdParty(): void {\r\n    this.dialogRef.close('rejectEstimate');\r\n  }\r\n}\r\n","<div class=\"third-party-view-estimate-container\">\r\n    <div class=\"header\">\r\n        <h3>{{ data.title }}</h3>\r\n        <div class=\"close-icon\">\r\n            <mat-icon [svgIcon]=\"'cross'\" (click)=\"close();\"></mat-icon>\r\n        </div>\r\n    </div>\r\n    <div class=\"table-container payment-list\">\r\n        <ng-container>\r\n            <div class=\"table-wrapper\" #paymentTableWrapper>\r\n                <xa-table #paymentTable [config]=\"tableConfig\" [tableData]=\"tableData\" [cellClicked]=\"handleCellClick\" [i18n]=\"i18n\"></xa-table>\r\n            </div> \r\n        </ng-container>     \r\n    </div>\r\n    <div class=\"footer form-data-footer\" *ngIf=\"data.showRejectEstimate\">\r\n        <xa-button type=\"outline\" color=\"danger\" (click)=\"handleRejectEstimateThirdParty()\" *chqClaimRoles=\"'claimRequestEstimate'\">\r\n            <span> {{'reject_estimate' | translate }}</span>\r\n        </xa-button>\r\n    </div>\r\n</div>","import { Component, Inject, OnDestroy, OnInit } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Subscription, firstValueFrom } from 'rxjs';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { ChqWidgetsInputModel, IControlValue } from 'src/app/model/chq-widgets-input-model';\r\nimport { ClaimsService } from 'src/app/services/claims/claims.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\n\r\n@Component({\r\n  selector: 'app-request-missing-information-dialog',\r\n  templateUrl: './request-missing-information-dialog.component.html',\r\n  styleUrls: [ './request-missing-information-dialog.component.scss' ]\r\n})\r\nexport class RequestMissingInformationDialogComponent implements OnDestroy, OnInit {\r\n  public sendButton: ChqWidgetsButtonModel;\r\n  public cancelButton: ChqWidgetsButtonModel;\r\n\r\n  subscriptions: Subscription[] = [];\r\n\r\n  isUpdate:boolean=false;\r\n\r\n  public notesModel:ChqWidgetsInputModel = {\r\n    placeHolder: 'notes',\r\n    label: 'notes',\r\n    name: 'notes',\r\n    value: '',\r\n    type: 'textarea',\r\n    maxLength: 100\r\n  };\r\n\r\n  public missingInfoModel:ChqWidgetsInputModel = {\r\n    placeHolder: 'select_dot',\r\n    label: 'Select_missing_information_category',\r\n    name: 'Select_missing_information_category',\r\n    value: 0,\r\n    type: 'select',\r\n    displayValue: 'name',\r\n    idField: 'missingInformation',\r\n    fieldValue: 'id',\r\n    options: [ { id: 'Customer Details', name: 'Customer Details' },\r\n      { id: 'Loss Details', name: 'Loss Details' },\r\n      { id: 'Documents', name: 'Documents' }, \r\n      { id: 'Vehicle Images', name: 'Vehicle Images' }, ],\r\n    errorWhenEmpty: true\r\n  };\r\n\r\n  public missingInfoFieldsModel:ChqWidgetsInputModel = {\r\n    placeHolder: 'select_dot',\r\n    label: 'select_missing_information',\r\n    name: 'select_missing_information',\r\n    value: 0,\r\n    disabled: true,\r\n    type: 'select',\r\n    isMultiSelect: true,\r\n    displayValue: 'name',\r\n    idField: 'missingInformation',\r\n    fieldValue: 'id',\r\n    selectedOption: [],\r\n    options: [ ],\r\n    errorWhenEmpty: true\r\n  };\r\n\r\n\r\n  nameDict = { //customerDetailes\r\n    'PolicyNo': 'POLICY NUMBER',\r\n    'ExpiryDate': 'POLICY EXPIRY DATE',\r\n    'PolicyHolderFirstName': 'INSURER FIRST NAME',\r\n    'PolicyHolderLastName': 'INSURER LAST NAME',\r\n    'InsuranceOrganizationName': 'INSURANCE ORG NAME',\r\n    'PolicyHolderAddress1': 'POLICY HOLDER ADDRESS (PERMANENT)',\r\n    'PolicyHolderAddress2': 'POLICY HOLDER ADDRESS (CURRENT)',\r\n    'PolicyMobileCountryCode': 'CODE',\r\n    'PolicyHolderMobileNumber': 'MOBILE NUMBER',\r\n    'PolicyHolderEmail': 'EMAIL ADDRESS',\r\n    'Category': 'POLICY CATEGORY',\r\n    'InsuranceProductName': 'INSURANCE PRODUCT NAME',\r\n    'TypeOfInformation': 'TYPE OF INFORMATION',\r\n    'DateOfBirth': '',\r\n    'PremiumAmount': '',\r\n    'ClaimIntimationDate': 'CLAIM INTIMATION DATE',\r\n    //loss detail\r\n    'LossDate': 'LOSS DATE TIME',\r\n    'ClaimCreationDate': 'CLAIM CREATION DATE',\r\n    'RegistrationDate': 'REGISTRATION DATE',\r\n    'State': 'STATE',\r\n    'City': 'CITY',\r\n    'IntimationType': 'INTIMATION TYPE',\r\n    'SubIntimationType': 'SUB INTIMATION TYPE',\r\n    'DamageType': 'DAMAGE TYPE',\r\n    'NatureOfLoss': 'NATURE OF LOSS',\r\n    'LossSeverity': 'LOSS SEVERITY',\r\n    'LossImpactZone': '',\r\n    'LossLocation': '',\r\n    'LossLocationLatitude': '',\r\n    'LossLocationLongitude': '',\r\n    'CauseOfLoss': 'CAUSE OF LOSS',\r\n    'SalvageAmount': 'SALVAGE AMOUNT',\r\n    'IsTotalLoss': 'TOTAL LOSS',\r\n    'RepairType': 'REPAIR TYPE',\r\n    'LossDescription': 'LOSS DESCRIPTION',    \r\n    'AdditionalLossDetails': 'ADDITIONAL LOSS DETAILS',\r\n  };\r\n\r\n  /**\r\n   * constructor\r\n   * @param dialogRef \r\n   * @param data \r\n   * @param changeDedectionRef \r\n   */\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<RequestMissingInformationDialogComponent>,\r\n    private monitorService:MonitorService,\r\n    public commonService:CommonService,\r\n    private claimService: ClaimsService,\r\n    private route: ActivatedRoute,\r\n  ) {\r\n  }\r\n  \r\n  /**\r\n   * handle close\r\n   */\r\n  continue():void{\r\n    this.monitorService.logEvent('continue', [ 'RequestMissingInformationDialogComponent', 'addenda-repair' ]);\r\n    this.send();\r\n  }\r\n\r\n  /**\r\n   * on form update\r\n   * @param output o\r\n   */\r\n  onFormUpdate(output: IControlValue): void {\r\n    if(output.name === 'Select_missing_information_category') {\r\n      this.missingInfoModel = { ...this.missingInfoModel, selectedOption: output.value, };\r\n      this.getMissingFields(output.value.name);\r\n\r\n    } else if(output.name === 'select_missing_information') {\r\n      this.missingInfoFieldsModel = { ...this.missingInfoFieldsModel, selectedOption: output.value, };\r\n\r\n      if(output.value.length > 0){\r\n        this.sendButton = { ...this.sendButton, type: 'primary' };\r\n      } else {\r\n        this.sendButton = { ...this.sendButton, type: 'disabled' };\r\n      }\r\n\r\n    } else {\r\n      this.notesModel.value = output.value;\r\n    }\r\n    \r\n  }\r\n\r\n  /**\r\n   * handle close\r\n   */\r\n  cancel():void{\r\n    this.monitorService.logEvent('cancel', [ 'RequestMissingInformationDialogComponent', 'addenda-repair' ]);\r\n    this.dialogRef.close({ 'delete': true });\r\n  }\r\n\r\n  /**\r\n   * close\r\n   */\r\n  close():void{\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  claimDetails = null;\r\n\r\n  /**\r\n   * ng on init\r\n   */\r\n  ngOnInit(): void {\r\n    this.monitorService.logEvent('ngOnInit', [ 'RequestMissingInformationDialogComponent', 'addenda-repair' ]);\r\n    this.sendButton = {\r\n      label: 'send',\r\n      type: 'disabled',\r\n      onclick: this.continue.bind(this),\r\n      icon: 'check' \r\n    }\r\n\r\n    this.cancelButton = {\r\n      label: 'cancel',\r\n      type: 'outline',\r\n      onclick: this.cancel.bind(this)\r\n    }\r\n\r\n    this.notesModel = { ...this.notesModel, value: this.data?.notes, disabled: this.data?.hideUpdate }\r\n    this.missingInfoModel = { ...this.missingInfoModel, value: this.data?.missingInformation, disabled: this.data?.hideUpdate };\r\n    this.missingInfoFieldsModel = { ...this.missingInfoFieldsModel, value: this.data?.missingInformation, disabled: this.data?.hideUpdate };\r\n    \r\n    const claimDetails$ = this.commonService.claimDetails.subscribe({\r\n      next: (response) =>{\r\n        this.claimDetails = response;\r\n      }\r\n    })\r\n\r\n    this.subscriptions.push(claimDetails$);\r\n  }\r\n\r\n  /**\r\n   * removeMissingDataField\r\n   * @param data \r\n   * @param index \r\n   */\r\n  removeMissingDataField(data: any, index: number): void {\r\n    this.missingInfoFieldsModel.selectedOption.splice(index, 1)\r\n    this.missingInfoFieldsModel = { ...this.missingInfoFieldsModel, selectedOption: this.missingInfoFieldsModel.selectedOption };\r\n  }\r\n\r\n  customerFields = [];\r\n  lossDetailsFiels = [];\r\n  documentFields = [];\r\n  imagesFields = [];\r\n\r\n  /**\r\n   * \r\n   */\r\n  getMissingFields(type: string): void {\r\n    this.commonService.showLoading();\r\n    switch(type){\r\n    case 'Customer Details':\r\n      if(this.customerFields.length === 0){\r\n        this.getCustomMissingFields('CustomerDetailsDTO');\r\n      } else {\r\n        this.updateMissingInfoDropdownOption(this.customerFields, 'Customer Details');\r\n      }\r\n      break;\r\n    case 'Loss Details':\r\n      if(this.lossDetailsFiels.length === 0) {\r\n        this.getCustomMissingFields('LossDetailsDTO');\r\n      } else {\r\n        this.updateMissingInfoDropdownOption(this.lossDetailsFiels, 'Loss Details');\r\n      }\r\n      break;\r\n    case 'Documents':\r\n      if(this.documentFields.length === 0) {\r\n        this.getDocumentMissingFields();\r\n      } else {\r\n        this.updateMissingInfoDropdownOption(this.documentFields, 'Documents');\r\n      }\r\n      break;\r\n    case 'Vehicle Images':\r\n      if(this.imagesFields.length === 0) {\r\n        this.getMediaMissingFields(this.claimDetails.inspectionId);\r\n      } else {\r\n        this.updateMissingInfoDropdownOption(this.imagesFields, 'Photos');\r\n      }\r\n      break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param type \r\n   */\r\n  getCustomMissingFields(type: string): void {\r\n    const subs1 = this.claimService.getMissingCustomFields(type).subscribe({\r\n      next: (response)=>{\r\n        if(type === 'CustomerDetailsDTO'){\r\n          this.customerFields = response.data;\r\n          this.updateMissingInfoDropdownOption(this.customerFields, 'Customer Details');\r\n        } else {\r\n          this.lossDetailsFiels = response.data;\r\n          this.updateMissingInfoDropdownOption(this.lossDetailsFiels, 'Loss Details');\r\n        }        \r\n      },\r\n      error: ()=>{\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n\r\n    this.subscriptions.push(subs1);\r\n  }\r\n\r\n\r\n  /**\r\n  * \r\n  * \r\n  */\r\n  getDocumentMissingFields(): void {\r\n    const subs2 = this.claimService.getMissingDocumentFields().subscribe({\r\n      next: (response)=>{\r\n        this.documentFields = response.data;\r\n        this.updateMissingInfoDropdownOption(this.documentFields, 'Documents');\r\n      },\r\n      error: ()=>{\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n\r\n    this.subscriptions.push(subs2);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param InspectionId \r\n   */\r\n  getMediaMissingFields(InspectionId: any): void {\r\n    const subs3 = this.claimService.getMissingMediaFields(InspectionId).subscribe({\r\n      next: (response)=>{\r\n        this.imagesFields = response.data;\r\n        this.updateMissingInfoDropdownOption(this.imagesFields, 'Photos');\r\n      },\r\n      error: ()=>{\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n\r\n    this.subscriptions.push(subs3);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param optionArray \r\n   * @param type \r\n   */\r\n  updateMissingInfoDropdownOption(optionArray: string[], type: string): void {\r\n    this.missingInfoFieldsModel = { ...this.missingInfoFieldsModel, disabled: false, options: optionArray.map((x)=> {return { id: x, name: this.nameDict[x.replace(/\\s/g, '')]?this.nameDict[x.replace(/\\s/g, '')]:x.toUpperCase(), type: type }}) } \r\n    this.commonService.hideLoading();\r\n  }\r\n  /**\r\n   * \r\n   * \r\n   */\r\n  send(): void {\r\n    const fieldCategoryObj = new Object();\r\n    this.missingInfoFieldsModel.selectedOption.forEach((item)=>{\r\n      if(fieldCategoryObj[item.type]) {\r\n        fieldCategoryObj[item.type].push(item.id);\r\n      } else {\r\n        fieldCategoryObj[item.type] = [ item.id ];\r\n      }      \r\n    });\r\n    const MissingFieldsDTO = Object.keys(fieldCategoryObj).map((x)=>{ return { 'key': x, 'value': fieldCategoryObj[x] }});\r\n\r\n    const param = {\r\n      'ClaimGuid': this.claimDetails.claimGuid,\r\n      'Notes': this.notesModel.value,\r\n      'MissingFieldsDTO': MissingFieldsDTO\r\n    };\r\n    this.commonService.showLoading();\r\n    this.claimService.sendMissingInfo(param).subscribe({\r\n      next: (response) => {\r\n        this.commonService.hideLoading();\r\n        this.commonService.showInfoToast(1000, response.message);\r\n        this.dialogRef.close({ 'comment': this.notesModel.value });\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * on destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    if (this.subscriptions) this.subscriptions.forEach((subscription: Subscription) => subscription.unsubscribe());\r\n  }\r\n}\r\n","<div class=\"request-missing-info-container\">\r\n    <div class=\"header\">\r\n        <h3>{{'request_missing_information' | translate }}</h3>\r\n        <div class=\"close-icon\">\r\n            <mat-icon [svgIcon]=\"'cross'\" (click)=\"close();\"></mat-icon>\r\n        </div>\r\n    </div>\r\n    <div class=\"content gap-23\">\r\n        <chq-input class=\"checkbox-label\" [inputModel]=\"missingInfoModel\"\r\n            (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n        <chq-input class=\"checkbox-label\" [inputModel]=\"missingInfoFieldsModel\"\r\n            (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n            <ng-container *ngIf=\"missingInfoFieldsModel.selectedOption.length > 0\">\r\n                <div class=\"tag-wrapper\">\r\n                    <span class=\"tag-tile\" *ngFor=\"let data of missingInfoFieldsModel.selectedOption; let ind=index;\">\r\n                        <span class=\"tag-label\">{{data.name}}</span>\r\n                        <mat-icon [svgIcon]=\"'cross'\" (click)=\"removeMissingDataField(data, ind);\"></mat-icon>\r\n                    </span>\r\n                </div>\r\n            </ng-container>\r\n        <chq-input [inputModel]=\"notesModel\" (controlOutput)=\"onFormUpdate($event);\" tabindex=\"-1\"></chq-input>\r\n    </div>\r\n    <div class=\"footer form-data-footer\">\r\n        <chq-button [buttonModel]=\"cancelButton\" class=\"left\"></chq-button>\r\n        <chq-button [buttonModel]=\"sendButton\" class=\"right\"></chq-button>\r\n    </div>\r\n</div>","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { ChqWidgetsHeaderModel } from 'src/app/model/chq-widgets-header-model';\r\nimport { CalendarService } from 'src/app/services/calendar/calendar.service';\r\nimport { CaseService } from 'src/app/services/case/case.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { InspectionService } from 'src/app/services/inspection/inspection.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\nimport { RepairEstimateService } from 'src/app/services/repair-estimate/repair-estimate.service';\r\n\r\nconst photosHeader: ChqWidgetsHeaderModel = {\r\n  title: 'add_damage_photos',\r\n  step: 4,\r\n  description: 'damage_photos_msg',\r\n  stepName: 'step_four',\r\n};\r\n@Component({\r\n  selector: 'add-photos',\r\n  templateUrl: './add-photos.component.html',\r\n  styleUrls: [ './add-photos.component.scss' ]\r\n})\r\nexport class AddPhotosComponent implements OnChanges {\r\n  @Output() mode: EventEmitter<{ 'mode': string }> = new EventEmitter();  \r\n  @Input() caseNumber: string;\r\n  @Input() caseData:any;\r\n  @Input() showNotify:boolean;\r\n  @Input() showComplete:boolean;\r\n  @Input() showEstimate:boolean = false;\r\n  @Input() repairUnapproved:boolean;\r\n  @Input() repairData: any;\r\n  @Output() notify: EventEmitter<any> = new EventEmitter();  \r\n  @Output() completeRepair: EventEmitter<any> = new EventEmitter();  \r\n\r\n  public nextButton: ChqWidgetsButtonModel = {\r\n    label: 'Next create estimate',\r\n    type: 'primary',\r\n    color: 'primary',\r\n    icon: 'boardview'\r\n  }\r\n  @Input() photosHeader: ChqWidgetsHeaderModel = photosHeader;\r\n\r\n  @Input() activateRepairButton:boolean;\r\n  @Input() showSPI:boolean;\r\n  @Input() hideBulk:boolean;\r\n  @Input() isRepairComplete:boolean;\r\n\r\n  public notifyButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'notify',\r\n    type: 'outline',\r\n    icon: 'send',\r\n    onclick: ()=>{\r\n      this.notify.emit()\r\n    }\r\n  }\r\n\r\n  public addPartButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Complete Repair',\r\n    type: 'disabled',\r\n    onclick: ()=>{\r\n      this.completeRepair.emit()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * initialize single Upload\r\n   */\r\n  allowSingleUpload():void {\r\n    this.mode.emit({ 'mode': 'single' })\r\n  }\r\n\r\n  /**\r\n   * show delete\r\n   */\r\n  get showDelete(): boolean {\r\n    if (this.repairData?.repairGuid && this.repairData?.status?.toLowerCase() === 'draft') {\r\n      return true;\r\n    } else if (this.repairData?.repairGuid && this.repairData?.repairGuidisRepairCreatedFromCase == true && this.repairData?.status?.toLowerCase() == 'repairestimation') {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * constructor\r\n   */\r\n  constructor( private monitorService: MonitorService,\r\n    public commonService: CommonService,\r\n    private route: ActivatedRoute,\r\n    private dialog: MatDialog,\r\n    private caseService: CaseService,\r\n    private router: Router,\r\n    private inspectionService: InspectionService,\r\n    private estimateService: RepairEstimateService,\r\n    private calendarService: CalendarService) {}\r\n\r\n  /**\r\n   * detects changes in input attributes\r\n   * @param changes \r\n   */\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.monitorService.logEvent('allowMultipleUpload', [ 'ChqAddPhotosComponent', 'addenda-quote', {\r\n      changes\r\n    } ]);\r\n    if (changes) {\r\n      if (changes['caseNumber'] && changes['caseNumber'].currentValue) {\r\n        this.photosHeader = { ...this.photosHeader, caseNumber: this.caseNumber };    \r\n      }\r\n\r\n      if (changes['activateRepairButton'] && changes['activateRepairButton'].currentValue) {\r\n        this.addPartButtonModel = { ...this.addPartButtonModel, type: 'primary' };\r\n      }\r\n      \r\n      if (changes['isRepairComplete'] && changes['isRepairComplete'].currentValue) {\r\n        this.addPartButtonModel = { ...this.addPartButtonModel, label: 'go_invoice' }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * initialize multiple Upload\r\n   */\r\n  allowMultipleUpload():void {\r\n    this.monitorService.logEvent('allowMultipleUpload', [ 'ChqAddPhotosComponent', 'addenda-quote' ]);\r\n    this.mode.emit({ 'mode': 'multiple' })\r\n  }\r\n\r\n  public cameraButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'camera_upload',\r\n    type: 'primary',\r\n    icon: 'camera',\r\n    color: 'primary',\r\n    onclick: this.allowSingleUpload.bind(this)\r\n  }\r\n  public bulkUploadButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'btn_bulk_upload',\r\n    type: 'primary',\r\n    icon: 'upload',\r\n    color: 'primary',\r\n    onclick: this.allowMultipleUpload.bind(this)\r\n  }\r\n\r\n  public cancelButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Cancel Booking',\r\n    type: 'outline-danger',\r\n    onclick: this.cancelBooking.bind(this)\r\n  }\r\n\r\n  /**\r\n   * go to gtEstimate\r\n   */\r\n  redirectToGtEstimate():void {\r\n    \r\n    this.commonService.showLoading();\r\n    const { status, caseGuid, inspections, vehicleId, domainID } = this.caseData;\r\n    let inspectionId = 0;\r\n    if (inspections?.length > 0) {\r\n      inspectionId = inspections[0].inspectionId;\r\n    }\r\n    if (status?.toLowerCase() === 'uploaddocuments') {\r\n      this.monitorService.logEvent('redirectToGtEstimate', [ 'ChqDamageAnalysisComponent', 'addenda-quote', {\r\n        caseId: caseGuid\r\n      } ]);\r\n      this.caseService.updateCaseStatus(caseGuid, 'UploadPhotos').subscribe({\r\n        next: (resp: any): void => {\r\n          this.estimateService.createEstimate(caseGuid, inspectionId, vehicleId, domainID).subscribe({\r\n            next: (resp: any) => {\r\n              if (resp) {\r\n                if(resp?.data?.url){\r\n                  location.href = resp?.data?.url;\r\n                  sessionStorage.setItem('update', '1');\r\n                }\r\n              }\r\n            },\r\n            complete: () => {\r\n              this.commonService.hideLoading();\r\n            }\r\n          });\r\n        }, error: () => {\r\n          this.commonService.hideLoading();\r\n        }\r\n      })\r\n    }else if(status?.toLowerCase() === 'uploadphotos'){\r\n      this.monitorService.logEvent('redirectToGtEstimate', [ 'ChqDamageAnalysisComponent', 'addenda-quote', {\r\n        caseId: caseGuid\r\n      } ]);\r\n      this.estimateService.createEstimate(caseGuid, inspectionId, vehicleId, domainID).subscribe({\r\n        next: (resp: any) => {\r\n          if (resp) {\r\n            if(resp?.data){\r\n              location.href = resp.data.url;\r\n              sessionStorage.setItem('update', '1');\r\n            } \r\n          }\r\n        },\r\n        complete: () => {\r\n          this.commonService.hideLoading();\r\n        }\r\n      });\r\n    } else {\r\n      this.monitorService.logEvent('skipped_redirectToGtEstimate', [ 'ChqDamageAnalysisComponent', 'addenda-quote', {\r\n        caseId: caseGuid\r\n      } ]);\r\n      this.router.navigate([ `/case/${caseGuid}/estimate` ]);\r\n    }\r\n   \r\n  }\r\n\r\n  /**\r\n   * oninit\r\n   */\r\n  ngOnInit(): void {\r\n    const repairData = this.repairData;\r\n    this.nextButton.onclick = this.redirectToGtEstimate.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Cancel booking\r\n   */\r\n  cancelBooking(): void {\r\n    this.commonService.openDeleteDialog()\r\n      .afterClosed().subscribe((data) => {\r\n        if (data) {\r\n          this.commonService.showLoading();\r\n          this.calendarService.deleteRepair(this.repairData?.repairGuid).subscribe({\r\n            next: () => {\r\n              this.commonService.hideLoading();\r\n              this.router.navigate([ '/repair/booking-journal' ]);\r\n            }\r\n          });\r\n        }\r\n      });\r\n  }\r\n}\r\n","<div class=\"add-photo-container\">\r\n    <chq-step-header [chqModel]=\"photosHeader\"\r\n        *ngIf=\"(photosHeader.isRepairModule !== true && photosHeader.isClaimModule !== true) ||  photosHeader.isHeaderOnly === true\"></chq-step-header>\r\n    <div class=\"photo-container\" *ngIf=\"(showSPI || !hideBulk) && !repairUnapproved && !commonService.isViewOnly\">\r\n        <div class=\"card-container\">\r\n            <div class=\"card\" *ngIf=\"showSPI\">\r\n                <label class=\"card-title\">{{ 'smart_photo_inspection' | translate }}</label>\r\n                <p class=\"card-action\">{{ 'open_your_camera' | translate }}</p>\r\n                <p class=\"card-description\">\r\n                    {{ 'add_photo_msg' | translate }}\r\n                </p>\r\n                <chq-button [buttonModel]=\"cameraButtonModel\"></chq-button>\r\n            </div>\r\n            <div class=\"card\" *ngIf=\"!hideBulk\">\r\n                <label class=\"card-title\">{{ 'bulk_upload' | translate }}</label>\r\n                <p class=\"card-action\">{{ 'upload_device' | translate }}</p>\r\n                <p class=\"card-description\">\r\n                    {{ 'bulk_msg' | translate }}\r\n                </p>\r\n                <chq-button [buttonModel]=\"bulkUploadButtonModel\"></chq-button>\r\n            </div>\r\n        </div>\r\n        <!-- <div class=\"card-container\" *chqPermission=\"'technician'\">\r\n            <div class=\"no-document-div\">\r\n                <img src=\"assets/icons/no-document.svg\">    \r\n                <label class=\"no-vehicle-content\">\r\n                    {{ 'bulk_spi_disabled' | translate}}\r\n                </label>\r\n            </div>\r\n        </div> -->\r\n    </div>\r\n    <div class=\"wrapper\" *ngIf=\"(!showSPI && hideBulk) || repairUnapproved || commonService.isViewOnly\">\r\n        <div class=\"no-document-div\">\r\n            <img src=\"assets/icons/no-document.svg\">\r\n            <label class=\"no-vehicle-content\">\r\n                {{ (repairUnapproved ? 'start_job' : 'bulk_spi_disabled') | translate}}\r\n            </label>\r\n\r\n        </div>\r\n    </div>\r\n    <div class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper wrapper-flex\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/{{ + photosHeader.isRepairModule ?'addenda-repair.png': + photosHeader.isClaimModule ? 'addenda-claims.png' : 'addenda-quote.png'}}\" />\r\n            </div>\r\n            <div class=\"footer-button-wrapper\">\r\n                <chq-button [buttonModel]=\"cancelButtonModel\"\r\n                    *ngIf=\"showDelete && photosHeader?.isRepairModule\"></chq-button>\r\n                <chq-button *ngIf=\"showEstimate && !photosHeader.isRepairModule \" class=\"margin-right\"\r\n                    [buttonModel]=\"nextButton\"></chq-button>\r\n                <chq-button [buttonModel]=\"notifyButtonModel\" *ngIf=\"showNotify\"></chq-button>\r\n                <chq-button *ngIf=\"showComplete\" class=\"margin-right\" [buttonModel]=\"addPartButtonModel\"></chq-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { WidgetsModule } from 'src/app/widgets/widgets.module';\r\nimport { NoAccessErrorComponent } from './no-access-error/no-access-error.component';\r\n\r\n@NgModule({\r\n  declarations: [  \r\n    NoAccessErrorComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    WidgetsModule,\r\n    MatSidenavModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n  ],\r\n  exports: [ RouterModule, NoAccessErrorComponent ],\r\n})\r\nexport class ErrorModule {}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'no-access-error',\r\n  templateUrl: './no-access-error.component.html',\r\n  styleUrls: [ './no-access-error.component.scss' ]\r\n})\r\nexport class NoAccessErrorComponent {\r\n\r\n}\r\n","<div class=\"main-container\">\r\n    <div class=\"\" style=\"\">\r\n        <img src=\"assets/img/no-access.png\"/>\r\n    </div>\r\n</div>\r\n","import { AfterViewInit, ChangeDetectorRef, Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\r\nimport { BehaviorSubject, catchError, forkJoin, of } from 'rxjs';\r\nimport { FooterModel, UploadStepModel } from 'src/app/model/chq-upload-model';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { ChqWidgetsHeaderModel } from 'src/app/model/chq-widgets-header-model';\r\nimport { documentPartMapper } from 'src/app/modules/quote/chq-new-cases/chq-new-customer/chq-new-customer-form-data-helper';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { CaseService } from 'src/app/services/case/case.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { MediaCollectionService } from 'src/app/services/media-collection/media-collection.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\nimport { ChqImagesUploaderComponent } from 'src/app/widgets/chq-images-uploader/chq-images-uploader.component';\r\n\r\nconst newDocumentHeader: ChqWidgetsHeaderModel = {\r\n  title: 'add_documents',\r\n  step: 3,\r\n  description: 'add_documents_msg',\r\n  stepName: 'step_three',\r\n};\r\n\r\n@Component({\r\n  selector: 'new-documents',\r\n  templateUrl: './new-documents.component.html',\r\n  styleUrls: [ './new-documents.component.scss' ]\r\n})\r\nexport class NewDocumentsComponent implements OnInit, AfterViewInit {\r\n  @Input() documentHeader: ChqWidgetsHeaderModel = newDocumentHeader;\r\n  public imageStatusSteps: UploadStepModel[] = [];\r\n  public allowExtension = [ 'jpg', 'jpeg', 'png' ];\r\n  @ViewChild('imageUploaders') imageUploaders:ChqImagesUploaderComponent;\r\n  public skipButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Skip',\r\n    type: 'primary'\r\n  }\r\n\r\n  public footer: FooterModel = {\r\n    text: 'Next add photos',\r\n    icon: 'review',\r\n    route: 'quote/case/photos',\r\n    currentStatus: '',\r\n    status: 'UploadDocuments',\r\n    caseId: ''\r\n  }\r\n\r\n  public documentSizeLimit = 5242880;\r\n  public mediaTemplate: any;\r\n  public mediaTemplateId: number;\r\n  public collectionGuid: string;\r\n  public domainId: number;\r\n  public noDocumentData = false;\r\n  private repairId:string = '';\r\n  private currentRepairStatus = '';\r\n  public objectId: number;\r\n  public mediaPartTemplates: any[];\r\n  public currentObservable:(currentStep:UploadStepModel)=>void;\r\n  public currentUploadingStep: UploadStepModel;\r\n  public showNoAccess: boolean = false;\r\n  private currentOrgId: number;\r\n\r\n  statusUpdated: boolean = false;\r\n\r\n  /**\r\n   * constructor\r\n   * @param fb ChangeDetectorRef\r\n   */\r\n  constructor(private cd: ChangeDetectorRef, private commonService: CommonService, private route: ActivatedRoute,\r\n    private caseService: CaseService,\r\n    private monitorService: MonitorService,\r\n    private bookingService:BookingService,\r\n    private mediaCollectionService: MediaCollectionService) {\r\n    if (commonService.pageName.closed) {\r\n      commonService.pageName = new BehaviorSubject<string>(null);\r\n    }\r\n    commonService.pageName.next('document');\r\n\r\n    if(this.commonService.accessRight.closed) {\r\n      this.commonService.accessRight = new BehaviorSubject<boolean>(true);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ngAfterViewInit hook\r\n   * @param fb FormBuilder\r\n   */\r\n  ngAfterViewInit(): void {\r\n    this.commonService.updatePage('/quote/case/0', 'document');\r\n    this.cd.detectChanges();\r\n    this.monitorService.logEvent('ngAfterViewInit', [ 'ChqNewDocumentsComponent', 'addenda-quote' ]);\r\n  }\r\n\r\n  /**\r\n   * check route params\r\n   */\r\n  checkRouteParams():void {\r\n    this.route.queryParams?.subscribe((params)=>{\r\n      const codeParam = params['fromPersonal']\r\n      if (codeParam === 'true' || codeParam === true){\r\n        this.imageStatusSteps = this.imageStatusSteps.filter((step:UploadStepModel)=>{\r\n          return step.stepName.indexOf('Vehicle Registration') != -1;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * set current Observable\r\n   */\r\n  setObservable($event:UploadStepModel): void{\r\n    if ($event.uploadedGuid && $event.uploadedPartGuid) {\r\n      this.currentObservable = this.updateFile.bind(this);\r\n    } else {\r\n      this.currentObservable = this.uploadFile.bind(this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * media template by id\r\n   */\r\n  getMediaTemplateByObject():void {\r\n    this.mediaPartTemplates = this.commonService.getAllChild(this.mediaTemplate?.mediaTemplates, 'mediaPartTemplates', 'mediaTemplateGuid',\r\n      { 'parentProp': 'name', 'childProp': 'parentName' });\r\n    for (let i = 0; i < this.mediaPartTemplates.length; i++){\r\n      const mediaPart = this.mediaPartTemplates[i];\r\n      const documentStep = documentPartMapper(mediaPart, i);\r\n      const isAdditionalImage = documentStep.stepName.toLowerCase().indexOf('additional document') != -1;\r\n      const isAdditionalDocumentFromReviewPageOnly = isAdditionalImage && !documentStep.url;\r\n      this.imageStatusSteps.push({\r\n        ...documentStep, mandatory: mediaPart.mandatory, index: i,\r\n        isAdditionalDocumentFromReviewPageOnly,\r\n        contentType: mediaPart.contentType,\r\n        fileName: mediaPart.fileName,\r\n        parentName: mediaPart.parentName,\r\n        isFront: mediaPart.frontSide,\r\n        updatedDate: mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.updatedDate: '',\r\n        uploadedDate: mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.createdDate: '',\r\n        domainId: this.domainId, objectId: this.objectId,\r\n        sizeLimit: mediaPart.sizeLimit, allowExtension: mediaPart.allowExtension,\r\n        uploadedPartGuid: mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.mediaPartGuid : '',\r\n        uploadedGuid: mediaPart.mediaGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.mediaGuid:'',\r\n        partTemplateGuid: mediaPart.mediaPartTemplateGuid, templateGuid: mediaPart['mediaTemplateGuid']\r\n      });\r\n      this.checkRouteParams();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * update repair status\r\n   */\r\n  updateRepairStatus(repairId:string):void{\r\n    if(!this.statusUpdated) {\r\n      this.statusUpdated = true;\r\n      this.bookingService.updateRepairStatus('UploadDocuments', repairId, '').subscribe({\r\n        next: ()=>{\r\n          this.currentRepairStatus = 'UploadDocuments';\r\n          this.footer.currentStatus = this.currentRepairStatus;\r\n          this.commonService.showLoading();\r\n          this.bookingService.getRepairDetailByGuid(this.repairId).subscribe({\r\n            next: async (result: any) => {\r\n              if (result?.data) {\r\n                this.commonService.repairDetails.next(result.data);\r\n                this.commonService.bookingId.next(result.data.repairNumber);\r\n                this.commonService.hideLoading();\r\n              }\r\n            },\r\n            error: (err: any) => {\r\n              this.monitorService.logException(err, SeverityLevel.Error);\r\n              this.commonService.hideLoading();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * upload file\r\n   */\r\n  uploadFile(currentStep:UploadStepModel):void {\r\n\r\n    const obj = {\r\n      mediaCollectionId: this.mediaTemplate.collectionGuid,\r\n      domainId: this.domainId,\r\n      objectId: this.objectId,\r\n      mediaTemplateId: currentStep.templateGuid,\r\n      mediaPartTemplateId: currentStep.partTemplateGuid\r\n    }\r\n    this.monitorService.logEvent('uploadFile', [ 'ChqNewDocumentsComponent', 'addenda-quote', {\r\n      obj\r\n    } ]);\r\n    currentStep.uploadInProgress = true;\r\n    currentStep.isSkipped = false;\r\n    currentStep.isUploadFailed = false;\r\n    currentStep.isUploadSuccess = false;\r\n    const messageForUploading = `Your photo is currently uploading won’t be long and we’ll\r\n    notify you when its uploaded, you can continue to take your photos.`;\r\n    this.commonService.showNotification(messageForUploading);\r\n    this.mediaCollectionService.uploadDocument(currentStep.imageFile, obj).subscribe( {\r\n      next: (res: any):void => {\r\n        const responseData = res?.data;\r\n        this.imageStatusSteps.forEach((el)=> {\r\n          if(el.partTemplateGuid === currentStep.partTemplateGuid) {\r\n            el.url = responseData?.blobUrl\r\n          }\r\n        })\r\n        const mediaPartTemplate = this.mediaPartTemplates?.find((x: any) => x.mediaPartTemplateGuid == responseData?.mediaPartTemplateId);\r\n        if(mediaPartTemplate) {\r\n          mediaPartTemplate.mediaGuid = responseData.mediaGuid;\r\n          mediaPartTemplate.mediaPartGuid = responseData.mediaPartGuid;\r\n          if(location.href.includes('repair') && this.currentRepairStatus?.toLowerCase() === 'draft'){\r\n            this.updateRepairStatus(this.repairId);\r\n          }\r\n          if(location.href.includes('quote') && this.footer.currentStatus?.toLowerCase() === 'vehicledetails'){\r\n            this.updateStatus();\r\n          }\r\n          this.imageUploaders.updateUploadStatus('success', currentStep, null, responseData);\r\n        }\r\n      },\r\n      error: (err: any):void => {\r\n        if(err.status != 401) {\r\n          try{\r\n            this.imageUploaders.updateUploadStatus( 'failed', currentStep, err);\r\n          }catch(e){\r\n            this.imageUploaders.updateUploadStatus('failed', currentStep);\r\n          }\r\n        }\r\n        this.monitorService.logException(err, SeverityLevel.Error);\r\n      },\r\n      complete: ():void => this.commonService.hideLoading(),\r\n    });\r\n  }\r\n\r\n  /**\r\n   * update existing document\r\n   */\r\n  updateFile(currentStep:UploadStepModel):void {\r\n    const obj = {\r\n      objectId: this.objectId,\r\n      mediaGuid: currentStep.uploadedGuid,\r\n      mediaPartGuid: currentStep.uploadedPartGuid\r\n    }\r\n\r\n    this.monitorService.logEvent('updateFile', [ 'ChqNewDocumentsComponent', 'addenda-quote', {\r\n      obj\r\n    } ]);\r\n\r\n    currentStep.uploadInProgress = true;\r\n    currentStep.isSkipped = false;\r\n    currentStep.isUploadFailed = false;\r\n    currentStep.isUploadSuccess = false;\r\n    this.mediaCollectionService.updateDocument(currentStep.imageFile, obj).subscribe({\r\n      next: (res: any): void => {\r\n        this.imageUploaders.updateUploadStatus('success', currentStep, null, res );\r\n      },\r\n      error: (err: any):void => {\r\n        if(err.status != 401) {\r\n          try{\r\n            this.imageUploaders.updateUploadStatus( 'failed', currentStep, err);\r\n          }catch(e){\r\n            this.imageUploaders.updateUploadStatus('failed', currentStep);\r\n          }\r\n        }\r\n        this.monitorService.logException(err, SeverityLevel.Error);\r\n      },\r\n      complete: ():void =>this.commonService.hideLoading(),\r\n    });\r\n  }\r\n\r\n  /**\r\n   * update status\r\n   */\r\n  updateStatus():void{\r\n    if(!this.statusUpdated) {\r\n      this.statusUpdated = true;\r\n      this.monitorService.logEvent('updateStatus', [ 'ChqNewDocumentsComponent', 'addenda-quote', {\r\n        caseId: this.footer.caseId\r\n      } ]);\r\n      this.caseService.updateCaseStatus(this.footer.caseId, 'UploadDocuments').subscribe({\r\n        next: ()=>{\r\n          this.footer = { ...this.footer, status: '' };\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * map media template Data\r\n   * @param mediaData\r\n   */\r\n  mapMediaTemplate(mediaData: any):void {\r\n    if(this.mediaTemplate) {\r\n      try {\r\n        for(let i=0;i<this.mediaTemplate.mediaTemplates.length;i++) {\r\n          const media = this.mediaTemplate.mediaTemplates[i];\r\n          const mediaDataTemplate = mediaData.find((x:any)=> x.mediaTemplateGuid == media.mediaTemplateGuid);\r\n          if(mediaDataTemplate) {\r\n            for(let j=0;j<media.mediaPartTemplates.length;j++) {\r\n              const mediaPart = media.mediaPartTemplates[j];\r\n              const mediaDataPart = mediaDataTemplate.mediaParts.find((x: any)=> x.mediaPartTemplateGuid == mediaPart.mediaPartTemplateGuid);\r\n              mediaPart.fileName = mediaDataPart.fileName;\r\n              mediaPart.contentType = mediaDataPart.contentType;\r\n              mediaPart.mediaGuid = mediaDataTemplate.mediaGuid;\r\n              mediaPart.mediaPartGuid = mediaDataPart.mediaPartGuid;\r\n              mediaPart.createdDate = mediaDataPart.createdDate;\r\n              mediaPart.updatedDate = mediaDataPart.updatedDate;\r\n              mediaPart.image = mediaDataPart.getURL;\r\n              mediaPart.isUploadSuccess = false;\r\n              if(mediaPart.mediaPartGuid && mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000') {\r\n                mediaPart.isUploadSuccess = true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        this.mediaTemplate = { ...this.mediaTemplate };\r\n\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ngOnInit hook\r\n   */\r\n  ngOnInit(): void {\r\n    this.commonService.showLoading();\r\n    const id = this.route.parent?.snapshot.paramMap.get('id');\r\n    this.monitorService.logEvent('ngOnInit', [ 'ChqNewDocumentsComponent', 'addenda-quote', {\r\n      caseId: id\r\n    } ]);\r\n    this.footer = { ...this.footer, route: `quote/case/${id}/photos`, caseId: id };\r\n\r\n    this.commonService.accessRight.subscribe({\r\n      next: (res: boolean) => {\r\n        if (!res) {\r\n          this.showNoAccess = true;\r\n        }\r\n      }\r\n    });\r\n    const promiseApi:any = {\r\n      mediaTemplate: this.mediaCollectionService.getMediaTemplate()\r\n    }\r\n    let isRepair = false;\r\n    if(location.href.includes('repair')){\r\n      promiseApi.bookingDetail = this.bookingService.getRepairDetailByGuid(id);\r\n      isRepair = true;\r\n    }else{\r\n      this.commonService.userProfileData.subscribe((res) => {\r\n        if (res && res.data) {\r\n          const { organizationDetail } = res.data;\r\n          this.currentOrgId = organizationDetail.id;\r\n        }\r\n      });\r\n      promiseApi.caseDetail = this.caseService.getCaseDetail(id);\r\n    }\r\n\r\n    const result = forkJoin(promiseApi).pipe(\r\n      catchError(error => of(error))\r\n    )\r\n    result.subscribe((dict: any) => {\r\n      if (dict) {\r\n        const mediaTemplate = dict.mediaTemplate;\r\n        if (mediaTemplate) {\r\n          const mediaTemplateSelected = mediaTemplate.data;\r\n          if (dict.caseDetail) {\r\n            const { caseNumber, id, status, inspections, repairGuid, organizationDetail } = dict.caseDetail.data;\r\n\r\n            if (this.currentOrgId != organizationDetail?.organizationId) {\r\n              this.commonService.isViewOnly = true;\r\n            } else {\r\n              this.commonService.isViewOnly = false;\r\n            }\r\n\r\n            if (inspections.length > 0) {\r\n              this.commonService.inspectionId.next(inspections[0].inspectionId);\r\n            }\r\n            this.commonService.caseStatus.next(status);\r\n            this.commonService.caseDetail.next(dict.caseDetail.data);\r\n            if (status.toLowerCase() === 'vehicledetails') {\r\n            //   this.updateStatus();\r\n            }else{\r\n              this.footer = { ...this.footer, status: '' };\r\n            }\r\n            this.footer.currentStatus = status;\r\n            this.documentHeader.caseNumber = caseNumber;\r\n            this.objectId = id;\r\n            if (repairGuid) {\r\n              this.footer.repairId = repairGuid;\r\n              this.footer.from = 'Quote';\r\n            }\r\n          }\r\n          if(dict.bookingDetail){\r\n            const { id, status, repairGuid, quoteId, repairNumber, isRepairCreatedFromCase, bookings } = dict.bookingDetail.data;\r\n            this.objectId = id;\r\n            this.repairId = repairGuid;\r\n\r\n            //adding\r\n            if(quoteId) {\r\n              this.footer.caseId = quoteId;\r\n              this.footer.from = 'Repair';\r\n            }\r\n\r\n            this.footer.isRepairCreatedFromCase = isRepairCreatedFromCase;\r\n            this.footer.repairId = repairGuid;\r\n\r\n            this.footer.currentStatus = status;\r\n\r\n            this.commonService.repairStatus.next(status);\r\n            //\r\n\r\n            this.currentRepairStatus = status;\r\n            // Send booking data in observable\r\n            this.commonService.repairDetails.next(dict.bookingDetail.data);\r\n            this.commonService.bookingId.next(repairNumber);\r\n          }\r\n          if (mediaTemplateSelected.length > 0) {\r\n            const { id, collectionGuid } = mediaTemplateSelected[0];\r\n            this.mediaTemplateId = id;\r\n            this.domainId = 2100;\r\n            if(isRepair){\r\n              this.domainId = 3100;\r\n            }\r\n            this.collectionGuid = collectionGuid;\r\n            const detailResult = forkJoin({\r\n              mediaTemplateDetail: this.mediaCollectionService.getMediaTemplateById(collectionGuid),\r\n              mediaDetail: this.mediaCollectionService.getMediaDocumentData(id, this.objectId, this.domainId)\r\n            }).pipe(\r\n              catchError(error => of(error))\r\n            )\r\n            detailResult.subscribe((detailDict: any) => {\r\n              if (detailDict) {\r\n                const { mediaTemplateDetail, mediaDetail } = detailDict;\r\n                this.mediaTemplate = mediaTemplateDetail.data;\r\n                this.mediaTemplate.mediaTemplates = mediaTemplateDetail.data.mediaTemplates.sort((media: any, mediab: any) => {\r\n                  return media.orderNumber - mediab.orderNumber;\r\n                })\r\n                if (mediaDetail.data) {\r\n                  this.mapMediaTemplate(mediaDetail.data.medias);\r\n                }\r\n                this.getMediaTemplateByObject();\r\n              }\r\n              this.commonService.hideLoading();\r\n            }, (err) => {\r\n              this.commonService.hideLoading();\r\n              this.monitorService.logException(err, SeverityLevel.Error);\r\n            });\r\n\r\n          } else {\r\n            this.commonService.hideLoading();\r\n          }\r\n        }else {\r\n          this.noDocumentData = true;\r\n          this.commonService.hideLoading();\r\n        }\r\n\r\n      } else {\r\n        this.noDocumentData = true;\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n    const container: any = document.querySelector('.addenda-container');\r\n    if(container){\r\n      container.scrollTop = 0;\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * handled if step is skipped\r\n   */\r\n  stepSkipped(): void {\r\n    if(location.href.includes('repair') && this.currentRepairStatus?.toLowerCase() === 'draft'){\r\n      this.updateRepairStatus(this.repairId);\r\n    }\r\n    if(location.href.includes('quote') && this.footer.currentStatus?.toLowerCase() === 'vehicledetails'){\r\n      this.updateStatus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * on destroy\r\n  */\r\n  ngOnDestroy(): void {\r\n    this.monitorService.logEvent('ngOnDestroy', [ 'ChqNewDocumentComponent', 'addenda-quote' ]);\r\n    this.commonService.accessRight.unsubscribe();\r\n\r\n    if(location.href.includes('quote')){\r\n      this.commonService.isViewOnly = false;\r\n    }\r\n  }\r\n}\r\n","<div *ngIf=\"!showNoAccess\">\r\n    <chq-images-uploader #imageUploaders *ngIf=\"imageStatusSteps && imageStatusSteps.length > 0\"\r\n        [fileUploaderService]=\"currentObservable\" (cardSelection)=\"setObservable($event)\" [footerOptions]=\"footer\"\r\n        [imageStatusSteps]=\"imageStatusSteps\" [header]=\"documentHeader\" (stepSkipped)=\"stepSkipped()\"></chq-images-uploader>\r\n    <div class=\"wrapper\" *ngIf=\"noDocumentData\">\r\n        <div class=\"no-document-div\">\r\n            <img src=\"assets/icons/no-document.svg\">\r\n            <label class=\"no-vehicle-content\">\r\n                No Content Available\r\n            </label>\r\n\r\n        </div>\r\n        <div class=\"empty-wrapper\">\r\n            <div class=\"step-container\"></div>\r\n            <div class=\"step-container\"></div>\r\n            <div class=\"step-container\"></div>\r\n            <div class=\"step-container\"></div>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"noDocumentData\" class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/{{ + documentHeader.isRepairModule ?'addenda-repair.png':'addenda-quote.png'}}\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<no-access-error *ngIf=\"showNoAccess\"></no-access-error>","import { AfterViewInit, ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\r\nimport { BehaviorSubject, catchError, forkJoin, of, Subject } from 'rxjs';\r\nimport { PartialCaseDetail } from 'src/app/model/chq-cases-model';\r\nimport { ChqInspectionStep } from 'src/app/model/chq-inspection-step';\r\nimport { FooterModel, Modules, UploadStepModel } from 'src/app/model/chq-upload-model';\r\nimport { ChqWidgetsHeaderModel } from 'src/app/model/chq-widgets-header-model';\r\nimport { inspectionpartPartMapper } from 'src/app/modules/quote/chq-new-cases/chq-new-customer/chq-new-customer-form-data-helper';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { CaseService } from 'src/app/services/case/case.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { InspectionService } from 'src/app/services/inspection/inspection.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\nimport { RepairEstimateService } from 'src/app/services/repair-estimate/repair-estimate.service';\r\nimport { ChqImagesUploaderComponent } from 'src/app/widgets/chq-images-uploader/chq-images-uploader.component';\r\nimport { DamageReport } from 'src/app/model/chq-damage-report';\r\n\r\n\r\nconst photosHeader: ChqWidgetsHeaderModel = {\r\n  title: 'add_damage_photos',\r\n  step: 4,\r\n  description: 'damage_photos_msg',\r\n  stepName: 'step_four',\r\n};\r\n\r\n@Component({\r\n  selector: 'new-photos',\r\n  templateUrl: './new-photos.component.html',\r\n  styleUrls: [ './new-photos.component.scss' ]\r\n})\r\nexport class NewPhotosComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() photosHeader: ChqWidgetsHeaderModel = photosHeader;\r\n  @Output() currentUploadMode: EventEmitter<{ 'mode': string, 'id'?: string }> = new EventEmitter();\r\n  addPhotosHeader: ChqWidgetsHeaderModel;\r\n  public imageStatusSteps: UploadStepModel[] = [];\r\n  public showUploading: boolean = false;\r\n  public isMultipleUpload: boolean = false;\r\n  public triggerMassUpload: boolean = false;\r\n  public caseStatus = '';\r\n  public caseId: string = '0';\r\n  public inspection: any;\r\n  public bookingId: string = '';\r\n  public vehicleId: number;\r\n  public domainId: number;\r\n  public uploadType: string;\r\n  public showDamageAnalysis: boolean;\r\n  public objectId: number;\r\n  public minimumPhotosRequired: number = 0;\r\n  public hideContent: boolean = true;\r\n  public currentAdditionalModeMultiple = false;\r\n  public vehicelType: string;\r\n  public isBulkUploaded: boolean;\r\n  public caseData: any;\r\n  public aiReport:{ damageRecommendations: any[], damageDetails:DamageReport[]}\r\n  public inspectionId: number;\r\n  private currentInspectionTemplate: any;\r\n  public hideUploaders = false;\r\n  private repairTypes: any = [];\r\n  private repairType = '';\r\n  public noImagesData:boolean = false;\r\n  private repairId: string = '';\r\n  public inspectionTemplatesJSONString = '';\r\n  private currentRepairStatus = '';\r\n  public partialCaseDetail: PartialCaseDetail;\r\n  public repairDetail: any;\r\n  @ViewChild('imageUploaders') imageUploaders: ChqImagesUploaderComponent;\r\n  public inspectionTemplateId: number;\r\n  public currentObservable: (currentStep: UploadStepModel) => void;\r\n  public inspectionTemplates: ChqInspectionStep[];\r\n  public inspectionItemTemplates: ChqInspectionStep[];\r\n  public inspectionTemplateList: any[];\r\n  public inspectionDetail: any;\r\n  public originalSteps: UploadStepModel[] = [];\r\n  public showNoAccess: boolean = false;\r\n  public footer: FooterModel = {\r\n    text: 'Next create estimate',\r\n    icon: 'boardview',\r\n    route: 'case/gt',\r\n    status: 'UploadPhotos',\r\n    caseId: '',\r\n    currentStatus: '',\r\n    showButton: true,\r\n    showUploadOption: true\r\n  }\r\n  showRepairRecommendation = false;\r\n\r\n  statusUpdated: boolean = false;\r\n  private currentOrgId: number;\r\n\r\n  /**\r\n   * handle back\r\n   */\r\n  handleBack($event: { back: boolean }): void {\r\n    this.showDamageAnalysis = !$event.back;\r\n  }\r\n\r\n  /**\r\n   * check repair types\r\n   */\r\n  get checkRepairTypes(): boolean {\r\n    if (location.href.indexOf('repair') === -1) {\r\n      return true;\r\n    }\r\n\r\n    if (this.repairType !== 'repair') {\r\n      return true;\r\n    }\r\n\r\n    return this.repairTypes.filter((v) => {\r\n      return v.repairServiceType === 'Body' || v.repairServiceType === 'Paint';\r\n    }).length > 0;\r\n  }\r\n\r\n  /**\r\n   * go to gtEstimate\r\n   */\r\n  redirectToGtEstimate(): void {\r\n    this.commonService.showLoading();\r\n    if (this.caseStatus?.toLowerCase() === 'uploaddocuments' || this.caseStatus?.toLowerCase() === 'uploadphotos') {\r\n      this.estimateService.createEstimate(this.caseId, this.inspectionId, this.vehicleId, this.domainId).subscribe({\r\n        next: (resp: any) => {\r\n          if (resp) {\r\n            if (resp?.data?.url) {\r\n              location.href = resp.data.url;\r\n              sessionStorage.setItem('update', '1');\r\n            }\r\n          }\r\n        },\r\n        complete: () => {\r\n          this.commonService.hideLoading();\r\n        }\r\n      });\r\n    } else {\r\n      this.router.navigate([ `/quote/case/${this.caseId}/estimate` ]);\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * constructor\r\n   * @param fb ChangeDetectorRef \r\n   */\r\n  constructor(private cd: ChangeDetectorRef, private commonService: CommonService,\r\n    private route: ActivatedRoute,\r\n    private router: Router, private caseService: CaseService,\r\n    private monitorService: MonitorService,\r\n    private inspectionService: InspectionService,\r\n    private bookingService: BookingService,\r\n    private estimateService: RepairEstimateService) {\r\n    if (commonService.pageName.closed) {\r\n      commonService.pageName = new BehaviorSubject<string>(null);\r\n    }\r\n    commonService.pageName.next('photos');\r\n\r\n    if (this.commonService.accessRight.closed) {\r\n      this.commonService.accessRight = new BehaviorSubject<boolean>(true);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * update page status\r\n   */\r\n  updateCurrentStatus($event): void {\r\n    this.monitorService.logEvent('updateCurrentStatus', [ 'ChqNewPhotosComponent', 'addenda-quote', {\r\n      caseId: $event\r\n    } ]);\r\n    if ($event.initial) {\r\n      this.setInitialMode();\r\n      return;\r\n    }\r\n    this.showUploading = true;\r\n\r\n    // if ((this.footer.repairId && this.footer.from == Modules.quote)\r\n    // || (this.footer.caseId && this.footer.from == Modules.repair)) {\r\n\r\n    //   this.commonService.showChangeWarningMessage(this.uploadBulkUploadFile.bind(this, $event.steps),\r\n    //     this.footer.from == Modules.quote ? 'Repair' : 'Quote');\r\n    // } else {\r\n    //   this.uploadBulkUploadFile($event.steps);\r\n    // }\r\n    this.uploadBulkUploadFile($event.steps);\r\n  }\r\n\r\n  /**\r\n   * handle delete all\r\n   */\r\n  handleDeleteAll(): void {\r\n    this.setInitialMode();\r\n  }\r\n\r\n  /**\r\n   * ngAfterViewInit hook\r\n   */\r\n  ngAfterViewInit(): void {\r\n    this.commonService.updatePage('/quote/case/0', 'photos');\r\n    this.cd.detectChanges();\r\n    this.monitorService.logEvent('ngAfterViewInit', [ 'ChqNewPhotosComponent', 'addenda-quote' ]);\r\n  }\r\n\r\n  /**\r\n * upload bulk file\r\n * @param uploads \r\n */\r\n  uploadBulkUploadFile(uploads: UploadStepModel[]): void {\r\n    for (let i = 0; i < uploads?.length; i++) {\r\n\r\n      const img = new Image();\r\n      img.src = uploads[i].image as string;\r\n      img.onload = (): void => {\r\n        const uploadObject = {\r\n          'height': img.height,\r\n          'width': img.width,\r\n          'inspectionId': this.inspectionId,\r\n          'templateId': this.inspectionTemplateId,\r\n          'type': this.vehicelType || '',\r\n          'isBulk': true\r\n        }\r\n        const step = uploads[i];\r\n        step.uploadInProgress = true;\r\n        step.isSkipped = false;\r\n        step.isUploadFailed = false;\r\n        step.isUploadSuccess = false;\r\n        this.monitorService.logEvent('uploadBulkUploadFile', [ 'ChqNewPhotosComponent', 'addenda-quote', {\r\n          uploadObject\r\n        } ]);\r\n        this.inspectionService.uploadImageBulk(uploadObject, step.imageFile).subscribe({\r\n          next: (data: any) => {\r\n            step.url = data.rawImage?.rawAzureBlobUrl;\r\n            step.inspectionItem = data;\r\n            step.procedureSteps = 'Bulk Upload Image';\r\n            this.imageUploaders.updateUploadStatus('success', step, null, data);\r\n            this.footer = { ...this.footer, showUploadOption: false };\r\n            if (location.href.includes('repair') && (this.currentRepairStatus?.toLowerCase() === 'draft' || this.currentRepairStatus?.toLowerCase() === 'uploaddocuments')) {\r\n              this.updateRepairStatus(this.repairId);\r\n            }\r\n            if (location.href.includes('quote') && (this.footer.currentStatus?.toLowerCase() === 'uploaddocuments')) {\r\n              this.updateStatus();\r\n            }\r\n          },\r\n          error: (err: any) => {\r\n            if (err.status != 401) {\r\n              this.imageUploaders.imageStatusSteps = this.imageUploaders.imageStatusSteps.filter((ig: UploadStepModel) => {\r\n                return (ig.index !== step.index || ig.stepName !== step.stepName || ig.uploadInProgress !== true);\r\n              })\r\n              this.imageUploaders.updateUploadStatus('failed', step, err, null, true);\r\n            }\r\n            this.monitorService.logException(err, SeverityLevel.Error);\r\n          },\r\n        })\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * update repair status\r\n   */\r\n  updateRepairStatus(repairId: string): void {\r\n    if(!this.statusUpdated) {  \r\n      this.statusUpdated = true;\r\n      this.bookingService.updateRepairStatus('UploadPhotos', repairId, '').subscribe({\r\n        next: () => {\r\n          this.currentRepairStatus = 'UploadPhotos';\r\n          this.footer.currentStatus = this.currentRepairStatus;\r\n          this.commonService.showLoading();\r\n          this.bookingService.getRepairDetailByGuid(this.repairId).subscribe({\r\n            next: async (result: any) => {\r\n              if (result?.data) {\r\n                this.commonService.repairDetails.next(result.data);\r\n                this.commonService.bookingId.next(result.data.repairNumber);                          \r\n                this.commonService.hideLoading();\r\n              }\r\n            },\r\n            error: (err: any) => {\r\n              this.monitorService.logException(err, SeverityLevel.Error);\r\n              this.commonService.hideLoading();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  /**\r\n   * upload photos\r\n   */\r\n  uploadFile(currentStep: UploadStepModel): void {\r\n    const uploadObject = {\r\n      'height': currentStep.imageHeight,\r\n      'width': currentStep.imageWidth,\r\n      'inspectionId': this.inspectionId,\r\n      'templateId': this.inspectionTemplateId,\r\n      'inspectionitemId': currentStep.inspectionItem.id,\r\n      'type': this.vehicelType || '',\r\n      'isBulk': false\r\n    }\r\n\r\n    this.monitorService.logEvent('uploadFile', [ 'ChqNewPhotosComponent', 'addenda-quote', {\r\n      uploadObject\r\n    } ]);\r\n\r\n    currentStep.uploadInProgress = true;\r\n    currentStep.isSkipped = false;\r\n    currentStep.isUploadFailed = false;\r\n    currentStep.isUploadSuccess = false;\r\n    this.commonService.inProgressSteps.next(1);\r\n    this.footer = { ...this.footer, showUploadOption: false };\r\n    this.commonService.showNotification(`Your photo ‘${currentStep.stepName}’ is currently uploading won’t be long and we’ll notify \r\n       you when its uploaded, you can continue to take your photos.`);\r\n    this.inspectionService.uploadImageBulk(uploadObject, currentStep.imageFile).subscribe({\r\n      next: (data: any) => {\r\n        const msg = `Your photo ‘${currentStep.stepName}’ is uploaded successfully.`;\r\n        this.commonService.showNotification(msg);\r\n        const inspectionItem = this.inspectionItemTemplates?.find((x: any) => x.inspectionItem.id == data?.id);\r\n        inspectionItem.inspectionItem.rawAzureBlobUrl = data.rawImage?.rawAzureBlobUrl;\r\n        if (inspectionItem) {\r\n          currentStep.url = data.rawImage?.rawAzureBlobUrl;\r\n          this.imageUploaders.updateUploadStatus('success', currentStep, null, data);\r\n        }\r\n        if (location.href.includes('repair') && (this.currentRepairStatus == 'Draft' || this.currentRepairStatus === 'UploadDocuments')) {\r\n          this.updateRepairStatus(this.repairId);\r\n        }\r\n        if (location.href.includes('quote') && (this.footer.currentStatus?.toLowerCase() === 'uploaddocuments')) {\r\n          this.updateStatus();\r\n        }\r\n      },\r\n      error: (err: any) => {\r\n        if (err.status != 401) {\r\n          const msg = `Your photo ‘${currentStep.stepName}’ failed to upload. Please try to upload again.`;\r\n          this.commonService.showNotification(msg);\r\n          this.imageUploaders.updateUploadStatus('failed', currentStep, err);\r\n          this.monitorService.logException(err, SeverityLevel.Error);\r\n        }\r\n      },\r\n    })\r\n  }\r\n\r\n  /**\r\n   * on destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    this.commonService.pageName.unsubscribe();\r\n    this.commonService.accessRight.unsubscribe();\r\n    if(location.href.includes('quote')){\r\n      this.commonService.isViewOnly = false;\r\n    }\r\n    this.monitorService.logEvent('ngOnDestroy', [ 'ChqNewPhotosComponent', 'addenda-quote' ]);\r\n  }\r\n\r\n  /**\r\n   * showRepairButton\r\n   */\r\n  get showEstimateButton(): boolean {\r\n    return this.currentInspectionTemplate?.minImageLimit === 0 && this.inspectionItemTemplates?.filter((value: ChqInspectionStep) => {\r\n      return value.isSkipEnabled !== true;\r\n    }).length === 0;\r\n  }\r\n\r\n  /**\r\n   * map inspection from api\r\n   * @param inspectionData \r\n   */\r\n  mapInspection(inspectionData: any): void {\r\n    if (inspectionData) {\r\n      try {\r\n        this.inspection = inspectionData;\r\n        this.uploadType = this.inspection.uploadType;\r\n        let currentMode = 'SPI';\r\n        if (this.uploadType) {\r\n          this.footer = { ...this.footer, showUploadOption: false };\r\n        }\r\n        if (this.uploadType === 'Bulk') {\r\n          currentMode = 'BULK';\r\n        }\r\n        const bulkUploadTemplateItem = this.inspectionTemplates?.filter(step => step.name === 'Bulk Upload Image');\r\n        const bulkUploadedItemsWithImages = this.inspection.inspectionItems?.filter((step) => {\r\n          return (step.name === 'Bulk Upload Image' || step.inspectionItemTemplateID === bulkUploadTemplateItem[0].id)\r\n              && step.rawAzureBlobUrl\r\n        });\r\n        if (bulkUploadedItemsWithImages?.length > 0 || this.uploadType === 'Bulk') {\r\n          const massUploadItems = [];\r\n          this.currentUploadMode.emit({ 'mode': 'multiple' });\r\n          for (const i in bulkUploadedItemsWithImages) {\r\n            const currentObj = {\r\n              ...bulkUploadTemplateItem[0], name: bulkUploadedItemsWithImages[i].name || bulkUploadTemplateItem[0].name,\r\n              inspectionItem: bulkUploadedItemsWithImages[i]\r\n            }\r\n            massUploadItems.push(currentObj);\r\n          }\r\n          this.inspectionItemTemplates = massUploadItems;\r\n        } else {\r\n\r\n          this.currentUploadMode.emit({ 'mode': 'single' });\r\n          this.inspectionTemplates?.map((chqInspectionStep: ChqInspectionStep) => {\r\n            const item = this.inspection.inspectionItems?.find((el: any) => el.inspectionItemTemplateID == chqInspectionStep.id);\r\n            if (item) {\r\n              chqInspectionStep['inspectionItem'] = item;\r\n            }\r\n          });\r\n          this.inspectionItemTemplates = this.inspectionTemplates?.filter(step => step.name != 'Bulk Upload Image');\r\n        }\r\n        if(bulkUploadTemplateItem?.length > 0) this.inspectionTemplateId = bulkUploadTemplateItem[0].id;\r\n\r\n        this.inspectionItemTemplates?.map((x: ChqInspectionStep) => {\r\n          if (x.inspectionItem?.rawAzureBlobUrl) {\r\n            x.isUploadSuccess = true;\r\n            x.image = x.inspectionItem?.rawAzureBlobUrl;\r\n          } else {\r\n            if (!x.inspectionItem) {\r\n              x.inspectionItem = { rawAzureBlobUrl: '' };\r\n            }\r\n            x.inspectionItem.rawAzureBlobUrl = '';\r\n            x.isUploadFailed = false;\r\n            x.isUploadSuccess = false;\r\n            x.uploadInProgress = false;\r\n          }\r\n        })\r\n        if (this.uploadType) {\r\n          if (currentMode === 'SPI') {\r\n            this.isMultipleUpload = false;\r\n            this.showUploading = true;\r\n            if (this.addPhotosHeader.isRepairModule) {\r\n              this.photosHeader = { ...this.photosHeader, title: 'back_smart_photo' };\r\n            }\r\n            this.minimumPhotosRequired = this.inspectionItemTemplates?.filter((value: ChqInspectionStep) => {\r\n              return value.isSkipEnabled !== true;\r\n            }).length;\r\n            this.currentObservable = this.uploadFile.bind(this);\r\n          } else {\r\n            this.currentObservable = this.uploadBulkUploadFile.bind(this);\r\n            this.isMultipleUpload = true;\r\n            this.minimumPhotosRequired = this.currentInspectionTemplate.minImageLimit;\r\n            this.triggerMassUpload = true;\r\n            this.isBulkUploaded = true;\r\n            if (this.addPhotosHeader.isRepairModule) {\r\n              this.photosHeader = { ...this.photosHeader, title: 'bulk_upload' };\r\n            }\r\n          }\r\n        }\r\n      } catch (error: any) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * inspection detail by id\r\n   */\r\n  getInspectionTemplateByObject(): void {\r\n    for (let i = 0; i < this.inspectionItemTemplates?.length; i++) {\r\n      const templatePart = this.inspectionItemTemplates[i];\r\n      const inspectionStep = inspectionpartPartMapper(templatePart, i);\r\n      const isAdditionalImage = inspectionStep.stepName?.toLowerCase().indexOf('additional photo') != -1;\r\n      const isMassUpload = inspectionStep.stepName?.toLowerCase().indexOf('bulk upload image') != -1;\r\n      const isAdditionalDocumentFromReviewPageOnly = isAdditionalImage && !inspectionStep.url;\r\n      this.imageStatusSteps.push({\r\n        ...inspectionStep, mandatory: !templatePart.isSkipEnabled, index: i,\r\n        isAdditionalDocumentFromReviewPageOnly,\r\n        isMassUpload,\r\n        updatedDate: inspectionStep.url ? templatePart?.inspectionItem?.updatedDate : '',\r\n        uploadedDate: inspectionStep.url ? templatePart?.inspectionItem?.created : '',\r\n        domainId: this.domainId, objectId: this.objectId,\r\n        uploadedPartGuid: '',\r\n        uploadedGuid: ''\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * update status\r\n   */\r\n  updateStatus(): void {\r\n    if(!this.statusUpdated) {  \r\n      this.statusUpdated = true;\r\n      this.monitorService.logEvent('updateStatus', [ 'ChqNewPhotosComponent', 'addenda-quote' ]);\r\n      this.caseService.updateCaseStatus(this.caseId, 'UploadPhotos').subscribe({\r\n        next: () => {\r\n          this.footer = { ...this.footer, status: '' };\r\n          this.partialCaseDetail.status = 'UploadPhotos';\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handled if step is skipped\r\n   */\r\n  stepSkipped(): void {\r\n    if (location.href.includes('repair') && (this.currentRepairStatus?.toLowerCase() === 'draft' || this.currentRepairStatus?.toLowerCase() === 'uploaddocuments')) {\r\n      this.updateRepairStatus(this.repairId);\r\n    }\r\n    if (location.href.includes('quote') && (this.footer.currentStatus?.toLowerCase() === 'uploaddocuments')) {\r\n      this.updateStatus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * load server details\r\n   */\r\n  loadApiData(id: string): void {\r\n    if (id && id != '0') {\r\n      this.caseId = id;\r\n      this.bookingId = id;\r\n      this.commonService.showLoading();\r\n      this.inspectionService.getInspectionTemplateList().subscribe({\r\n        next: (inspectionList: any) => {\r\n          let isRepair = false;\r\n          let inspectionTemplateId = 0;\r\n          if (location.href.includes('repair')) {\r\n            isRepair = true;\r\n          }\r\n          const repairInspectionTemplate = inspectionList?.data;\r\n\r\n          if (repairInspectionTemplate?.length > 0) {\r\n            this.commonService.repairInspectionTemplate = repairInspectionTemplate[0];\r\n            inspectionTemplateId = repairInspectionTemplate[0].id\r\n          }\r\n          const promiseApi: any = {};\r\n          promiseApi.inspectionTemplate = this.inspectionService.getInspectionTemplate(inspectionTemplateId);\r\n          if (isRepair) {\r\n            promiseApi.bookingDetail = this.bookingService.getRepairDetailByGuid(id);\r\n\r\n          } else {\r\n            this.commonService.userProfileData.subscribe((res) => {\r\n              if (res && res.data) {\r\n                const { organizationDetail } = res.data;\r\n                this.currentOrgId = organizationDetail.id;\r\n              }\r\n            });\r\n            promiseApi.caseDetail = this.caseService.getCaseDetail(id);\r\n          }\r\n          const serverDetails = forkJoin(promiseApi).pipe(\r\n            catchError(error => of(error))\r\n          )\r\n          serverDetails.subscribe({\r\n            next: (resultMap: any) => {\r\n              if (resultMap.inspectionTemplate) {\r\n\r\n                const inspectionTemplateDetail = resultMap.inspectionTemplate.inspectionItemTemplates;\r\n                this.currentInspectionTemplate = resultMap.inspectionTemplate;\r\n                if (resultMap.inspectionDetail) {\r\n                  this.inspectionDetail = resultMap.inspectionDetail;\r\n                }\r\n                this.inspectionTemplates = inspectionTemplateDetail;\r\n                this.inspectionTemplatesJSONString = JSON.stringify(this.inspectionTemplates);\r\n                if (resultMap.caseDetail) {\r\n                  const { caseNumber, id, status, statusId, domainID, inspections, vehicleModel, vehicleId, organizationDetail } = resultMap.caseDetail.data;\r\n                  this.caseData = resultMap.caseDetail.data;\r\n                  this.partialCaseDetail = resultMap.caseDetail.data;\r\n\r\n                  if (this.currentOrgId != organizationDetail?.organizationId) {\r\n                    this.commonService.isViewOnly = true;\r\n                  } else {\r\n                    this.commonService.isViewOnly = false;\r\n                  }\r\n\r\n                  this.vehicelType = vehicleModel;\r\n                  this.vehicleId = vehicleId;\r\n                  this.domainId = domainID;\r\n                  this.commonService.caseStatus.next(status);\r\n                  this.commonService.caseDetail.next(resultMap.caseDetail?.data);\r\n                  this.caseStatus = status;\r\n                  if (status?.toLowerCase() === 'uploaddocuments') {\r\n                    //this.updateStatus();\r\n                  } else {\r\n                    this.footer = { ...this.footer, status: '', caseId: id }\r\n                  }\r\n                  this.footer.currentStatus = status;\r\n                  if (inspections?.length > 0) {\r\n                    this.inspectionId = inspections[0].inspectionId;\r\n                    this.commonService.inspectionId.next(this.inspectionId);\r\n                  }\r\n                  this.photosHeader.caseNumber = caseNumber;\r\n\r\n                  if (this.caseData.repairGuid) {\r\n                    this.footer.repairId = this.caseData.repairGuid;\r\n                    this.footer.from = Modules.quote;\r\n                  }\r\n\r\n                  this.objectId = id;\r\n                }\r\n                if (resultMap.bookingDetail) {\r\n                  const { id, vehicle, repairServiceTypes, repairGuid, domainId, status, quoteId, repairType, repairNumber, isRepairCreatedFromCase } = resultMap.bookingDetail.data;\r\n                  this.repairDetail = resultMap.bookingDetail.data;\r\n                  const { vehicleModel, vehicleId } = vehicle;\r\n\r\n                  this.objectId = id;\r\n                  this.domainId = domainId;\r\n                  this.repairId = repairGuid;\r\n                  this.currentRepairStatus = status;\r\n                  this.repairTypes = repairServiceTypes;\r\n                  this.repairType = repairType;\r\n                  this.inspectionId = vehicle.inspectionId;\r\n                  this.vehicelType = vehicleModel;\r\n                  this.vehicleId = vehicleId;\r\n                  this.footer = { ...this.footer, currentStatus: status, isRepairModule: true, caseId: quoteId, \r\n                    from: Modules.repair, repairTypes: repairServiceTypes, isRepairCreatedFromCase: isRepairCreatedFromCase, repairId: repairGuid };\r\n                  // Send booking data in observable\r\n                  this.commonService.repairDetails.next(resultMap.bookingDetail.data)\r\n                  this.commonService.bookingId.next(repairNumber);\r\n                  this.commonService.repairStatus.next(status);\r\n                }\r\n\r\n                if (this.inspectionId) {\r\n                  this.inspectionService.getInspection(this.inspectionId).subscribe({\r\n                    next: (inspectionDetailResponse: any) => {\r\n                      if (inspectionDetailResponse) {\r\n                        this.mapInspection(inspectionDetailResponse);\r\n                        this.noImagesData = false;\r\n                        this.getInspectionTemplateByObject();\r\n                        setTimeout(() => {\r\n                          this.hideContent = false;\r\n                          if (this.isBulkUploaded) {\r\n                            this.showUploading = true;\r\n                            this.isMultipleUpload = true;\r\n                            this.currentAdditionalModeMultiple = true;\r\n                          }\r\n                          if (this.uploadType) {\r\n                            this.imageUploaders.goToReview();\r\n                          }\r\n                        })\r\n                      }\r\n                    },\r\n                    error: ()=>{\r\n                      this.noImagesData = true;\r\n                    },\r\n                    complete: () => {\r\n                      this.commonService.hideLoading();\r\n                    },\r\n                  });\r\n                } else {\r\n                  this.noImagesData = true;\r\n                  this.hideContent = false;\r\n                  this.commonService.hideLoading();\r\n                }\r\n              }else{\r\n                this.noImagesData = true;\r\n                this.commonService.hideLoading();\r\n              }\r\n            }\r\n          });\r\n        }, error: ()=>{\r\n          this.noImagesData = true;\r\n          this.commonService.hideLoading();\r\n        }\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * oninit\r\n   */\r\n  ngOnInit(): void {\r\n    const currentObjectId = this.route.parent?.snapshot.paramMap.get('id');\r\n    this.addPhotosHeader = { ...this.photosHeader, isHeaderOnly: false };\r\n    this.monitorService.logEvent('ngOnInit', [ 'ChqNewPhotosComponent', 'addenda-quote', {\r\n      caseId: currentObjectId,\r\n      repairId: currentObjectId\r\n    } ]);\r\n\r\n    this.footer = {\r\n      ...this.footer, caseId: this.photosHeader.isRepairModule? '': currentObjectId,\r\n      repairId: this.photosHeader.isRepairModule? currentObjectId: '', \r\n      handleBack: this.handleBack.bind(this)\r\n      , finalRedirection: this.redirectToGtEstimate.bind(this) }\r\n\r\n    this.commonService.accessRight.subscribe({\r\n      next: (res: boolean) => {\r\n        if (!res) {\r\n          this.showNoAccess = true;\r\n        }\r\n      }\r\n    });\r\n    \r\n    this.loadApiData(currentObjectId);\r\n    const container: any = document.querySelector('.addenda-container');\r\n    if (container) {\r\n      container.scrollTop = 0;\r\n    }\r\n\r\n    this.currentObservable = this.uploadFile.bind(this);\r\n  }\r\n\r\n  /**\r\n   * reload inspection and map\r\n   */\r\n  public reloadInspection(): void {\r\n    this.commonService.showLoading();\r\n    this.inspectionTemplates = JSON.parse(this.inspectionTemplatesJSONString);\r\n    if (this.inspectionId) {\r\n      this.inspectionService.getInspection(this.inspectionId).subscribe({\r\n        next: (inspectionDetailResponse: any) => {\r\n          if (inspectionDetailResponse) {\r\n            this.mapInspection(inspectionDetailResponse);\r\n            this.getInspectionTemplateByObject();\r\n            this.isMultipleUpload = false;\r\n\r\n            this.isBulkUploaded = false;\r\n            this.currentAdditionalModeMultiple = false;\r\n            this.triggerMassUpload = false;\r\n            setTimeout(() => {\r\n              this.hideContent = false;\r\n              this.showUploading = true;\r\n            })\r\n\r\n          }\r\n        },\r\n        complete: () => {\r\n          this.commonService.hideLoading();\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * set to initial mode\r\n   */\r\n  setInitialMode(): void {\r\n    this.showUploading = false;\r\n    this.imageStatusSteps = [];\r\n    this.triggerMassUpload = false;\r\n    this.isBulkUploaded = false;\r\n    this.imageUploaders.isReviewSection = false;\r\n    this.isMultipleUpload = false;\r\n    this.currentAdditionalModeMultiple = false;\r\n  }\r\n\r\n  /**\r\n   *handle mode selection\r\n   * @param $event \r\n   */\r\n  handleMode($event: any): void {\r\n    this.monitorService.logEvent('handleMode', [ 'ChqNewPhotosComponent', 'addenda-quote', {\r\n      $event\r\n    } ]);\r\n    if (!this.inspectionId) {\r\n      this.currentUploadMode.emit({ 'mode': 'error', 'id': this.bookingId });\r\n      return;\r\n    }\r\n    this.currentUploadMode.emit($event);\r\n\r\n    if ($event.mode === 'single') {\r\n\r\n      if (this.imageStatusSteps?.length === 0) {\r\n        this.isMultipleUpload = false;\r\n        this.isBulkUploaded = false;\r\n        this.currentAdditionalModeMultiple = false;\r\n        this.triggerMassUpload = false;\r\n        this.minimumPhotosRequired = this.inspectionItemTemplates.filter((value: ChqInspectionStep) => {\r\n          return value.isSkipEnabled !== true;\r\n        }).length;\r\n        this.reloadInspection();\r\n      } else {\r\n        this.isMultipleUpload = false;\r\n        this.showUploading = true;\r\n        this.isBulkUploaded = false;\r\n        this.currentAdditionalModeMultiple = false;\r\n        this.minimumPhotosRequired = this.currentInspectionTemplate.minImageLimit;\r\n        this.triggerMassUpload = false;\r\n      }\r\n\r\n      this.currentObservable = this.uploadFile.bind(this);\r\n    } else {\r\n      this.imageStatusSteps = [];\r\n      this.currentObservable = this.uploadBulkUploadFile.bind(this);\r\n      this.isMultipleUpload = true;\r\n      this.triggerMassUpload = true;\r\n      this.showUploading = true;\r\n    }\r\n  }\r\n}\r\n","<div *ngIf=\"!showNoAccess\" [ngClass]=\"{'photo-container': photosHeader.isRepairModule}\">\r\n    <ng-container *chqPermission=\"'newBooking'\">\r\n        <add-photos [caseData]=\"caseData\" [caseNumber]=\"photosHeader.caseNumber\" [showSPI]=\"checkRepairTypes\"\r\n            [photosHeader]=\"addPhotosHeader\" (mode)=\"handleMode($event)\" *ngIf=\"showUploading === false\"\r\n            [hidden]=\"hideContent\" [showEstimate]=\"showEstimateButton\" [repairData]=\"repairDetail\"></add-photos>\r\n    </ng-container>\r\n\r\n    <div class=\"wrapper\" *ngIf=\"noImagesData\">\r\n        <div class=\"no-document-div\">\r\n            <img src=\"assets/icons/no-document.svg\">\r\n            <label class=\"no-vehicle-content\">\r\n                {{'no_photos_configured' | translate }}\r\n            </label>\r\n\r\n        </div>\r\n        <div class=\"empty-wrapper\">\r\n            <div class=\"step-container\"></div>\r\n            <div class=\"step-container\"></div>\r\n            <div class=\"step-container\"></div>\r\n            <div class=\"step-container\"></div>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"noImagesData\" class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/{{ + photosHeader.isRepairModule ?'addenda-repair.png':'addenda-quote.png'}}\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <chq-images-uploader [hidden]=\"showDamageAnalysis || !showUploading\" (handleDeleteAllEvent)=\"handleDeleteAll()\"\r\n        (backToUpload)=\"this.setInitialMode();\" [currentAdditionalModeMultiple]=\"currentAdditionalModeMultiple\"\r\n        [fileUploaderService]=\"currentObservable\" #imageUploaders [footerOptions]=\"footer\"\r\n        (updateMassUpload)=\"updateCurrentStatus($event);\"\r\n        *ngIf=\"(showUploading === true || isMultipleUpload) || (imageStatusSteps && imageStatusSteps.length > 0)\"\r\n        [isMassUpload]=\"isMultipleUpload\" [showReTakeDelete]=\"true\" [imageStatusSteps]=\"imageStatusSteps\"\r\n        [header]=\"photosHeader\" [inspectionId]=\"inspectionId\" [inspection]=\"'photos'\" (stepSkipped)=\"stepSkipped()\"></chq-images-uploader>\r\n    <damage-analysis *ngIf=\"showDamageAnalysis\" [isBulkUpload]=\"isMultipleUpload\"\r\n        [minPhotoRequired]=\"minimumPhotosRequired\" [caseDetail]=\"partialCaseDetail || repairDetail\"\r\n        [steps]=\"imageStatusSteps\" [isRepairModule]=\"photosHeader.isRepairModule\"\r\n        (backEvent)=\"handleBack($event)\"></damage-analysis>\r\n</div>\r\n<no-access-error *ngIf=\"showNoAccess\"></no-access-error>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { WidgetsModule } from 'src/app/widgets/widgets.module';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { CanDeactivateGuard } from 'src/app/guards/deactivate-guard/deactivate-guard.guard';\r\nimport { ErrorModule } from 'src/app/shared/error-page/error.module';\r\nimport { NewDocumentsComponent } from './new-documents/new-documents.component';\r\nimport { NewPhotosComponent } from './new-photos/new-photos.component';\r\nimport { AddPhotosComponent } from './add-photos/add-photos.component';\r\nimport { IconsModule } from '../icons.module';\r\nimport { DamageAnalysisComponent } from './damage-analysis/damage-analysis.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { DirectiveModule } from '../helper/directive/directive.module';\r\nimport { RepairRecommendationComponent } from './repair-recommendation/repair-recommendation.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { RequestMissingInformationDialogComponent } from '../dialogs/request-missing-information-dialog/request-missing-information-dialog.component';\r\nimport { RejectClaimDialogComponent } from '../dialogs/reject-claim-dialog/reject-claim-dialog.component';\r\nimport { ClaimGarageAssignmentComponent } from '../dialogs/claim-garage-assignment/claim-garage-assignment.component';\r\nimport { GarageAssignmentPreferenceComponent } from '../dialogs/garage-assignment-preference/garage-assignment-preference.component';\r\nimport { ExistingClaimDialogComponent } from '../dialogs/existing-claim-dialog/existing-claim-dialog.component';\r\nimport { RegisteredGarageRejectClaimComponent } from '../dialogs/registered-garage-reject-claim/registered-garage-reject-claim.component';\r\nimport { ClaimAssignModalComponent } from './claim-assign-modal/claim-assign-modal.component';\r\nimport { ConfirmDialogBigComponent } from '../dialogs/confirm-dialog-big/confirm-dialog-big.component';\r\nimport { RegisteredGarageViewEstimateComponent } from '../dialogs/registered-garage-view-estimate/registered-garage-view-estimate.component';\r\n\r\n@NgModule({\r\n  declarations: [ \r\n    NewDocumentsComponent,\r\n    NewPhotosComponent, \r\n    AddPhotosComponent, \r\n    DamageAnalysisComponent,\r\n    RepairRecommendationComponent,\r\n    RequestMissingInformationDialogComponent,\r\n    RejectClaimDialogComponent,\r\n    ClaimGarageAssignmentComponent,\r\n    GarageAssignmentPreferenceComponent,\r\n    ExistingClaimDialogComponent,\r\n    RegisteredGarageRejectClaimComponent,\r\n    ClaimAssignModalComponent,\r\n    ConfirmDialogBigComponent,\r\n    RegisteredGarageViewEstimateComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    MatIconModule,\r\n    IconsModule,\r\n    WidgetsModule,\r\n    ErrorModule,\r\n    TranslateModule,\r\n    DirectiveModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports: [ \r\n    NewDocumentsComponent, \r\n    NewPhotosComponent, \r\n    AddPhotosComponent, \r\n    DamageAnalysisComponent,\r\n    RepairRecommendationComponent,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    RequestMissingInformationDialogComponent,\r\n    RejectClaimDialogComponent,\r\n    ClaimGarageAssignmentComponent,\r\n    GarageAssignmentPreferenceComponent,\r\n    ExistingClaimDialogComponent,\r\n    RegisteredGarageRejectClaimComponent,\r\n    RegisteredGarageViewEstimateComponent\r\n  ],\r\n  providers: [ \r\n    CanDeactivateGuard\r\n  ]\r\n})\r\nexport class SharedModule { }\r\n"],"names":["RegisteredGarageTableConfig","columns","id","width","style","header","text","tooltip","cellStyle","selector","field","widget","type","sortable","dateFormat","childColumns","config","svgIcon","MAT_DIALOG_DATA","i0","ClaimGarageAssignmentComponent","constructor","data","dialogRef","monitorService","commonService","label","onclick","handleYes","bind","handleCancel","garageDetails","logEvent","close","selectors","decls","vars","consts","template","ctx","ExistingClaimDialogComponent","translateService","handleNo","splitExistingClaimData","ind","instant","split","GarageAssignmentPreferenceComponent","saveAs","RegisteredGarageViewEstimateComponent","row","column","event","urls","result","value","fileName","length","showLoading","getFileBlob","subscribe","next","hideLoading","blob","Blob","res","error","err","logException","window","open","i18n","geti18nInfo","tableData","list","handleRejectEstimateThirdParty","RequestMissingInformationDialogComponent","claimService","route","placeHolder","name","maxLength","displayValue","idField","fieldValue","options","errorWhenEmpty","disabled","isMultiSelect","selectedOption","continue","send","onFormUpdate","output","missingInfoModel","getMissingFields","missingInfoFieldsModel","sendButton","notesModel","cancel","ngOnInit","icon","cancelButton","notes","hideUpdate","missingInformation","claimDetails$","claimDetails","response","subscriptions","push","removeMissingDataField","index","splice","customerFields","getCustomMissingFields","updateMissingInfoDropdownOption","lossDetailsFiels","documentFields","getDocumentMissingFields","imagesFields","getMediaMissingFields","inspectionId","subs1","getMissingCustomFields","subs2","getMissingDocumentFields","InspectionId","subs3","getMissingMediaFields","optionArray","map","x","nameDict","replace","toUpperCase","fieldCategoryObj","Object","forEach","item","MissingFieldsDTO","keys","param","claimGuid","sendMissingInfo","showInfoToast","message","ngOnDestroy","subscription","unsubscribe","EventEmitter","photosHeader","title","step","description","stepName","AddPhotosComponent","dialog","caseService","router","inspectionService","estimateService","calendarService","color","notify","emit","completeRepair","allowSingleUpload","allowMultipleUpload","cancelBooking","mode","showDelete","repairData","repairGuid","status","toLowerCase","repairGuidisRepairCreatedFromCase","ngOnChanges","changes","currentValue","caseNumber","addPartButtonModel","redirectToGtEstimate","caseGuid","inspections","vehicleId","domainID","caseData","caseId","updateCaseStatus","resp","createEstimate","url","location","href","sessionStorage","setItem","complete","navigate","nextButton","openDeleteDialog","afterClosed","deleteRepair","inputs","showNotify","showComplete","showEstimate","repairUnapproved","activateRepairButton","showSPI","hideBulk","isRepairComplete","outputs","features","CommonModule","RouterModule","MatButtonModule","MatIconModule","MatInputModule","MatSidenavModule","MatTabsModule","MatToolbarModule","WidgetsModule","NoAccessErrorComponent","ErrorModule","declarations","imports","exports","SeverityLevel","BehaviorSubject","catchError","forkJoin","of","documentPartMapper","newDocumentHeader","NewDocumentsComponent","cd","bookingService","mediaCollectionService","currentStatus","pageName","closed","accessRight","ngAfterViewInit","updatePage","detectChanges","checkRouteParams","queryParams","params","codeParam","imageStatusSteps","filter","indexOf","setObservable","$event","uploadedGuid","uploadedPartGuid","currentObservable","updateFile","uploadFile","getMediaTemplateByObject","mediaPartTemplates","getAllChild","mediaTemplate","mediaTemplates","i","mediaPart","documentStep","isAdditionalImage","isAdditionalDocumentFromReviewPageOnly","mandatory","contentType","parentName","isFront","frontSide","updatedDate","mediaPartGuid","uploadedDate","createdDate","domainId","objectId","sizeLimit","allowExtension","mediaGuid","partTemplateGuid","mediaPartTemplateGuid","templateGuid","updateRepairStatus","repairId","statusUpdated","currentRepairStatus","footer","getRepairDetailByGuid","repairDetails","bookingId","repairNumber","Error","currentStep","obj","mediaCollectionId","collectionGuid","mediaTemplateId","mediaPartTemplateId","uploadInProgress","isSkipped","isUploadFailed","isUploadSuccess","messageForUploading","showNotification","uploadDocument","imageFile","responseData","el","blobUrl","mediaPartTemplate","find","includes","updateStatus","imageUploaders","updateUploadStatus","e","updateDocument","mapMediaTemplate","mediaData","media","mediaDataTemplate","mediaTemplateGuid","j","mediaDataPart","mediaParts","image","getURL","console","log","parent","snapshot","paramMap","get","showNoAccess","promiseApi","getMediaTemplate","isRepair","bookingDetail","userProfileData","organizationDetail","currentOrgId","caseDetail","getCaseDetail","pipe","dict","mediaTemplateSelected","organizationId","isViewOnly","caseStatus","documentHeader","from","quoteId","isRepairCreatedFromCase","bookings","repairStatus","detailResult","mediaTemplateDetail","getMediaTemplateById","mediaDetail","getMediaDocumentData","detailDict","sort","mediab","orderNumber","medias","noDocumentData","container","document","querySelector","scrollTop","stepSkipped","viewQuery","Modules","inspectionpartPartMapper","NewPhotosComponent","showButton","showUploadOption","handleBack","showDamageAnalysis","back","checkRepairTypes","repairType","repairTypes","v","repairServiceType","updateCurrentStatus","initial","setInitialMode","showUploading","uploadBulkUploadFile","steps","handleDeleteAll","uploads","img","Image","src","onload","uploadObject","height","inspectionTemplateId","vehicelType","uploadImageBulk","rawImage","rawAzureBlobUrl","inspectionItem","procedureSteps","ig","imageHeight","imageWidth","inProgressSteps","msg","inspectionItemTemplates","showEstimateButton","currentInspectionTemplate","minImageLimit","isSkipEnabled","mapInspection","inspectionData","inspection","uploadType","currentMode","bulkUploadTemplateItem","inspectionTemplates","bulkUploadedItemsWithImages","inspectionItems","inspectionItemTemplateID","massUploadItems","currentUploadMode","currentObj","chqInspectionStep","isMultipleUpload","addPhotosHeader","isRepairModule","minimumPhotosRequired","triggerMassUpload","isBulkUploaded","getInspectionTemplateByObject","templatePart","inspectionStep","isMassUpload","created","partialCaseDetail","loadApiData","getInspectionTemplateList","inspectionList","repairInspectionTemplate","inspectionTemplate","getInspectionTemplate","serverDetails","resultMap","inspectionTemplateDetail","inspectionDetail","inspectionTemplatesJSONString","JSON","stringify","statusId","vehicleModel","quote","vehicle","repairServiceTypes","repairDetail","repair","getInspection","inspectionDetailResponse","noImagesData","setTimeout","hideContent","currentAdditionalModeMultiple","goToReview","currentObjectId","isHeaderOnly","finalRedirection","reloadInspection","parse","isReviewSection","handleMode","CanDeactivateGuard","IconsModule","DamageAnalysisComponent","TranslateModule","DirectiveModule","RepairRecommendationComponent","FormsModule","ReactiveFormsModule","RejectClaimDialogComponent","RegisteredGarageRejectClaimComponent","ClaimAssignModalComponent","ConfirmDialogBigComponent","SharedModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}