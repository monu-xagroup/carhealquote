{"version":3,"file":"default-src_app_shared_shared_module_ts.js","mappings":"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","sources":["./node_modules/dayjs/plugin/utc.js","./src/app/shared/add-photos/add-photos.component.ts","./src/app/shared/add-photos/add-photos.component.html","./src/app/shared/error-page/error.module.ts","./src/app/shared/error-page/no-access-error/no-access-error.component.ts","./src/app/shared/error-page/no-access-error/no-access-error.component.html","./src/app/shared/history/history.component.ts","./src/app/shared/new-documents/new-documents.component.ts","./src/app/shared/new-documents/new-documents.component.html","./src/app/shared/new-photos/new-photos.component.ts","./src/app/shared/new-photos/new-photos.component.html","./src/app/shared/shared.module.ts"],"sourcesContent":["!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs_plugin_utc=i()}(this,(function(){\"use strict\";var t=\"minute\",i=/[+-]\\d\\d(?::?\\d\\d)?/g,e=/([+-]|\\d\\d)/g;return function(s,f,n){var u=f.prototype;n.utc=function(t){var i={date:t,utc:!0,args:arguments};return new f(i)},u.utc=function(i){var e=n(this.toDate(),{locale:this.$L,utc:!0});return i?e.add(this.utcOffset(),t):e},u.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var o=u.parse;u.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),o.call(this,t)};var r=u.init;u.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else r.call(this)};var a=u.utcOffset;u.utcOffset=function(s,f){var n=this.$utils().u;if(n(s))return this.$u?0:n(this.$offset)?a.call(this):this.$offset;if(\"string\"==typeof s&&(s=function(t){void 0===t&&(t=\"\");var s=t.match(i);if(!s)return null;var f=(\"\"+s[0]).match(e)||[\"-\",0,0],n=f[0],u=60*+f[1]+ +f[2];return 0===u?0:\"+\"===n?u:-u}(s),null===s))return this;var u=Math.abs(s)<=16?60*s:s,o=this;if(f)return o.$offset=u,o.$u=0===s,o;if(0!==s){var r=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(u+r,t)).$offset=u,o.$x.$localOffset=r}else o=this.utc();return o};var h=u.format;u.format=function(t){var i=t||(this.$u?\"YYYY-MM-DDTHH:mm:ss[Z]\":\"\");return h.call(this,i)},u.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var l=u.toDate;u.toDate=function(t){return\"s\"===t&&this.$offset?n(this.format(\"YYYY-MM-DD HH:mm:ss:SSS\")).toDate():l.call(this)};var c=u.diff;u.diff=function(t,i,e){if(t&&this.$u===t.$u)return c.call(this,t,i,e);var s=this.local(),f=n(t).local();return c.call(s,f,i,e)}}}));","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { ChqWidgetsHeaderModel } from 'src/app/model/chq-widgets-header-model';\r\nimport { CalendarService } from 'src/app/services/calendar/calendar.service';\r\nimport { CaseService } from 'src/app/services/case/case.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { InspectionService } from 'src/app/services/inspection-service/inspection.service';\r\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\r\nimport { RepairEstimateService } from 'src/app/services/repair-estimate/repair-estimate.service';\r\n\r\nconst photosHeader: ChqWidgetsHeaderModel = {\r\n  title: 'add_damage_photos',\r\n  step: 4,\r\n  description: 'damage_photos_msg',\r\n  stepName: 'step_four',\r\n};\r\n@Component({\r\n  selector: 'add-photos',\r\n  templateUrl: './add-photos.component.html',\r\n  styleUrls: [ './add-photos.component.scss' ]\r\n})\r\nexport class AddPhotosComponent implements OnChanges {\r\n  @Output() mode: EventEmitter<{ 'mode': string }> = new EventEmitter();  \r\n  @Input() caseNumber: string;\r\n  @Input() caseData:any;\r\n  @Input() showEstimate:boolean = false;\r\n  @Input() repairUnapproved:boolean;\r\n  @Input() repairData: any;\r\n\r\n  public nextButton: ChqWidgetsButtonModel = {\r\n    label: 'Next create estimate',\r\n    type: 'primary',\r\n    color: 'primary',\r\n    icon: 'boardview'\r\n  }\r\n  @Input() photosHeader: ChqWidgetsHeaderModel = photosHeader;\r\n  @Input() showSPI:boolean;\r\n  @Input() hideBulk:boolean;\r\n  /**\r\n   * initialize single Upload\r\n   */\r\n  allowSingleUpload():void {\r\n    this.mode.emit({ 'mode': 'single' })\r\n  }\r\n\r\n  /**\r\n   * show delete\r\n   */\r\n  get showDelete(): boolean {\r\n    if (this.repairData?.repairGuid && this.repairData?.status?.toLowerCase() === 'draft') {\r\n      return true;\r\n    } else if (this.repairData?.repairGuid && this.repairData?.repairGuidisRepairCreatedFromCase == true && this.repairData?.status?.toLowerCase() == 'repairestimation') {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * constructor\r\n   */\r\n  constructor( private monitorService: MonitorService,\r\n    public commonService: CommonService,\r\n    private route: ActivatedRoute,\r\n    private dialog: MatDialog,\r\n    private caseService: CaseService,\r\n    private router: Router,\r\n    private inspectionService: InspectionService,\r\n    private estimateService: RepairEstimateService,\r\n    private calendarService: CalendarService) {}\r\n\r\n  /**\r\n   * detects changes in input attributes\r\n   * @param changes \r\n   */\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.monitorService.logEvent('allowMultipleUpload', [ 'ChqAddPhotosComponent', 'addenda-quote', {\r\n      changes\r\n    } ]);\r\n    if (changes) {\r\n      if (changes['caseNumber'] && changes['caseNumber'].currentValue) {\r\n        this.photosHeader = { ...this.photosHeader, caseNumber: this.caseNumber };    \r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * initialize multiple Upload\r\n   */\r\n  allowMultipleUpload():void {\r\n    this.monitorService.logEvent('allowMultipleUpload', [ 'ChqAddPhotosComponent', 'addenda-quote' ]);\r\n    this.mode.emit({ 'mode': 'multiple' })\r\n  }\r\n\r\n  public cameraButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'camera_upload',\r\n    type: 'primary',\r\n    icon: 'camera',\r\n    color: 'primary',\r\n    onclick: this.allowSingleUpload.bind(this)\r\n  }\r\n  public bulkUploadButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'btn_bulk_upload',\r\n    type: 'primary',\r\n    icon: 'upload',\r\n    color: 'primary',\r\n    onclick: this.allowMultipleUpload.bind(this)\r\n  }\r\n\r\n  public cancelButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Cancel Booking',\r\n    type: 'outline-danger',\r\n    onclick: this.cancelBooking.bind(this)\r\n  }\r\n\r\n  /**\r\n   * go to gtEstimate\r\n   */\r\n  redirectToGtEstimate():void {\r\n    \r\n    this.commonService.showLoading();\r\n    const { status, caseGuid, inspections, vehicleId, domainID } = this.caseData;\r\n    let inspectionId = 0;\r\n    if (inspections?.length > 0) {\r\n      inspectionId = inspections[0].inspectionId;\r\n    }\r\n    if (status?.toLowerCase() === 'uploaddocuments') {\r\n      this.monitorService.logEvent('redirectToGtEstimate', [ 'ChqDamageAnalysisComponent', 'addenda-quote', {\r\n        caseId: caseGuid\r\n      } ]);\r\n      this.caseService.updateCaseStatus(caseGuid, 'UploadPhotos').subscribe({\r\n        next: (resp: any): void => {\r\n          this.estimateService.createEstimate(caseGuid, inspectionId, vehicleId, domainID).subscribe({\r\n            next: (resp: any) => {\r\n              if (resp) {\r\n                if(resp?.data?.url){\r\n                  location.href = resp?.data?.url;\r\n                  sessionStorage.setItem('update', '1');\r\n                }\r\n              }\r\n            },\r\n            complete: () => {\r\n              this.commonService.hideLoading();\r\n            }\r\n          });\r\n        }, error: () => {\r\n          this.commonService.hideLoading();\r\n        }\r\n      })\r\n    }else if(status?.toLowerCase() === 'uploadphotos'){\r\n      this.monitorService.logEvent('redirectToGtEstimate', [ 'ChqDamageAnalysisComponent', 'addenda-quote', {\r\n        caseId: caseGuid\r\n      } ]);\r\n      this.estimateService.createEstimate(caseGuid, inspectionId, vehicleId, domainID).subscribe({\r\n        next: (resp: any) => {\r\n          if (resp) {\r\n            if(resp?.data){\r\n              location.href = resp.data.url;\r\n              sessionStorage.setItem('update', '1');\r\n            } \r\n          }\r\n        },\r\n        complete: () => {\r\n          this.commonService.hideLoading();\r\n        }\r\n      });\r\n    } else {\r\n      this.monitorService.logEvent('skipped_redirectToGtEstimate', [ 'ChqDamageAnalysisComponent', 'addenda-quote', {\r\n        caseId: caseGuid\r\n      } ]);\r\n      this.router.navigate([ `/case/${caseGuid}/estimate` ]);\r\n    }\r\n   \r\n  }\r\n\r\n  /**\r\n   * oninit\r\n   */\r\n  ngOnInit(): void {\r\n    const repairData = this.repairData;\r\n    this.nextButton.onclick = this.redirectToGtEstimate.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Cancel booking\r\n   */\r\n  cancelBooking(): void {\r\n    this.commonService.openDeleteDialog()\r\n      .afterClosed().subscribe((data) => {\r\n        if (data) {\r\n          this.commonService.showLoading();\r\n          this.calendarService.deleteBooking(this.repairData?.booking?.bookingGuid).subscribe({\r\n            next: () => {\r\n              this.commonService.hideLoading();\r\n              this.router.navigate([ '/repair/booking-journal' ]);\r\n            }\r\n          });\r\n        }\r\n      });\r\n  }\r\n}\r\n","<div class=\"add-photo-container\">\r\n    <chq-step-header [chqModel]=\"photosHeader\"\r\n        *ngIf=\"photosHeader.isRepairModule !== true  || photosHeader.isHeaderOnly === true\"></chq-step-header>\r\n    <div class=\"photo-container\" *ngIf=\"(showSPI || !hideBulk) && !repairUnapproved && !commonService.isViewOnly\">\r\n        <div class=\"card-container\">\r\n            <div class=\"card\" *ngIf=\"showSPI\">\r\n                <label class=\"card-title\">{{ 'smart_photo_inspection' | translate }}</label>\r\n                <p class=\"card-action\">{{ 'open_your_camera' | translate }}</p>\r\n                <p class=\"card-description\">\r\n                    {{ 'add_photo_msg' | translate }}\r\n                </p>\r\n                <chq-button [buttonModel]=\"cameraButtonModel\"></chq-button>\r\n            </div>\r\n            <div class=\"card\" *ngIf=\"!hideBulk\">\r\n                <label class=\"card-title\">{{ 'bulk_upload' | translate }}</label>\r\n                <p class=\"card-action\">{{ 'upload_device' | translate }}</p>\r\n                <p class=\"card-description\">\r\n                    {{ 'bulk_msg' | translate }}\r\n                </p>\r\n                <chq-button [buttonModel]=\"bulkUploadButtonModel\"></chq-button>\r\n            </div>\r\n        </div>\r\n        <!-- <div class=\"card-container\" *chqPermission=\"'technician'\">\r\n            <div class=\"no-document-div\">\r\n                <img src=\"assets/icons/no-document.svg\">    \r\n                <label class=\"no-vehicle-content\">\r\n                    {{ 'bulk_spi_disabled' | translate}}\r\n                </label>\r\n            </div>\r\n        </div> -->\r\n    </div>\r\n    <div class=\"wrapper\" *ngIf=\"(!showSPI && hideBulk) || repairUnapproved || commonService.isViewOnly\">\r\n        <div class=\"no-document-div\">\r\n            <img src=\"assets/icons/no-document.svg\">\r\n            <label class=\"no-vehicle-content\">\r\n                {{ (repairUnapproved ? 'start_job' : 'bulk_spi_disabled') | translate}}\r\n            </label>\r\n\r\n        </div>\r\n    </div>\r\n    <div class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper wrapper-flex\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/{{ + photosHeader.isRepairModule ?'addenda-repair.png':'addenda-quote.png'}}\" />\r\n            </div>\r\n            <div class=\"footer-button-wrapper\">\r\n                <chq-button [buttonModel]=\"cancelButtonModel\"\r\n                    *ngIf=\"showDelete && photosHeader?.isRepairModule\"></chq-button>\r\n                <chq-button *ngIf=\"showEstimate && !photosHeader.isRepairModule \" class=\"margin-right\"\r\n                    [buttonModel]=\"nextButton\"></chq-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { WidgetsModule } from 'src/app/widgets/chq-widgets.module';\r\nimport { NoAccessErrorComponent } from './no-access-error/no-access-error.component';\r\n\r\n@NgModule({\r\n  declarations: [  \r\n    NoAccessErrorComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    WidgetsModule,\r\n    MatSidenavModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n  ],\r\n  exports: [ RouterModule, NoAccessErrorComponent ],\r\n})\r\nexport class ErrorModule {}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'no-access-error',\r\n  templateUrl: './no-access-error.component.html',\r\n  styleUrls: [ './no-access-error.component.scss' ]\r\n})\r\nexport class NoAccessErrorComponent {\r\n\r\n}\r\n","<div class=\"main-container\">\r\n    <div class=\"\" style=\"\">\r\n        <img src=\"assets/img/no-access.png\"/>\r\n    </div>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { CUSTOM_ELEMENTS_SCHEMA, Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSidenav, MatSidenavModule } from '@angular/material/sidenav';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { WidgetsModule } from 'src/app/widgets/chq-widgets.module';\r\nimport * as dayjs from 'dayjs';\r\nimport * as utc from 'dayjs/plugin/utc';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ChqRepairDialogComponent } from 'src/app/widgets/chq-repair-dialog/chq-repair-dialog.component';\r\ndayjs.extend(utc)\r\n\r\n@Component({\r\n  selector: 'history',\r\n  templateUrl: './history.component.html',\r\n  styleUrls: [ './history.component.scss' ],\r\n})\r\nexport class HistoryComponent{\r\n  dayjs = dayjs()\r\n  /**\r\n   * Creates an instance of HistoryComponent.\r\n   * @constructor\r\n   * @param {Router} router\r\n   */\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private commonService: CommonService,\r\n    private dialog: MatDialog,\r\n  ) {\r\n    this.router.events.subscribe({\r\n      next: (data) =>{\r\n        if(this.router.url.indexOf('?') !==-1 && this.router.url.indexOf('history=open')!==-1){\r\n          this.isMenuOpen = true;\r\n          this.toggleExpand.emit(this.isMenuOpen)\r\n        }\r\n      }\r\n    })\r\n    this.route.params.subscribe({\r\n      next: (data) =>{\r\n        if(this.router.url.indexOf('?') !==-1 && this.router.url.indexOf('history=open')!==-1){\r\n          this.isMenuOpen = true;\r\n          this.toggleExpand.emit(this.isMenuOpen)\r\n        }\r\n      }\r\n    })\r\n\r\n    this.currencySymbol = this.commonService.getCurrencySymbol()\r\n  }\r\n  /**\r\n   * constructor for HistoryComponent\r\n   */\r\n  @ViewChild('sidenav') sidenav: MatSidenav;\r\n  @Output() toggleExpand:EventEmitter<boolean> = new EventEmitter()\r\n  @Input() public history = [];\r\n  @Input() isMenuOpen = false;\r\n  @Input() isLoading = false;\r\n  /**\r\n   * Show/hide\r\n   */\r\n  close(): void {\r\n    this.isMenuOpen = !this.isMenuOpen;\r\n    this.toggleExpand.emit(this.isMenuOpen)\r\n  }\r\n  currencySymbol = ''\r\n  public viewMessage: ChqWidgetsButtonModel = {\r\n    label: 'View message',\r\n    icon: 'show',\r\n    type: 'outline',\r\n  };\r\n\r\n  /**\r\n   * convert utc to local time\r\n   */\r\n  public convertUtcToLocalTime(utcDate: string): string {\r\n    return dayjs.utc(utcDate).local().format('hh:mm A');\r\n  }\r\n  /**\r\n   * Returns class name according to status\r\n   */\r\n  getStatusClasses(status:string):string {\r\n    switch (status) {\r\n    case 'Draft':\r\n      return 'status-draft';\r\n    case 'Pending Approval':\r\n      return 'status-pending';\r\n    case 'Upload photos':\r\n      return 'status-upload';\r\n    case 'Repair estimate':\r\n      return 'status-repair-estimate';\r\n    default:\r\n      return '';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * download pdf history\r\n   */\r\n  downloadPdfHistory(referenceId: number): void {\r\n    this.commonService.showLoading();\r\n    this.commonService.blobObservable1(`${environment.caseMgmtUrl}/api/casehistory/report/${referenceId}`).subscribe({\r\n      next: (data: any) => {\r\n        window.open(data.fileURL, '_blank');\r\n        this.commonService.hideLoading();\r\n      },\r\n      error: () => {\r\n        this.commonService.hideLoading();\r\n      },\r\n    });\r\n  }\r\n  /**\r\n   * show image dialog\r\n   */\r\n  showImageDialog(blobUrls: string[], name: string): void {\r\n    const gallery = [];\r\n\r\n    blobUrls.forEach((url) => {\r\n      let title = '';\r\n      let imageUrl = url;\r\n\r\n      if (name.indexOf('photo') !== -1 || name.indexOf('document') !== -1) {\r\n        title = url.substring(0, url.indexOf('|')).trim();\r\n        imageUrl = url.substring(url.indexOf('|') + 1);\r\n      }\r\n\r\n      gallery.push({\r\n        image: imageUrl,\r\n        thumbImage: imageUrl,\r\n        //alt: alt,\r\n        title: title\r\n      });\r\n    });\r\n\r\n    const data = { 'imageGallery': true, 'gallery': gallery };\r\n    this.dialog.open(ChqRepairDialogComponent, {\r\n      data:\r\n          data\r\n    });\r\n  }\r\n\r\n  /**\r\n   * show comment dialog\r\n   */\r\n  showCommentDialog(comment: string, status: string, email?:null): void {\r\n    const data = { 'comment': comment, 'status': status, 'email': email };\r\n    this.dialog.open(ChqRepairDialogComponent, {\r\n      data:\r\n          data\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","import { AfterViewInit, ChangeDetectorRef, Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\r\nimport { BehaviorSubject, catchError, forkJoin, of } from 'rxjs';\r\nimport { FooterModel, UploadStepModel } from 'src/app/model/chq-upload-model';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { ChqWidgetsHeaderModel } from 'src/app/model/chq-widgets-header-model';\r\nimport { documentPartMapper } from 'src/app/modules/quote/chq-new-cases/chq-new-customer/chq-new-customer-form-data-helper';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { CaseService } from 'src/app/services/case/case.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { MediacollectionService } from 'src/app/services/mediacollection-service/mediacollection.service';\r\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\r\nimport { ChqImagesUploaderComponent } from 'src/app/widgets/chq-images-uploader/chq-images-uploader.component';\r\n\r\nconst newDocumentHeader: ChqWidgetsHeaderModel = {\r\n  title: 'add_documents',\r\n  step: 3,\r\n  description: 'add_documents_msg',\r\n  stepName: 'step_three',\r\n};\r\n\r\n@Component({\r\n  selector: 'new-documents',\r\n  templateUrl: './new-documents.component.html',\r\n  styleUrls: [ './new-documents.component.scss' ]\r\n})\r\nexport class NewDocumentsComponent implements OnInit, AfterViewInit {\r\n  @Input() documentHeader: ChqWidgetsHeaderModel = newDocumentHeader;\r\n  public imageStatusSteps: UploadStepModel[] = [];\r\n  public allowExtension = [ 'jpg', 'jpeg', 'png' ];\r\n  @ViewChild('imageUploaders') imageUploaders:ChqImagesUploaderComponent;\r\n  public skipButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Skip',\r\n    type: 'primary'\r\n  }\r\n\r\n  public footer: FooterModel = {\r\n    text: 'Next add photos',\r\n    icon: 'review',\r\n    route: 'quote/case/photos',\r\n    currentStatus: '',\r\n    status: 'UploadDocuments',\r\n    caseId: ''\r\n  }\r\n\r\n  public documentSizeLimit = 5242880;\r\n  public mediaTemplate: any;\r\n  public mediaTemplateId: number;\r\n  public collectionGuid: string;\r\n  public domainId: number;\r\n  public noDocumentData = false;\r\n  private repairId:string = '';\r\n  private currentRepairStatus = '';\r\n  public objectId: number;\r\n  public mediaPartTemplates: any[];\r\n  public currentObservable:(currentStep:UploadStepModel)=>void;\r\n  public currentUploadingStep: UploadStepModel;\r\n  public showNoAccess: boolean = false;\r\n  private currentOrgId: number;\r\n\r\n  statusUpdated: boolean = false;\r\n \r\n  /**\r\n   * constructor\r\n   * @param fb ChangeDetectorRef \r\n   */\r\n  constructor(private cd: ChangeDetectorRef, private commonService: CommonService, private route: ActivatedRoute,\r\n    private caseService: CaseService,\r\n    private monitorService: MonitorService,\r\n    private bookingService:BookingService,\r\n    private mediaCollectionService: MediacollectionService) {\r\n    if (commonService.pageName.closed) {\r\n      commonService.pageName = new BehaviorSubject<string>(null);\r\n    }\r\n    commonService.pageName.next('document');\r\n\r\n    if(this.commonService.accessRight.closed) {\r\n      this.commonService.accessRight = new BehaviorSubject<boolean>(true);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ngAfterViewInit hook\r\n   * @param fb FormBuilder \r\n   */\r\n  ngAfterViewInit(): void {\r\n    this.commonService.updatePage('/quote/case/0', 'document');\r\n    this.cd.detectChanges();\r\n    this.monitorService.logEvent('ngAfterViewInit', [ 'ChqNewDocumentsComponent', 'addenda-quote' ]);\r\n  }\r\n\r\n  /**\r\n   * check route params\r\n   */\r\n  checkRouteParams():void {\r\n    this.route.queryParams?.subscribe((params)=>{\r\n      const codeParam = params['fromPersonal']  \r\n      if (codeParam === 'true' || codeParam === true){\r\n        this.imageStatusSteps = this.imageStatusSteps.filter((step:UploadStepModel)=>{\r\n          return step.stepName.indexOf('Vehicle Registration') != -1;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * set current Observable\r\n   */\r\n  setObservable($event:UploadStepModel): void{\r\n    if ($event.uploadedGuid && $event.uploadedPartGuid) {\r\n      this.currentObservable = this.updateFile.bind(this);\r\n    } else {\r\n      this.currentObservable = this.uploadFile.bind(this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * media template by id\r\n   */\r\n  getMediaTemplateByObject():void {\r\n    this.mediaPartTemplates = this.commonService.getAllChild(this.mediaTemplate?.mediaTemplates, 'mediaPartTemplates', 'mediaTemplateGuid',\r\n      { 'parentProp': 'name', 'childProp': 'parentName' });\r\n    for (let i = 0; i < this.mediaPartTemplates.length; i++){\r\n      const mediaPart = this.mediaPartTemplates[i];\r\n      const documentStep = documentPartMapper(mediaPart, i);\r\n      const isAdditionalImage = documentStep.stepName.toLowerCase().indexOf('additional document') != -1;\r\n      const isAdditionalDocumentFromReviewPageOnly = isAdditionalImage && !documentStep.url;\r\n      this.imageStatusSteps.push({\r\n        ...documentStep, mandatory: mediaPart.mandatory, index: i,\r\n        isAdditionalDocumentFromReviewPageOnly,\r\n        parentName: mediaPart.parentName,\r\n        isFront: mediaPart.frontSide,\r\n        updatedDate: mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.updatedDate: '',\r\n        uploadedDate: mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.createdDate: '',\r\n        domainId: this.domainId, objectId: this.objectId,\r\n        sizeLimit: mediaPart.sizeLimit, allowExtension: mediaPart.allowExtension,\r\n        uploadedPartGuid: mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.mediaPartGuid : '',\r\n        uploadedGuid: mediaPart.mediaGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.mediaGuid:'',\r\n        partTemplateGuid: mediaPart.mediaPartTemplateGuid, templateGuid: mediaPart['mediaTemplateGuid']\r\n      });\r\n      this.checkRouteParams();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * update repair status\r\n   */\r\n  updateRepairStatus(repairId:string):void{\r\n    if(!this.statusUpdated) {      \r\n      this.statusUpdated = true;\r\n      this.bookingService.updateRepairStatus('UploadDocuments', repairId, '').subscribe({\r\n        next: ()=>{\r\n          this.currentRepairStatus = 'UploadDocuments';\r\n          this.footer.currentStatus = this.currentRepairStatus;\r\n          this.commonService.showLoading();\r\n          this.bookingService.getRepairDetailByGuid(this.repairId).subscribe({\r\n            next: async (result: any) => {\r\n              if (result?.data) {\r\n                this.commonService.repairDetails.next(result.data);\r\n                this.commonService.bookingId.next(result.data.repairNumber);                          \r\n                this.commonService.hideLoading();\r\n              }\r\n            },\r\n            error: (err: any) => {\r\n              this.monitorService.logException(err, SeverityLevel.Error);\r\n              this.commonService.hideLoading();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * upload file\r\n   */\r\n  uploadFile(currentStep:UploadStepModel):void {\r\n\r\n    const obj = {\r\n      mediaCollectionId: this.mediaTemplate.collectionGuid,\r\n      domainId: this.domainId,\r\n      objectId: this.objectId,\r\n      mediaTemplateId: currentStep.templateGuid,\r\n      mediaPartTemplateId: currentStep.partTemplateGuid\r\n    }\r\n    this.monitorService.logEvent('uploadFile', [ 'ChqNewDocumentsComponent', 'addenda-quote', {\r\n      obj\r\n    } ]);\r\n    currentStep.uploadInProgress = true;\r\n    currentStep.isSkipped = false;\r\n    currentStep.isUploadFailed = false;\r\n    currentStep.isUploadSuccess = false;\r\n    const messageForUploading = `Your photo is currently uploading wont be long and well \r\n    notify you when its uploaded, you can continue to take your photos.`;\r\n    this.commonService.showNotification(messageForUploading);\r\n    this.mediaCollectionService.uploadDocument(currentStep.imageFile, obj).subscribe( {\r\n      next: (res: any):void => {\r\n        const responseData = res?.data;\r\n        const mediaPartTemplate = this.mediaPartTemplates?.find((x: any) => x.mediaPartTemplateGuid == responseData?.mediaPartTemplateId);\r\n        if(mediaPartTemplate) {              \r\n          mediaPartTemplate.mediaGuid = responseData.mediaGuid;\r\n          mediaPartTemplate.mediaPartGuid = responseData.mediaPartGuid;\r\n          if(location.href.includes('repair') && this.currentRepairStatus?.toLowerCase() === 'draft'){\r\n            this.updateRepairStatus(this.repairId);\r\n          }\r\n          if(location.href.includes('quote') && this.footer.currentStatus?.toLowerCase() === 'vehicledetails'){\r\n            this.updateStatus();\r\n          }\r\n          this.imageUploaders.updateUploadStatus('success', currentStep, null, responseData);\r\n        }\r\n      },\r\n      error: (err: any):void => {\r\n        if(err.status != 401) {\r\n          try{\r\n            this.imageUploaders.updateUploadStatus( 'failed', currentStep, err);\r\n          }catch(e){\r\n            this.imageUploaders.updateUploadStatus('failed', currentStep);\r\n          }\r\n        }\r\n        this.monitorService.logException(err, SeverityLevel.Error);\r\n      },\r\n      complete: ():void => this.commonService.hideLoading(),\r\n    });\r\n  }\r\n\r\n  /**\r\n   * update existing document\r\n   */\r\n  updateFile(currentStep:UploadStepModel):void {\r\n    const obj = {\r\n      objectId: this.objectId,\r\n      mediaGuid: currentStep.uploadedGuid,\r\n      mediaPartGuid: currentStep.uploadedPartGuid\r\n    }\r\n\r\n    this.monitorService.logEvent('updateFile', [ 'ChqNewDocumentsComponent', 'addenda-quote', {\r\n      obj\r\n    } ]);\r\n\r\n    currentStep.uploadInProgress = true;\r\n    currentStep.isSkipped = false;\r\n    currentStep.isUploadFailed = false;\r\n    currentStep.isUploadSuccess = false;\r\n    this.mediaCollectionService.updateDocument(currentStep.imageFile, obj).subscribe({\r\n      next: (res: any): void => {\r\n        this.imageUploaders.updateUploadStatus('success', currentStep);\r\n      },\r\n      error: (err: any):void => {\r\n        if(err.status != 401) {\r\n          try{\r\n            this.imageUploaders.updateUploadStatus( 'failed', currentStep, err);\r\n          }catch(e){\r\n            this.imageUploaders.updateUploadStatus('failed', currentStep);\r\n          }\r\n        }\r\n        this.monitorService.logException(err, SeverityLevel.Error);\r\n      },\r\n      complete: ():void =>this.commonService.hideLoading(),\r\n    });\r\n  }\r\n\r\n  /**\r\n   * update status\r\n   */\r\n  updateStatus():void{\r\n    if(!this.statusUpdated) {  \r\n      this.statusUpdated = true;\r\n      this.monitorService.logEvent('updateStatus', [ 'ChqNewDocumentsComponent', 'addenda-quote', {\r\n        caseId: this.footer.caseId\r\n      } ]);\r\n      this.caseService.updateCaseStatus(this.footer.caseId, 'UploadDocuments').subscribe({\r\n        next: ()=>{\r\n          this.footer = { ...this.footer, status: '' };\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * map media template Data\r\n   * @param mediaData \r\n   */\r\n  mapMediaTemplate(mediaData: any):void {\r\n    if(this.mediaTemplate) {\r\n      try {\r\n        for(let i=0;i<this.mediaTemplate.mediaTemplates.length;i++) {\r\n          const media = this.mediaTemplate.mediaTemplates[i];\r\n          const mediaDataTemplate = mediaData.find((x:any)=> x.mediaTemplateGuid == media.mediaTemplateGuid);\r\n          if(mediaDataTemplate) {\r\n            for(let j=0;j<media.mediaPartTemplates.length;j++) {\r\n              const mediaPart = media.mediaPartTemplates[j];\r\n              const mediaDataPart = mediaDataTemplate.mediaParts.find((x: any)=> x.mediaPartTemplateGuid == mediaPart.mediaPartTemplateGuid);\r\n              mediaPart.mediaGuid = mediaDataTemplate.mediaGuid;\r\n              mediaPart.mediaPartGuid = mediaDataPart.mediaPartGuid;\r\n              mediaPart.createdDate = mediaDataPart.createdDate;\r\n              mediaPart.updatedDate = mediaDataPart.updatedDate;\r\n              mediaPart.image = mediaDataPart.getURL;\r\n              mediaPart.isUploadSuccess = false;\r\n              if(mediaPart.mediaPartGuid && mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000') {\r\n                mediaPart.isUploadSuccess = true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        this.mediaTemplate = { ...this.mediaTemplate };\r\n        \r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ngOnInit hook\r\n   */\r\n  ngOnInit(): void {\r\n    this.commonService.showLoading();\r\n    const id = this.route.parent?.snapshot.paramMap.get('id');\r\n    this.monitorService.logEvent('ngOnInit', [ 'ChqNewDocumentsComponent', 'addenda-quote', {\r\n      caseId: id\r\n    } ]);\r\n    this.footer = { ...this.footer, route: `quote/case/${id}/photos`, caseId: id };\r\n\r\n    this.commonService.accessRight.subscribe({\r\n      next: (res: boolean) => {\r\n        if (!res) {\r\n          this.showNoAccess = true;\r\n        } \r\n      }\r\n    });\r\n    const promiseApi:any = {\r\n      mediaTemplate: this.mediaCollectionService.getMediaTemplate()\r\n    }\r\n    let isRepair = false;\r\n    if(location.href.includes('repair')){\r\n      promiseApi.bookingDetail = this.bookingService.getRepairDetailByGuid(id);\r\n      isRepair = true;\r\n    }else{\r\n      this.commonService.userProfileData.subscribe((res) => {\r\n        if (res && res.data) {\r\n          const { organizationDetail } = res.data;\r\n          this.currentOrgId = organizationDetail.id;\r\n        }\r\n      });\r\n      promiseApi.caseDetail = this.caseService.getCaseDetail(id);\r\n    }\r\n\r\n    const result = forkJoin(promiseApi).pipe(\r\n      catchError(error => of(error))\r\n    )\r\n    result.subscribe((dict: any) => {\r\n      if (dict) {\r\n        const mediaTemplate = dict.mediaTemplate;\r\n        if (mediaTemplate) {\r\n          const mediaTemplateSelected = mediaTemplate.data;\r\n          if (dict.caseDetail) {\r\n            const { caseNumber, id, status, inspections, repairGuid, organizationDetail } = dict.caseDetail.data;\r\n\r\n            if (this.currentOrgId != organizationDetail?.organizationId) {\r\n              this.commonService.isViewOnly = true;\r\n            } else {\r\n              this.commonService.isViewOnly = false;\r\n            }\r\n\r\n            if (inspections.length > 0) {\r\n              this.commonService.inspectionId.next(inspections[0].inspectionId);\r\n            }\r\n            this.commonService.caseStatus.next(status);\r\n            if (status.toLowerCase() === 'vehicledetails') {\r\n            //   this.updateStatus();\r\n            }else{\r\n              this.footer = { ...this.footer, status: '' };\r\n            }\r\n            this.footer.currentStatus = status;\r\n            this.documentHeader.caseNumber = caseNumber;\r\n            this.objectId = id;\r\n            if (repairGuid) {\r\n              this.footer.repairId = repairGuid;\r\n              this.footer.from = 'Quote';\r\n            }\r\n          }\r\n          if(dict.bookingDetail){\r\n            const { id, status, repairGuid, quoteId, repairNumber, isRepairCreatedFromCase, booking } = dict.bookingDetail.data;\r\n            this.objectId = id;\r\n            this.repairId = repairGuid;\r\n\r\n            //adding \r\n            if(quoteId) {\r\n              this.footer.caseId = quoteId;\r\n              this.footer.from = 'Repair';\r\n            }\r\n\r\n            this.footer.isRepairCreatedFromCase = isRepairCreatedFromCase;\r\n            this.footer.repairId = repairGuid;\r\n            this.footer.bookingId = booking?.bookingGuid;\r\n            this.footer.currentStatus = status;\r\n\r\n            this.commonService.repairStatus.next(status);\r\n            //\r\n            \r\n            this.currentRepairStatus = status;\r\n            // Send booking data in observable\r\n            this.commonService.repairDetails.next(dict.bookingDetail.data);\r\n            this.commonService.bookingId.next(repairNumber);\r\n          }\r\n          if (mediaTemplateSelected.length > 0) {\r\n            const { id, collectionGuid } = mediaTemplateSelected[0];\r\n            this.mediaTemplateId = id;\r\n            this.domainId = 2100;\r\n            if(isRepair){\r\n              this.domainId = 3100;\r\n            }\r\n            this.collectionGuid = collectionGuid;\r\n            const detailResult = forkJoin({\r\n              mediaTemplateDetail: this.mediaCollectionService.getMediaTemplateById(collectionGuid),\r\n              mediaDetail: this.mediaCollectionService.getMediaDocumentData(id, this.objectId, this.domainId)\r\n            }).pipe(\r\n              catchError(error => of(error))\r\n            )\r\n            detailResult.subscribe((detailDict: any) => {\r\n              if (detailDict) {\r\n                const { mediaTemplateDetail, mediaDetail } = detailDict;\r\n                this.mediaTemplate = mediaTemplateDetail.data;\r\n                this.mediaTemplate.mediaTemplates = mediaTemplateDetail.data.mediaTemplates.sort((media: any, mediab: any) => {\r\n                  return media.orderNumber - mediab.orderNumber;\r\n                })\r\n                if (mediaDetail.data) {\r\n                  this.mapMediaTemplate(mediaDetail.data.medias);\r\n                }\r\n                this.getMediaTemplateByObject();\r\n              }\r\n              this.commonService.hideLoading();\r\n            }, (err) => {\r\n              this.commonService.hideLoading();\r\n              this.monitorService.logException(err, SeverityLevel.Error);\r\n            });\r\n           \r\n          } else {\r\n            this.commonService.hideLoading();\r\n          }\r\n        }else {\r\n          this.noDocumentData = true;\r\n          this.commonService.hideLoading();\r\n        }\r\n        \r\n      } else {\r\n        this.noDocumentData = true;\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n    const container: any = document.querySelector('.addenda-container');\r\n    if(container){\r\n      container.scrollTop = 0;\r\n    }\r\n    \r\n  }\r\n\r\n  /**\r\n   * handled if step is skipped\r\n   */\r\n  stepSkipped(): void {\r\n    if(location.href.includes('repair') && this.currentRepairStatus?.toLowerCase() === 'draft'){\r\n      this.updateRepairStatus(this.repairId);\r\n    }\r\n    if(location.href.includes('quote') && this.footer.currentStatus?.toLowerCase() === 'vehicledetails'){\r\n      this.updateStatus();\r\n    }\r\n  }\r\n \r\n  /**\r\n   * on destroy\r\n  */\r\n  ngOnDestroy(): void {\r\n    this.monitorService.logEvent('ngOnDestroy', [ 'ChqNewDocumentComponent', 'addenda-quote' ]);\r\n    this.commonService.accessRight.unsubscribe();\r\n\r\n    if(location.href.includes('quote')){\r\n      this.commonService.isViewOnly = false;\r\n    }\r\n  }\r\n}\r\n","<div *ngIf=\"!showNoAccess\">\r\n    <chq-images-uploader #imageUploaders *ngIf=\"imageStatusSteps && imageStatusSteps.length > 0\"\r\n        [fileUploaderService]=\"currentObservable\" (cardSelection)=\"setObservable($event)\" [footerOptions]=\"footer\"\r\n        [imageStatusSteps]=\"imageStatusSteps\" [header]=\"documentHeader\" (stepSkipped)=\"stepSkipped()\"></chq-images-uploader>\r\n    <div class=\"wrapper\" *ngIf=\"noDocumentData\">\r\n        <div class=\"no-document-div\">\r\n            <img src=\"assets/icons/no-document.svg\">\r\n            <label class=\"no-vehicle-content\">\r\n                No Content Available\r\n            </label>\r\n\r\n        </div>\r\n        <div class=\"empty-wrapper\">\r\n            <div class=\"step-container\"></div>\r\n            <div class=\"step-container\"></div>\r\n            <div class=\"step-container\"></div>\r\n            <div class=\"step-container\"></div>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"noDocumentData\" class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/{{ + documentHeader.isRepairModule ?'addenda-repair.png':'addenda-quote.png'}}\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<no-access-error *ngIf=\"showNoAccess\"></no-access-error>","import { AfterViewInit, ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\r\nimport { BehaviorSubject, catchError, forkJoin, of, Subject } from 'rxjs';\r\nimport { PartialCaseDetail } from 'src/app/model/chq-cases-model';\r\nimport { ChqInspectionStep } from 'src/app/model/chq-inspection-step';\r\nimport { FooterModel, Modules, UploadStepModel } from 'src/app/model/chq-upload-model';\r\nimport { ChqWidgetsHeaderModel } from 'src/app/model/chq-widgets-header-model';\r\nimport { inspectionpartPartMapper } from 'src/app/modules/quote/chq-new-cases/chq-new-customer/chq-new-customer-form-data-helper';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { CaseService } from 'src/app/services/case/case.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { InspectionService } from 'src/app/services/inspection-service/inspection.service';\r\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\r\nimport { RepairEstimateService } from 'src/app/services/repair-estimate/repair-estimate.service';\r\nimport { ChqImagesUploaderComponent } from 'src/app/widgets/chq-images-uploader/chq-images-uploader.component';\r\n\r\n\r\nconst photosHeader: ChqWidgetsHeaderModel = {\r\n  title: 'add_damage_photos',\r\n  step: 4,\r\n  description: 'damage_photos_msg',\r\n  stepName: 'step_four',\r\n};\r\n\r\n@Component({\r\n  selector: 'new-photos',\r\n  templateUrl: './new-photos.component.html',\r\n  styleUrls: [ './new-photos.component.scss' ]\r\n})\r\nexport class NewPhotosComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() photosHeader: ChqWidgetsHeaderModel = photosHeader;\r\n  @Output() currentUploadMode: EventEmitter<{ 'mode': string, 'id'?: string }> = new EventEmitter();\r\n  addPhotosHeader: ChqWidgetsHeaderModel;\r\n  public imageStatusSteps: UploadStepModel[] = [];\r\n  public showUploading: boolean = false;\r\n  public isMultipleUpload: boolean = false;\r\n  public triggerMassUpload: boolean = false;\r\n  public caseStatus = '';\r\n  public caseId: string = '0';\r\n  public inspection: any;\r\n  public bookingId: string = '';\r\n  public vehicleId: number;\r\n  public domainId: number;\r\n  public uploadType: string;\r\n  public showDamageAnalysis: boolean;\r\n  public objectId: number;\r\n  public minimumPhotosRequired: number = 0;\r\n  public hideContent: boolean = true;\r\n  public currentAdditionalModeMultiple = false;\r\n  public vehicelType: string;\r\n  public isBulkUploaded: boolean;\r\n  public caseData: any;\r\n  public inspectionId: number;\r\n  private currentInspectionTemplate: any;\r\n  public hideUploaders = false;\r\n  private repairTypes: any = [];\r\n  private repairType = '';\r\n  public noImagesData:boolean = false;\r\n  private repairId: string = '';\r\n  public inspectionTemplatesJSONString = '';\r\n  private currentRepairStatus = '';\r\n  public partialCaseDetail: PartialCaseDetail;\r\n  public repairDetail: any;\r\n  @ViewChild('imageUploaders') imageUploaders: ChqImagesUploaderComponent;\r\n  public inspectionTemplateId: number;\r\n  public currentObservable: (currentStep: UploadStepModel) => void;\r\n  public inspectionTemplates: ChqInspectionStep[];\r\n  public inspectionItemTemplates: ChqInspectionStep[];\r\n  public inspectionTemplateList: any[];\r\n  public inspectionDetail: any;\r\n  public originalSteps: UploadStepModel[] = [];\r\n  public showNoAccess: boolean = false;\r\n  public footer: FooterModel = {\r\n    text: 'Next create estimate',\r\n    icon: 'boardview',\r\n    route: 'case/gt',\r\n    status: 'UploadPhotos',\r\n    caseId: '',\r\n    currentStatus: '',\r\n    showButton: true,\r\n    showUploadOption: true\r\n  }\r\n\r\n  statusUpdated: boolean = false;\r\n  private currentOrgId: number;\r\n\r\n  /**\r\n   * handle back\r\n   */\r\n  handleBack($event: { back: boolean }): void {\r\n    this.showDamageAnalysis = !$event.back;\r\n  }\r\n\r\n  /**\r\n   * check repair types\r\n   */\r\n  get checkRepairTypes(): boolean {\r\n    if (location.href.indexOf('repair') === -1) {\r\n      return true;\r\n    }\r\n\r\n    if (this.repairType !== 'repair') {\r\n      return true;\r\n    }\r\n\r\n    return this.repairTypes.filter((v) => {\r\n      return v.repairServiceType === 'Body' || v.repairServiceType === 'Paint';\r\n    }).length > 0;\r\n  }\r\n\r\n  /**\r\n   * go to gtEstimate\r\n   */\r\n  redirectToGtEstimate(): void {\r\n    this.commonService.showLoading();\r\n    if (this.caseStatus?.toLowerCase() === 'uploaddocuments' || this.caseStatus?.toLowerCase() === 'uploadphotos') {\r\n      this.estimateService.createEstimate(this.caseId, this.inspectionId, this.vehicleId, this.domainId).subscribe({\r\n        next: (resp: any) => {\r\n          if (resp) {\r\n            if (resp?.data?.url) {\r\n              location.href = resp.data.url;\r\n              sessionStorage.setItem('update', '1');\r\n            }\r\n          }\r\n        },\r\n        complete: () => {\r\n          this.commonService.hideLoading();\r\n        }\r\n      });\r\n    } else {\r\n      this.router.navigate([ `/quote/case/${this.caseId}/estimate` ]);\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * constructor\r\n   * @param fb ChangeDetectorRef \r\n   */\r\n  constructor(private cd: ChangeDetectorRef, private commonService: CommonService,\r\n    private route: ActivatedRoute,\r\n    private router: Router, private caseService: CaseService,\r\n    private monitorService: MonitorService,\r\n    private inspectionService: InspectionService,\r\n    private bookingService: BookingService,\r\n    private estimateService: RepairEstimateService) {\r\n    if (commonService.pageName.closed) {\r\n      commonService.pageName = new BehaviorSubject<string>(null);\r\n    }\r\n    commonService.pageName.next('photos');\r\n\r\n    if (this.commonService.accessRight.closed) {\r\n      this.commonService.accessRight = new BehaviorSubject<boolean>(true);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * update page status\r\n   */\r\n  updateCurrentStatus($event): void {\r\n    this.monitorService.logEvent('updateCurrentStatus', [ 'ChqNewPhotosComponent', 'addenda-quote', {\r\n      caseId: $event\r\n    } ]);\r\n    if ($event.initial) {\r\n      this.setInitialMode();\r\n      return;\r\n    }\r\n    this.showUploading = true;\r\n\r\n    // if ((this.footer.repairId && this.footer.from == Modules.quote)\r\n    // || (this.footer.caseId && this.footer.from == Modules.repair)) {\r\n\r\n    //   this.commonService.showChangeWarningMessage(this.uploadBulkUploadFile.bind(this, $event.steps),\r\n    //     this.footer.from == Modules.quote ? 'Repair' : 'Quote');\r\n    // } else {\r\n    //   this.uploadBulkUploadFile($event.steps);\r\n    // }\r\n    this.uploadBulkUploadFile($event.steps);\r\n  }\r\n\r\n  /**\r\n   * handle delete all\r\n   */\r\n  handleDeleteAll(): void {\r\n    this.setInitialMode();\r\n  }\r\n\r\n  /**\r\n   * ngAfterViewInit hook\r\n   */\r\n  ngAfterViewInit(): void {\r\n    this.commonService.updatePage('/quote/case/0', 'photos');\r\n    this.cd.detectChanges();\r\n    this.monitorService.logEvent('ngAfterViewInit', [ 'ChqNewPhotosComponent', 'addenda-quote' ]);\r\n  }\r\n\r\n  /**\r\n * upload bulk file\r\n * @param uploads \r\n */\r\n  uploadBulkUploadFile(uploads: UploadStepModel[]): void {\r\n    for (let i = 0; i < uploads?.length; i++) {\r\n\r\n      const img = new Image();\r\n      img.src = uploads[i].image as string;\r\n      img.onload = (): void => {\r\n        const uploadObject = {\r\n          'height': img.height,\r\n          'width': img.width,\r\n          'inspectionId': this.inspectionId,\r\n          'templateId': this.inspectionTemplateId,\r\n          'type': this.vehicelType || '',\r\n          'isBulk': true\r\n        }\r\n        const step = uploads[i];\r\n        step.uploadInProgress = true;\r\n        step.isSkipped = false;\r\n        step.isUploadFailed = false;\r\n        step.isUploadSuccess = false;\r\n        this.monitorService.logEvent('uploadBulkUploadFile', [ 'ChqNewPhotosComponent', 'addenda-quote', {\r\n          uploadObject\r\n        } ]);\r\n        this.inspectionService.uploadImageBulk(uploadObject, step.imageFile).subscribe({\r\n          next: (data: any) => {\r\n            step.url = data.rawImage?.rawAzureBlobUrl;\r\n            step.inspectionItem = data;\r\n            step.procedureSteps = 'Bulk Upload Image';\r\n            this.imageUploaders.updateUploadStatus('success', step, null, data);\r\n            this.footer = { ...this.footer, showUploadOption: false };\r\n            if (location.href.includes('repair') && (this.currentRepairStatus?.toLowerCase() === 'draft' || this.currentRepairStatus?.toLowerCase() === 'uploaddocuments')) {\r\n              this.updateRepairStatus(this.repairId);\r\n            }\r\n            if (location.href.includes('quote') && (this.footer.currentStatus?.toLowerCase() === 'uploaddocuments')) {\r\n              this.updateStatus();\r\n            }\r\n          },\r\n          error: (err: any) => {\r\n            if (err.status != 401) {\r\n              this.imageUploaders.imageStatusSteps = this.imageUploaders.imageStatusSteps.filter((ig: UploadStepModel) => {\r\n                return (ig.index !== step.index || ig.stepName !== step.stepName || ig.uploadInProgress !== true);\r\n              })\r\n              this.imageUploaders.updateUploadStatus('failed', step, err, null, true);\r\n            }\r\n            this.monitorService.logException(err, SeverityLevel.Error);\r\n          },\r\n        })\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * update repair status\r\n   */\r\n  updateRepairStatus(repairId: string): void {\r\n    if(!this.statusUpdated) {  \r\n      this.statusUpdated = true;\r\n      this.bookingService.updateRepairStatus('UploadPhotos', repairId, '').subscribe({\r\n        next: () => {\r\n          this.currentRepairStatus = 'UploadPhotos';\r\n          this.footer.currentStatus = this.currentRepairStatus;\r\n          this.commonService.showLoading();\r\n          this.bookingService.getRepairDetailByGuid(this.repairId).subscribe({\r\n            next: async (result: any) => {\r\n              if (result?.data) {\r\n                this.commonService.repairDetails.next(result.data);\r\n                this.commonService.bookingId.next(result.data.repairNumber);                          \r\n                this.commonService.hideLoading();\r\n              }\r\n            },\r\n            error: (err: any) => {\r\n              this.monitorService.logException(err, SeverityLevel.Error);\r\n              this.commonService.hideLoading();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  /**\r\n   * upload photos\r\n   */\r\n  uploadFile(currentStep: UploadStepModel): void {\r\n    const uploadObject = {\r\n      'height': currentStep.imageHeight,\r\n      'width': currentStep.imageWidth,\r\n      'inspectionId': this.inspectionId,\r\n      'templateId': this.inspectionTemplateId,\r\n      'inspectionitemId': currentStep.inspectionItem.id,\r\n      'type': this.vehicelType || '',\r\n      'isBulk': false\r\n    }\r\n\r\n    this.monitorService.logEvent('uploadFile', [ 'ChqNewPhotosComponent', 'addenda-quote', {\r\n      uploadObject\r\n    } ]);\r\n\r\n    currentStep.uploadInProgress = true;\r\n    currentStep.isSkipped = false;\r\n    currentStep.isUploadFailed = false;\r\n    currentStep.isUploadSuccess = false;\r\n    this.commonService.inProgressSteps.next(1);\r\n    this.footer = { ...this.footer, showUploadOption: false };\r\n    this.commonService.showNotification(`Your photo ${currentStep.stepName} is currently uploading wont be long and well notify \r\n       you when its uploaded, you can continue to take your photos.`);\r\n    this.inspectionService.uploadImageBulk(uploadObject, currentStep.imageFile).subscribe({\r\n      next: (data: any) => {\r\n        const msg = `Your photo ${currentStep.stepName} is uploaded successfully.`;\r\n        this.commonService.showNotification(msg);\r\n        const inspectionItem = this.inspectionItemTemplates?.find((x: any) => x.inspectionItem.id == data?.id);\r\n        inspectionItem.inspectionItem.rawAzureBlobUrl = data.rawImage?.rawAzureBlobUrl;\r\n        if (inspectionItem) {\r\n          currentStep.url = data.rawImage?.rawAzureBlobUrl;\r\n          this.imageUploaders.updateUploadStatus('success', currentStep, null, data);\r\n        }\r\n        if (location.href.includes('repair') && (this.currentRepairStatus == 'Draft' || this.currentRepairStatus === 'UploadDocuments')) {\r\n          this.updateRepairStatus(this.repairId);\r\n        }\r\n        if (location.href.includes('quote') && (this.footer.currentStatus?.toLowerCase() === 'uploaddocuments')) {\r\n          this.updateStatus();\r\n        }\r\n      },\r\n      error: (err: any) => {\r\n        if (err.status != 401) {\r\n          const msg = `Your photo ${currentStep.stepName} failed to upload. Please try to upload again.`;\r\n          this.commonService.showNotification(msg);\r\n          this.imageUploaders.updateUploadStatus('failed', currentStep, err);\r\n          this.monitorService.logException(err, SeverityLevel.Error);\r\n        }\r\n      },\r\n    })\r\n  }\r\n\r\n  /**\r\n   * on destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    this.commonService.pageName.unsubscribe();\r\n    this.commonService.accessRight.unsubscribe();\r\n    if(location.href.includes('quote')){\r\n      this.commonService.isViewOnly = false;\r\n    }\r\n    this.monitorService.logEvent('ngOnDestroy', [ 'ChqNewPhotosComponent', 'addenda-quote' ]);\r\n  }\r\n\r\n  /**\r\n   * showRepairButton\r\n   */\r\n  get showEstimateButton(): boolean {\r\n    return this.currentInspectionTemplate?.minImageLimit === 0 && this.inspectionItemTemplates?.filter((value: ChqInspectionStep) => {\r\n      return value.isSkipEnabled !== true;\r\n    }).length === 0;\r\n  }\r\n\r\n  /**\r\n   * map inspection from api\r\n   * @param inspectionData \r\n   */\r\n  mapInspection(inspectionData: any): void {\r\n    if (inspectionData) {\r\n      try {\r\n        this.inspection = inspectionData;\r\n        this.uploadType = this.inspection.uploadType;\r\n        let currentMode = 'SPI';\r\n        if (this.uploadType) {\r\n          this.footer = { ...this.footer, showUploadOption: false };\r\n        }\r\n        if (this.uploadType === 'Bulk') {\r\n          currentMode = 'BULK';\r\n        }\r\n        const bulkUploadTemplateItem = this.inspectionTemplates?.filter(step => step.name === 'Bulk Upload Image');\r\n        const bulkUploadedItemsWithImages = this.inspection.inspectionItems?.filter((step) => {\r\n          return (step.name === 'Bulk Upload Image' || step.inspectionItemTemplateID === bulkUploadTemplateItem[0].id)\r\n              && step.rawAzureBlobUrl\r\n        });\r\n        if (bulkUploadedItemsWithImages?.length > 0 || this.uploadType === 'Bulk') {\r\n          const massUploadItems = [];\r\n          this.currentUploadMode.emit({ 'mode': 'multiple' });\r\n          for (const i in bulkUploadedItemsWithImages) {\r\n            const currentObj = {\r\n              ...bulkUploadTemplateItem[0], name: bulkUploadedItemsWithImages[i].name || bulkUploadTemplateItem[0].name,\r\n              inspectionItem: bulkUploadedItemsWithImages[i]\r\n            }\r\n            massUploadItems.push(currentObj);\r\n          }\r\n          this.inspectionItemTemplates = massUploadItems;\r\n        } else {\r\n\r\n          this.currentUploadMode.emit({ 'mode': 'single' });\r\n          this.inspectionTemplates?.map((chqInspectionStep: ChqInspectionStep) => {\r\n            const item = this.inspection.inspectionItems?.find((el: any) => el.inspectionItemTemplateID == chqInspectionStep.id);\r\n            if (item) {\r\n              chqInspectionStep['inspectionItem'] = item;\r\n            }\r\n          });\r\n          this.inspectionItemTemplates = this.inspectionTemplates?.filter(step => step.name != 'Bulk Upload Image');\r\n        }\r\n        if(bulkUploadTemplateItem?.length > 0) this.inspectionTemplateId = bulkUploadTemplateItem[0].id;\r\n\r\n        this.inspectionItemTemplates?.map((x: ChqInspectionStep) => {\r\n          if (x.inspectionItem?.rawAzureBlobUrl) {\r\n            x.isUploadSuccess = true;\r\n            x.image = x.inspectionItem?.rawAzureBlobUrl;\r\n          } else {\r\n            if (!x.inspectionItem) {\r\n              x.inspectionItem = { rawAzureBlobUrl: '' };\r\n            }\r\n            x.inspectionItem.rawAzureBlobUrl = '';\r\n            x.isUploadFailed = false;\r\n            x.isUploadSuccess = false;\r\n            x.uploadInProgress = false;\r\n          }\r\n        })\r\n        if (this.uploadType) {\r\n          if (currentMode === 'SPI') {\r\n            this.isMultipleUpload = false;\r\n            this.showUploading = true;\r\n            if (this.addPhotosHeader.isRepairModule) {\r\n              this.photosHeader = { ...this.photosHeader, title: 'back_smart_photo' };\r\n            }\r\n            this.minimumPhotosRequired = this.inspectionItemTemplates?.filter((value: ChqInspectionStep) => {\r\n              return value.isSkipEnabled !== true;\r\n            }).length;\r\n            this.currentObservable = this.uploadFile.bind(this);\r\n          } else {\r\n            this.currentObservable = this.uploadBulkUploadFile.bind(this);\r\n            this.isMultipleUpload = true;\r\n            this.minimumPhotosRequired = this.currentInspectionTemplate.minImageLimit;\r\n            this.triggerMassUpload = true;\r\n            this.isBulkUploaded = true;\r\n            if (this.addPhotosHeader.isRepairModule) {\r\n              this.photosHeader = { ...this.photosHeader, title: 'bulk_upload' };\r\n            }\r\n          }\r\n        }\r\n      } catch (error: any) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * inspection detail by id\r\n   */\r\n  getInspectionTemplateByObject(): void {\r\n    for (let i = 0; i < this.inspectionItemTemplates?.length; i++) {\r\n      const templatePart = this.inspectionItemTemplates[i];\r\n      const inspectionStep = inspectionpartPartMapper(templatePart, i);\r\n      const isAdditionalImage = inspectionStep.stepName?.toLowerCase().indexOf('additional photo') != -1;\r\n      const isMassUpload = inspectionStep.stepName?.toLowerCase().indexOf('bulk upload image') != -1;\r\n      const isAdditionalDocumentFromReviewPageOnly = isAdditionalImage && !inspectionStep.url;\r\n      this.imageStatusSteps.push({\r\n        ...inspectionStep, mandatory: !templatePart.isSkipEnabled, index: i,\r\n        isAdditionalDocumentFromReviewPageOnly,\r\n        isMassUpload,\r\n        updatedDate: inspectionStep.url ? templatePart?.inspectionItem?.updatedDate : '',\r\n        uploadedDate: inspectionStep.url ? templatePart?.inspectionItem?.created : '',\r\n        domainId: this.domainId, objectId: this.objectId,\r\n        uploadedPartGuid: '',\r\n        uploadedGuid: ''\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * update status\r\n   */\r\n  updateStatus(): void {\r\n    if(!this.statusUpdated) {  \r\n      this.statusUpdated = true;\r\n      this.monitorService.logEvent('updateStatus', [ 'ChqNewPhotosComponent', 'addenda-quote' ]);\r\n      this.caseService.updateCaseStatus(this.caseId, 'UploadPhotos').subscribe({\r\n        next: () => {\r\n          this.footer = { ...this.footer, status: '' };\r\n          this.partialCaseDetail.status = 'UploadPhotos';\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handled if step is skipped\r\n   */\r\n  stepSkipped(): void {\r\n    if (location.href.includes('repair') && (this.currentRepairStatus?.toLowerCase() === 'draft' || this.currentRepairStatus?.toLowerCase() === 'uploaddocuments')) {\r\n      this.updateRepairStatus(this.repairId);\r\n    }\r\n    if (location.href.includes('quote') && (this.footer.currentStatus?.toLowerCase() === 'uploaddocuments')) {\r\n      this.updateStatus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * load server details\r\n   */\r\n  loadApiData(id: string): void {\r\n    if (id && id != '0') {\r\n      this.caseId = id;\r\n      this.bookingId = id;\r\n      this.commonService.showLoading();\r\n      this.inspectionService.getInspectionTemplateList().subscribe({\r\n        next: (inspectionList: any) => {\r\n          let isRepair = false;\r\n          let inspectionTemplateId = 0;\r\n          if (location.href.includes('repair')) {\r\n            isRepair = true;\r\n          }\r\n          const repairInspectionTemplate = inspectionList?.data;\r\n\r\n          if (repairInspectionTemplate?.length > 0) {\r\n            this.commonService.repairInspectionTemplate = repairInspectionTemplate[0];\r\n            inspectionTemplateId = repairInspectionTemplate[0].id\r\n          }\r\n          const promiseApi: any = {};\r\n          promiseApi.inspectionTemplate = this.inspectionService.getInspectionTemplate(inspectionTemplateId);\r\n          if (isRepair) {\r\n            promiseApi.bookingDetail = this.bookingService.getRepairDetailByGuid(id);\r\n\r\n          } else {\r\n            this.commonService.userProfileData.subscribe((res) => {\r\n              if (res && res.data) {\r\n                const { organizationDetail } = res.data;\r\n                this.currentOrgId = organizationDetail.id;\r\n              }\r\n            });\r\n            promiseApi.caseDetail = this.caseService.getCaseDetail(id);\r\n          }\r\n          const serverDetails = forkJoin(promiseApi).pipe(\r\n            catchError(error => of(error))\r\n          )\r\n          serverDetails.subscribe({\r\n            next: (resultMap: any) => {\r\n              if (resultMap.inspectionTemplate) {\r\n\r\n                const inspectionTemplateDetail = resultMap.inspectionTemplate.inspectionItemTemplates;\r\n                this.currentInspectionTemplate = resultMap.inspectionTemplate;\r\n                if (resultMap.inspectionDetail) {\r\n                  this.inspectionDetail = resultMap.inspectionDetail;\r\n                }\r\n                this.inspectionTemplates = inspectionTemplateDetail;\r\n                this.inspectionTemplatesJSONString = JSON.stringify(this.inspectionTemplates);\r\n                if (resultMap.caseDetail) {\r\n                  const { caseNumber, id, status, statusId, domainID, inspections, vehicleModel, vehicleId, organizationDetail } = resultMap.caseDetail.data;\r\n                  this.caseData = resultMap.caseDetail.data;\r\n                  this.partialCaseDetail = resultMap.caseDetail.data;\r\n\r\n                  if (this.currentOrgId != organizationDetail?.organizationId) {\r\n                    this.commonService.isViewOnly = true;\r\n                  } else {\r\n                    this.commonService.isViewOnly = false;\r\n                  }\r\n\r\n                  this.vehicelType = vehicleModel;\r\n                  this.vehicleId = vehicleId;\r\n                  this.domainId = domainID;\r\n                  this.commonService.caseStatus.next(status);\r\n                  this.caseStatus = status;\r\n                  if (status?.toLowerCase() === 'uploaddocuments') {\r\n                    //this.updateStatus();\r\n                  } else {\r\n                    this.footer = { ...this.footer, status: '', caseId: id }\r\n                  }\r\n                  this.footer.currentStatus = status;\r\n                  if (inspections?.length > 0) {\r\n                    this.inspectionId = inspections[0].inspectionId;\r\n                    this.commonService.inspectionId.next(this.inspectionId);\r\n                  }\r\n                  this.photosHeader.caseNumber = caseNumber;\r\n\r\n                  if (this.caseData.repairGuid) {\r\n                    this.footer.repairId = this.caseData.repairGuid;\r\n                    this.footer.from = Modules.quote;\r\n                  }\r\n\r\n                  this.objectId = id;\r\n                }\r\n                if (resultMap.bookingDetail) {\r\n                  const { id, vehicle, repairServiceTypes, repairGuid, domainId, status, quoteId, repairType, repairNumber, booking, isRepairCreatedFromCase } = resultMap.bookingDetail.data;\r\n                  this.repairDetail = resultMap.bookingDetail.data;\r\n                  const { vehicleModel, vehicleId } = vehicle;\r\n\r\n                  this.objectId = id;\r\n                  this.domainId = domainId;\r\n                  this.repairId = repairGuid;\r\n                  this.currentRepairStatus = status;\r\n                  this.repairTypes = repairServiceTypes;\r\n                  this.repairType = repairType;\r\n                  this.inspectionId = vehicle.inspectionId;\r\n                  this.vehicelType = vehicleModel;\r\n                  this.vehicleId = vehicleId;\r\n\r\n                  this.footer = { ...this.footer, currentStatus: status, isRepairModule: true, caseId: quoteId, \r\n                    from: Modules.repair, repairTypes: repairServiceTypes, isRepairCreatedFromCase: isRepairCreatedFromCase, bookingId: booking?.bookingGuid };\r\n                  // Send booking data in observable\r\n                  this.commonService.repairDetails.next(resultMap.bookingDetail.data)\r\n                  this.commonService.bookingId.next(repairNumber);\r\n                  this.commonService.repairStatus.next(status);\r\n                }\r\n\r\n                if (this.inspectionId) {\r\n                  this.inspectionService.getInspection(this.inspectionId).subscribe({\r\n                    next: (inspectionDetailResponse: any) => {\r\n                      if (inspectionDetailResponse) {\r\n                        this.mapInspection(inspectionDetailResponse);\r\n                        this.noImagesData = false;\r\n                        this.getInspectionTemplateByObject();\r\n                        setTimeout(() => {\r\n                          this.hideContent = false;\r\n                          if (this.isBulkUploaded) {\r\n                            this.showUploading = true;\r\n                            this.isMultipleUpload = true;\r\n                            this.currentAdditionalModeMultiple = true;\r\n                          }\r\n                          if (this.uploadType) {\r\n                            this.imageUploaders.goToReview();\r\n                          }\r\n                        })\r\n                      }\r\n                    },\r\n                    error: ()=>{\r\n                      this.noImagesData = true;\r\n                    },\r\n                    complete: () => {\r\n                      this.commonService.hideLoading();\r\n                    },\r\n                  });\r\n                } else {\r\n                  this.noImagesData = true;\r\n                  this.hideContent = false;\r\n                  this.commonService.hideLoading();\r\n                }\r\n              }else{\r\n                this.noImagesData = true;\r\n                this.commonService.hideLoading();\r\n              }\r\n            }\r\n          });\r\n        }, error: ()=>{\r\n          this.noImagesData = true;\r\n          this.commonService.hideLoading();\r\n        }\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * oninit\r\n   */\r\n  ngOnInit(): void {\r\n    const currentObjectId = this.route.parent?.snapshot.paramMap.get('id');\r\n    this.addPhotosHeader = { ...this.photosHeader, isHeaderOnly: false };\r\n    this.monitorService.logEvent('ngOnInit', [ 'ChqNewPhotosComponent', 'addenda-quote', {\r\n      caseId: currentObjectId,\r\n      repairId: currentObjectId\r\n    } ]);\r\n\r\n    this.footer = {\r\n      ...this.footer, caseId: this.photosHeader.isRepairModule? '': currentObjectId,\r\n      repairId: this.photosHeader.isRepairModule? currentObjectId: '', \r\n      handleBack: this.handleBack.bind(this)\r\n      , finalRedirection: this.redirectToGtEstimate.bind(this) }\r\n\r\n    this.commonService.accessRight.subscribe({\r\n      next: (res: boolean) => {\r\n        if (!res) {\r\n          this.showNoAccess = true;\r\n        }\r\n      }\r\n    });\r\n    \r\n    this.loadApiData(currentObjectId);\r\n    const container: any = document.querySelector('.addenda-container');\r\n    if (container) {\r\n      container.scrollTop = 0;\r\n    }\r\n\r\n    this.currentObservable = this.uploadFile.bind(this);\r\n  }\r\n\r\n  /**\r\n   * reload inspection and map\r\n   */\r\n  public reloadInspection(): void {\r\n    this.commonService.showLoading();\r\n    this.inspectionTemplates = JSON.parse(this.inspectionTemplatesJSONString);\r\n    if (this.inspectionId) {\r\n      this.inspectionService.getInspection(this.inspectionId).subscribe({\r\n        next: (inspectionDetailResponse: any) => {\r\n          if (inspectionDetailResponse) {\r\n            this.mapInspection(inspectionDetailResponse);\r\n            this.getInspectionTemplateByObject();\r\n            this.isMultipleUpload = false;\r\n\r\n            this.isBulkUploaded = false;\r\n            this.currentAdditionalModeMultiple = false;\r\n            this.triggerMassUpload = false;\r\n            setTimeout(() => {\r\n              this.hideContent = false;\r\n              this.showUploading = true;\r\n            })\r\n\r\n          }\r\n        },\r\n        complete: () => {\r\n          this.commonService.hideLoading();\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * set to initial mode\r\n   */\r\n  setInitialMode(): void {\r\n    this.showUploading = false;\r\n    this.imageStatusSteps = [];\r\n    this.triggerMassUpload = false;\r\n    this.isBulkUploaded = false;\r\n    this.imageUploaders.isReviewSection = false;\r\n    this.isMultipleUpload = false;\r\n    this.currentAdditionalModeMultiple = false;\r\n  }\r\n\r\n  /**\r\n   *handle mode selection\r\n   * @param $event \r\n   */\r\n  handleMode($event: any): void {\r\n    this.monitorService.logEvent('handleMode', [ 'ChqNewPhotosComponent', 'addenda-quote', {\r\n      $event\r\n    } ]);\r\n    if (!this.inspectionId) {\r\n      this.currentUploadMode.emit({ 'mode': 'error', 'id': this.bookingId });\r\n      return;\r\n    }\r\n    this.currentUploadMode.emit($event);\r\n\r\n    if ($event.mode === 'single') {\r\n\r\n      if (this.imageStatusSteps?.length === 0) {\r\n        this.isMultipleUpload = false;\r\n        this.isBulkUploaded = false;\r\n        this.currentAdditionalModeMultiple = false;\r\n        this.triggerMassUpload = false;\r\n        this.minimumPhotosRequired = this.inspectionItemTemplates.filter((value: ChqInspectionStep) => {\r\n          return value.isSkipEnabled !== true;\r\n        }).length;\r\n        this.reloadInspection();\r\n      } else {\r\n        this.isMultipleUpload = false;\r\n        this.showUploading = true;\r\n        this.isBulkUploaded = false;\r\n        this.currentAdditionalModeMultiple = false;\r\n        this.minimumPhotosRequired = this.currentInspectionTemplate.minImageLimit;\r\n        this.triggerMassUpload = false;\r\n      }\r\n\r\n      this.currentObservable = this.uploadFile.bind(this);\r\n    } else {\r\n      this.imageStatusSteps = [];\r\n      this.currentObservable = this.uploadBulkUploadFile.bind(this);\r\n      this.isMultipleUpload = true;\r\n      this.triggerMassUpload = true;\r\n      this.showUploading = true;\r\n    }\r\n  }\r\n}\r\n","<div *ngIf=\"!showNoAccess\" [ngClass]=\"{'photo-container': photosHeader.isRepairModule}\">\r\n    <ng-container *chqPermission=\"'newBooking'\">\r\n        <add-photos [caseData]=\"caseData\" [caseNumber]=\"photosHeader.caseNumber\" [showSPI]=\"checkRepairTypes\"\r\n            [photosHeader]=\"addPhotosHeader\" (mode)=\"handleMode($event)\" *ngIf=\"showUploading === false\"\r\n            [hidden]=\"hideContent\" [showEstimate]=\"showEstimateButton\" [repairData]=\"repairDetail\"></add-photos>\r\n    </ng-container>\r\n\r\n    <div class=\"wrapper\" *ngIf=\"noImagesData\">\r\n        <div class=\"no-document-div\">\r\n            <img src=\"assets/icons/no-document.svg\">\r\n            <label class=\"no-vehicle-content\">\r\n                {{'no_photos_configured' | translate }}\r\n            </label>\r\n\r\n        </div>\r\n        <div class=\"empty-wrapper\">\r\n            <div class=\"step-container\"></div>\r\n            <div class=\"step-container\"></div>\r\n            <div class=\"step-container\"></div>\r\n            <div class=\"step-container\"></div>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"noImagesData\" class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/{{ + photosHeader.isRepairModule ?'addenda-repair.png':'addenda-quote.png'}}\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <chq-images-uploader [hidden]=\"showDamageAnalysis || !showUploading\" (handleDeleteAllEvent)=\"handleDeleteAll()\"\r\n        (backToUpload)=\"this.setInitialMode();\" [currentAdditionalModeMultiple]=\"currentAdditionalModeMultiple\"\r\n        [fileUploaderService]=\"currentObservable\" #imageUploaders [footerOptions]=\"footer\"\r\n        (updateMassUpload)=\"updateCurrentStatus($event);\"\r\n        *ngIf=\"(showUploading === true || isMultipleUpload) || (imageStatusSteps && imageStatusSteps.length > 0)\"\r\n        [isMassUpload]=\"isMultipleUpload\" [showReTakeDelete]=\"true\" [imageStatusSteps]=\"imageStatusSteps\"\r\n        [header]=\"photosHeader\" [inspectionId]=\"inspectionId\" [inspection]=\"'photos'\" (stepSkipped)=\"stepSkipped()\"></chq-images-uploader>\r\n    <damage-analysis *ngIf=\"showDamageAnalysis\" [isBulkUpload]=\"isMultipleUpload\"\r\n        [minPhotoRequired]=\"minimumPhotosRequired\" [caseDetail]=\"partialCaseDetail || repairDetail\"\r\n        [steps]=\"imageStatusSteps\" [isRepairModule]=\"photosHeader.isRepairModule\"\r\n        (backEvent)=\"handleBack($event)\"></damage-analysis>\r\n</div>\r\n<no-access-error *ngIf=\"showNoAccess\"></no-access-error>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { WidgetsModule } from 'src/app/widgets/chq-widgets.module';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { CanDeactivateGuard } from 'src/app/guards/deactivate-gaurd/deactivate-gaurd.guard';\r\nimport { ErrorModule } from 'src/app/shared/error-page/error.module';\r\nimport { NewDocumentsComponent } from './new-documents/new-documents.component';\r\nimport { NewPhotosComponent } from './new-photos/new-photos.component';\r\nimport { AddPhotosComponent } from './add-photos/add-photos.component';\r\nimport { IconsModule } from '../icons.module';\r\nimport { DamageAnalysisComponent } from './damage-analysis/damage-analysis.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { HasPermissionDirective } from '../helper/directive/has-permission.directive';\r\nimport { DirectiveModule } from '../helper/directive.module';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { HistoryComponent } from './history/history.component';\r\n//import { NgxPrintModule } from 'ngx-print';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [ \r\n    NewDocumentsComponent,\r\n    NewPhotosComponent, \r\n    AddPhotosComponent, \r\n    DamageAnalysisComponent,\r\n    HistoryComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    MatIconModule,\r\n    IconsModule,\r\n    WidgetsModule,\r\n    ErrorModule,\r\n    TranslateModule,\r\n    DirectiveModule,\r\n    MatSidenavModule\r\n  ],\r\n  exports: [ \r\n    NewDocumentsComponent, \r\n    NewPhotosComponent, \r\n    AddPhotosComponent, \r\n    DamageAnalysisComponent\r\n    \r\n  ],\r\n  providers: [ \r\n    CanDeactivateGuard\r\n  ]\r\n})\r\nexport class SharedModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}