{"version":3,"file":"default-src_app_shared_shared_module_ts-es2015.js","mappings":"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","sources":["./node_modules/dayjs/plugin/utc.js","./src/app/shared/add-photos/add-photos.component.ts","./src/app/shared/add-photos/add-photos.component.html","./src/app/shared/error-page/error.module.ts","./src/app/shared/error-page/no-access-error/no-access-error.component.ts","./src/app/shared/error-page/no-access-error/no-access-error.component.html","./src/app/shared/history/history.component.ts","./src/app/shared/new-documents/new-documents.component.ts","./src/app/shared/new-documents/new-documents.component.html","./src/app/shared/new-photos/new-photos.component.ts","./src/app/shared/new-photos/new-photos.component.html","./src/app/shared/shared.module.ts"],"sourcesContent":["!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs_plugin_utc=i()}(this,(function(){\"use strict\";var t=\"minute\",i=/[+-]\\d\\d(?::?\\d\\d)?/g,e=/([+-]|\\d\\d)/g;return function(s,f,n){var u=f.prototype;n.utc=function(t){var i={date:t,utc:!0,args:arguments};return new f(i)},u.utc=function(i){var e=n(this.toDate(),{locale:this.$L,utc:!0});return i?e.add(this.utcOffset(),t):e},u.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var o=u.parse;u.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),o.call(this,t)};var r=u.init;u.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else r.call(this)};var a=u.utcOffset;u.utcOffset=function(s,f){var n=this.$utils().u;if(n(s))return this.$u?0:n(this.$offset)?a.call(this):this.$offset;if(\"string\"==typeof s&&(s=function(t){void 0===t&&(t=\"\");var s=t.match(i);if(!s)return null;var f=(\"\"+s[0]).match(e)||[\"-\",0,0],n=f[0],u=60*+f[1]+ +f[2];return 0===u?0:\"+\"===n?u:-u}(s),null===s))return this;var u=Math.abs(s)<=16?60*s:s,o=this;if(f)return o.$offset=u,o.$u=0===s,o;if(0!==s){var r=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(u+r,t)).$offset=u,o.$x.$localOffset=r}else o=this.utc();return o};var h=u.format;u.format=function(t){var i=t||(this.$u?\"YYYY-MM-DDTHH:mm:ss[Z]\":\"\");return h.call(this,i)},u.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var l=u.toDate;u.toDate=function(t){return\"s\"===t&&this.$offset?n(this.format(\"YYYY-MM-DD HH:mm:ss:SSS\")).toDate():l.call(this)};var c=u.diff;u.diff=function(t,i,e){if(t&&this.$u===t.$u)return c.call(this,t,i,e);var s=this.local(),f=n(t).local();return c.call(s,f,i,e)}}}));","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\nimport { ChqWidgetsHeaderModel } from 'src/app/model/chq-widgets-header-model';\nimport { CalendarService } from 'src/app/services/calendar/calendar.service';\nimport { CaseService } from 'src/app/services/case/case.service';\nimport { CommonService } from 'src/app/services/common/common.service';\nimport { InspectionService } from 'src/app/services/inspection-service/inspection.service';\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\nimport { RepairEstimateService } from 'src/app/services/repair-estimate/repair-estimate.service';\n\nconst photosHeader: ChqWidgetsHeaderModel = {\n  title: 'add_damage_photos',\n  step: 4,\n  description: 'damage_photos_msg',\n  stepName: 'step_four',\n};\n@Component({\n  selector: 'add-photos',\n  templateUrl: './add-photos.component.html',\n  styleUrls: [ './add-photos.component.scss' ]\n})\nexport class AddPhotosComponent implements OnChanges {\n  @Output() mode: EventEmitter<{ 'mode': string }> = new EventEmitter();  \n  @Input() caseNumber: string;\n  @Input() caseData:any;\n  @Input() showEstimate:boolean = false;\n  @Input() repairUnapproved:boolean;\n  @Input() repairData: any;\n\n  public nextButton: ChqWidgetsButtonModel = {\n    label: 'Next create estimate',\n    type: 'primary',\n    color: 'primary',\n    icon: 'boardview'\n  }\n  @Input() photosHeader: ChqWidgetsHeaderModel = photosHeader;\n  @Input() showSPI:boolean;\n  @Input() hideBulk:boolean;\n  /**\n   * initialize single Upload\n   */\n  allowSingleUpload():void {\n    this.mode.emit({ 'mode': 'single' })\n  }\n\n  /**\n   * show delete\n   */\n  get showDelete(): boolean {\n    if (this.repairData?.repairGuid && this.repairData?.status?.toLowerCase() === 'draft') {\n      return true;\n    } else if (this.repairData?.repairGuid && this.repairData?.repairGuidisRepairCreatedFromCase == true && this.repairData?.status?.toLowerCase() == 'repairestimation') {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * constructor\n   */\n  constructor( private monitorService: MonitorService,\n    public commonService: CommonService,\n    private route: ActivatedRoute,\n    private dialog: MatDialog,\n    private caseService: CaseService,\n    private router: Router,\n    private inspectionService: InspectionService,\n    private estimateService: RepairEstimateService,\n    private calendarService: CalendarService) {}\n\n  /**\n   * detects changes in input attributes\n   * @param changes \n   */\n  ngOnChanges(changes: SimpleChanges): void {\n    this.monitorService.logEvent('allowMultipleUpload', [ 'ChqAddPhotosComponent', 'addenda-quote', {\n      changes\n    } ]);\n    if (changes) {\n      if (changes['caseNumber'] && changes['caseNumber'].currentValue) {\n        this.photosHeader = { ...this.photosHeader, caseNumber: this.caseNumber };    \n      }\n    }\n  }\n\n  /**\n   * initialize multiple Upload\n   */\n  allowMultipleUpload():void {\n    this.monitorService.logEvent('allowMultipleUpload', [ 'ChqAddPhotosComponent', 'addenda-quote' ]);\n    this.mode.emit({ 'mode': 'multiple' })\n  }\n\n  public cameraButtonModel: ChqWidgetsButtonModel = {\n    label: 'camera_upload',\n    type: 'primary',\n    icon: 'camera',\n    color: 'primary',\n    onclick: this.allowSingleUpload.bind(this)\n  }\n  public bulkUploadButtonModel: ChqWidgetsButtonModel = {\n    label: 'btn_bulk_upload',\n    type: 'primary',\n    icon: 'upload',\n    color: 'primary',\n    onclick: this.allowMultipleUpload.bind(this)\n  }\n\n  public cancelButtonModel: ChqWidgetsButtonModel = {\n    label: 'Cancel Booking',\n    type: 'outline-danger',\n    onclick: this.cancelBooking.bind(this)\n  }\n\n  /**\n   * go to gtEstimate\n   */\n  redirectToGtEstimate():void {\n    \n    this.commonService.showLoading();\n    const { status, caseGuid, inspections, vehicleId, domainID } = this.caseData;\n    let inspectionId = 0;\n    if (inspections?.length > 0) {\n      inspectionId = inspections[0].inspectionId;\n    }\n    if (status?.toLowerCase() === 'uploaddocuments') {\n      this.monitorService.logEvent('redirectToGtEstimate', [ 'ChqDamageAnalysisComponent', 'addenda-quote', {\n        caseId: caseGuid\n      } ]);\n      this.caseService.updateCaseStatus(caseGuid, 'UploadPhotos').subscribe({\n        next: (resp: any): void => {\n          this.estimateService.createEstimate(caseGuid, inspectionId, vehicleId, domainID).subscribe({\n            next: (resp: any) => {\n              if (resp) {\n                if(resp?.data?.url){\n                  location.href = resp?.data?.url;\n                  sessionStorage.setItem('update', '1');\n                }\n              }\n            },\n            complete: () => {\n              this.commonService.hideLoading();\n            }\n          });\n        }, error: () => {\n          this.commonService.hideLoading();\n        }\n      })\n    }else if(status?.toLowerCase() === 'uploadphotos'){\n      this.monitorService.logEvent('redirectToGtEstimate', [ 'ChqDamageAnalysisComponent', 'addenda-quote', {\n        caseId: caseGuid\n      } ]);\n      this.estimateService.createEstimate(caseGuid, inspectionId, vehicleId, domainID).subscribe({\n        next: (resp: any) => {\n          if (resp) {\n            if(resp?.data){\n              location.href = resp.data.url;\n              sessionStorage.setItem('update', '1');\n            } \n          }\n        },\n        complete: () => {\n          this.commonService.hideLoading();\n        }\n      });\n    } else {\n      this.monitorService.logEvent('skipped_redirectToGtEstimate', [ 'ChqDamageAnalysisComponent', 'addenda-quote', {\n        caseId: caseGuid\n      } ]);\n      this.router.navigate([ `/case/${caseGuid}/estimate` ]);\n    }\n   \n  }\n\n  /**\n   * oninit\n   */\n  ngOnInit(): void {\n    const repairData = this.repairData;\n    this.nextButton.onclick = this.redirectToGtEstimate.bind(this);\n  }\n\n  /**\n   * Cancel booking\n   */\n  cancelBooking(): void {\n    this.commonService.openDeleteDialog()\n      .afterClosed().subscribe((data) => {\n        if (data) {\n          this.commonService.showLoading();\n          this.calendarService.deleteBooking(this.repairData?.booking?.bookingGuid).subscribe({\n            next: () => {\n              this.commonService.hideLoading();\n              this.router.navigate([ '/repair/booking-journal' ]);\n            }\n          });\n        }\n      });\n  }\n}\n","<div class=\"add-photo-container\">\n    <chq-step-header [chqModel]=\"photosHeader\"\n        *ngIf=\"photosHeader.isRepairModule !== true  || photosHeader.isHeaderOnly === true\"></chq-step-header>\n    <div class=\"photo-container\" *ngIf=\"(showSPI || !hideBulk) && !repairUnapproved && !commonService.isViewOnly\">\n        <div class=\"card-container\">\n            <div class=\"card\" *ngIf=\"showSPI\">\n                <label class=\"card-title\">{{ 'smart_photo_inspection' | translate }}</label>\n                <p class=\"card-action\">{{ 'open_your_camera' | translate }}</p>\n                <p class=\"card-description\">\n                    {{ 'add_photo_msg' | translate }}\n                </p>\n                <chq-button [buttonModel]=\"cameraButtonModel\"></chq-button>\n            </div>\n            <div class=\"card\" *ngIf=\"!hideBulk\">\n                <label class=\"card-title\">{{ 'bulk_upload' | translate }}</label>\n                <p class=\"card-action\">{{ 'upload_device' | translate }}</p>\n                <p class=\"card-description\">\n                    {{ 'bulk_msg' | translate }}\n                </p>\n                <chq-button [buttonModel]=\"bulkUploadButtonModel\"></chq-button>\n            </div>\n        </div>\n        <!-- <div class=\"card-container\" *chqPermission=\"'technician'\">\n            <div class=\"no-document-div\">\n                <img src=\"assets/icons/no-document.svg\">    \n                <label class=\"no-vehicle-content\">\n                    {{ 'bulk_spi_disabled' | translate}}\n                </label>\n            </div>\n        </div> -->\n    </div>\n    <div class=\"wrapper\" *ngIf=\"(!showSPI && hideBulk) || repairUnapproved || commonService.isViewOnly\">\n        <div class=\"no-document-div\">\n            <img src=\"assets/icons/no-document.svg\">\n            <label class=\"no-vehicle-content\">\n                {{ (repairUnapproved ? 'start_job' : 'bulk_spi_disabled') | translate}}\n            </label>\n\n        </div>\n    </div>\n    <div class=\"footer-full-wrapper\">\n        <div class=\"footer-image-wrapper wrapper-flex\">\n            <div class=\"image-wrapper\">\n                <img src=\"assets/img/{{ + photosHeader.isRepairModule ?'addenda-repair.png':'addenda-quote.png'}}\" />\n            </div>\n            <div class=\"footer-button-wrapper\">\n                <chq-button [buttonModel]=\"cancelButtonModel\"\n                    *ngIf=\"showDelete && photosHeader?.isRepairModule\"></chq-button>\n                <chq-button *ngIf=\"showEstimate && !photosHeader.isRepairModule \" class=\"margin-right\"\n                    [buttonModel]=\"nextButton\"></chq-button>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { WidgetsModule } from 'src/app/widgets/chq-widgets.module';\nimport { NoAccessErrorComponent } from './no-access-error/no-access-error.component';\n\n@NgModule({\n  declarations: [  \n    NoAccessErrorComponent\n  ],\n  imports: [\n    CommonModule,\n    RouterModule,\n    MatButtonModule,\n    MatIconModule,\n    MatInputModule,\n    WidgetsModule,\n    MatSidenavModule,\n    MatTabsModule,\n    MatToolbarModule,\n  ],\n  exports: [ RouterModule, NoAccessErrorComponent ],\n})\nexport class ErrorModule {}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'no-access-error',\n  templateUrl: './no-access-error.component.html',\n  styleUrls: [ './no-access-error.component.scss' ]\n})\nexport class NoAccessErrorComponent {\n\n}\n","<div class=\"main-container\">\n    <div class=\"\" style=\"\">\n        <img src=\"assets/img/no-access.png\"/>\n    </div>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { CUSTOM_ELEMENTS_SCHEMA, Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatSidenav, MatSidenavModule } from '@angular/material/sidenav';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\nimport { WidgetsModule } from 'src/app/widgets/chq-widgets.module';\nimport * as dayjs from 'dayjs';\nimport * as utc from 'dayjs/plugin/utc';\nimport { CommonService } from 'src/app/services/common/common.service';\nimport { environment } from 'src/environments/environment';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ChqRepairDialogComponent } from 'src/app/widgets/chq-repair-dialog/chq-repair-dialog.component';\ndayjs.extend(utc)\n\n@Component({\n  selector: 'history',\n  templateUrl: './history.component.html',\n  styleUrls: [ './history.component.scss' ],\n})\nexport class HistoryComponent{\n  dayjs = dayjs()\n  /**\n   * Creates an instance of HistoryComponent.\n   * @constructor\n   * @param {Router} router\n   */\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    private commonService: CommonService,\n    private dialog: MatDialog,\n  ) {\n    this.router.events.subscribe({\n      next: (data) =>{\n        if(this.router.url.indexOf('?') !==-1 && this.router.url.indexOf('history=open')!==-1){\n          this.isMenuOpen = true;\n          this.toggleExpand.emit(this.isMenuOpen)\n        }\n      }\n    })\n    this.route.params.subscribe({\n      next: (data) =>{\n        if(this.router.url.indexOf('?') !==-1 && this.router.url.indexOf('history=open')!==-1){\n          this.isMenuOpen = true;\n          this.toggleExpand.emit(this.isMenuOpen)\n        }\n      }\n    })\n\n    this.currencySymbol = this.commonService.getCurrencySymbol()\n  }\n  /**\n   * constructor for HistoryComponent\n   */\n  @ViewChild('sidenav') sidenav: MatSidenav;\n  @Output() toggleExpand:EventEmitter<boolean> = new EventEmitter()\n  @Input() public history = [];\n  @Input() isMenuOpen = false;\n  @Input() isLoading = false;\n  /**\n   * Show/hide\n   */\n  close(): void {\n    this.isMenuOpen = !this.isMenuOpen;\n    this.toggleExpand.emit(this.isMenuOpen)\n  }\n  currencySymbol = ''\n  public viewMessage: ChqWidgetsButtonModel = {\n    label: 'View message',\n    icon: 'show',\n    type: 'outline',\n  };\n\n  /**\n   * convert utc to local time\n   */\n  public convertUtcToLocalTime(utcDate: string): string {\n    return dayjs.utc(utcDate).local().format('hh:mm A');\n  }\n  /**\n   * Returns class name according to status\n   */\n  getStatusClasses(status:string):string {\n    switch (status) {\n    case 'Draft':\n      return 'status-draft';\n    case 'Pending Approval':\n      return 'status-pending';\n    case 'Upload photos':\n      return 'status-upload';\n    case 'Repair estimate':\n      return 'status-repair-estimate';\n    default:\n      return '';\n    }\n  }\n\n  /**\n   * download pdf history\n   */\n  downloadPdfHistory(referenceId: number): void {\n    this.commonService.showLoading();\n    this.commonService.blobObservable1(`${environment.caseMgmtUrl}/api/casehistory/report/${referenceId}`).subscribe({\n      next: (data: any) => {\n        window.open(data.fileURL, '_blank');\n        this.commonService.hideLoading();\n      },\n      error: () => {\n        this.commonService.hideLoading();\n      },\n    });\n  }\n  /**\n   * show image dialog\n   */\n  showImageDialog(blobUrls: string[], name: string): void {\n    const gallery = [];\n\n    blobUrls.forEach((url) => {\n      let title = '';\n      let imageUrl = url;\n\n      if (name.indexOf('photo') !== -1 || name.indexOf('document') !== -1) {\n        title = url.substring(0, url.indexOf('|')).trim();\n        imageUrl = url.substring(url.indexOf('|') + 1);\n      }\n\n      gallery.push({\n        image: imageUrl,\n        thumbImage: imageUrl,\n        //alt: alt,\n        title: title\n      });\n    });\n\n    const data = { 'imageGallery': true, 'gallery': gallery };\n    this.dialog.open(ChqRepairDialogComponent, {\n      data:\n          data\n    });\n  }\n\n  /**\n   * show comment dialog\n   */\n  showCommentDialog(comment: string, status: string, email?:null): void {\n    const data = { 'comment': comment, 'status': status, 'email': email };\n    this.dialog.open(ChqRepairDialogComponent, {\n      data:\n          data\n    });\n  }\n\n\n}\n","import { AfterViewInit, ChangeDetectorRef, Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\nimport { BehaviorSubject, catchError, forkJoin, of } from 'rxjs';\nimport { FooterModel, UploadStepModel } from 'src/app/model/chq-upload-model';\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\nimport { ChqWidgetsHeaderModel } from 'src/app/model/chq-widgets-header-model';\nimport { documentPartMapper } from 'src/app/modules/quote/chq-new-cases/chq-new-customer/chq-new-customer-form-data-helper';\nimport { BookingService } from 'src/app/services/booking/booking.service';\nimport { CaseService } from 'src/app/services/case/case.service';\nimport { CommonService } from 'src/app/services/common/common.service';\nimport { MediacollectionService } from 'src/app/services/mediacollection-service/mediacollection.service';\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\nimport { ChqImagesUploaderComponent } from 'src/app/widgets/chq-images-uploader/chq-images-uploader.component';\n\nconst newDocumentHeader: ChqWidgetsHeaderModel = {\n  title: 'add_documents',\n  step: 3,\n  description: 'add_documents_msg',\n  stepName: 'step_three',\n};\n\n@Component({\n  selector: 'new-documents',\n  templateUrl: './new-documents.component.html',\n  styleUrls: [ './new-documents.component.scss' ]\n})\nexport class NewDocumentsComponent implements OnInit, AfterViewInit {\n  @Input() documentHeader: ChqWidgetsHeaderModel = newDocumentHeader;\n  public imageStatusSteps: UploadStepModel[] = [];\n  public allowExtension = [ 'jpg', 'jpeg', 'png' ];\n  @ViewChild('imageUploaders') imageUploaders:ChqImagesUploaderComponent;\n  public skipButtonModel: ChqWidgetsButtonModel = {\n    label: 'Skip',\n    type: 'primary'\n  }\n\n  public footer: FooterModel = {\n    text: 'Next add photos',\n    icon: 'review',\n    route: 'quote/case/photos',\n    currentStatus: '',\n    status: 'UploadDocuments',\n    caseId: ''\n  }\n\n  public documentSizeLimit = 5242880;\n  public mediaTemplate: any;\n  public mediaTemplateId: number;\n  public collectionGuid: string;\n  public domainId: number;\n  public noDocumentData = false;\n  private repairId:string = '';\n  private currentRepairStatus = '';\n  public objectId: number;\n  public mediaPartTemplates: any[];\n  public currentObservable:(currentStep:UploadStepModel)=>void;\n  public currentUploadingStep: UploadStepModel;\n  public showNoAccess: boolean = false;\n  private currentOrgId: number;\n\n  statusUpdated: boolean = false;\n \n  /**\n   * constructor\n   * @param fb ChangeDetectorRef \n   */\n  constructor(private cd: ChangeDetectorRef, private commonService: CommonService, private route: ActivatedRoute,\n    private caseService: CaseService,\n    private monitorService: MonitorService,\n    private bookingService:BookingService,\n    private mediaCollectionService: MediacollectionService) {\n    if (commonService.pageName.closed) {\n      commonService.pageName = new BehaviorSubject<string>(null);\n    }\n    commonService.pageName.next('document');\n\n    if(this.commonService.accessRight.closed) {\n      this.commonService.accessRight = new BehaviorSubject<boolean>(true);\n    }\n  }\n\n  /**\n   * ngAfterViewInit hook\n   * @param fb FormBuilder \n   */\n  ngAfterViewInit(): void {\n    this.commonService.updatePage('/quote/case/0', 'document');\n    this.cd.detectChanges();\n    this.monitorService.logEvent('ngAfterViewInit', [ 'ChqNewDocumentsComponent', 'addenda-quote' ]);\n  }\n\n  /**\n   * check route params\n   */\n  checkRouteParams():void {\n    this.route.queryParams?.subscribe((params)=>{\n      const codeParam = params['fromPersonal']  \n      if (codeParam === 'true' || codeParam === true){\n        this.imageStatusSteps = this.imageStatusSteps.filter((step:UploadStepModel)=>{\n          return step.stepName.indexOf('Vehicle Registration') != -1;\n        });\n      }\n    });\n  }\n\n  /**\n   * set current Observable\n   */\n  setObservable($event:UploadStepModel): void{\n    if ($event.uploadedGuid && $event.uploadedPartGuid) {\n      this.currentObservable = this.updateFile.bind(this);\n    } else {\n      this.currentObservable = this.uploadFile.bind(this);\n    }\n  }\n\n  /**\n   * media template by id\n   */\n  getMediaTemplateByObject():void {\n    this.mediaPartTemplates = this.commonService.getAllChild(this.mediaTemplate?.mediaTemplates, 'mediaPartTemplates', 'mediaTemplateGuid',\n      { 'parentProp': 'name', 'childProp': 'parentName' });\n    for (let i = 0; i < this.mediaPartTemplates.length; i++){\n      const mediaPart = this.mediaPartTemplates[i];\n      const documentStep = documentPartMapper(mediaPart, i);\n      const isAdditionalImage = documentStep.stepName.toLowerCase().indexOf('additional document') != -1;\n      const isAdditionalDocumentFromReviewPageOnly = isAdditionalImage && !documentStep.url;\n      this.imageStatusSteps.push({\n        ...documentStep, mandatory: mediaPart.mandatory, index: i,\n        isAdditionalDocumentFromReviewPageOnly,\n        parentName: mediaPart.parentName,\n        isFront: mediaPart.frontSide,\n        updatedDate: mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.updatedDate: '',\n        uploadedDate: mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.createdDate: '',\n        domainId: this.domainId, objectId: this.objectId,\n        sizeLimit: mediaPart.sizeLimit, allowExtension: mediaPart.allowExtension,\n        uploadedPartGuid: mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.mediaPartGuid : '',\n        uploadedGuid: mediaPart.mediaGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.mediaGuid:'',\n        partTemplateGuid: mediaPart.mediaPartTemplateGuid, templateGuid: mediaPart['mediaTemplateGuid']\n      });\n      this.checkRouteParams();\n    }\n  }\n\n  /**\n   * update repair status\n   */\n  updateRepairStatus(repairId:string):void{\n    if(!this.statusUpdated) {      \n      this.statusUpdated = true;\n      this.bookingService.updateRepairStatus('UploadDocuments', repairId, '').subscribe({\n        next: ()=>{\n          this.currentRepairStatus = 'UploadDocuments';\n          this.footer.currentStatus = this.currentRepairStatus;\n          this.commonService.showLoading();\n          this.bookingService.getRepairDetailByGuid(this.repairId).subscribe({\n            next: async (result: any) => {\n              if (result?.data) {\n                this.commonService.repairDetails.next(result.data);\n                this.commonService.bookingId.next(result.data.repairNumber);                          \n                this.commonService.hideLoading();\n              }\n            },\n            error: (err: any) => {\n              this.monitorService.logException(err, SeverityLevel.Error);\n              this.commonService.hideLoading();\n            }\n          });\n        }\n      });\n    }\n  }\n\n  /**\n   * upload file\n   */\n  uploadFile(currentStep:UploadStepModel):void {\n\n    const obj = {\n      mediaCollectionId: this.mediaTemplate.collectionGuid,\n      domainId: this.domainId,\n      objectId: this.objectId,\n      mediaTemplateId: currentStep.templateGuid,\n      mediaPartTemplateId: currentStep.partTemplateGuid\n    }\n    this.monitorService.logEvent('uploadFile', [ 'ChqNewDocumentsComponent', 'addenda-quote', {\n      obj\n    } ]);\n    currentStep.uploadInProgress = true;\n    currentStep.isSkipped = false;\n    currentStep.isUploadFailed = false;\n    currentStep.isUploadSuccess = false;\n    const messageForUploading = `Your photo is currently uploading wont be long and well \n    notify you when its uploaded, you can continue to take your photos.`;\n    this.commonService.showNotification(messageForUploading);\n    this.mediaCollectionService.uploadDocument(currentStep.imageFile, obj).subscribe( {\n      next: (res: any):void => {\n        const responseData = res?.data;\n        const mediaPartTemplate = this.mediaPartTemplates?.find((x: any) => x.mediaPartTemplateGuid == responseData?.mediaPartTemplateId);\n        if(mediaPartTemplate) {              \n          mediaPartTemplate.mediaGuid = responseData.mediaGuid;\n          mediaPartTemplate.mediaPartGuid = responseData.mediaPartGuid;\n          if(location.href.includes('repair') && this.currentRepairStatus?.toLowerCase() === 'draft'){\n            this.updateRepairStatus(this.repairId);\n          }\n          if(location.href.includes('quote') && this.footer.currentStatus?.toLowerCase() === 'vehicledetails'){\n            this.updateStatus();\n          }\n          this.imageUploaders.updateUploadStatus('success', currentStep, null, responseData);\n        }\n      },\n      error: (err: any):void => {\n        if(err.status != 401) {\n          try{\n            this.imageUploaders.updateUploadStatus( 'failed', currentStep, err);\n          }catch(e){\n            this.imageUploaders.updateUploadStatus('failed', currentStep);\n          }\n        }\n        this.monitorService.logException(err, SeverityLevel.Error);\n      },\n      complete: ():void => this.commonService.hideLoading(),\n    });\n  }\n\n  /**\n   * update existing document\n   */\n  updateFile(currentStep:UploadStepModel):void {\n    const obj = {\n      objectId: this.objectId,\n      mediaGuid: currentStep.uploadedGuid,\n      mediaPartGuid: currentStep.uploadedPartGuid\n    }\n\n    this.monitorService.logEvent('updateFile', [ 'ChqNewDocumentsComponent', 'addenda-quote', {\n      obj\n    } ]);\n\n    currentStep.uploadInProgress = true;\n    currentStep.isSkipped = false;\n    currentStep.isUploadFailed = false;\n    currentStep.isUploadSuccess = false;\n    this.mediaCollectionService.updateDocument(currentStep.imageFile, obj).subscribe({\n      next: (res: any): void => {\n        this.imageUploaders.updateUploadStatus('success', currentStep);\n      },\n      error: (err: any):void => {\n        if(err.status != 401) {\n          try{\n            this.imageUploaders.updateUploadStatus( 'failed', currentStep, err);\n          }catch(e){\n            this.imageUploaders.updateUploadStatus('failed', currentStep);\n          }\n        }\n        this.monitorService.logException(err, SeverityLevel.Error);\n      },\n      complete: ():void =>this.commonService.hideLoading(),\n    });\n  }\n\n  /**\n   * update status\n   */\n  updateStatus():void{\n    if(!this.statusUpdated) {  \n      this.statusUpdated = true;\n      this.monitorService.logEvent('updateStatus', [ 'ChqNewDocumentsComponent', 'addenda-quote', {\n        caseId: this.footer.caseId\n      } ]);\n      this.caseService.updateCaseStatus(this.footer.caseId, 'UploadDocuments').subscribe({\n        next: ()=>{\n          this.footer = { ...this.footer, status: '' };\n        }\n      })\n    }\n  }\n\n  /**\n   * map media template Data\n   * @param mediaData \n   */\n  mapMediaTemplate(mediaData: any):void {\n    if(this.mediaTemplate) {\n      try {\n        for(let i=0;i<this.mediaTemplate.mediaTemplates.length;i++) {\n          const media = this.mediaTemplate.mediaTemplates[i];\n          const mediaDataTemplate = mediaData.find((x:any)=> x.mediaTemplateGuid == media.mediaTemplateGuid);\n          if(mediaDataTemplate) {\n            for(let j=0;j<media.mediaPartTemplates.length;j++) {\n              const mediaPart = media.mediaPartTemplates[j];\n              const mediaDataPart = mediaDataTemplate.mediaParts.find((x: any)=> x.mediaPartTemplateGuid == mediaPart.mediaPartTemplateGuid);\n              mediaPart.mediaGuid = mediaDataTemplate.mediaGuid;\n              mediaPart.mediaPartGuid = mediaDataPart.mediaPartGuid;\n              mediaPart.createdDate = mediaDataPart.createdDate;\n              mediaPart.updatedDate = mediaDataPart.updatedDate;\n              mediaPart.image = mediaDataPart.getURL;\n              mediaPart.isUploadSuccess = false;\n              if(mediaPart.mediaPartGuid && mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000') {\n                mediaPart.isUploadSuccess = true;\n              }\n            }\n          }\n        }\n        this.mediaTemplate = { ...this.mediaTemplate };\n        \n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n\n  /**\n   * ngOnInit hook\n   */\n  ngOnInit(): void {\n    this.commonService.showLoading();\n    const id = this.route.parent?.snapshot.paramMap.get('id');\n    this.monitorService.logEvent('ngOnInit', [ 'ChqNewDocumentsComponent', 'addenda-quote', {\n      caseId: id\n    } ]);\n    this.footer = { ...this.footer, route: `quote/case/${id}/photos`, caseId: id };\n\n    this.commonService.accessRight.subscribe({\n      next: (res: boolean) => {\n        if (!res) {\n          this.showNoAccess = true;\n        } \n      }\n    });\n    const promiseApi:any = {\n      mediaTemplate: this.mediaCollectionService.getMediaTemplate()\n    }\n    let isRepair = false;\n    if(location.href.includes('repair')){\n      promiseApi.bookingDetail = this.bookingService.getRepairDetailByGuid(id);\n      isRepair = true;\n    }else{\n      this.commonService.userProfileData.subscribe((res) => {\n        if (res && res.data) {\n          const { organizationDetail } = res.data;\n          this.currentOrgId = organizationDetail.id;\n        }\n      });\n      promiseApi.caseDetail = this.caseService.getCaseDetail(id);\n    }\n\n    const result = forkJoin(promiseApi).pipe(\n      catchError(error => of(error))\n    )\n    result.subscribe((dict: any) => {\n      if (dict) {\n        const mediaTemplate = dict.mediaTemplate;\n        if (mediaTemplate) {\n          const mediaTemplateSelected = mediaTemplate.data;\n          if (dict.caseDetail) {\n            const { caseNumber, id, status, inspections, repairGuid, organizationDetail } = dict.caseDetail.data;\n\n            if (this.currentOrgId != organizationDetail?.organizationId) {\n              this.commonService.isViewOnly = true;\n            } else {\n              this.commonService.isViewOnly = false;\n            }\n\n            if (inspections.length > 0) {\n              this.commonService.inspectionId.next(inspections[0].inspectionId);\n            }\n            this.commonService.caseStatus.next(status);\n            if (status.toLowerCase() === 'vehicledetails') {\n            //   this.updateStatus();\n            }else{\n              this.footer = { ...this.footer, status: '' };\n            }\n            this.footer.currentStatus = status;\n            this.documentHeader.caseNumber = caseNumber;\n            this.objectId = id;\n            if (repairGuid) {\n              this.footer.repairId = repairGuid;\n              this.footer.from = 'Quote';\n            }\n          }\n          if(dict.bookingDetail){\n            const { id, status, repairGuid, quoteId, repairNumber, isRepairCreatedFromCase, booking } = dict.bookingDetail.data;\n            this.objectId = id;\n            this.repairId = repairGuid;\n\n            //adding \n            if(quoteId) {\n              this.footer.caseId = quoteId;\n              this.footer.from = 'Repair';\n            }\n\n            this.footer.isRepairCreatedFromCase = isRepairCreatedFromCase;\n            this.footer.repairId = repairGuid;\n            this.footer.bookingId = booking?.bookingGuid;\n            this.footer.currentStatus = status;\n\n            this.commonService.repairStatus.next(status);\n            //\n            \n            this.currentRepairStatus = status;\n            // Send booking data in observable\n            this.commonService.repairDetails.next(dict.bookingDetail.data);\n            this.commonService.bookingId.next(repairNumber);\n          }\n          if (mediaTemplateSelected.length > 0) {\n            const { id, collectionGuid } = mediaTemplateSelected[0];\n            this.mediaTemplateId = id;\n            this.domainId = 2100;\n            if(isRepair){\n              this.domainId = 3100;\n            }\n            this.collectionGuid = collectionGuid;\n            const detailResult = forkJoin({\n              mediaTemplateDetail: this.mediaCollectionService.getMediaTemplateById(collectionGuid),\n              mediaDetail: this.mediaCollectionService.getMediaDocumentData(id, this.objectId, this.domainId)\n            }).pipe(\n              catchError(error => of(error))\n            )\n            detailResult.subscribe((detailDict: any) => {\n              if (detailDict) {\n                const { mediaTemplateDetail, mediaDetail } = detailDict;\n                this.mediaTemplate = mediaTemplateDetail.data;\n                this.mediaTemplate.mediaTemplates = mediaTemplateDetail.data.mediaTemplates.sort((media: any, mediab: any) => {\n                  return media.orderNumber - mediab.orderNumber;\n                })\n                if (mediaDetail.data) {\n                  this.mapMediaTemplate(mediaDetail.data.medias);\n                }\n                this.getMediaTemplateByObject();\n              }\n              this.commonService.hideLoading();\n            }, (err) => {\n              this.commonService.hideLoading();\n              this.monitorService.logException(err, SeverityLevel.Error);\n            });\n           \n          } else {\n            this.commonService.hideLoading();\n          }\n        }else {\n          this.noDocumentData = true;\n          this.commonService.hideLoading();\n        }\n        \n      } else {\n        this.noDocumentData = true;\n        this.commonService.hideLoading();\n      }\n    });\n    const container: any = document.querySelector('.addenda-container');\n    if(container){\n      container.scrollTop = 0;\n    }\n    \n  }\n\n  /**\n   * handled if step is skipped\n   */\n  stepSkipped(): void {\n    if(location.href.includes('repair') && this.currentRepairStatus?.toLowerCase() === 'draft'){\n      this.updateRepairStatus(this.repairId);\n    }\n    if(location.href.includes('quote') && this.footer.currentStatus?.toLowerCase() === 'vehicledetails'){\n      this.updateStatus();\n    }\n  }\n \n  /**\n   * on destroy\n  */\n  ngOnDestroy(): void {\n    this.monitorService.logEvent('ngOnDestroy', [ 'ChqNewDocumentComponent', 'addenda-quote' ]);\n    this.commonService.accessRight.unsubscribe();\n\n    if(location.href.includes('quote')){\n      this.commonService.isViewOnly = false;\n    }\n  }\n}\n","<div *ngIf=\"!showNoAccess\">\n    <chq-images-uploader #imageUploaders *ngIf=\"imageStatusSteps && imageStatusSteps.length > 0\"\n        [fileUploaderService]=\"currentObservable\" (cardSelection)=\"setObservable($event)\" [footerOptions]=\"footer\"\n        [imageStatusSteps]=\"imageStatusSteps\" [header]=\"documentHeader\" (stepSkipped)=\"stepSkipped()\"></chq-images-uploader>\n    <div class=\"wrapper\" *ngIf=\"noDocumentData\">\n        <div class=\"no-document-div\">\n            <img src=\"assets/icons/no-document.svg\">\n            <label class=\"no-vehicle-content\">\n                No Content Available\n            </label>\n\n        </div>\n        <div class=\"empty-wrapper\">\n            <div class=\"step-container\"></div>\n            <div class=\"step-container\"></div>\n            <div class=\"step-container\"></div>\n            <div class=\"step-container\"></div>\n        </div>\n    </div>\n\n    <div *ngIf=\"noDocumentData\" class=\"footer-full-wrapper\">\n        <div class=\"footer-image-wrapper\">\n            <div class=\"image-wrapper\">\n                <img src=\"assets/img/{{ + documentHeader.isRepairModule ?'addenda-repair.png':'addenda-quote.png'}}\" />\n            </div>\n        </div>\n    </div>\n</div>\n<no-access-error *ngIf=\"showNoAccess\"></no-access-error>","import { AfterViewInit, ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\nimport { BehaviorSubject, catchError, forkJoin, of, Subject } from 'rxjs';\nimport { PartialCaseDetail } from 'src/app/model/chq-cases-model';\nimport { ChqInspectionStep } from 'src/app/model/chq-inspection-step';\nimport { FooterModel, Modules, UploadStepModel } from 'src/app/model/chq-upload-model';\nimport { ChqWidgetsHeaderModel } from 'src/app/model/chq-widgets-header-model';\nimport { inspectionpartPartMapper } from 'src/app/modules/quote/chq-new-cases/chq-new-customer/chq-new-customer-form-data-helper';\nimport { BookingService } from 'src/app/services/booking/booking.service';\nimport { CaseService } from 'src/app/services/case/case.service';\nimport { CommonService } from 'src/app/services/common/common.service';\nimport { InspectionService } from 'src/app/services/inspection-service/inspection.service';\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\nimport { RepairEstimateService } from 'src/app/services/repair-estimate/repair-estimate.service';\nimport { ChqImagesUploaderComponent } from 'src/app/widgets/chq-images-uploader/chq-images-uploader.component';\n\n\nconst photosHeader: ChqWidgetsHeaderModel = {\n  title: 'add_damage_photos',\n  step: 4,\n  description: 'damage_photos_msg',\n  stepName: 'step_four',\n};\n\n@Component({\n  selector: 'new-photos',\n  templateUrl: './new-photos.component.html',\n  styleUrls: [ './new-photos.component.scss' ]\n})\nexport class NewPhotosComponent implements OnInit, AfterViewInit, OnDestroy {\n  @Input() photosHeader: ChqWidgetsHeaderModel = photosHeader;\n  @Output() currentUploadMode: EventEmitter<{ 'mode': string, 'id'?: string }> = new EventEmitter();\n  addPhotosHeader: ChqWidgetsHeaderModel;\n  public imageStatusSteps: UploadStepModel[] = [];\n  public showUploading: boolean = false;\n  public isMultipleUpload: boolean = false;\n  public triggerMassUpload: boolean = false;\n  public caseStatus = '';\n  public caseId: string = '0';\n  public inspection: any;\n  public bookingId: string = '';\n  public vehicleId: number;\n  public domainId: number;\n  public uploadType: string;\n  public showDamageAnalysis: boolean;\n  public objectId: number;\n  public minimumPhotosRequired: number = 0;\n  public hideContent: boolean = true;\n  public currentAdditionalModeMultiple = false;\n  public vehicelType: string;\n  public isBulkUploaded: boolean;\n  public caseData: any;\n  public inspectionId: number;\n  private currentInspectionTemplate: any;\n  public hideUploaders = false;\n  private repairTypes: any = [];\n  private repairType = '';\n  public noImagesData:boolean = false;\n  private repairId: string = '';\n  public inspectionTemplatesJSONString = '';\n  private currentRepairStatus = '';\n  public partialCaseDetail: PartialCaseDetail;\n  public repairDetail: any;\n  @ViewChild('imageUploaders') imageUploaders: ChqImagesUploaderComponent;\n  public inspectionTemplateId: number;\n  public currentObservable: (currentStep: UploadStepModel) => void;\n  public inspectionTemplates: ChqInspectionStep[];\n  public inspectionItemTemplates: ChqInspectionStep[];\n  public inspectionTemplateList: any[];\n  public inspectionDetail: any;\n  public originalSteps: UploadStepModel[] = [];\n  public showNoAccess: boolean = false;\n  public footer: FooterModel = {\n    text: 'Next create estimate',\n    icon: 'boardview',\n    route: 'case/gt',\n    status: 'UploadPhotos',\n    caseId: '',\n    currentStatus: '',\n    showButton: true,\n    showUploadOption: true\n  }\n\n  statusUpdated: boolean = false;\n  private currentOrgId: number;\n\n  /**\n   * handle back\n   */\n  handleBack($event: { back: boolean }): void {\n    this.showDamageAnalysis = !$event.back;\n  }\n\n  /**\n   * check repair types\n   */\n  get checkRepairTypes(): boolean {\n    if (location.href.indexOf('repair') === -1) {\n      return true;\n    }\n\n    if (this.repairType !== 'repair') {\n      return true;\n    }\n\n    return this.repairTypes.filter((v) => {\n      return v.repairServiceType === 'Body' || v.repairServiceType === 'Paint';\n    }).length > 0;\n  }\n\n  /**\n   * go to gtEstimate\n   */\n  redirectToGtEstimate(): void {\n    this.commonService.showLoading();\n    if (this.caseStatus?.toLowerCase() === 'uploaddocuments' || this.caseStatus?.toLowerCase() === 'uploadphotos') {\n      this.estimateService.createEstimate(this.caseId, this.inspectionId, this.vehicleId, this.domainId).subscribe({\n        next: (resp: any) => {\n          if (resp) {\n            if (resp?.data?.url) {\n              location.href = resp.data.url;\n              sessionStorage.setItem('update', '1');\n            }\n          }\n        },\n        complete: () => {\n          this.commonService.hideLoading();\n        }\n      });\n    } else {\n      this.router.navigate([ `/quote/case/${this.caseId}/estimate` ]);\n    }\n\n  }\n\n  /**\n   * constructor\n   * @param fb ChangeDetectorRef \n   */\n  constructor(private cd: ChangeDetectorRef, private commonService: CommonService,\n    private route: ActivatedRoute,\n    private router: Router, private caseService: CaseService,\n    private monitorService: MonitorService,\n    private inspectionService: InspectionService,\n    private bookingService: BookingService,\n    private estimateService: RepairEstimateService) {\n    if (commonService.pageName.closed) {\n      commonService.pageName = new BehaviorSubject<string>(null);\n    }\n    commonService.pageName.next('photos');\n\n    if (this.commonService.accessRight.closed) {\n      this.commonService.accessRight = new BehaviorSubject<boolean>(true);\n    }\n  }\n\n  /**\n   * update page status\n   */\n  updateCurrentStatus($event): void {\n    this.monitorService.logEvent('updateCurrentStatus', [ 'ChqNewPhotosComponent', 'addenda-quote', {\n      caseId: $event\n    } ]);\n    if ($event.initial) {\n      this.setInitialMode();\n      return;\n    }\n    this.showUploading = true;\n\n    // if ((this.footer.repairId && this.footer.from == Modules.quote)\n    // || (this.footer.caseId && this.footer.from == Modules.repair)) {\n\n    //   this.commonService.showChangeWarningMessage(this.uploadBulkUploadFile.bind(this, $event.steps),\n    //     this.footer.from == Modules.quote ? 'Repair' : 'Quote');\n    // } else {\n    //   this.uploadBulkUploadFile($event.steps);\n    // }\n    this.uploadBulkUploadFile($event.steps);\n  }\n\n  /**\n   * handle delete all\n   */\n  handleDeleteAll(): void {\n    this.setInitialMode();\n  }\n\n  /**\n   * ngAfterViewInit hook\n   */\n  ngAfterViewInit(): void {\n    this.commonService.updatePage('/quote/case/0', 'photos');\n    this.cd.detectChanges();\n    this.monitorService.logEvent('ngAfterViewInit', [ 'ChqNewPhotosComponent', 'addenda-quote' ]);\n  }\n\n  /**\n * upload bulk file\n * @param uploads \n */\n  uploadBulkUploadFile(uploads: UploadStepModel[]): void {\n    for (let i = 0; i < uploads?.length; i++) {\n\n      const img = new Image();\n      img.src = uploads[i].image as string;\n      img.onload = (): void => {\n        const uploadObject = {\n          'height': img.height,\n          'width': img.width,\n          'inspectionId': this.inspectionId,\n          'templateId': this.inspectionTemplateId,\n          'type': this.vehicelType || '',\n          'isBulk': true\n        }\n        const step = uploads[i];\n        step.uploadInProgress = true;\n        step.isSkipped = false;\n        step.isUploadFailed = false;\n        step.isUploadSuccess = false;\n        this.monitorService.logEvent('uploadBulkUploadFile', [ 'ChqNewPhotosComponent', 'addenda-quote', {\n          uploadObject\n        } ]);\n        this.inspectionService.uploadImageBulk(uploadObject, step.imageFile).subscribe({\n          next: (data: any) => {\n            step.url = data.rawImage?.rawAzureBlobUrl;\n            step.inspectionItem = data;\n            step.procedureSteps = 'Bulk Upload Image';\n            this.imageUploaders.updateUploadStatus('success', step, null, data);\n            this.footer = { ...this.footer, showUploadOption: false };\n            if (location.href.includes('repair') && (this.currentRepairStatus?.toLowerCase() === 'draft' || this.currentRepairStatus?.toLowerCase() === 'uploaddocuments')) {\n              this.updateRepairStatus(this.repairId);\n            }\n            if (location.href.includes('quote') && (this.footer.currentStatus?.toLowerCase() === 'uploaddocuments')) {\n              this.updateStatus();\n            }\n          },\n          error: (err: any) => {\n            if (err.status != 401) {\n              this.imageUploaders.imageStatusSteps = this.imageUploaders.imageStatusSteps.filter((ig: UploadStepModel) => {\n                return (ig.index !== step.index || ig.stepName !== step.stepName || ig.uploadInProgress !== true);\n              })\n              this.imageUploaders.updateUploadStatus('failed', step, err, null, true);\n            }\n            this.monitorService.logException(err, SeverityLevel.Error);\n          },\n        })\n      }\n\n    }\n\n  }\n\n\n  /**\n   * update repair status\n   */\n  updateRepairStatus(repairId: string): void {\n    if(!this.statusUpdated) {  \n      this.statusUpdated = true;\n      this.bookingService.updateRepairStatus('UploadPhotos', repairId, '').subscribe({\n        next: () => {\n          this.currentRepairStatus = 'UploadPhotos';\n          this.footer.currentStatus = this.currentRepairStatus;\n          this.commonService.showLoading();\n          this.bookingService.getRepairDetailByGuid(this.repairId).subscribe({\n            next: async (result: any) => {\n              if (result?.data) {\n                this.commonService.repairDetails.next(result.data);\n                this.commonService.bookingId.next(result.data.repairNumber);                          \n                this.commonService.hideLoading();\n              }\n            },\n            error: (err: any) => {\n              this.monitorService.logException(err, SeverityLevel.Error);\n              this.commonService.hideLoading();\n            }\n          });\n        }\n      });\n    }\n    \n  }\n\n  /**\n   * upload photos\n   */\n  uploadFile(currentStep: UploadStepModel): void {\n    const uploadObject = {\n      'height': currentStep.imageHeight,\n      'width': currentStep.imageWidth,\n      'inspectionId': this.inspectionId,\n      'templateId': this.inspectionTemplateId,\n      'inspectionitemId': currentStep.inspectionItem.id,\n      'type': this.vehicelType || '',\n      'isBulk': false\n    }\n\n    this.monitorService.logEvent('uploadFile', [ 'ChqNewPhotosComponent', 'addenda-quote', {\n      uploadObject\n    } ]);\n\n    currentStep.uploadInProgress = true;\n    currentStep.isSkipped = false;\n    currentStep.isUploadFailed = false;\n    currentStep.isUploadSuccess = false;\n    this.commonService.inProgressSteps.next(1);\n    this.footer = { ...this.footer, showUploadOption: false };\n    this.commonService.showNotification(`Your photo ${currentStep.stepName} is currently uploading wont be long and well notify \n       you when its uploaded, you can continue to take your photos.`);\n    this.inspectionService.uploadImageBulk(uploadObject, currentStep.imageFile).subscribe({\n      next: (data: any) => {\n        const msg = `Your photo ${currentStep.stepName} is uploaded successfully.`;\n        this.commonService.showNotification(msg);\n        const inspectionItem = this.inspectionItemTemplates?.find((x: any) => x.inspectionItem.id == data?.id);\n        inspectionItem.inspectionItem.rawAzureBlobUrl = data.rawImage?.rawAzureBlobUrl;\n        if (inspectionItem) {\n          currentStep.url = data.rawImage?.rawAzureBlobUrl;\n          this.imageUploaders.updateUploadStatus('success', currentStep, null, data);\n        }\n        if (location.href.includes('repair') && (this.currentRepairStatus == 'Draft' || this.currentRepairStatus === 'UploadDocuments')) {\n          this.updateRepairStatus(this.repairId);\n        }\n        if (location.href.includes('quote') && (this.footer.currentStatus?.toLowerCase() === 'uploaddocuments')) {\n          this.updateStatus();\n        }\n      },\n      error: (err: any) => {\n        if (err.status != 401) {\n          const msg = `Your photo ${currentStep.stepName} failed to upload. Please try to upload again.`;\n          this.commonService.showNotification(msg);\n          this.imageUploaders.updateUploadStatus('failed', currentStep, err);\n          this.monitorService.logException(err, SeverityLevel.Error);\n        }\n      },\n    })\n  }\n\n  /**\n   * on destroy\n   */\n  ngOnDestroy(): void {\n    this.commonService.pageName.unsubscribe();\n    this.commonService.accessRight.unsubscribe();\n    if(location.href.includes('quote')){\n      this.commonService.isViewOnly = false;\n    }\n    this.monitorService.logEvent('ngOnDestroy', [ 'ChqNewPhotosComponent', 'addenda-quote' ]);\n  }\n\n  /**\n   * showRepairButton\n   */\n  get showEstimateButton(): boolean {\n    return this.currentInspectionTemplate?.minImageLimit === 0 && this.inspectionItemTemplates?.filter((value: ChqInspectionStep) => {\n      return value.isSkipEnabled !== true;\n    }).length === 0;\n  }\n\n  /**\n   * map inspection from api\n   * @param inspectionData \n   */\n  mapInspection(inspectionData: any): void {\n    if (inspectionData) {\n      try {\n        this.inspection = inspectionData;\n        this.uploadType = this.inspection.uploadType;\n        let currentMode = 'SPI';\n        if (this.uploadType) {\n          this.footer = { ...this.footer, showUploadOption: false };\n        }\n        if (this.uploadType === 'Bulk') {\n          currentMode = 'BULK';\n        }\n        const bulkUploadTemplateItem = this.inspectionTemplates?.filter(step => step.name === 'Bulk Upload Image');\n        const bulkUploadedItemsWithImages = this.inspection.inspectionItems?.filter((step) => {\n          return (step.name === 'Bulk Upload Image' || step.inspectionItemTemplateID === bulkUploadTemplateItem[0].id)\n              && step.rawAzureBlobUrl\n        });\n        if (bulkUploadedItemsWithImages?.length > 0 || this.uploadType === 'Bulk') {\n          const massUploadItems = [];\n          this.currentUploadMode.emit({ 'mode': 'multiple' });\n          for (const i in bulkUploadedItemsWithImages) {\n            const currentObj = {\n              ...bulkUploadTemplateItem[0], name: bulkUploadedItemsWithImages[i].name || bulkUploadTemplateItem[0].name,\n              inspectionItem: bulkUploadedItemsWithImages[i]\n            }\n            massUploadItems.push(currentObj);\n          }\n          this.inspectionItemTemplates = massUploadItems;\n        } else {\n\n          this.currentUploadMode.emit({ 'mode': 'single' });\n          this.inspectionTemplates?.map((chqInspectionStep: ChqInspectionStep) => {\n            const item = this.inspection.inspectionItems?.find((el: any) => el.inspectionItemTemplateID == chqInspectionStep.id);\n            if (item) {\n              chqInspectionStep['inspectionItem'] = item;\n            }\n          });\n          this.inspectionItemTemplates = this.inspectionTemplates?.filter(step => step.name != 'Bulk Upload Image');\n        }\n        if(bulkUploadTemplateItem?.length > 0) this.inspectionTemplateId = bulkUploadTemplateItem[0].id;\n\n        this.inspectionItemTemplates?.map((x: ChqInspectionStep) => {\n          if (x.inspectionItem?.rawAzureBlobUrl) {\n            x.isUploadSuccess = true;\n            x.image = x.inspectionItem?.rawAzureBlobUrl;\n          } else {\n            if (!x.inspectionItem) {\n              x.inspectionItem = { rawAzureBlobUrl: '' };\n            }\n            x.inspectionItem.rawAzureBlobUrl = '';\n            x.isUploadFailed = false;\n            x.isUploadSuccess = false;\n            x.uploadInProgress = false;\n          }\n        })\n        if (this.uploadType) {\n          if (currentMode === 'SPI') {\n            this.isMultipleUpload = false;\n            this.showUploading = true;\n            if (this.addPhotosHeader.isRepairModule) {\n              this.photosHeader = { ...this.photosHeader, title: 'back_smart_photo' };\n            }\n            this.minimumPhotosRequired = this.inspectionItemTemplates?.filter((value: ChqInspectionStep) => {\n              return value.isSkipEnabled !== true;\n            }).length;\n            this.currentObservable = this.uploadFile.bind(this);\n          } else {\n            this.currentObservable = this.uploadBulkUploadFile.bind(this);\n            this.isMultipleUpload = true;\n            this.minimumPhotosRequired = this.currentInspectionTemplate.minImageLimit;\n            this.triggerMassUpload = true;\n            this.isBulkUploaded = true;\n            if (this.addPhotosHeader.isRepairModule) {\n              this.photosHeader = { ...this.photosHeader, title: 'bulk_upload' };\n            }\n          }\n        }\n      } catch (error: any) {\n        console.log(error);\n      }\n    }\n  }\n\n  /**\n   * inspection detail by id\n   */\n  getInspectionTemplateByObject(): void {\n    for (let i = 0; i < this.inspectionItemTemplates?.length; i++) {\n      const templatePart = this.inspectionItemTemplates[i];\n      const inspectionStep = inspectionpartPartMapper(templatePart, i);\n      const isAdditionalImage = inspectionStep.stepName?.toLowerCase().indexOf('additional photo') != -1;\n      const isMassUpload = inspectionStep.stepName?.toLowerCase().indexOf('bulk upload image') != -1;\n      const isAdditionalDocumentFromReviewPageOnly = isAdditionalImage && !inspectionStep.url;\n      this.imageStatusSteps.push({\n        ...inspectionStep, mandatory: !templatePart.isSkipEnabled, index: i,\n        isAdditionalDocumentFromReviewPageOnly,\n        isMassUpload,\n        updatedDate: inspectionStep.url ? templatePart?.inspectionItem?.updatedDate : '',\n        uploadedDate: inspectionStep.url ? templatePart?.inspectionItem?.created : '',\n        domainId: this.domainId, objectId: this.objectId,\n        uploadedPartGuid: '',\n        uploadedGuid: ''\n      });\n    }\n  }\n\n  /**\n   * update status\n   */\n  updateStatus(): void {\n    if(!this.statusUpdated) {  \n      this.statusUpdated = true;\n      this.monitorService.logEvent('updateStatus', [ 'ChqNewPhotosComponent', 'addenda-quote' ]);\n      this.caseService.updateCaseStatus(this.caseId, 'UploadPhotos').subscribe({\n        next: () => {\n          this.footer = { ...this.footer, status: '' };\n          this.partialCaseDetail.status = 'UploadPhotos';\n        }\n      })\n    }\n  }\n\n  /**\n   * handled if step is skipped\n   */\n  stepSkipped(): void {\n    if (location.href.includes('repair') && (this.currentRepairStatus?.toLowerCase() === 'draft' || this.currentRepairStatus?.toLowerCase() === 'uploaddocuments')) {\n      this.updateRepairStatus(this.repairId);\n    }\n    if (location.href.includes('quote') && (this.footer.currentStatus?.toLowerCase() === 'uploaddocuments')) {\n      this.updateStatus();\n    }\n  }\n\n  /**\n   * load server details\n   */\n  loadApiData(id: string): void {\n    if (id && id != '0') {\n      this.caseId = id;\n      this.bookingId = id;\n      this.commonService.showLoading();\n      this.inspectionService.getInspectionTemplateList().subscribe({\n        next: (inspectionList: any) => {\n          let isRepair = false;\n          let inspectionTemplateId = 0;\n          if (location.href.includes('repair')) {\n            isRepair = true;\n          }\n          const repairInspectionTemplate = inspectionList?.data;\n\n          if (repairInspectionTemplate?.length > 0) {\n            this.commonService.repairInspectionTemplate = repairInspectionTemplate[0];\n            inspectionTemplateId = repairInspectionTemplate[0].id\n          }\n          const promiseApi: any = {};\n          promiseApi.inspectionTemplate = this.inspectionService.getInspectionTemplate(inspectionTemplateId);\n          if (isRepair) {\n            promiseApi.bookingDetail = this.bookingService.getRepairDetailByGuid(id);\n\n          } else {\n            this.commonService.userProfileData.subscribe((res) => {\n              if (res && res.data) {\n                const { organizationDetail } = res.data;\n                this.currentOrgId = organizationDetail.id;\n              }\n            });\n            promiseApi.caseDetail = this.caseService.getCaseDetail(id);\n          }\n          const serverDetails = forkJoin(promiseApi).pipe(\n            catchError(error => of(error))\n          )\n          serverDetails.subscribe({\n            next: (resultMap: any) => {\n              if (resultMap.inspectionTemplate) {\n\n                const inspectionTemplateDetail = resultMap.inspectionTemplate.inspectionItemTemplates;\n                this.currentInspectionTemplate = resultMap.inspectionTemplate;\n                if (resultMap.inspectionDetail) {\n                  this.inspectionDetail = resultMap.inspectionDetail;\n                }\n                this.inspectionTemplates = inspectionTemplateDetail;\n                this.inspectionTemplatesJSONString = JSON.stringify(this.inspectionTemplates);\n                if (resultMap.caseDetail) {\n                  const { caseNumber, id, status, statusId, domainID, inspections, vehicleModel, vehicleId, organizationDetail } = resultMap.caseDetail.data;\n                  this.caseData = resultMap.caseDetail.data;\n                  this.partialCaseDetail = resultMap.caseDetail.data;\n\n                  if (this.currentOrgId != organizationDetail?.organizationId) {\n                    this.commonService.isViewOnly = true;\n                  } else {\n                    this.commonService.isViewOnly = false;\n                  }\n\n                  this.vehicelType = vehicleModel;\n                  this.vehicleId = vehicleId;\n                  this.domainId = domainID;\n                  this.commonService.caseStatus.next(status);\n                  this.caseStatus = status;\n                  if (status?.toLowerCase() === 'uploaddocuments') {\n                    //this.updateStatus();\n                  } else {\n                    this.footer = { ...this.footer, status: '', caseId: id }\n                  }\n                  this.footer.currentStatus = status;\n                  if (inspections?.length > 0) {\n                    this.inspectionId = inspections[0].inspectionId;\n                    this.commonService.inspectionId.next(this.inspectionId);\n                  }\n                  this.photosHeader.caseNumber = caseNumber;\n\n                  if (this.caseData.repairGuid) {\n                    this.footer.repairId = this.caseData.repairGuid;\n                    this.footer.from = Modules.quote;\n                  }\n\n                  this.objectId = id;\n                }\n                if (resultMap.bookingDetail) {\n                  const { id, vehicle, repairServiceTypes, repairGuid, domainId, status, quoteId, repairType, repairNumber, booking, isRepairCreatedFromCase } = resultMap.bookingDetail.data;\n                  this.repairDetail = resultMap.bookingDetail.data;\n                  const { vehicleModel, vehicleId } = vehicle;\n\n                  this.objectId = id;\n                  this.domainId = domainId;\n                  this.repairId = repairGuid;\n                  this.currentRepairStatus = status;\n                  this.repairTypes = repairServiceTypes;\n                  this.repairType = repairType;\n                  this.inspectionId = vehicle.inspectionId;\n                  this.vehicelType = vehicleModel;\n                  this.vehicleId = vehicleId;\n\n                  this.footer = { ...this.footer, currentStatus: status, isRepairModule: true, caseId: quoteId, \n                    from: Modules.repair, repairTypes: repairServiceTypes, isRepairCreatedFromCase: isRepairCreatedFromCase, bookingId: booking?.bookingGuid };\n                  // Send booking data in observable\n                  this.commonService.repairDetails.next(resultMap.bookingDetail.data)\n                  this.commonService.bookingId.next(repairNumber);\n                  this.commonService.repairStatus.next(status);\n                }\n\n                if (this.inspectionId) {\n                  this.inspectionService.getInspection(this.inspectionId).subscribe({\n                    next: (inspectionDetailResponse: any) => {\n                      if (inspectionDetailResponse) {\n                        this.mapInspection(inspectionDetailResponse);\n                        this.noImagesData = false;\n                        this.getInspectionTemplateByObject();\n                        setTimeout(() => {\n                          this.hideContent = false;\n                          if (this.isBulkUploaded) {\n                            this.showUploading = true;\n                            this.isMultipleUpload = true;\n                            this.currentAdditionalModeMultiple = true;\n                          }\n                          if (this.uploadType) {\n                            this.imageUploaders.goToReview();\n                          }\n                        })\n                      }\n                    },\n                    error: ()=>{\n                      this.noImagesData = true;\n                    },\n                    complete: () => {\n                      this.commonService.hideLoading();\n                    },\n                  });\n                } else {\n                  this.noImagesData = true;\n                  this.hideContent = false;\n                  this.commonService.hideLoading();\n                }\n              }else{\n                this.noImagesData = true;\n                this.commonService.hideLoading();\n              }\n            }\n          });\n        }, error: ()=>{\n          this.noImagesData = true;\n          this.commonService.hideLoading();\n        }\n      });\n\n    }\n  }\n\n\n\n  /**\n   * oninit\n   */\n  ngOnInit(): void {\n    const currentObjectId = this.route.parent?.snapshot.paramMap.get('id');\n    this.addPhotosHeader = { ...this.photosHeader, isHeaderOnly: false };\n    this.monitorService.logEvent('ngOnInit', [ 'ChqNewPhotosComponent', 'addenda-quote', {\n      caseId: currentObjectId,\n      repairId: currentObjectId\n    } ]);\n\n    this.footer = {\n      ...this.footer, caseId: this.photosHeader.isRepairModule? '': currentObjectId,\n      repairId: this.photosHeader.isRepairModule? currentObjectId: '', \n      handleBack: this.handleBack.bind(this)\n      , finalRedirection: this.redirectToGtEstimate.bind(this) }\n\n    this.commonService.accessRight.subscribe({\n      next: (res: boolean) => {\n        if (!res) {\n          this.showNoAccess = true;\n        }\n      }\n    });\n    \n    this.loadApiData(currentObjectId);\n    const container: any = document.querySelector('.addenda-container');\n    if (container) {\n      container.scrollTop = 0;\n    }\n\n    this.currentObservable = this.uploadFile.bind(this);\n  }\n\n  /**\n   * reload inspection and map\n   */\n  public reloadInspection(): void {\n    this.commonService.showLoading();\n    this.inspectionTemplates = JSON.parse(this.inspectionTemplatesJSONString);\n    if (this.inspectionId) {\n      this.inspectionService.getInspection(this.inspectionId).subscribe({\n        next: (inspectionDetailResponse: any) => {\n          if (inspectionDetailResponse) {\n            this.mapInspection(inspectionDetailResponse);\n            this.getInspectionTemplateByObject();\n            this.isMultipleUpload = false;\n\n            this.isBulkUploaded = false;\n            this.currentAdditionalModeMultiple = false;\n            this.triggerMassUpload = false;\n            setTimeout(() => {\n              this.hideContent = false;\n              this.showUploading = true;\n            })\n\n          }\n        },\n        complete: () => {\n          this.commonService.hideLoading();\n        },\n      });\n    }\n  }\n\n\n  /**\n   * set to initial mode\n   */\n  setInitialMode(): void {\n    this.showUploading = false;\n    this.imageStatusSteps = [];\n    this.triggerMassUpload = false;\n    this.isBulkUploaded = false;\n    this.imageUploaders.isReviewSection = false;\n    this.isMultipleUpload = false;\n    this.currentAdditionalModeMultiple = false;\n  }\n\n  /**\n   *handle mode selection\n   * @param $event \n   */\n  handleMode($event: any): void {\n    this.monitorService.logEvent('handleMode', [ 'ChqNewPhotosComponent', 'addenda-quote', {\n      $event\n    } ]);\n    if (!this.inspectionId) {\n      this.currentUploadMode.emit({ 'mode': 'error', 'id': this.bookingId });\n      return;\n    }\n    this.currentUploadMode.emit($event);\n\n    if ($event.mode === 'single') {\n\n      if (this.imageStatusSteps?.length === 0) {\n        this.isMultipleUpload = false;\n        this.isBulkUploaded = false;\n        this.currentAdditionalModeMultiple = false;\n        this.triggerMassUpload = false;\n        this.minimumPhotosRequired = this.inspectionItemTemplates.filter((value: ChqInspectionStep) => {\n          return value.isSkipEnabled !== true;\n        }).length;\n        this.reloadInspection();\n      } else {\n        this.isMultipleUpload = false;\n        this.showUploading = true;\n        this.isBulkUploaded = false;\n        this.currentAdditionalModeMultiple = false;\n        this.minimumPhotosRequired = this.currentInspectionTemplate.minImageLimit;\n        this.triggerMassUpload = false;\n      }\n\n      this.currentObservable = this.uploadFile.bind(this);\n    } else {\n      this.imageStatusSteps = [];\n      this.currentObservable = this.uploadBulkUploadFile.bind(this);\n      this.isMultipleUpload = true;\n      this.triggerMassUpload = true;\n      this.showUploading = true;\n    }\n  }\n}\n","<div *ngIf=\"!showNoAccess\" [ngClass]=\"{'photo-container': photosHeader.isRepairModule}\">\n    <ng-container *chqPermission=\"'newBooking'\">\n        <add-photos [caseData]=\"caseData\" [caseNumber]=\"photosHeader.caseNumber\" [showSPI]=\"checkRepairTypes\"\n            [photosHeader]=\"addPhotosHeader\" (mode)=\"handleMode($event)\" *ngIf=\"showUploading === false\"\n            [hidden]=\"hideContent\" [showEstimate]=\"showEstimateButton\" [repairData]=\"repairDetail\"></add-photos>\n    </ng-container>\n\n    <div class=\"wrapper\" *ngIf=\"noImagesData\">\n        <div class=\"no-document-div\">\n            <img src=\"assets/icons/no-document.svg\">\n            <label class=\"no-vehicle-content\">\n                {{'no_photos_configured' | translate }}\n            </label>\n\n        </div>\n        <div class=\"empty-wrapper\">\n            <div class=\"step-container\"></div>\n            <div class=\"step-container\"></div>\n            <div class=\"step-container\"></div>\n            <div class=\"step-container\"></div>\n        </div>\n    </div>\n\n    <div *ngIf=\"noImagesData\" class=\"footer-full-wrapper\">\n        <div class=\"footer-image-wrapper\">\n            <div class=\"image-wrapper\">\n                <img src=\"assets/img/{{ + photosHeader.isRepairModule ?'addenda-repair.png':'addenda-quote.png'}}\" />\n            </div>\n        </div>\n    </div>\n\n    <chq-images-uploader [hidden]=\"showDamageAnalysis || !showUploading\" (handleDeleteAllEvent)=\"handleDeleteAll()\"\n        (backToUpload)=\"this.setInitialMode();\" [currentAdditionalModeMultiple]=\"currentAdditionalModeMultiple\"\n        [fileUploaderService]=\"currentObservable\" #imageUploaders [footerOptions]=\"footer\"\n        (updateMassUpload)=\"updateCurrentStatus($event);\"\n        *ngIf=\"(showUploading === true || isMultipleUpload) || (imageStatusSteps && imageStatusSteps.length > 0)\"\n        [isMassUpload]=\"isMultipleUpload\" [showReTakeDelete]=\"true\" [imageStatusSteps]=\"imageStatusSteps\"\n        [header]=\"photosHeader\" [inspectionId]=\"inspectionId\" [inspection]=\"'photos'\" (stepSkipped)=\"stepSkipped()\"></chq-images-uploader>\n    <damage-analysis *ngIf=\"showDamageAnalysis\" [isBulkUpload]=\"isMultipleUpload\"\n        [minPhotoRequired]=\"minimumPhotosRequired\" [caseDetail]=\"partialCaseDetail || repairDetail\"\n        [steps]=\"imageStatusSteps\" [isRepairModule]=\"photosHeader.isRepairModule\"\n        (backEvent)=\"handleBack($event)\"></damage-analysis>\n</div>\n<no-access-error *ngIf=\"showNoAccess\"></no-access-error>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { WidgetsModule } from 'src/app/widgets/chq-widgets.module';\nimport { MatIconModule } from '@angular/material/icon';\nimport { CanDeactivateGuard } from 'src/app/guards/deactivate-gaurd/deactivate-gaurd.guard';\nimport { ErrorModule } from 'src/app/shared/error-page/error.module';\nimport { NewDocumentsComponent } from './new-documents/new-documents.component';\nimport { NewPhotosComponent } from './new-photos/new-photos.component';\nimport { AddPhotosComponent } from './add-photos/add-photos.component';\nimport { IconsModule } from '../icons.module';\nimport { DamageAnalysisComponent } from './damage-analysis/damage-analysis.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { HasPermissionDirective } from '../helper/directive/has-permission.directive';\nimport { DirectiveModule } from '../helper/directive.module';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { HistoryComponent } from './history/history.component';\n//import { NgxPrintModule } from 'ngx-print';\n\n\n\n@NgModule({\n  declarations: [ \n    NewDocumentsComponent,\n    NewPhotosComponent, \n    AddPhotosComponent, \n    DamageAnalysisComponent,\n    HistoryComponent\n  ],\n  imports: [\n    CommonModule,\n    MatIconModule,\n    IconsModule,\n    WidgetsModule,\n    ErrorModule,\n    TranslateModule,\n    DirectiveModule,\n    MatSidenavModule\n  ],\n  exports: [ \n    NewDocumentsComponent, \n    NewPhotosComponent, \n    AddPhotosComponent, \n    DamageAnalysisComponent\n    \n  ],\n  providers: [ \n    CanDeactivateGuard\n  ]\n})\nexport class SharedModule { }\n"],"names":[],"sourceRoot":"webpack:///"}