{"version":3,"file":"src_app_modules_repair_repair_module_ts-es2015.js","mappings":"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","sources":["./node_modules/dayjs/plugin/timezone.js","./src/app/config/route-mapper/repair-status-mapper.ts","./src/app/modules/repair/add-customers/customer-layout/customer-layout.component.ts","./src/app/modules/repair/add-customers/customer-layout/customer-layout.component.html","./src/app/modules/repair/booking-journal/booking-journal/booking-journal.component.ts","./src/app/modules/repair/booking-journal/booking-journal/booking-journal.component.html","./src/app/modules/repair/booking-journal/booking-preview/booking-preview.component.ts","./src/app/modules/repair/booking-journal/booking-preview/booking-preview.component.html","./src/app/modules/repair/lounge-list/lounge-list.component.ts","./src/app/modules/repair/lounge-list/lounge-list.component.html","./src/app/modules/repair/outbound/check-in-task/check-in-task.component.ts","./src/app/modules/repair/outbound/check-in-task/check-in-task.component.html","./src/app/modules/repair/outbound/outbound/outbound.component.ts","./src/app/modules/repair/outbound/outbound/outbound.component.html","./src/app/modules/repair/repair.module.ts","./src/app/modules/repair/workflow-lounge/workflow-lounge.component.ts","./src/app/modules/repair/workflow-lounge/workflow-lounge.component.html","./src/app/modules/repair/workflow/workflow/workflow.component.ts","./src/app/modules/repair/workflow/workflow/workflow.component.html","./src/app/services/message/messages.service.ts","./src/app/services/outbound/outbound.service.ts","./src/app/services/workflow/workflow.service.ts"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs_plugin_timezone=e()}(this,(function(){\"use strict\";var t={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(n,i,o){var r,a=function(t,n,i){void 0===i&&(i={});var o=new Date(t),r=function(t,n){void 0===n&&(n={});var i=n.timeZoneName||\"short\",o=t+\"|\"+i,r=e[o];return r||(r=new Intl.DateTimeFormat(\"en-US\",{hour12:!1,timeZone:t,year:\"numeric\",month:\"2-digit\",day:\"2-digit\",hour:\"2-digit\",minute:\"2-digit\",second:\"2-digit\",timeZoneName:i}),e[o]=r),r}(n,i);return r.formatToParts(o)},u=function(e,n){for(var i=a(e,n),r=[],u=0;u<i.length;u+=1){var f=i[u],s=f.type,m=f.value,c=t[s];c>=0&&(r[c]=parseInt(m,10))}var d=r[3],l=24===d?0:d,h=r[0]+\"-\"+r[1]+\"-\"+r[2]+\" \"+l+\":\"+r[4]+\":\"+r[5]+\":000\",v=+e;return(o.utc(h).valueOf()-(v-=v%1e3))/6e4},f=i.prototype;f.tz=function(t,e){void 0===t&&(t=r);var n=this.utcOffset(),i=this.toDate(),a=i.toLocaleString(\"en-US\",{timeZone:t}),u=Math.round((i-new Date(a))/1e3/60),f=o(a,{locale:this.$L}).$set(\"millisecond\",this.$ms).utcOffset(15*-Math.round(i.getTimezoneOffset()/15)-u,!0);if(e){var s=f.utcOffset();f=f.add(n-s,\"minute\")}return f.$x.$timezone=t,f},f.offsetName=function(t){var e=this.$x.$timezone||o.tz.guess(),n=a(this.valueOf(),e,{timeZoneName:t}).find((function(t){return\"timezonename\"===t.type.toLowerCase()}));return n&&n.value};var s=f.startOf;f.startOf=function(t,e){if(!this.$x||!this.$x.$timezone)return s.call(this,t,e);var n=o(this.format(\"YYYY-MM-DD HH:mm:ss:SSS\"),{locale:this.$L});return s.call(n,t,e).tz(this.$x.$timezone,!0)},o.tz=function(t,e,n){var i=n&&e,a=n||e||r,f=u(+o(),a);if(\"string\"!=typeof t)return o(t).tz(a);var s=function(t,e,n){var i=t-60*e*1e3,o=u(i,n);if(e===o)return[i,e];var r=u(i-=60*(o-e)*1e3,n);return o===r?[i,o]:[t-60*Math.min(o,r)*1e3,Math.max(o,r)]}(o.utc(t,i).valueOf(),f,a),m=s[0],c=s[1],d=o(m).utcOffset(c);return d.$x.$timezone=a,d},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(t){r=t}}}));","export const RepairStatusMapper = {\n  'draft': 'repair/booking/{{repairGUID}}',\n  'vehicledetails': 'repair/booking/{{repairGUID}}',\n  'uploaddocuments': 'repair/booking/{{repairGUID}}/document',\n  'uploadphotos': 'repair/booking/{{repairGUID}}/photos',\n  'repairestimation': 'repair/booking/{{repairGUID}}/estimate',\n  'pendingapproval': 'repair/booking/{{repairGUID}}/estimate',\n  'approved': 'repair/booking/{{repairGUID}}/estimate',\n  'reject': 'repair/booking/{{repairGUID}}/estimate',\n  'rejected': 'repair/booking/{{repairGUID}}/estimate',\n  'closed': 'repair/booking/{{repairGUID}}/invoices',\n  'complete': 'repair/booking/{{repairGUID}}/invoices',\n  'partsorderedpartially': 'repair/booking/{{repairGUID}}/parts',\n  'partsordered': 'repair/booking/{{repairGUID}}/parts',\n  'repairinprogress': 'repair/booking/{{repairGUID}}/repair-stages',\n  'readytoinvoice': 'repair/booking/{{repairGUID}}/invoices',\n  'invoiced': 'repair/booking/{{repairGUID}}/invoices',\n  'paid': 'repair/booking/{{repairGUID}}/invoices',\n  'others': 'repair/booking/{{repairGUID}}',\n}\n\nexport const CaseStatusMapper = {\n  'draft': 'quote/case/{{caseGUID}}',\n  'vehicledetails': 'quote/case/{{caseGUID}}/vehicle',\n  'uploaddocuments': 'quote/case/{{caseGUID}}/document',\n  'uploadphotos': 'quote/case/{{caseGUID}}/photos',\n  'aianalysis': 'quote/case/{{caseGUID}}/ai',\n  'repairestimation': 'quote/case/{{caseGUID}}/estimate',\n  'approved': 'quote/case/{{caseGUID}}/estimate',\n  'reject': 'quote/case/{{caseGUID}}/estimate',\n  'rejected': 'quote/case/{{caseGUID}}/estimate',\n  'closed': 'quote/case/{{caseGUID}}/estimate',\n  'complete': 'quote/case/{{caseGUID}}/estimate',\n  'others': 'quote/case/{{caseGUID}}/estimate'\n}","import { ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BehaviorSubject, Subscription, filter } from 'rxjs';\nimport { ChqLabourRateComponent } from 'src/app/dialogs/labour-rate/labour-rate.component';\nimport { Modules, UploadStepModel } from 'src/app/model/chq-upload-model';\nimport { customerMenus, menuItem, menuRepairItems, repairMenus } from 'src/app/model/menu';\nimport { CaseService } from 'src/app/services/case/case.service';\nimport { CommonService } from 'src/app/services/common/common.service';\nimport { InspectionService } from 'src/app/services/inspection-service/inspection.service';\nimport { MessagesService } from 'src/app/services/message/messages.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ChqTabsComponent } from 'src/app/widgets/chq-tabs/chq-tabs/chq-tabs.component';\nimport { RepairEstimateService } from 'src/app/services/repair-estimate/repair-estimate.service';\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\nimport { ChqInspectionStep } from 'src/app/model/chq-inspection-step';\n\n@Component({\n  selector: 'app-customer-layout',\n  templateUrl: './customer-layout.component.html',\n  styleUrls: [ './customer-layout.component.scss' ],\n})\n\nexport class CustomerLayoutComponent implements OnInit, OnDestroy {\n\n  public activeItem: string = 'Booking';\n  public bookingId: string = '';\n  public repairGuid: string = '0';\n  private repairObjectId = 0;\n  public inspectionId: number;\n  private domainId: number = 3100;\n  public repairTypes: any = [];\n  public showUserSection: boolean = false;\n  public expandUserDetail: boolean = false;\n  public status: string = '';\n  public statusDesc: string = '';\n  stepInProgress: boolean = false;\n  currentOrganizationId: number;\n\n  private vehicleId: number = 0;\n  private caseId: string = '0';\n\n  private estimationOperationLength: boolean = false;\n\n  public caseData: any = {\n    'vehicleMake': '',\n    'vehicleModel': ''\n  }\n  @ViewChild('tabs') tabs: ChqTabsComponent;\n  @ViewChild('tabMain') tabMain: ChqTabsComponent;\n  @ViewChild('userDetail') userDetail!: ElementRef;\n\n  public customerData: any = {\n    'firstName': '',\n    'lastName': '',\n    'countryCode': '',\n    'mobileNumber': '',\n    'email': ''\n  }\n  // sample history data\n  history = []\n  private workProvider:string = '';\n  private isCompany:boolean = false;\n  isHistoryLoading = false;\n  subscriptions: Subscription[] = [];\n  private isNoShow:boolean = false;\n  private repairType:string = '';\n\n  private roleName: string = '';\n  containerWidth: string;\n  /**\n   * get current status\n   */\n  get currentStatus(): boolean {\n    if (this.status && [ 'draft', 'uploaddocuments', 'uploadphotos' ].indexOf(this.status?.toLowerCase()) === -1) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * constructor\n   * @param router\n   */\n  constructor(\n    private router: Router,\n    private caseService: CaseService,\n    private route: ActivatedRoute,\n    private commonService: CommonService,\n    private cdr: ChangeDetectorRef,\n    private inspectionService: InspectionService,\n    private messageService: MessagesService,\n    private translateService: TranslateService,\n    private repairEstimateService: RepairEstimateService,\n    private monitorService: MonitorService,\n    public dialog: MatDialog,\n  ) {\n    this.commonService.inProgressSteps.subscribe((length: number) => {\n      this.stepInProgress = length > 0;\n    });\n\n\n  }\n\n  menuItems = customerMenus;\n  repairMenuItems = repairMenus;\n  menuRepairItems = menuRepairItems;\n\n\n  /**\n   * map inspection from api\n   */\n  onHistoryExpand(event:boolean):void {\n    // Get latest History when history is expanded\n    if(event) {\n      this.getCaseHistory(this.repairGuid, this.domainId)\n    }\n  }\n  /**\n   * map inspection from api\n   * @param inspectionData\n   */\n  mapInspection(inspectionData: any, item: menuItem): void {\n    if (inspectionData) {\n      try {\n        const inspection = inspectionData;\n        if (this.commonService.repairInspectionTemplate) {\n          const template = this.commonService.repairInspectionTemplate\n          if(inspection?.uploadType) {\n            if (inspection?.uploadType.toLowerCase() === 'spi') {\n              const minimumPhotosRequired = inspection.inspectionItems?.filter((value: ChqInspectionStep) => {\n                return value.isSkipEnabled !== true;\n              }).length;\n              const currentPhotos = inspection.inspectionItems?.filter((currentStep) => {\n                return currentStep.rawAzureBlobUrl;\n              });\n              if (currentPhotos.length < minimumPhotosRequired) {\n                this.commonService.showToast(0, `All ${minimumPhotosRequired} sides images are mandatory and cannot skip to next section.`);\n                return;\n              }\n            } else {\n              const minimumBulkPhotosRequired = template?.minImageLimit;\n              const bulkUploadedItemsWithImages = inspection.inspectionItems\n                .filter((step) => {\n                  return step.rawAzureBlobUrl != null && step.rawAzureBlobUrl != '';\n                });\n              if (bulkUploadedItemsWithImages.length < minimumBulkPhotosRequired) {\n                this.commonService.showToast(0, `All ${minimumBulkPhotosRequired} sides images are mandatory and cannot skip to next section.`);\n                return;\n              }\n            }\n          }\n\n          const queryParam = location.search;\n          const url = item.url;\n          this.tabs?.setActiveMenu(item);\n          if ((queryParam.indexOf('mode=edit') !== -1)) {\n            this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ], { queryParams: { mode: 'edit' } });\n          } else {\n            this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ]);\n          }\n        }\n      } catch (error: any) {\n        console.log(error);\n      }\n    }\n  }\n\n  /**\n   * Get Case History\n   */\n  getCaseHistory(caseId: string, domainId: number): void {\n    this.history = [];\n    this.isHistoryLoading = true;\n    this.caseService.getCaseHistory(caseId, domainId).subscribe({\n      next: (response) => {\n        this.history = response;\n      },\n      complete: () => {\n        this.isHistoryLoading = false\n      }\n    });\n  }\n\n  /**\n   * get current inspectionitems length\n   */\n  getInspectionItems(id, item: menuItem): void {\n    this.commonService.showLoading();\n    this.inspectionService.getInspection(id).subscribe({\n      next: (inspectionDetailResponse: any) => {\n        if (inspectionDetailResponse) {\n          this.mapInspection(inspectionDetailResponse, item);\n        }\n        this.commonService.hideLoading();\n      },\n      complete: () => {\n        this.commonService.hideLoading();\n      },\n    });\n  }\n\n  /**\n   * on init\n   */\n  ngOnInit(): void {\n    const urlSegments = this.router.url.split('/');\n    let lastSegment = (urlSegments.length > 0) ? urlSegments[urlSegments.length - 1] : '';\n\n    if (lastSegment.indexOf('?') != -1) {\n      lastSegment = lastSegment.substring(0, lastSegment.indexOf('?'));\n    }\n\n    const repairSegments: string[] = [ 'parts', 'invoices', 'repair-stages', 'invoicesEdit' ];\n\n    if (repairSegments.includes(lastSegment)) {\n      this.activeItem = 'Repair';\n    }\n\n    this.route?.params.subscribe((value) => {\n      if (value && value['id']) {\n        this.repairGuid = value['id'];\n\n        if (this.repairGuid !== '0') {\n          // Get Case History when domainId is available\n          const idSub$ = this.commonService.domainId.pipe(filter(value => value !== null)).subscribe({\n            next: (data) => {\n              this.getCaseHistory(this.repairGuid, data)\n              this.domainId = data\n            }\n          });\n          this.subscriptions.push(idSub$);\n        }\n\n      }\n    });\n\n    const bookingId$ = this.commonService.bookingId.subscribe({\n      next: (bookingId: string) => {\n        this.bookingId = bookingId;\n        this.cdr.detectChanges();\n      }\n    });\n\n    const activeItem$ = this.commonService.activeItem.subscribe({\n      next: (activeItem: string) => {\n        if (activeItem) {\n          this.activeItem = activeItem\n        }\n      }\n    });\n    const repairDetails$ = this.commonService.repairDetails.subscribe({\n      next: (repairDetails: any) => {\n        this.showHideTopHeader()\n        if (repairDetails) {\n          this.status = repairDetails.status;\n          this.statusDesc = repairDetails?.statusDescription;\n          this.customerData.firstName = repairDetails.customer?.firstName || '';\n          this.customerData.lastName = repairDetails.customer?.lastName || '';\n          this.customerData.mobileNumber = (repairDetails.customer?.countryCode || '') + ' ' + repairDetails.customer?.mobileNumber || '';\n          this.customerData.email = repairDetails.customer?.email || '';\n          this.workProvider = repairDetails.customer?.companyOrgType || '';\n          this.isCompany = repairDetails.customer?.customerTypeName !== 'Person' || false;\n\n          this.caseData.vehicleMake = repairDetails.vehicle?.vehicleMake || '';\n          this.caseData.vehicleModel = repairDetails.vehicle?.vehicleModel || '';\n          this.caseData.licensePlate = repairDetails.vehicle?.licensePlateNumber || '';\n          this.caseData.year = repairDetails.vehicle?.modelYearRange || '';\n\n          this.inspectionId = repairDetails.vehicle?.inspectionId;\n          this.repairTypes = repairDetails.repairServiceTypes;\n          this.repairType = repairDetails.repairType;\n          this.domainId = repairDetails.domainId;\n\n          if(this.currentOrganizationId != repairDetails.organizationDetail?.organizationId) {\n            this.commonService.isViewOnly = true;\n          }else{\n            this.commonService.isViewOnly = false;\n          }\n\n          const urlSegments = this.router.url.split('/');\n          let currentLastSegment = (urlSegments.length > 0) ? urlSegments[urlSegments.length - 1] : '';\n          if(currentLastSegment.includes('photos')){\n            if(!this.inspectionId){\n              this.displayMissingInspectionMessage(this.repairGuid);\n              return;\n            }\n          }\n          const queryParam = location.search;\n\n          if(currentLastSegment === 'invoices' && !queryParam.includes('isBack=true')){\n            const isGenerated = this.status?.toLowerCase() === 'paid' || this.status?.toLowerCase() === 'invoiced' || this.status?.toLowerCase()\n              === 'complete';\n            let type = 1;\n            if(isGenerated){\n              if(this.workProvider === 'Retail' && !this.isCompany){\n                type = 2;\n              }\n              this.router.navigate([ `/repair/booking/${this.repairGuid}/invoicesEdit` ], { queryParams: { formType: type } });\n              return;\n            }\n          }\n\n          this.vehicleId = repairDetails.vehicle?.vehicleId\n          this.caseId = repairDetails.quoteId;\n          this.domainId = repairDetails.domainId;\n\n          this.repairObjectId = repairDetails.id;\n          if (this.repairType?.toLowerCase() === 'assessment') {\n            this.repairMenuItems[1].disabled = true;\n          } else {\n            this.repairMenuItems[1].disabled = false;\n          }\n          this.isNoShow = repairDetails?.booking?.isNoShow;\n\n          if (currentLastSegment.indexOf('?') != -1) {\n            currentLastSegment = currentLastSegment.substring(0, currentLastSegment.indexOf('?'));\n          }\n\n          if(this.roleName?.toLowerCase() === 'technician' && currentLastSegment === 'invoices') {\n            this.router.navigate([ `/repair/booking/${this.repairGuid}/repair-stages` ]);\n            return;\n          }\n\n          const repairSegments: string[] = [ 'parts', 'invoices', 'repair-stages', 'invoicesEdit' ];\n          if (repairSegments.includes(currentLastSegment)) {\n            this.getEstimationDetail(repairDetails.estimateSource);\n          }\n\n          this.cdr.detectChanges();\n        }\n      }\n    });\n\n    const userPermission$ = this.commonService.userProfileData.subscribe((res) => {\n      if (res?.data) {\n        const automotiveServices = res?.data?.userPermission?.automotiveServices;\n        const automotiveService = automotiveServices?.find(x => x.automotiveServiceName.toLowerCase() === 'addenda repair');\n        this.roleName = automotiveService.roleName.toLowerCase();  \n        this.commonService.roleName = this.roleName;\n\n        if(this.roleName?.toLowerCase() == 'technician') {\n          this.menuRepairItems = this.menuRepairItems.filter(q=> q.name != 'Invoices')\n        }\n\n        const organizationDetail = res.data.organizationDetail;\n        if (organizationDetail) {\n          this.currentOrganizationId = organizationDetail.id;\n        }\n      }\n    });\n    this.subscriptions.push(bookingId$);\n    this.subscriptions.push(activeItem$);\n    this.subscriptions.push(repairDetails$);\n    this.subscriptions.push(userPermission$);\n  }\n\n  /**\n * estimate\n */\n  getEstimationDetail(source: string): void {\n    if (source === 'GTMotive') {\n      this.getGTEstimationDetail();\n    } else {\n      this.getManualEstimationDetail();\n    }\n  }\n\n  /**\n   * get estimation detail\n   */\n  getGTEstimationDetail(): void {\n    if (this.vehicleId && this.inspectionId) {\n      this.monitorService.logEvent('getGTEstimationDetail', [ 'CustomerLayoutComponent', 'addenda-repair' ], {\n        repairGuid: this.repairGuid,\n        caseGuid: this.caseId,\n        inspectionId: this.inspectionId,\n        vehicleId: this.vehicleId\n      });\n      this.commonService.showLoading();\n      this.repairEstimateService.getEstimate(this.caseId, this.inspectionId, this.vehicleId, this.domainId).subscribe({\n        next: (response) => {\n          if (response?.data?.estimateCharges?.length > 0) {\n            this.estimationOperationLength = true;\n          }\n          this.commonService.hideLoading();\n        },\n        error: () => {\n          this.commonService.hideLoading();\n        }\n      });\n    }\n  }\n\n  /**\n   * get manual estimate\n   */\n  getManualEstimationDetail(): void {\n    if (this.vehicleId && this.inspectionId) {\n      this.monitorService.logEvent('getManualEstimationDetail', [ 'EstimateComponent', 'addenda-repair' ], {\n        repairGuid: this.repairGuid,\n        inspectionId: this.inspectionId,\n        vehicleId: this.vehicleId\n      });\n      this.commonService.showLoading();\n      this.repairEstimateService.getRepairEstimate(this.repairGuid, this.inspectionId, this.vehicleId).subscribe({\n        next: (response) => {\n          if (response?.estimateCharges?.length) {\n            this.estimationOperationLength = true;\n          }\n\n          this.commonService.hideLoading();\n        },\n        error: () => {\n          this.commonService.hideLoading();\n        }\n      })\n    }\n  }\n\n  /**\n   * navigate to selected route\n   * @param item\n   */\n  navigate(item: menuItem): void {\n    const queryParam = location.search;\n    const url = item.url;\n    const currentUrl = location.pathname;\n\n    if(url.includes('/repair-stages')){\n      const statusList = [ 'draft', 'uploaddocuments', 'uploadphotos', 'repairestimation', 'pendingapproval', 'rejected' ];\n      if(statusList.includes(this.status?.toLowerCase())){\n        this.commonService.hideLoading();\n        this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('start_job'));\n        return;\n      }\n\n      if(this.isNoShow){\n        this.commonService.hideLoading();\n        this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('stages_no_allowed'));\n        return;\n      }\n\n      if(this.repairType?.toLowerCase() !== 'repair'){\n        this.commonService.hideLoading();\n        this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('stages_repair'));\n        return;\n      }\n\n    }\n\n    if (url.includes('/invoices')) {\n      if (!this.estimationOperationLength) {\n        this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('no_charges'));\n        return;\n      }\n\n      if(this.status?.toLowerCase() === 'rejected') {\n        this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('invoice_access'));\n        return;\n      }\n    }\n\n\n    if (currentUrl.includes('/document')) {\n      if (this.stepInProgress) {\n        const module = currentUrl.includes('/photos') ? 'images' : 'documents';\n        this.commonService.showToast(0, `Please wait until all ${module} are uploaded.`);\n        return;\n      }\n    }\n    if (currentUrl.includes('/photos')) {\n      if (this.stepInProgress) {\n        const module = currentUrl.includes('/photos') ? 'images' : 'documents';\n        this.commonService.showToast(0, `Please wait until all ${module} are uploaded.`);\n        return;\n      }\n      if(url.includes('/estimate')) {\n        this.getInspectionItems(this.inspectionId, item);\n        return;\n      }\n    }\n\n    if(url.includes('invoices')){\n      const isGenerated = this.status?.toLowerCase() === 'paid' || this.status?.toLowerCase() === 'invoiced' || this.status?.toLowerCase()\n       === 'complete';\n      let type = 1;\n      if(isGenerated){\n        if(this.workProvider === 'Retail' && !this.isCompany){\n          type = 2;\n        }\n        this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '').replace('invoices', 'invoicesEdit') ], { queryParams: { formType: type } });\n        return;\n      }\n    }\n\n    if (url === '/repair/booking/{bookingId}') {\n      if ((queryParam.indexOf('mode=edit') !== -1)) {\n        this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ], { queryParams: { mode: 'edit' } });\n      } else {\n        this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ]);\n      }\n    } else if (currentUrl === '/repair/booking' || currentUrl === '/repair/booking/0' || currentUrl === `/repair/booking/${this.repairGuid}`) {\n      if (url === '/repair/booking/{bookingId}') {\n        return;\n      }\n\n      if(this.roleName?.toLowerCase() === 'technician' || this.status?.toLowerCase() === 'complete') {\n        this.commonService.viewActionTriggeredBooking.next((queryParam.indexOf('mode=edit') !== -1) ? url + queryParam : url);\n      } else {\n        this.commonService.actionTriggered.next((queryParam.indexOf('mode=edit') !== -1) ? url + queryParam : url);\n      }\n\n    } else {\n      \n      if(url.includes('/photos') || url.includes('/estimate')){\n        if(!this.inspectionId){\n          this.displayMissingInspectionMessage(this.repairGuid);\n          return;\n        }\n      }\n      this.tabs?.setActiveMenu(item);\n      if ((queryParam.indexOf('mode=edit') !== -1)) {\n        this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ], { queryParams: { mode: 'edit' } });\n      } else {\n        this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ]);\n      }\n\n    }\n  }\n\n  /**\n   * change tab\n   */\n  changeTab(item: menuItem): void {\n    let url = '';\n    const queryParam = location.search;\n\n    if (item.disabled) {\n      return;\n    }\n\n    if (item.name == 'Booking') {\n      url = '/repair/booking/' + this.repairGuid;\n      this.repairMenuItems.filter(q => q.name == 'Repair')[0].active = false;\n    } else {\n      if (!this.currentStatus) {// && !this.estimationOperationLength) {\n        return;\n      }\n\n      url = '/repair/booking/' + this.repairGuid + '/parts';\n      this.repairMenuItems.filter(q => q.name == 'Booking')[0].active = false;\n    }\n    item.active = true;\n    this.repairMenuItems = [ ...this.repairMenuItems ];\n\n    if ((queryParam.indexOf('?mode=edit') !== -1)) {\n      this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ], { queryParams: { mode: 'edit' } });\n    } else {\n      this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ]);\n    }\n\n    this.activeItem = item.name;\n  }\n\n  /**\n   * show error dialog\n   */\n  displayMissingInspectionMessage(bookingId:string):void{\n    this.commonService.openAlertDialog('Notification', 'Please add your vehicle in order to add car images.').afterClosed().subscribe({\n      next: (result:boolean)=>{\n        if(result){\n          this.router.navigate([ `repair/booking/${bookingId}` ]);\n        }\n      },\n      error: ()=>{\n        this.commonService.hideLoading();\n      }\n    });\n  }\n\n  /**\n   * expand user -detail\n  */\n  expand(): void {\n    this.containerWidth = `${this.userDetail.nativeElement.offsetWidth}px` ;\n    this.expandUserDetail = !this.expandUserDetail;\n  }\n\n  /**\n   * Show Hide User section based on active menu item\n   */\n  showHideTopHeader(): void {\n    if (this.repairGuid && this.repairGuid != '0') {\n      this.showUserSection = true\n    } else {\n      this.showUserSection = false;\n    }\n  }\n\n  /**\n   * open labour rate popup\n   */\n  openLabourRate(): void {\n    this.monitorService.logEvent('openLabourRate', [ 'CustomerLayoutComponent', 'addenda-repair' ]);\n    let dialogRef = this.dialog.open(ChqLabourRateComponent, {\n      data:\n        { 'repairId': this.repairGuid, 'from': Modules.repair },\n      autoFocus: false\n    });\n\n    dialogRef.afterClosed().subscribe((result: any) => {\n      dialogRef = null;\n      if(result) {\n        this.commonService.labourData.next(result);\n        this.commonService.isRefreshRepairEstimateDetails.next(true)\n      }\n    });\n  }\n\n  /**\n   * on destroy\n   */\n  ngOnDestroy(): void {\n    this.monitorService.logEvent('ngOnDestroy', [ 'CustomerLayoutComponent', 'addenda-repair', {\n      repairId: this.repairGuid\n    } ]);\n    if (this.subscriptions) this.subscriptions.forEach((subscription: Subscription) => subscription.unsubscribe());\n    this.commonService.activeItem.next(null);\n    this.commonService.repairDetails.next(null);\n    this.commonService.isViewOnly = false;\n  }\n}\n","<div class=\"page-container  mh-0 mt-0 fx-col\">\n    <div class=\"tab-container fx-0\">\n        <div class=\"main-tab-wrapper\">\n            <chq-tabs [mode]=\"'underline'\" #tabMain [menuItems]=\"repairMenuItems\"\n                (menuItemClick)=\"changeTab($event);\"></chq-tabs>\n            <div class=\"user-wrapper\">\n                <ng-container *ngIf=\"!expandUserDetail;else expanding\">\n                    <div class=\"user-detail-container fx-col\" *ngIf=\"showUserSection\"\n                        [ngClass]=\"{'expand-main-wrapper': expandUserDetail}\"\n                        [ngStyle]=\"{'width': expandUserDetail ? containerWidth : '' }\">\n                        <div class=\"user-detail-wrapper\" #userDetail>\n                            <div class=\"user-detail\">\n                                <div class=\"heading-text\">{{customerData.firstName}} {{customerData.lastName}}</div>\n                                <div style=\"font-weight: 500;\"><span class=\"title\">{{ 'booking_id' | translate\n                                        }}</span>: <b>{{ bookingId }} </b></div>\n                            </div>\n\n                            <div class=\"vehicle-detail\">\n                                <div class=\"make-status fx-row\">\n                                    <div class=\"fx-row align-center\" *ngIf=\"caseData?.vehicleMake\">\n                                        <div class=\"heading-label\">{{'make' | translate}}: </div>\n                                        <div class=\"heading-text\">{{ caseData.vehicleMake }} </div>\n                                    </div>\n\n                                    <div class=\"fx-row align-center\">\n                                        <div class=\"heading-label\">{{'status' | translate}}: </div>\n                                        <div class=\"heading-text\">{{ statusDesc }} </div>\n                                    </div>\n                                </div>\n\n                                <div class=\"fx-row\" *ngIf=\"caseData?.vehicleMake\">\n                                    <span style=\"font-weight: 500;\" *ngIf=\"caseData?.vehicleModel\"><span\n                                            class=\"title\">{{ 'model' | translate }}</span>: <b>{{ caseData.vehicleModel\n                                            }}</b></span>\n                                    <span style=\"font-weight: 500;\" *ngIf=\"caseData?.licensePlate\"><span\n                                            class=\"title\">{{ 'license_plate' | translate }}</span>:\n                                        <b>{{caseData.licensePlate}}</b></span>\n                                </div>\n                            </div>\n\n                            <div class=\"arrow-drop\">\n                                <mat-icon [svgIcon]=\"!expandUserDetail ? 'dropdown' : 'dropdown-up'\"\n                                    (click)=\"expand()\"></mat-icon>\n                            </div>\n                        </div>\n                    </div>\n                </ng-container>\n\n                <ng-template #expanding>\n                    <ng-container>\n                        <div class=\"user-detail-container fx-col\" *ngIf=\"showUserSection\"\n                            [ngClass]=\"{'expand-main-wrapper': expandUserDetail}\"\n                            [ngStyle]=\"{'width': expandUserDetail ? containerWidth : '' }\">\n                            <div class=\"user-detail-wrapper\" #userDetail>\n                                <div class=\"user-detail\">\n                                    <div class=\"heading-text\">{{customerData.firstName}} {{customerData.lastName}}</div>\n                                    <div style=\"font-weight: 500;\"><span class=\"title\">{{ 'booking_id' | translate\n                                            }}</span>: <b>{{ bookingId }} </b></div>\n                                </div>\n\n                                <div class=\"arrow-drop\">\n                                    <mat-icon [svgIcon]=\"!expandUserDetail ? 'dropdown' : 'dropdown-up'\"\n                                        (click)=\"expand()\"></mat-icon>\n                                </div>\n                            </div>\n\n                            <div class=\"user-detail-expand-wrapper\" [ngClass]=\"{'expand': expandUserDetail}\">\n                                <div class=\"user-detail-more fx-col\">\n                                    <div class=\"labour-container\" (click)=\"openLabourRate()\">\n                                        <span>{{'labour_rate_discount' | translate}}</span>\n                                    </div>\n                                    <div class=\"vehicle-detail\">\n                                        <div class=\"vehicle-detail-expand fx-col\">\n                                            <span *ngIf=\"status\">{{ 'status' |translate }}: <b>{{ status }}</b></span>\n                                            <span *ngIf=\"caseData?.vehicleMake\">{{ 'make' |translate }}: <b>{{\n                                                    caseData.vehicleMake }}</b></span>\n                                            <span *ngIf=\"caseData?.year\">{{ 'year' |translate }}: <b>{{ caseData.year\n                                                    }}</b></span>\n                                            <span *ngIf=\"caseData?.vehicleModel\">{{ 'model' |translate }}: <b>{{\n                                                    caseData.vehicleModel }}</b></span>\n                                            <span *ngIf=\"caseData?.licensePlate\">{{ 'license_plate' |translate }}: <b>{{\n                                                    caseData.licensePlate }}</b></span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </ng-container>\n                </ng-template>\n            </div>\n        </div>\n\n        <div class=\"tab-wrapper\">\n            <chq-tabs [mode]=\"'default'\" #tabs [menuItems]=\"menuItems\" (menuItemClick)=\"navigate($event);\"\n                *ngIf=\"activeItem === 'Booking'\"></chq-tabs>\n            <chq-tabs [mode]=\"'default'\" #tabs [menuItems]=\"menuRepairItems\" (menuItemClick)=\"navigate($event);\"\n                *ngIf=\"activeItem === 'Repair'\"></chq-tabs>\n        </div>\n    </div>\n\n    <div class=\"tab-content fx-1\">\n        <div class=\"tab-wrapper\">\n            <router-outlet></router-outlet>\n        </div>\n    </div>\n</div>\n<history (toggleExpand)=\"onHistoryExpand($event)\" [history]=\"history\" [isLoading]=\"isHistoryLoading\"\n    *ngIf=\"repairGuid !== '0'\" serviceType=\"repair\"></history>","import { DatePipe } from '@angular/common';\nimport { AfterViewInit, ChangeDetectorRef, Component, HostListener, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as dayjs from 'dayjs';\nimport * as tz from 'dayjs/plugin/timezone';\nimport * as utc from 'dayjs/plugin/utc';\nimport { DxSchedulerComponent } from 'devextreme-angular';\nimport { locale } from 'devextreme/localization';\nimport { Observable, forkJoin, map, of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { CaseStatusMapper, RepairStatusMapper } from 'src/app/config/route-mapper/repair-status-mapper';\nimport { XaCurrencyPipe } from 'src/app/helper/pipe/xa-currency/xa-currency.pipe';\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\nimport { ChqWidgetsInputModel, IControlValue } from 'src/app/model/chq-widgets-input-model';\nimport { BookingService } from 'src/app/services/booking/booking.service';\nimport { CalendarService, } from 'src/app/services/calendar/calendar.service';\nimport { CaseService } from 'src/app/services/case/case.service';\nimport { CommonService } from 'src/app/services/common/common.service';\nimport { BookingPreviewComponent } from '../booking-preview/booking-preview.component';\ndayjs.extend(utc);\ndayjs.extend(tz);\n\nlocale('en');\n\n@Component({\n  selector: 'chr-booking-journal',\n  templateUrl: './booking-journal.component.html',\n  styleUrls: [ './booking-journal.component.scss' ],\n  providers: [ CalendarService ]\n})\nexport class BookingJournalComponent implements AfterViewInit, OnInit {\n\n  currentDate: Date = new Date();\n  startHour: number = 0;\n  endHour: number = 24;\n\n  public filterButton: ChqWidgetsButtonModel = {\n    label: 'filter',\n    type: 'outline',\n    icon: 'filter'\n  }\n\n  public draftButton: ChqWidgetsButtonModel = {\n    label: 'draft_customer',\n    type: 'outline',\n    icon: 'person-add'\n  }\n\n  public newBookingButton: ChqWidgetsButtonModel = {\n    label: 'new_booking',\n    type: 'primary',\n    icon: 'plus'\n  }\n\n  public applyButton: ChqWidgetsButtonModel = {\n    label: 'apply',\n    type: 'primary'\n  }\n\n  public resetButton: ChqWidgetsButtonModel = {\n    label: 'reset_all',\n    type: 'outline'\n  }\n\n  /**\n   * \n   * @returns \n   */\n  get isiOS(): boolean {\n    return false;\n    return [\n      'iPad Simulator',\n      'iPhone Simulator',\n      'iPod Simulator',\n      'iPad',\n      'iPhone',\n      'iPod'\n    ].includes(navigator.platform)\n      // iPad on iOS 13 detection\n      || (navigator.userAgent.includes('Mac') && 'ontouchend' in document)\n  }\n\n  public calendarData: any[] = [];\n  public draftData: any[] = [];\n  @ViewChild(DxSchedulerComponent, { static: false }) scheduler: DxSchedulerComponent;\n  @ViewChild('filter') public filter: MatSidenav;\n  @ViewChild('draftcustomer') public draftCustomer: MatSidenav;\n  currentView = localStorage.getItem('currentView') || 'week'\n  calendarWidth = '100%';\n  defaultHeight = 'calc(100vh - (5px + 0.8vw + 5px + 1.5vw + 50px))';\n  calendarHeight = this.currentView === 'month' ? '100%' : this.defaultHeight;\n  // calc(((((100vh - (50px + 2 * (5px + 0.8vw))) - (5px + 1.5vw)) - 1.5vw) - 90px))\n  public filterForm = this.formBuilder.group({\n    TypeName: [],\n    Booking: [],\n    WorkProviderDto: [],\n    WorkProviderName: [],\n    CustomerName: [],\n    OrgName: '',\n    Assignees: [],\n    RepairType: []\n  });\n\n  filterModal: ChqWidgetsInputModel[] = [\n    {\n      placeHolder: 'booking_type',\n      name: 'TypeName',\n      label: 'booking_type',\n      value: '',\n      type: 'checkbox',\n      options: []\n    },\n    {\n      placeHolder: 'select_organization',\n      label: 'organization',\n      name: 'OrgName',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: false\n    },\n    {\n      placeHolder: 'booking',\n      name: 'Booking',\n      label: 'booking',\n      value: '',\n      type: 'checkbox',\n      options: [\n        { label: 'Start Date', value: 'bookingIn', checked: false },\n        { label: 'End Date', value: 'bookingOut', checked: false }\n      ]\n    },\n    {\n      placeHolder: 'work_provider',\n      name: 'WorkProviderDto',\n      label: 'work_provider',\n      value: '',\n      type: 'checkbox',\n      options: []\n    },\n    {\n      placeHolder: 'driver_name',\n      name: 'CustomerName',\n      label: 'driver_name',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: true\n    },\n    {\n      placeHolder: 'assigned_to',\n      label: 'assigned_to',\n      name: 'Assignees',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: true\n    },\n    {\n      placeHolder: 'repair_type',\n      name: 'RepairType',\n      label: 'repair_type',\n      value: '',\n      type: 'checkbox',\n      options: []\n    },\n    {\n      placeHolder: 'work_provider_name',\n      name: 'WorkProviderName',\n      label: 'work_provider_name',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: true\n    },\n  ];\n  filterDataLoaded: boolean = false;\n  draftDataLoaded: boolean = false;\n  isFromCalendar = false;\n  calendarCurrentStartDate = null;\n  calendarCurrentEndDate = null;\n\n  isSmallScreen = false;\n  isTouchScreen = false;\n\n  maxAppointmentsPerCell = 2;\n\n  /**\n   * detect change in windows resize\n   */\n  @HostListener('window:resize', [ '$event' ])\n  getScreenSize(): void {\n    this.windowInnerWidth = window.innerWidth;\n\n    if (window.innerWidth < 1024) {\n      this.maxAppointmentsPerCell = 1;\n    } else {\n      this.maxAppointmentsPerCell = 2;\n    }\n\n    if (window.innerWidth < 500) {\n      this.isSmallScreen = true;\n      this.maxAppointmentsPerCell = 0;\n    }\n\n    this.scheduler?.instance.getDataSource().reload();\n  }\n\n  public userDetail;\n  public userIsBM = false;\n\n\n  i18n = this.commonService.geti18nInfo();\n\n  public isReadOnlyPermission: boolean = true;\n\n  /**\n   * Constructor\n   */\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    private formBuilder: FormBuilder,\n    public dialog: MatDialog,\n    private calendarService: CalendarService,\n    private commonService: CommonService,\n    private datePipe: DatePipe,\n    private cdr: ChangeDetectorRef,\n    private bookingService: BookingService,\n    private caseService: CaseService,\n    private xaCurrencyPipe: XaCurrencyPipe,\n    private translateService: TranslateService\n  ) {\n    this.onAppointmentAdd = this.onAppointmentAdd.bind(this);\n    this.getScreenSize();\n\n    this.isTouchScreen = ('ontouchstart' in window) ||\n      (navigator.maxTouchPoints > 0) ||\n      (navigator.maxTouchPoints > 0);\n\n  }\n\n  showCalendar = true;\n  hasQuotePermission = false;\n  windowInnerWidth = 0;\n\n  /**\n   * on init\n   */\n  ngOnInit(): void {\n\n    this.windowInnerWidth = window.innerWidth;\n\n    this.commonService.userProfileData.subscribe((res) => {\n      this.userDetail = res?.data;\n      const automotiveServices = res?.data?.userPermission?.automotiveServices;\n      this.hasQuotePermission = automotiveServices?.some(x => x.automotiveServiceName === 'Carheal Quote');\n      this.userIsBM = this.userDetail?.roleDetail.some(x => x.name == 'Bodyshop Manager');\n\n      if (this.userDetail?.organizationDetail?.id) {\n        this.filterForm.get('OrgName').setValue(this.userDetail?.organizationDetail.id);\n      }\n\n      const automotiveService = automotiveServices?.find(x => x.automotiveServiceName.toLowerCase() === 'addenda repair');\n      if (automotiveService && this.noPermissionRoles['bookingJournal'].includes(automotiveService.roleName.toLowerCase())) {\n        this.isReadOnlyPermission = false;\n      } else {\n        this.isReadOnlyPermission = true;\n      }\n    })\n\n    this.route.queryParams.subscribe((params) => {\n      if (params['bookInDate']) {\n        this.currentDate = new Date(params['bookInDate']);\n      }\n    });\n  }\n\n  /**\n* function\n*/\n  ngAfterViewInit(): void {\n    this.getCalendarData(this.generateFilterQuery());\n    this.cdr.detectChanges();\n  }\n\n\n  /**\n   * Check and pull draft customer data\n   */\n  openDraftCustomer(): void {\n    if (this.draftDataLoaded) {\n      this.showDraftCustomer();\n    } else {\n      this.commonService.showLoading();\n      this.calendarService.getDraftCustomer()?.subscribe({\n        next: (result) => {\n          this.draftData = result.data\n            // .filter(x => !this.bookingIdList.some(y => y === x.bookingGuid))\n            .map(\n              ((x) => {\n                const statusTrimmed = x.status?.replace(/\\s/g, '');\n                let routeToRedirect = '/';\n                if (x.draftCustomerType === 'Repair') {\n                  routeToRedirect += RepairStatusMapper[statusTrimmed?.toLowerCase()] || RepairStatusMapper.others;\n                  routeToRedirect = routeToRedirect.replace('{{repairGUID}}', x.repairGuid)\n                } else if (x.draftCustomerType === 'Quote') {\n                  routeToRedirect += CaseStatusMapper[statusTrimmed?.toLowerCase()] || CaseStatusMapper.others;\n                  routeToRedirect = routeToRedirect.replace('{{caseGUID}}', x.caseGuid)\n                }\n                return {\n                  ...x,\n                  url: routeToRedirect,\n                  statusClass: statusTrimmed\n                }\n              }))\n            .sort(function (a, b) {\n              return new Date(b.createdDate).getTime() - new Date(a.createdDate).getTime();\n            });\n          this.commonService.hideLoading();\n          this.draftDataLoaded = true;\n          this.showDraftCustomer();\n        }\n      });\n    }\n  }\n\n\n  /**\n   * open draft customer panel\n   */\n  showDraftCustomer(open = true): void {\n    if (open) {\n      this.draftCustomer.open();\n    }\n\n    this.calendarWidth = (window.innerWidth - 400) + 'px';\n    this.calendarHeight = this.defaultHeight;\n\n    this.showCalendar = false;\n    setTimeout(() => {\n      this.showCalendar = true;\n      setTimeout(() => {\n        this.scrollToCurrentTime();\n      }, 0);\n    }, 0);\n\n  }\n\n\n  /**\n   * Check if user is bm , then call api otherwise return observable\n   */\n  getOrgIfBM(): Observable<any> {\n    if (this.userIsBM) {\n      return this.caseService.getOrganizations()\n    } else {\n      return of(null);\n    }\n  }\n\n  /**\n   * pull data and open filter panel\n   */\n  openFilter(): void {\n    if (this.filterDataLoaded) {\n      this.filter.toggle();\n    } else {\n      this.commonService.showLoading();\n\n      forkJoin([\n        this.bookingService.getBookingRepairTypes(`?orgIds=${this.userDetail?.organizationDetail.id}`),\n        this.getOrgIfBM(),\n        this.caseService.getProvidersByOrgId(`?orgIds=${this.userDetail?.organizationDetail.id}`),\n        this.caseService.getCaseUsers(`?orgId=${this.userDetail?.organizationDetail.id}`)\n      ]\n      ).pipe(\n        map(([ bookingRepairType, orgList, workProvider, employeeList ]) => {\n          return { bookingRepairType, orgList, workProvider, employeeList };\n        })\n      ).subscribe((result) => {\n        this.filterModal[0].options = result.bookingRepairType.data.BookingTypes.map((x) => { return { label: x.name, value: x.name } });\n\n        if (this.userIsBM) {\n          this.filterModal[1] =\n          {\n            ...this.filterModal[1],\n            selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n            options: result.orgList.data.map((x) => { return { label: x.name, value: x.id } })\n          };\n        } else {\n          this.filterModal[1] =\n          {\n            ...this.filterModal[1],\n            selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n            options: [ { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id } ],\n            disabled: true\n          };\n        }\n\n        this.filterModal[3].options = result.workProvider.data.map((x) => { return { label: x, value: x } });\n        this.filterModal[5] =\n        {\n          ...this.filterModal[5],\n          options: result.employeeList.data.map((x) => { return { label: x.name, value: x.id } })\n        };\n        if (result.bookingRepairType.data.RepairType && result.bookingRepairType.data.RepairType.length > 0) {\n          this.filterModal[6].options = result.bookingRepairType.data.RepairType[0].RepairTypes.map((x) => {\n            return { label: x.name, value: x.id, icon: this.getRepairTpeIcon(x.name) }\n          });\n        }\n\n        this.filter.toggle();\n        this.commonService.hideLoading();\n        this.filterDataLoaded = true;\n      });\n    }\n  }\n\n  /**\n * getRepairTpeIcon\n */\n  getRepairTpeIcon(name): string {\n    const iconMapper = {\n      Body: 'car',\n      Maintenance: 'house',\n      Paint: 'paint',\n      Tires: 'tire',\n      Electric: 'bolt-car',\n      Electrical: 'bolt-car',\n      Mechanical: 'mechanical',\n      Diagnosis: 'diagnosis',\n      Others: 'gears'\n    };\n    return iconMapper[name];\n  }\n\n  /**\n* getDisplayStatus\n*/\n  getDisplayStatus(status): string {\n    const statusMapper =\n    {\n      draft: 'Draft',\n      vehicledetails: 'Vehicle Details',\n      uploaddocuments: 'Upload Documents',\n      uploadphotos: 'Upload Photos',\n      repairestimation: 'Repair Estimation',\n      pendingapproval: 'Pending Approval',\n      approved: 'Approved',\n      reject: 'Reject',\n      rejected: 'Rejected',\n      closed: 'Closed',\n      complete: 'Complete',\n      partsorderedpartially: 'Parts Ordered Partially',\n      partsordered: 'Parts Ordered',\n      repairinprogress: 'Repair In Progress',\n      readytoinvoice: 'Ready To Invoice',\n      invoiceready: 'Invoice Ready',\n      invoiced: 'Invoiced',\n      paid: 'Paid',\n      others: 'Others'\n    }\n    return statusMapper[status.replace(/\\s/g, '').toLowerCase()] || status;\n  }\n\n  public lunchTime = {};\n\n  /**\n  * function\n  */\n  refreshCalendarData(): void {\n    this.calendarData = [];\n    this.getCalendarData(this.generateFilterQuery());\n  }\n\n  /**\n  * function\n  */\n  generateFilterQuery(): string {\n\n    this.calendarCurrentStartDate = this.calendarCurrentStartDate\n      || new Date(this.scheduler.instance.getStartViewDate().toDateString()).toISOString();\n    this.calendarCurrentEndDate = this.calendarCurrentEndDate\n      || new Date(new Date(this.scheduler.instance.getEndViewDate().toDateString()).getTime() + 1000 * 60 * 60 * 24 - 1000).toISOString();\n\n    let startDate = this.calendarCurrentStartDate;\n    let endDate = this.calendarCurrentEndDate;\n    if (this.isFromCalendar) {\n      startDate = new Date(this.scheduler.instance.getStartViewDate().toDateString()).toISOString();\n      endDate = new Date(new Date(this.scheduler.instance.getEndViewDate().toDateString()).getTime() + 1000 * 60 * 60 * 24 - 1000).toISOString();\n\n      this.calendarCurrentStartDate = startDate;\n      this.calendarCurrentEndDate = endDate;\n      this.isFromCalendar = false;\n    }\n\n    const filterValue = this.filterForm.value;\n    let query = `?$filter=((StartDate ge ${startDate} and StartDate le ${endDate}) or (EndDate ge ${startDate} and EndDate le ${endDate}) or (StartDate le ${startDate} and EndDate ge ${endDate}))`;\n\n    if (filterValue['Booking']) {\n      if (filterValue['Booking'].includes('bookingIn') && filterValue['Booking'].includes('bookingOut')) {\n        query = `?$filter=((StartDate ge ${startDate} and StartDate le ${endDate}) and (EndDate ge ${startDate} and EndDate le ${endDate}))`;\n      } else if (filterValue['Booking'].includes('bookingIn')) {\n        query = `?$filter=((StartDate ge ${startDate} and StartDate le ${endDate}))`;\n      } else if (filterValue['Booking'].includes('bookingOut')) {\n        query = `?$filter=((EndDate ge ${startDate} and EndDate le ${endDate}))`;\n      }\n    }\n\n    Object.keys(filterValue).forEach((key) => {\n      switch (key) {\n      case 'OrgName':\n        if (filterValue[key]) {\n          query += ` and (OrgId eq ${filterValue[key]})`;\n        }\n        break;\n      case 'TypeName':\n        if (filterValue[key] && filterValue[key].length > 0) {\n          query += ` and (${filterValue[key].map(x => key + ' eq \\'' + x + '\\'').join(' or ')})`;\n        }\n        break;\n      case 'WorkProviderDto':\n        if (filterValue[key] && filterValue[key].length > 0) {\n          query += ` and (${filterValue[key].map(x => 'WorkProviderDto/CompanyOrgType eq \\'' + x + '\\'').join(' or ')})`;\n        }\n        break;\n      case 'WorkProviderName':\n        if (filterValue[key] && filterValue[key].length > 0) {\n          query += ` and (${filterValue[key].map(x => 'WorkProviderDto/CompanyName eq \\'' + x + '\\'').join(' or ')})`;\n        }\n        break;\n      case 'CustomerName':\n        if (filterValue[key] && filterValue[key].length > 0) {\n          query += ` and (${filterValue[key].map(x => 'Customer/Email eq \\'' + x + '\\'').join(' or ')})`;\n        }\n        break;\n      case 'Assignees':\n        if (filterValue[key] && filterValue[key].length > 0) {\n          const partialQuery = `${filterValue[key].map(x => 'c/AssigneeId eq ' + x).join(' or ')}`;\n          query += ` and Assignees/any(c: (${partialQuery}))`;\n        }\n        break;\n      case 'RepairType':\n        if (filterValue[key] && filterValue[key].length > 0) {\n          const partialQuery = `${filterValue[key].map(x => 'c/RepairServiceTypeId eq ' + x).join(' or ')}`;\n          query += ` and RepairServiceTypes/any(c: (${partialQuery}))`;\n        }\n        break;\n\n      default:\n        break;\n      }\n    });\n\n    return query + '&$count=true';\n  }\n\n  bookingIdList: any[] = [];\n\n  totalEstimate: number = 0;\n  totalLabour: number = 0;\n  totalBooking: number = 0;\n\n  /**\n   * \n   * @param arr \n   * @returns \n   */\n  calculateSum(arr, key): number {\n    return arr.reduce((total, current) => {\n      return total + current[key];\n    }, 0);\n  }\n\n  /**\n   * getCalendarData\n   * @param query \n   */\n  getCalendarData(query: string): void {\n    this.totalEstimate = 0;\n    this.totalLabour = 0;\n    this.totalBooking = 0;\n\n    // this.setDisabledCell();\n    this.bookingIdList = [];\n    this.disabledDate = {};\n    this.weekendDate = {};\n    this.startHour = 0;\n    this.endHour = 24;\n    this.commonService.showLoading();\n\n    forkJoin([\n      this.calendarService.getCalendarData(query),\n      this.calendarService.getSchedule(this.userDetail?.userId, this.calendarCurrentStartDate, this.calendarCurrentEndDate).pipe(catchError(error => of(null)))\n    ]\n    ).pipe(\n      map(([ calendarData, scheduleData ]) => {\n\n        const updatedValue = [];\n        calendarData.value.forEach((orgValue) => {\n          const mappedData = {\n            ...orgValue,\n            StartDate: dayjs(orgValue.StartDate).toDate(),\n            EndDate: dayjs(orgValue.EndDate).toDate(),\n            Color: orgValue.BookingTypeColor, //(orgValue.TypeName === 'Assessment' ? '#3B82F6' : '#03A31B'),\n            Icon: (orgValue.TypeName === 'Assessment' ? 'booking-type-assessment' : 'booking-type-repair'),\n            DisplayStatus: this.getDisplayStatus(orgValue.StatusName)\n          };\n\n          if (!this.isSameDay(mappedData.StartDate, mappedData.EndDate)) {\n            mappedData.allDay = true;\n          }\n          updatedValue.push(mappedData);\n          this.bookingIdList.push(mappedData.BookingGuid);\n\n          const startDate = this.currentView === 'month' ? new Date(this.currentDate.getFullYear(), this.currentDate.getMonth(), 1) : new Date(this.calendarCurrentStartDate);\n          const endDate = this.currentView === 'month' ? new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, 0, 11, 59, 59) : new Date(this.calendarCurrentEndDate);\n\n\n          if (this.checkDateRange(startDate, endDate, mappedData.StartDate)) {\n            this.totalEstimate += mappedData.EstimateCost || 0;\n            this.totalLabour += mappedData.LabourCost || 0;\n            this.totalBooking++;\n          }\n        });\n\n        return { calendarData: updatedValue, scheduleData };\n      })\n    ).subscribe((result) => {\n      this.calendarData = [ ...result.calendarData ];\n\n      this.commonService.hideLoading();\n\n      this.checkSchedule(result.scheduleData);\n\n      this.scrollToCurrentTime();\n    });\n\n  }\n\n  /**\n   * \n   */\n  private scrollToCurrentTime(): void {\n    const currentDate = new Date();\n    let scrollToHour = currentDate.getHours() > 0 ? currentDate.getHours() - 1 : currentDate.getHours();\n\n    if (scrollToHour < this.startHour) {\n      scrollToHour = this.startHour;\n    }\n\n    if (scrollToHour > this.endHour) {\n      scrollToHour = this.endHour - 1;\n    }\n\n    this.scheduler.instance.scrollToTime(scrollToHour, currentDate.getMinutes());\n  }\n\n  /**\n   * \n   * @param data \n   */\n  private checkSchedule(scheduleData): void {\n    let startHour;\n    let endHour;\n    scheduleData?.data?.calenderDays?.forEach((element) => {\n      if (element.breaks && element.breaks.length > 0) {\n        let startTime = dayjs(`${element.date} ${element.breaks[0].startTime} Z`, 'YYYY-MM-DD hh:mm A Z');\n        const endTime = dayjs(`${element.date} ${element.breaks[0].endTime} Z`, 'YYYY-MM-DD hh:mm A Z');\n\n        do {\n          const stringDate = dayjs(startTime.toDate()).toDate().toString();\n\n          this.lunchTime[stringDate] = true;\n          startTime = dayjs.utc(startTime.toDate()).add(30, 'm');\n        } while (startTime < endTime);\n      }\n\n      const date = dayjs(`${element.date} 00:00 AM Z`, 'YYYY-MM-DD hh:mm A Z');\n      if (element.isOff) {\n        this.disabledDate[date.toDate().toDateString()] = true;\n      }\n\n      if (element.isWeekend) {\n        this.weekendDate[date.toDate().toDateString()] = true;\n      }\n\n      if (element.timeSlots && element.timeSlots.length > 0) {\n        const startTime = dayjs(`${element.date} ${element.timeSlots[0].startTime} Z`, 'YYYY-MM-DD HH:mm Z');\n        const endTime = dayjs(`${element.date} ${element.timeSlots[0].endTime} Z`, 'YYYY-MM-DD HH:mm Z');\n\n        if (!startHour || startHour > startTime.toDate().getHours()) {\n          startHour = startTime.toDate().getHours()\n        }\n\n        if (!endHour || endHour < endTime.toDate().getHours()) {\n          endHour = endTime.toDate().getHours()\n          if (endTime.toDate().getMinutes() > 0 && endHour < 24) {\n            endHour = endHour + 1;\n          }\n        }\n\n      }\n    });\n\n    this.startHour = startHour || 0;\n    this.endHour = endHour || 24;\n\n    // this.showCalendar = false;\n    // setTimeout(() => {\n    //   this.showCalendar = true;\n    // }, 0);\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  getStringDate(date): string {\n    return dayjs(date).format('YYYYMMDDHHmm');\n  }\n\n  /**\n   * isSameDay\n   * @param startDate \n   * @param endDate \n   * @returns \n   */\n  isSameDay(startDate: Date, endDate: Date): boolean {\n    const formattedStartDate = this.datePipe.transform(startDate, 'yyyy-MM-dd');\n    const formattedEndDate = this.datePipe.transform(endDate, 'yyyy-MM-dd');\n\n    return formattedStartDate === formattedEndDate;\n  }\n\n  /**\n   * newBooking\n   */\n  newBooking(): void {\n    this.router.navigate([ '/repair/booking/0' ]);\n  }\n\n  /**\n   * handleContextMenu\n   * @param type \n   * @param e \n   * @param appointment \n   */\n  handleContextMenu(type: any, e: any, appointment: any): void {\n    if (type === 'preview') {\n      if (!this.previewOpen) {\n        this.openPreview(appointment);\n      }\n    } else if (type === 'delete') {\n      this.scheduler.instance.deleteAppointment(this.calendarData[this.calendarData.findIndex(x => x.Id == appointment.Id)]);\n    }\n  }\n\n  /**\n   * cancelEvent\n   * @param e \n   */\n  cancelEvent(e): void {\n    e.cancel = true;\n  }\n\n  /**\n   * \n   * @param appointment \n   */\n  openPreview(appointment): void {\n    this.previewOpen = true;\n    appointment.isReadOnlyPermission = this.isReadOnlyPermission;\n    const dialogRef = this.dialog.open(BookingPreviewComponent, { data: appointment, maxHeight: '90vh' });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      this.previewOpen = false;\n      if (result?.success && (result.type === 'delete' || result.type === 'refresh')) {\n        this.refreshCalendarData();\n\n        this.draftClose();\n        this.draftData = [];\n        this.draftDataLoaded = false;\n      }\n    });\n  }\n\n  isDoubleClick = false;\n  previewOpen = false;\n\n  /**\n     * onAppointmentClick\n     * @param e \n     */\n  onAppointmentClick(e): void {\n\n    setTimeout(() => {\n      if (!this.isDoubleClick && !this.previewOpen) {\n        this.openPreview(e.appointmentData);\n      }\n    }, 500);\n    this.isDoubleClick = false;\n    e.cancel = true;\n  }\n\n  /**\n     * onAppointmentDblClick\n     * @param e \n     */\n  onAppointmentDblClick(e): void {\n    this.isDoubleClick = true;\n    const routeToRedirect = RepairStatusMapper[e.appointmentData.StatusName?.replace(/\\s/g, '').toLowerCase()] || RepairStatusMapper.others;\n    this.router.navigate([ routeToRedirect.replace('{{repairGUID}}', e.appointmentData.ObjectGuid) ]);\n    e.cancel = true;\n  }\n\n  /**\n   * onOptionChanged\n   * @param e \n   */\n  onOptionChanged(e: any): void {\n    if (e.name === 'currentView') {\n      this.currentView = e.value;\n      localStorage.setItem('currentView', this.currentView);\n      this.isFromCalendar = true;\n      setTimeout(() => {\n        this.draftClose();\n        this.draftData = [];\n        this.draftDataLoaded = false;\n        this.refreshCalendarData();\n      }, 100);\n\n      this.calendarHeight = this.currentView === 'month' ? '100%' : this.defaultHeight;\n    } else if (e.name === 'currentDate') {\n      this.currentDate = e.value;\n      this.isFromCalendar = true;\n      setTimeout(() => {\n        this.draftClose();\n        this.draftData = [];\n        this.draftDataLoaded = false;\n        this.refreshCalendarData();\n      }, 100);\n    }\n  }\n\n  /**\n   * onCellClick\n   * @param e \n   */\n  onCellClick(e): void {\n    if (!this.previewOpen) {\n      if (this.isReadOnlyPermission) {\n        e.cancel = true;\n        this.commonService.showInfoToast(5000, 'msg_gt_permission');\n      } else {\n        this.checkDateAndOpen(e);\n      }\n    }\n  }\n\n  private noPermissionRoles = {\n    bookingJournal: [ 'bodyshop manager', 'service advisor' ]\n  }\n\n  /**\n   * \n   * @param e \n   */\n  checkDateAndOpen(e): void {\n    if (this.isPastDate(e.cellData.startDate)) {\n      e.cancel = true;\n      this.commonService.showInfoToast(5000, 'cannot_past_date');\n    } else {\n      const isValidAppointment = this.isValidAppointment(e.component, e.cellData);\n\n      if (!isValidAppointment) {\n        e.cancel = true;\n        this.notifyDisableDate();\n      } else {\n        const startDate = this.datePipe.transform(e.cellData.startDate, 'yyyy-MM-ddTHH:mm:ss');\n        const endDate = this.datePipe.transform(e.cellData.endDate, 'yyyy-MM-ddTHH:mm:ss');\n\n        this.router.navigate([ '/repair/booking/0' ], { queryParams: { startDate: startDate, endDate: endDate } });\n      }\n    }\n  }\n\n  /**\n   * \n   * @param e \n   */\n  onAppointmentFormOpening(e: any): void {\n    e.cancel = true;\n    const startDate = e.appointmentData.startDate;\n    if (!this.isValidAppointmentDate(startDate)) {\n      e.cancel = true;\n      this.notifyDisableDate();\n    }\n  }\n\n  /**\n   * \n   * @param e \n   */\n  onAppointmentAdding(e: any): void {\n    const isValidAppointment = this.isValidAppointment(e.component, e.appointmentData);\n    if (!isValidAppointment) {\n      e.cancel = true;\n      this.notifyDisableDate();\n    }\n  }\n\n  /**\n   * \n   * @param e \n   */\n  onAppointmentUpdating(e: any): void {\n    const allowedStatus = [ 'draft', 'vehicledetails', 'uploaddocuments', 'uploadphotos', 'repairestimation', 'pendingapproval', 'approved', 'reject', 'rejected', 'repairinprogress' ];\n    const statusTrimmed = e.oldData.StatusName.toLowerCase().replace(/\\s/g, '');\n\n    if (!this.isReadOnlyPermission && allowedStatus.includes(statusTrimmed)) {\n      const isValidAppointment = this.isValidAppointment(e.component, e.newData);\n      if (!isValidAppointment) {\n        e.cancel = true;\n        this.notifyDisableDate();\n      }\n\n      if (e.newData.TypeName === 'Assessment') {\n        if ((e.newData.StartDate.getTime() === e.oldData.StartDate.getTime() && e.newData.EndDate.getTime() !== e.oldData.EndDate.getTime())\n          || (e.newData.StartDate.getTime() !== e.oldData.StartDate.getTime() && e.newData.EndDate.getTime() === e.oldData.EndDate.getTime())) {\n          //This means that the appointment is resized and you can cancel it.  \n          e.cancel = true;\n        }\n      }\n    } else {\n      e.cancel = true;\n\n      if (!allowedStatus.includes(statusTrimmed)) {\n        const message = this.translateService.instant('cannot_update_datetime_for_status', { status: this.getDisplayStatus(statusTrimmed) });\n        this.commonService.showInfoToast(5000, message);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param e \n   */\n  onAppointmentUpdated(e: any): void {\n    if (!this.isReadOnlyPermission) {\n      const startDate = new Date(e.appointmentData.StartDate.getTime());\n      let endDate = new Date(e.appointmentData.EndDate.getTime());\n\n      if (e.appointmentData.allDay && startDate.getDate() == endDate.getDate()) {\n        endDate = new Date(e.appointmentData.StartDate.getTime());\n        endDate.setDate(endDate.getDate() + 1);\n      }\n\n      this.patchBooking(startDate, endDate, e.appointmentData.BookingGuid).subscribe({\n        next: () => {\n          this.commonService.hideLoading();\n          this.refreshCalendarData();\n        }\n      });\n    } else {\n      e.cancel = true;\n    }\n  }\n\n  /**\n   * \n   * @param startDate \n   * @param endDate \n   * @param bookingGuid \n   * @returns \n   */\n  patchBooking(startDate, endDate, bookingGuid): Observable<any> {\n    const patchValue: any =\n      [\n        {\n          op: 'replace',\n          path: 'StartDate',\n          value: dayjs.utc(startDate).format('YYYY-MM-DDTHH:mm:ss.000') + 'Z'\n        },\n        {\n          op: 'replace',\n          path: 'EndDate',\n          value: dayjs.utc(endDate).format('YYYY-MM-DDTHH:mm:ss.000') + 'Z'\n        },\n        {\n          op: 'replace',\n          path: 'IsArrived',\n          value: 'False'\n        },\n        {\n          op: 'replace',\n          path: 'IsNoShow',\n          value: 'False'\n        },\n      ];\n\n    this.commonService.showLoading();\n\n    return this.calendarService.updateBooking(bookingGuid, patchValue);\n  }\n\n  /**\n   * \n   */\n  notifyDisableDate(): void {\n    this.commonService.showInfoToast(5000, 'cannot_disabled_date');\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  isHoliday(date: Date): boolean {\n    const localeDate = date.toLocaleDateString();\n    const holidays = this.calendarService.getHolidays();\n    return holidays.filter(holiday => holiday.toLocaleDateString() === localeDate).length > 0;\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  isWeekend(date: Date): boolean {\n    const day = date.getDay();\n    return day === 0;\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  isDisableDate(date: Date): boolean {\n    return this.isHoliday(date);// || this.isWeekend(date) || this.isPastDate(date);\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  isPastDate(date: Date): boolean {\n    return date < new Date();\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  isDisabledDateCell(date: Date): boolean {\n    return this.currentView === 'month'\n      ? this.isWeekend(date)\n      : this.isDisableDate(date);\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  // hasCoffeeCupIcon(date: Date): boolean {\n  //   const hours = date.getHours();\n  //   const minutes = date.getMinutes();\n  //   const dinnerTime = this.lunchTime;\n\n  //   return hours === dinnerTime.from && minutes === 0;\n  // }\n\n  /**\n   * \n   * @param component \n   * @param appointmentData \n   * @returns \n   */\n  isValidAppointment(component: any, appointmentData: any): boolean {\n    const startDate = new Date(appointmentData.StartDate || appointmentData.startDate);\n    const endDate = new Date(appointmentData.EndDate || appointmentData.endDate);\n    return this.isValidAppointmentInterval(startDate, endDate, 30);\n  }\n\n  /**\n   * \n   * @param startDate \n   * @param endDate \n   * @param cellDuration \n   * @returns \n   */\n  isValidAppointmentInterval(startDate: Date, endDate: Date, cellDuration: number): boolean {\n    const edgeEndDate = new Date(endDate.getTime());\n\n    if (!this.isValidAppointmentDate(edgeEndDate)) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  isValidAppointmentDate(date: Date): boolean {\n    // return !this.isHoliday(date) &&\n    //   !(date.getHours() >= this.lunchTime.from &&\n    //     date.getHours() < this.lunchTime.to) &&\n    //   !this.isWeekend(date) && !this.isPastDate(date);\n\n    // return !this.isHoliday(date) &&\n    //   !this.isWeekend(date) && !this.isPastDate(date);\n\n    return !this.isPastDate(date);\n  }\n\n  /**\n   * \n   * @param form \n   */\n  applyDisableDatesToDateEditors(form: any): void {\n    const holidays = this.calendarService.getHolidays();\n    const startDateEditor = form.getEditor('startDate');\n    startDateEditor.option('disabledDates', holidays);\n\n    const endDateEditor = form.getEditor('endDate');\n    endDateEditor.option('disabledDates', holidays);\n  }\n\n  /**\n   * \n   * @param currentDate \n   * @returns \n   */\n  getDateText(currentDate): string {\n    const startDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate());\n    const endDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate() + 1);\n\n    const filteredData = this.calendarData.filter(x => this.checkDateRange(startDate, endDate, x.StartDate)).map(a => a);\n\n    if (filteredData.length > 0) {\n      return '<span>' + this.xaCurrencyPipe.transform(this.calculateSum(filteredData, 'EstimateCost'), this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) + '<span>E</span></span>' +\n        '<span>' + this.xaCurrencyPipe.transform(this.calculateSum(filteredData, 'LabourCost'), this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) + '<span>L</span></span>' +\n        '<span class=\"has-background\">' + filteredData.length + '</span>';\n    } else {\n      return '<span>' + this.xaCurrencyPipe.transform(0, this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) + '<span>E</span></span>' +\n        '<span>' + this.xaCurrencyPipe.transform(0, this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) + '<span>L</span></span>' +\n        '<span class=\"has-background\">0</span>';\n    }\n  }\n\n  /**\n   * \n   * @param start \n   * @param end \n   * @param current \n   * @returns \n   */\n  checkDateRange(start: Date, end: Date, current: Date): boolean {\n    if (start <= current && current <= end) {\n      return true;\n    }\n    return false;\n  }\n\n  showProviderChild = false;\n\n  /**\n   * \n   * @param output \n   */\n  onFormUpdate(output: IControlValue): void {\n    if (output.name === 'TypeName' || output.name === 'Booking' || output.name === 'WorkProviderDto' || output.name === 'RepairType') {\n      // eslint-disable-next-line prefer-const\n      let prevValue = this.filterForm.get(output.name).value || [];\n      if (output.value) {\n        if (prevValue.indexOf(output.keyFieldValue) === -1) {\n          prevValue.push(output.keyFieldValue);\n        }\n      } else {\n        const index = prevValue.indexOf(output.keyFieldValue);\n        prevValue.splice(index, 1);\n      }\n      this.filterForm.get(output.name).setValue(prevValue);\n\n      if (output.name === 'WorkProviderDto') {\n        this.showProviderChild = (prevValue.length > 1 || (prevValue.length == 1 && !prevValue.includes('Retail')));\n      }\n\n      if (prevValue.length > 0 && output.name === 'WorkProviderDto') {\n        this.filterModal[4] = { ...this.filterModal[4], value: '', selectedOption: '' };\n        this.filterForm.get('CustomerName').setValue('');\n\n        this.filterModal[7] = { ...this.filterModal[7], value: '', options: [], selectedOption: '' };\n        this.filterForm.get('WorkProviderName').setValue('');\n\n        this.commonService.showLoading();\n        let query = `?$filter= (OrgId eq ${this.filterForm.get('OrgName').value})`;\n        query += `and (${prevValue.map((x) => { return `CompanyOrgType eq '${x}'` }).join(' or ')})`;\n        const orgQuery = `?orgId=${this.filterForm.get('OrgName').value}`;\n        prevValue.forEach((value) => {\n          this.caseService.getCompanyData(value, orgQuery).subscribe({\n            next: (result) => {\n              const concatArray = this.filterModal[7].options.concat(result.data.map((x) => {\n                return { label: x.companyName || x.partnershipName, value: x.companyName || x.partnershipName }\n              }));\n\n              this.filterModal[7] = {\n                ...this.filterModal[7],\n                options: concatArray\n              }\n            }\n          });\n        });\n\n        this.calendarService.getCustomer(query).subscribe({\n          next: (result) => {\n            this.commonService.hideLoading();\n            if (result) {\n              this.filterModal[4] =\n              {\n                ...this.filterModal[4],\n                options: result.value.filter((value, index, self) => {\n                  return self.findIndex(o => o.ContactId === value.ContactId) === index;\n                }).map((x) => {\n                  return {\n                    label: x.FirstName + ' ' + x.LastName,\n                    value: x.Email,\n                    html: `<div class='workflow-customer-item'><span class='name'>${x.FirstName + ' ' + x.LastName}</span><span class='email'>${x.Email}</span></div>`\n                  }\n                })\n              };\n            } else {\n              this.filterModal[4] =\n              {\n                ...this.filterModal[4],\n                options: []\n              };\n            }\n          },\n          error: () => {\n            this.filterModal[4] =\n            {\n              ...this.filterModal[4],\n              options: []\n            };\n\n            this.commonService.hideLoading();\n          }\n        });\n      } else {\n        this.filterModal[4] =\n        {\n          ...this.filterModal[4],\n          options: []\n        };\n      }\n\n    } else if (output.name === 'Assignees') {\n      this.filterModal[5] = { ...this.filterModal[5], selectedOption: output.value };\n      this.filterForm.get(output.name).setValue(output.value.map((x) => { return x.value }));\n    } else if (output.name === 'CustomerName') {\n      this.filterModal[4] = { ...this.filterModal[4], selectedOption: output.value };\n      this.filterForm.get(output.name).setValue(output.value.map((x) => { return x.value }));\n    } else if (output.name === 'WorkProviderName') {\n      this.filterModal[7] = { ...this.filterModal[7], selectedOption: output.value };\n      this.filterForm.get(output.name).setValue(output.value.map((x) => { return x.value }));\n    } else if (output.name === 'OrgName') {\n      this.filterModal[1] = { ...this.filterModal[1], selectedOption: output.value };\n      this.filterForm.get(output.name).setValue(output.value.value);\n\n      this.filterModal[0] = {\n        ...this.filterModal[0],\n        options: []\n      };\n      this.filterModal[3] = {\n        ...this.filterModal[3],\n        options: []\n      };\n      this.filterModal[4] =\n      {\n        ...this.filterModal[4],\n        options: []\n      };\n      this.filterModal[5] =\n      {\n        ...this.filterModal[5],\n        options: []\n      };\n      this.filterModal[6] =\n      {\n        ...this.filterModal[6],\n        options: []\n      };\n      this.filterModal[7] =\n      {\n        ...this.filterModal[7],\n        options: []\n      };\n      this.filterForm.get('WorkProviderDto').setValue('');\n      this.filterForm.get('WorkProviderName').setValue('');\n      this.filterForm.get('CustomerName').setValue('');\n      if (this.filterForm.get(output.name).value) {\n        this.getWorkProviders(this.filterForm.get(output.name).value);\n        this.applyButton = { ...this.applyButton, type: 'primary' };\n      } else {\n        this.applyButton = { ...this.applyButton, type: 'disabled' };\n      }\n\n      this.showProviderChild = false;\n    } else {\n      this.filterForm.get(output.name).setValue(output.value);\n    }\n\n  }\n\n  /**\n   * \n   * @param value \n   * @returns \n   */\n  formatLabel(value: number): string {\n    if (value >= 1000) {\n      return Math.round(value / 1000) + 'k';\n    }\n\n    return `${value} `;\n  }\n\n  public disabledDate: any = {};\n  public weekendDate: any = {};\n\n  /**\n   * \n   */\n  // setDisabledCell(): void {\n  //   const startDate = this.scheduler.instance.getStartViewDate();\n  //   const endDate = this.scheduler.instance.getEndViewDate();\n\n\n\n  //   for (const date = startDate; date <= endDate; date.setDate(date.getDate() + 1)) {\n  //     // if (this.isPastDate(startDate)) {\n  //     //   this.disabledDate[startDate.toDateString()] = true;\n  //     //   continue;\n  //     // }\n\n  //     if (this.isDisableDate(date)) {\n  //       this.disabledDate[date.toDateString()] = true;\n  //     } else {\n  //       if (this.isWeekend(date)) {\n  //         this.weekendDate[date.toDateString()] = true;\n  //       }\n  //     }\n\n  //   }\n  // }\n\n  /**\n   * \n   */\n  applyFilter(): void {\n    this.refreshCalendarData();\n    this.filter.close();\n  }\n\n  /**\n   * \n   */\n  resetFilter(): void {\n    this.filterForm.reset();\n\n    for (let index = 0; index < this.filterModal.length; index++) {\n      if (!this.filterModal[index].disabled) {\n        this.filterModal[index] = {\n          ...this.filterModal[index],\n          value: '',\n          selectedOption: '',\n          options: this.filterModal[index].options?.map((x) => { x.checked = false; return x; })\n        }\n      }\n    }\n\n    this.showProviderChild = false;\n\n    if (this.userDetail?.organizationDetail?.id) {\n      this.filterForm.get('OrgName').setValue(this.userDetail?.organizationDetail.id);\n\n      this.filterModal[1] =\n      {\n        ...this.filterModal[1],\n        selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n      };\n\n      if (this.filterForm.get('OrgName').value) {\n        this.getWorkProviders(this.filterForm.get('OrgName').value);\n      }\n    }\n    this.applyButton = { ...this.applyButton, type: 'primary' };\n    // this.refreshCalendarData();\n    // this.filter.close();\n  }\n\n  /*Draft customer*/\n\n  /**\n   * \n   * @param e \n   */\n  onItemDragStart(e): void {\n    e.itemData = e.fromData;\n  }\n\n  /**\n   * \n   * @param e \n   */\n  onItemDragEnd(e): void {\n    if (e.toData) {\n      e.cancel = true;\n    }\n  }\n\n  /**\n   * \n   * @param e \n   */\n  onAppointmentAdd(e): void {\n    if (this.isReadOnlyPermission) {\n      this.commonService.showInfoToast(5000, 'msg_gt_permission');\n    } else {\n      this.addAppointmentFromDraft(e);\n    }\n  }\n\n  /**\n   * \n   * @param e \n   */\n  addAppointmentFromDraft(e): void {\n    if (this.isPastDate(e.itemData.StartDate)) {\n      e.cancel = true;\n      this.commonService.showInfoToast(5000, 'cannot_past_date');\n    } else {\n      const isValidAppointment = this.isValidAppointment(e.component, e.itemData);\n\n      if (!isValidAppointment) {\n        e.cancel = true;\n        this.notifyDisableDate();\n      } else {\n        if (e.itemData.draftCustomerType === 'Quote') {\n          if (e.itemData.status == 'Repair Estimation') {\n\n            const startDate = this.datePipe.transform(e.itemData.StartDate, 'yyyy-MM-ddTHH:mm:ss');\n            const endDate = this.datePipe.transform(e.itemData.EndDate, 'yyyy-MM-ddTHH:mm:ss');\n\n            this.router.navigate([ 'repair/booking/0' ], {\n              queryParams:\n                { 'caseId': e.itemData.caseGuid, 'startDate': startDate, 'endDate': endDate }\n            });\n          } else {\n            this.router.navigate([ `/quote/case/${e.itemData.caseGuid}` ]);\n          }\n        } else if (e.itemData.draftCustomerType === 'Repair') {\n          this.patchBooking(e.itemData.StartDate, e.itemData.EndDate, e.itemData.bookingGuid).subscribe({\n            next: () => {\n              this.commonService.hideLoading();\n              this.draftDataLoaded = false;\n              this.refreshCalendarData();\n              this.openDraftCustomer();\n            }\n          });\n        } else {\n          this.commonService.showInfoToast(1000, 'draft_type_not_defined');\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   * @param type \n   * @param e \n   * @param customer \n   */\n  handleDraftAction(type: any, e: any, customer: any): void {\n    if (type === 'preview') {\n      if (customer.draftCustomerType == 'Repair') {\n        this.router.navigate([ `/repair/booking/${customer.repairGuid}` ]);\n      } else if (customer.draftCustomerType == 'Quote') {\n        this.router.navigate([ `/quote/case/${customer.caseGuid}` ]);\n      }\n    } else if (type === 'delete') {\n      this.commonService.openDeleteDialog('customer')\n        .afterClosed().subscribe((data) => {\n          if (data) {\n            this.commonService.showLoading();\n            this.calendarService.deleteDraftCustomer(customer.id).subscribe({\n              next: () => {\n                this.commonService.hideLoading();\n                this.draftDataLoaded = false;\n                this.openDraftCustomer();\n              }\n            });\n          }\n        });\n    }\n  }\n\n  /**\n   * \n   */\n  draftClose(): void {\n    this.draftCustomer.close();\n    this.calendarWidth = '100%';\n    this.calendarHeight = this.currentView === 'month' ? '100%' : this.defaultHeight;\n  }\n\n  /**\n   * get work providers\n   * @param orgId \n   */\n  getWorkProviders(orgId: any): void {\n    this.commonService.showLoading();\n    // this.caseService.getProvidersByOrgId(`?orgIds=${orgId}`).subscribe({\n    //   next: (result) => {\n    //     this.commonService.hideLoading();\n    //     this.filterModal[3].options = result.data.map((x) => { return { label: x, value: x } });\n    //   },\n    //   error: (err) => {\n    //     this.commonService.hideLoading();\n    //   }\n    // });\n\n\n    forkJoin([\n      this.bookingService.getBookingRepairTypes(`?orgIds=${orgId}`),\n      this.caseService.getProvidersByOrgId(`?orgIds=${orgId}`),\n      this.caseService.getCaseUsers(`?orgId=${orgId}`)\n    ]\n    ).pipe(\n      map(([ bookingRepairType, workProvider, employeeList ]) => {\n        return { bookingRepairType, workProvider, employeeList };\n      })\n    ).subscribe((result) => {\n      if(result?.bookingRepairType?.data) this.filterModal[0].options = result?.bookingRepairType?.data.BookingTypes.map((x) => { return { label: x.name, value: x.name } });\n\n      if(result?.workProvider?.data) this.filterModal[3].options = result?.workProvider?.data.map((x) => { return { label: x, value: x } });\n\n      if(result?.employeeList?.data) {\n        this.filterModal[5] =\n        {\n          ...this.filterModal[5],\n          options: result?.employeeList?.data?.map((x) => { return { label: x.name, value: x.id } })\n        };\n      }\n      \n\n      if (result.bookingRepairType.data.RepairType && result.bookingRepairType.data.RepairType.length > 0) {\n        this.filterModal[6].options = result.bookingRepairType.data.RepairType[0].RepairTypes.map((x) => {\n          return { label: x.name, value: x.id, icon: this.getRepairTpeIcon(x.name) }\n        });\n      }\n\n      this.commonService.hideLoading();\n    });\n  }\n}","<div class=\"calendar-header-container\" [ngClass]=\"{'margin-right':isiOS }\">\n    <div class=\"filter\">\n        <chq-button [buttonModel]=\"newBookingButton\" (click)=\"newBooking()\"\n            *chqPermission=\"'bookingJournal'\"></chq-button>\n        <chq-button [buttonModel]=\"draftButton\" (click)=\"openDraftCustomer()\"></chq-button>\n        <chq-button [buttonModel]=\"filterButton\" (click)=\"openFilter()\"></chq-button>\n    </div>\n\n    <p class=\"total\">\n        <span><span>E</span><b>{{totalEstimate |\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</b> {{'total_estimated' |\n            translate}}</span>\n        <span><span>L</span><b>{{totalLabour |\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</b> {{'total_labour' |\n            translate}}</span>\n        <span><span class=\"has-background\">{{ totalBooking }}</span>\n            <ng-container *ngIf=\"totalBooking === 1; else elseTemplate\">\n                {{ 'no_of_booking' | translate }}\n            </ng-container>\n            <ng-template #elseTemplate>\n                {{ 'no_of_bookings' | translate }}\n            </ng-template>\n        </span>\n    </p>\n</div>\n\n<div class=\"booking-calendar mh-0\" [ngClass]=\"{'margin-right':isiOS }\">\n    <!-- [ngClass]=\"{'mt-0': windowInnerWidth >= 1200}\" -->\n    <!-- [height]=\"'calc(100vh - (5px + 0.8vw + 5px + 1.5vw + 48px + 66px))'\" -->\n    <dx-scheduler *ngIf=\"showCalendar\" [width]='calendarWidth' [height]=\"calendarHeight\" [editing]=\"true\"\n        [dataSource]=\"calendarData\" [views]=\"['day', 'week', 'month']\" [currentView]=\"currentView\"\n        [adaptivityEnabled]=\"isSmallScreen\" startDateExpr=\"StartDate\" endDateExpr=\"EndDate\" [firstDayOfWeek]=\"1\"\n        [startDayHour]=\"0\" [endDayHour]=\"24\" [currentDate]=\"currentDate\" [cellDuration]=\"30\"\n        [useDropDownViewSwitcher]=\"false\" [crossScrollingEnabled]=\"true\" dateCellTemplate=\"dateCellTemplate\"\n        timeCellTemplate=\"timeCellTemplate\" dataCellTemplate=\"dataCellTemplate\"\n        appointmentTemplate=\"appointment-template\" appointmentTooltipTemplate=\"appointment-tooltip-template\"\n        [showCurrentTimeIndicator]=\"true\" (onAppointmentFormOpening)=\"onAppointmentFormOpening($event)\"\n        (onAppointmentUpdating)=\"onAppointmentUpdating($event)\" (onAppointmentUpdated)=\"onAppointmentUpdated($event)\"\n        (onAppointmentClick)=\"onAppointmentClick($event)\" (onAppointmentDblClick)=\"onAppointmentDblClick($event)\"\n        (onOptionChanged)=\"onOptionChanged($event)\" (onCellClick)=\"onCellClick($event)\"\n        [maxAppointmentsPerCell]=\"maxAppointmentsPerCell\">\n\n        <div *dxTemplate=\"let dataCell of 'dataCellTemplate'\"\n            [ngClass]=\"{'disable-date' : disabledDate[dataCell.startDate.toDateString()],'weekend' : weekendDate[dataCell.startDate.toDateString()], 'readonly': isReadOnlyPermission,'dinner': lunchTime[dataCell.startDate.toString()]}\">\n            {{ currentView === 'month' ? dataCell.startDate.getDate() : \"\" }}\n\n        </div>\n\n        <div *dxTemplate=\"let dateCell of 'dateCellTemplate'\"\n            [ngClass]=\"{ 'disable-date': disabledDate[dateCell.date.toDateString()] }\">\n            <p *ngIf=\"currentView !== 'month'\" class=\"calendar-header header-info\"\n                [ngClass]=\"{'flex-column': getDateText(dateCell.date).length > 105}\"\n                [innerHtml]=\"getDateText(dateCell.date)\"></p>\n            <p *ngIf=\"currentView !== 'month'\" class=\"calendar-header date-info\">\n                {{ dateCell.date | date: 'd EEE' }}\n            </p>\n            <p *ngIf=\"currentView === 'month'\" class=\"calendar-header date-info\">\n                {{ dateCell.text }}\n            </p>\n        </div>\n\n        <div *dxTemplate=\"let timeCell of 'timeCellTemplate'\">\n            <!-- [ngClass]=\"{ dinner: timeCell.date.getHours() >= lunchTime.from && timeCell.date.getHours() < lunchTime.to }\" -->\n            {{ timeCell.text ? (timeCell.date | date:'HH:mm') : '' }}\n        </div>\n\n        <div *dxTemplate=\"let model of 'appointment-template'\">\n            <div class='template-wrap' [style.background]=\"model.targetedAppointmentData.Color\">\n                <div class=\"template-content-wrap\">\n                    <div class=\"subject\">\n                        <span>{{model.targetedAppointmentData.Customer?.FirstName}}\n                            {{model.targetedAppointmentData.Customer?.LastName}}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div *dxTemplate=\"let model of 'appointment-tooltip-template'\">\n            <div class='tooltip-template-wrap'\n                [style.border-left]=\"'12px solid ' + model.targetedAppointmentData.Color\">\n                <div class=\"tooltip-content-wrap\">\n                    <div class=\"subject\">\n                        <span>{{model.targetedAppointmentData.Customer?.FirstName}}\n                            {{model.targetedAppointmentData.Customer?.LastName}}</span>\n                    </div>\n                    <div class=\"booking-detail\">\n                        <div class=\"assigned\">Work Provider:\n                            {{model.targetedAppointmentData.WorkProviderDto?.CompanyName}}\n                        </div>\n                        <div class=\"status\">Status: {{model.targetedAppointmentData.DisplayStatus}}</div>\n                    </div>\n                </div>\n                <div class=\"context-menu\">\n                    <button (click)=\"handleContextMenu('preview', $event, model.targetedAppointmentData)\">\n                        <mat-icon [svgIcon]=\"'show'\" color=\"black\"></mat-icon>\n                    </button>\n                </div>\n            </div>\n        </div>\n\n        <dxo-appointment-dragging [group]=\"'customer'\" [onAdd]=\"onAppointmentAdd\">\n        </dxo-appointment-dragging>\n\n        <dxo-scrolling mode=\"virtual\"> </dxo-scrolling>\n    </dx-scheduler>\n</div>\n\n<mat-sidenav-container [hasBackdrop]=\"true\">\n    <mat-sidenav #filter [mode]=\"'over'\" [position]=\"'end'\" class=\"filter-sidenav\">\n        <div class=\"filter-container\">\n            <div class=\"header\">\n                <div class=\"title\">\n                    {{ 'filters' | translate }}\n                </div>\n                <div class=\"action\">\n                    <button (click)=\"filter.toggle()\">\n                        <mat-icon [svgIcon]=\"'cross'\" color=\"white\"></mat-icon>\n                    </button>\n                </div>\n            </div>\n\n            <form class=\"form-container\" [formGroup]=\"filterForm\">\n                \n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <chq-input [inputModel]=\"filterModal[1]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <hr class=\"no-line\">\n                <div class=\"row custom-checkbox\">\n                    <div class=\"col-12\">\n                        <chq-input\n                            [ngClass]=\"{ 'two-per-row': (filterModal[0].options.length < 3 || filterModal[0].options[2]?.label.length > 12) }\"\n                            [inputModel]=\"filterModal[0]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <hr class=\"no-line\" *ngIf=\"filterModal[0].options.length > 0\">\n                <div class=\"row custom-checkbox\">\n                    <div class=\"col-12\">\n                        <chq-input class=\"two-per-row\" [inputModel]=\"filterModal[2]\"\n                            (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <hr *ngIf=\"filterModal[3].options.length > 0\">\n                <div class=\"row custom-checkbox\">\n                    <div class=\"col-12\">\n                        <chq-input class=\"two-per-row\" [inputModel]=\"filterModal[3]\"\n                            (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <hr class=\"no-line\" *ngIf=\"showProviderChild\">\n                <div class=\"row\" *ngIf=\"showProviderChild\">\n                    <div class=\"col-12\">\n                        <chq-input [inputModel]=\"filterModal[7]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <hr class=\"no-line\"\n                    *ngIf=\"filterForm.get('WorkProviderDto').value && filterForm.get('WorkProviderDto').value.length > 0\">\n                <div class=\"row\"\n                    *ngIf=\"filterForm.get('WorkProviderDto').value && filterForm.get('WorkProviderDto').value.length > 0\">\n                    <div class=\"col-12\">\n                        <chq-input [inputModel]=\"filterModal[4]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <hr *ngIf=\"filterModal[5].options.length > 0\">\n                <div *ngIf=\"filterModal[5].options.length > 0\" class=\"row\">\n                    <div class=\"col-12\">\n                        <chq-input [inputModel]=\"filterModal[5]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <hr *ngIf=\"filterModal[6].options.length > 0\">\n                <div class=\"row custom-checkbox\">\n                    <div class=\"col-12\">\n                        <chq-input class=\"two-per-row\" [inputModel]=\"filterModal[6]\"\n                            (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n            </form>\n            <div class=\"footer\">\n                <div class=\"row\">\n                    <div class=\"col-6\">\n                        <chq-button [buttonModel]=\"applyButton\" (click)=\"applyFilter()\"></chq-button>\n                    </div>\n                    <div class=\"col-6\">\n                        <chq-button [buttonModel]=\"resetButton\" (click)=\"resetFilter()\"></chq-button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </mat-sidenav>\n</mat-sidenav-container>\n\n<mat-sidenav-container class=\"draft-sidenav-container\" [hasBackdrop]=\"false\">\n    <mat-sidenav #draftcustomer [mode]=\"'over'\" [position]=\"'end'\" class=\"draft-sidenav\">\n        <div class=\"draft-container\">\n            <div class=\"header\">\n                <div class=\"title\">\n                    {{ 'draft_customers' | translate }}\n                </div>\n                <div class=\"action\">\n                    <button (click)=\"draftClose()\">\n                        <mat-icon [svgIcon]=\"'cross'\" color=\"white\"></mat-icon>\n                    </button>\n                </div>\n            </div>\n\n            <div *ngIf=\"!draftData || draftData.length === 0\" class=\"no-data-wrapper\">\n                <div class=\"no-data-content\">\n                    <img src=\"assets/img/no-data.png\" alt=\"\">\n                    <span>{{'no_result_found' | translate}}</span>\n                    <span>{{'could_not_find_any_data' | translate}}.</span>\n                </div>\n            </div>\n\n            <dx-draggable class=\"item dx-card dx-theme-text-color dx-theme-background-color\" [clone]=\"true\"\n                handle=\".draggable\" [group]=\"'customer'\" [data]=\"customer\" (onDragStart)=\"onItemDragStart($event)\"\n                (onDragEnd)=\"onItemDragEnd($event)\" *ngFor=\"let customer of draftData\">\n                <div class='draft-wrap'>\n                    <mat-icon [svgIcon]=\"'list'\" color=\"light-gray\" class=\"draggable\"></mat-icon>\n                    <div class=\"draft-content-wrap\">\n                        <div class=\"subject\">\n                            <span>\n                                {{customer.firstName}}\n                                {{customer.lastName}}\n                            </span>\n                        </div>\n                        <div class=\"booking-detail\">\n                            <span class=\"value\">\n                                {{customer.createdDate | date:'dd/MM/yyyy hh:mm:ss'}}\n                            </span>\n                            <span *ngIf=\"customer.statusClass === 'RepairEstimation'\">\n                                License Plate: <span class=\"value\">{{customer.licensePlateNumber}}</span>\n                            </span>\n                            <span *ngIf=\"customer.statusClass === 'RepairEstimation'\">\n                                Amount:\n                                <span class=\"value\">\n                                    {{customer.cost |\n                                    xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}\n                                </span>\n                            </span>\n                        </div>\n                        <div class=\"status {{customer.statusClass}}\">\n                            <span>\n                                {{customer.status}}\n                            </span>\n                        </div>\n                    </div>\n                    <div class=\"draft-action-menu\">\n                        <a [ngClass]=\"{'disabled': !hasQuotePermission && customer.draftCustomerType === 'Quote'}\"\n                            [routerLink]=\"[customer.url]\">\n                            <mat-icon [svgIcon]=\"'show'\" color=\"black\"></mat-icon>\n                        </a>\n                        <a *chqPermission=\"'bookingJournal'\" (click)=\"handleDraftAction('delete', $event, customer)\">\n                            <mat-icon [svgIcon]=\"'trash'\" color=\"red\"></mat-icon>\n                        </a>\n                    </div>\n                </div>\n            </dx-draggable>\n        </div>\n    </mat-sidenav>\n</mat-sidenav-container>\n\n<div class=\"footer-full-wrapper\">\n    <div class=\"footer-image-wrapper\">\n        <div class=\"image-wrapper\">\n            <img src=\"assets/img/addenda-repair.png\" />\n        </div>\n    </div>\n</div>","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable require-jsdoc */\nimport { Component, Inject, OnChanges, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { NavigationStart, Router, RouterEvent } from '@angular/router';\nimport { filter, take, tap } from 'rxjs';\nimport { RepairStatusMapper } from 'src/app/config/route-mapper/repair-status-mapper';\nimport { CalendarService } from 'src/app/services/calendar/calendar.service';\nimport { CommonService } from 'src/app/services/common/common.service';\n\n@Component({\n  selector: 'booking-preview',\n  templateUrl: './booking-preview.component.html',\n  styleUrls: [ './booking-preview.component.scss' ],\n  providers: [ CalendarService ]\n})\nexport class BookingPreviewComponent implements OnInit, OnChanges {\n  public iconMapper = {\n    Body: 'car',\n    Maintenance: 'house',\n    Paint: 'paintbrush',\n    Tyres: 'tire',\n    Electric: 'bolt-car',\n    Tires: 'tire',\n    Electrical: 'bolt-car',\n    Mechanical: 'mechanical',\n    Diagnosis: 'diagnosis',\n    Others: 'gears'\n  };\n\n  public isArrived = false;\n  public isNoShow = false;\n\n  public isArrivedVisible = false;\n  public isNoShowVisible = false;\n  public isRepairCreatedFromCase = false;\n  public status = '';\n\n  private changesMade: boolean = false;\n\n  constructor(\n    public dialog: MatDialog,\n    public dialogRef: MatDialogRef<BookingPreviewComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private router: Router,\n    private calendarService: CalendarService,\n    private commonService: CommonService\n  ) {\n\n    // Close dialog ref on route changes\n    router.events.pipe(\n      filter((event: RouterEvent) => event instanceof NavigationStart),\n      tap(() => this.dialogRef.close()),\n      take(1),\n    ).subscribe();\n  }\n\n\n  /**\n   * booking url\n   */\n  get bookingStatusUrl(): string {\n    const { StatusName, ObjectGuid } = this.data;\n    let routeToRedirect = RepairStatusMapper[StatusName?.replace(/\\s/g, '')?.toLowerCase()] || RepairStatusMapper.others;\n    routeToRedirect = routeToRedirect.replace('{{repairGUID}}', ObjectGuid)\n    return routeToRedirect;\n  }\n\n  /**\n   * show delete\n   */\n  get showDelete(): boolean {\n    if (this.status?.toLowerCase() === 'draft') {\n      return true;\n    } else if (this.isRepairCreatedFromCase == true && this.status?.toLowerCase() == 'repairestimation') {\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * detects changes in input attributes\n   * @param changes \n   */\n  ngOnInit(): void {\n    this.isArrived = this.data.IsArrived;\n    this.isNoShow = this.data.IsNoShow;\n    this.status = this.data.StatusName;\n    this.isRepairCreatedFromCase = this.data.IsRepairCreatedFromCase;\n\n    this.calculateTimeDifference();\n\n    this.dialogRef.beforeClosed().subscribe(() => this.dialogRef.close({ 'success': this.changesMade, 'type': 'refresh' }));\n  }\n\n  /**\n * detects changes in input attributes\n * @param changes \n */\n  ngOnChanges(): void {\n    this.isArrived = this.data.IsArrived;\n    this.isNoShow = this.data.IsNoShow;\n    this.status = this.data.StatusName;\n    this.isRepairCreatedFromCase = this.data.IsRepairCreatedFromCase;\n\n    this.calculateTimeDifference();\n  }\n\n  calculateTimeDifference(): void {\n    const currentDate = new Date();\n    const bookingInDate = this.data.StartDate;\n    const canActivateDate = new Date(bookingInDate.getTime() - 30 * 60000);\n    if (currentDate > canActivateDate) {\n      this.isArrivedVisible = true;\n    }\n\n    if (currentDate > bookingInDate) {\n      this.isNoShowVisible = true;\n      this.isArrivedVisible = false;\n    }\n  }\n\n  deleteBooking(id): void {\n    this.commonService.openDeleteDialog()\n      .afterClosed().subscribe((data) => {\n        if (data) {\n          this.commonService.showLoading();\n          this.calendarService.deleteBooking(id).subscribe({\n            next: () => {\n              this.dialogRef.close({ 'success': true, 'type': 'delete', 'id': id });\n              this.commonService.hideLoading();\n            }\n          });\n        }\n      });\n  }\n\n  onToggleChange(e): void {\n    if (e.checked && e.name == 'noshow') {\n      this.isNoShow = true;\n      this.isArrived = false;\n    } else if (e.checked && e.name == 'arrived') {\n      this.isNoShow = false;\n      this.isArrived = true;\n    } else {\n      this.isNoShow = false;\n      this.isArrived = false;\n    }\n\n    const patchValue: any =\n      [\n        {\n          op: 'replace',\n          path: 'IsArrived',\n          value: this.isArrived ? 'True' : 'False'\n        },\n        {\n          op: 'replace',\n          path: 'IsNoShow',\n          value: this.isNoShow ? 'True' : 'False'\n        },\n      ];\n\n    this.commonService.showLoading();\n\n    this.calendarService.updateBooking(this.data.BookingGuid, patchValue).subscribe({\n      next: () => {\n        this.commonService.hideLoading();\n        this.changesMade = true;\n      },\n      error: () => {\n        e.cancel = true;\n      }\n    });\n  }\n\n  partsIconMapper = {\n    'Ordered': 'parts-ordered',\n    'Arrived Partially': 'parts-arrived-partial',\n    'Arrived': 'parts-arrived',\n    'Ordered Partially': 'parts-ordered-partial',\n    'Not Ordered': 'parts-not-ordered'\n  }\n\n  joinAssignees(Assignees): string {\n    return Assignees?.map(x => x.AssigneeName).join(', ');\n  }\n\n}","<div class=\"dialog-with-header large-width\">\n    <div class=\"header\" [ngStyle]=\"{'background-color': data.Color}\">\n        <div class=\"title\">\n            {{ 'booking_details' | translate}} - {{data.TypeName}}\n        </div>\n        <div class=\"action\">\n            <button>\n                <mat-icon [svgIcon]=\"'cross'\" color=\"white\" [mat-dialog-close]=\"\"></mat-icon>\n            </button>\n        </div>\n    </div>\n\n    <mat-dialog-content class=\"mat-typography\">\n        <div class=\"booking-preview-wrapper\">\n            <div class=\"booking-preview-content\">\n                <div class=\"section-header\">\n                    <div class=\"section-title\">\n                        <mat-icon [svgIcon]=\"'person-circle'\" color=\"black-medium\"></mat-icon>\n                        <span>{{ 'customer_details' | translate}}</span>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'first_name' | translate}}: <span class=\"info-content short-text\">{{data.Customer?.FirstName ||\n                                '-'}}</span></label>\n                    </div>\n                    <div class=\"detail-col\">\n                        <label>{{ 'last_name' | translate}}: <span class=\"info-content short-text\">{{data.Customer?.LastName ||\n                                '-'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'work_provider' | translate}}: <span\n                                class=\"info-content\">{{data.WorkProviderDto?.CompanyName ||\n                                data.WorkProviderDto?.CompanyOrgType || '-'}}</span></label>\n                    </div>\n                </div>\n\n                <div class=\"section-header\">\n                    <div class=\"section-title\">\n                        <mat-icon [svgIcon]=\"'car'\" color=\"black-medium\"></mat-icon>\n                        <span>{{ 'vehicle_detail' | translate}}</span>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'car_make' | translate}}: <span class=\"info-content\">{{data.Vehicle?.Make ||\n                                '-'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'car_model' | translate}}: <span class=\"info-content\">{{data.Vehicle?.Model ||\n                                '-'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'license_plate' | translate}}: <span class=\"info-content\">{{data.Vehicle?.LicensePlate\n                                || '-'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'import_interval' | translate}}:\n                            <span class=\"info-content\">\n                                {{ data.Vehicle?.VehicleId ? data.Vehicle?.ModelInterval || '-' : '-'}}\n                            </span>\n                        </label>\n                    </div>\n                </div>\n\n                <div class=\"section-header\">\n                    <div class=\"section-title\">\n                        <mat-icon [svgIcon]=\"'magazine'\" color=\"black-medium\"></mat-icon>\n                        <span>{{ 'booking_details' | translate}}</span>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'assigned_to' | translate}}:\n                            <ng-container *ngIf=\"data.Assignees?.length > 0; else emptyAssignee\">\n                                <span class=\"info-content\" inner>{{ joinAssignees(data.Assignees) }}</span>\n                            </ng-container>\n                            <ng-template #emptyAssignee>\n                                <span class=\"info-content\">-</span>\n                            </ng-template>\n\n\n                        </label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'status' | translate}}: <span class=\"info-content\">\n                                {{data.DisplayStatus || '-'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\" *ngIf=\"data.TypeName === 'Repair'\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'repair_type' | translate}}:\n                            <ng-container *ngFor=\"let repairType of data.RepairServiceTypes\">\n                                <mat-icon [svgIcon]=\"iconMapper[repairType.RepairServiceTypeName]\"\n                                    [matTooltip]=\"repairType.RepairServiceTypeName\"></mat-icon>\n                            </ng-container>\n                        </label>\n                    </div>\n                </div>\n                <div class=\"detail-row\" *ngIf=\"data.TypeName === 'Repair'\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'stage' | translate}}: <span class=\"info-content\">{{data.Stage || '-'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'booking_in' | translate}}: <span class=\"info-content\">{{data.StartDate | date:'EE d\n                                MMM y h:mm:ss a'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'booking_out' | translate}}: <span class=\"info-content\">{{data.EndDate | date:'EE d\n                                MMM y h:mm:ss a'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\" *ngIf=\"data.TypeName === 'Repair'\">\n                        <label>{{ 'parts' | translate }}:\n                            <div class=\"icon-container\">\n                                <div class=\"icon-wrapper\" [matTooltip]=\"data.RepairPartsGeneralStatus || 'Not Ordered'\"\n                                    matTooltipPosition=\"above\">\n                                    <mat-icon\n                                        [svgIcon]=\"partsIconMapper[data.RepairPartsGeneralStatus || 'Not Ordered']\"></mat-icon>\n                                </div>\n                            </div>\n                        </label>\n                    </div>\n                </div>\n            </div>\n            <div class=\"booking-preview-action\">\n                <div class=\"section-header transparent\">\n                    <div class=\"section-title\">\n                        <span>{{ 'actions' | translate}}</span>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <a class=\"button button-outline\"\n                            [routerLink]=\"bookingStatusUrl\"\n                            [queryParams]=\"{ mode: 'edit' }\" *chqPermission=\"'viewBooking'\">\n                            <mat-icon [svgIcon]=\"'edit'\" aria-hidden=\" false\" aria-label='edit icon'></mat-icon>\n                            <label *ngIf=\"!data.isReadOnlyPermission\" class=\"action-btn\">{{ 'edit_booking' |\n                                translate}}</label>\n                            <label *ngIf=\"data.isReadOnlyPermission\" class=\"action-btn\">{{ 'view_booking' |\n                                translate}}</label>\n                        </a>\n                    </div>\n                </div>\n                <div class=\"detail-row\" *ngIf=\"!data.isReadOnlyPermission && showDelete\">\n                    <div class=\"detail-col\">\n                        <button class=\"button-outline-danger\" (click)=\"deleteBooking(data.BookingGuid)\"\n                            *chqPermission=\"'newBooking'\">\n                            <mat-icon [svgIcon]=\"'delete'\" aria-hidden=\" false\" aria-label='edit icon'></mat-icon>\n                            <label class=\"action-btn\">{{ 'cancel_booking' | translate}}</label>\n                        </button>\n                    </div>\n                </div>\n\n                <div class=\"detail-row\"\n                    *ngIf=\"data.TypeName === 'Repair' && isArrivedVisible && !data.isReadOnlyPermission\">\n                    <div class=\"detail-col\">\n                        <div class=\"toggle\">\n                            <label class=\"label-toggle\">{{ 'arrived' | translate}}</label>\n                            <div class=\"toggle-button\">\n                                <chq-toggle [checked]=\"isArrived\" [name]=\"'arrived'\"\n                                    (ToggleChange)=\"onToggleChange($event)\"></chq-toggle>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"detail-row\"\n                    *ngIf=\"data.TypeName === 'Repair' && data.StatusName === 'Draft' && isNoShowVisible && !data.isReadOnlyPermission\">\n                    <div class=\"detail-col\">\n                        <div class=\"toggle\">\n                            <label class=\"label-toggle\">{{ 'no_show' | translate}}</label>\n                            <div class=\"toggle-button\">\n                                <chq-toggle [checked]=\"isNoShow\" [name]=\"'noshow'\"\n                                    (ToggleChange)=\"onToggleChange($event)\"></chq-toggle>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </mat-dialog-content>\n</div>","import { DatePipe } from '@angular/common';\nimport { Component, HostListener, Inject, OnDestroy, OnInit } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport * as dayjs from 'dayjs';\nimport { Subscription } from 'rxjs';\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\nimport { OutboundService } from 'src/app/services/outbound/outbound.service';\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\n\n@Component({\n  selector: 'app-lounge-list',\n  templateUrl: './lounge-list.component.html',\n  styleUrls: [ './lounge-list.component.scss' ],\n  providers: [ OutboundService ],\n})\nexport class LoungeListComponent implements OnInit, OnDestroy {\n\n  public FullscreenButton: ChqWidgetsButtonModel = {\n    label: 'view_full_screen',\n    type: 'outline',\n    icon: 'fullscreen'\n  };\n\n  public jobIconDictionary = {\n    'Body': 'car',\n    'Paint': 'paint-nozzle',\n    'Mechanical': 'mechanical',\n    'Electrical': 'electric',\n    'Tires': 'tire',\n    'Preparation': 'car-roof',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Check In': 'checkbox-open',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Repair': 'door-panel',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Fitup': 'door-panel',\n    'Polish': 'car-paint',\n    'Detailing': 'car-cleaning',\n    'Maintenance': 'maintenance',\n    'Diagnosis': 'diagnosis',\n    'Others': 'gears',\n  };\n\n  public i18n: i18nInfo;\n  public currentDate: string = dayjs().format('MMMM DD, YYYY hh:mm a');\n  public LastRefreshed: string = dayjs().format('DD/MM/YYYY HH:mm:ss');\n  public loungeTimeout = null;\n  public currentDateTimeout = null;\n  subs: Subscription[] = [];\n  CallingAPI = false;\n  public outboundData = [];\n  public FocusedRepairIndex = 0;\n  orgImageLoading: boolean = true;\n  orgLogoUrl: string = '';\n  orgName: string = '';\n  avatar: string | ArrayBuffer;\n\n  elem: any;\n  isFullScreen: boolean;\n  timeInterval = null;\n\n\n\n  /**\n     * Creates an instance.\n     * @constructor\n     * @param {DatePipe} datePipe\n     * @param {CommonService} CommonService\n     * @param {OutboundService} OutboundService\n     */\n  constructor(private datePipe: DatePipe,\n      private commonService: CommonService,\n      private OutboundService: OutboundService,\n      @Inject(DOCUMENT) private document: any) {\n    this.i18n = this.commonService.geti18nInfo();\n\n    this.commonService.userProfileData.subscribe({\n      next: (res: any) => {\n        if (res) {\n          this.orgLogoUrl = res?.data.organizationDetail?.logoUrl;\n          this.orgName = res?.data.organizationDetail?.name;\n          if (!this.orgLogoUrl) {\n            this.orgImageLoading = false;\n          }\n        }\n      }\n    });\n  }\n\n\n  /**\n   * ngOnInit\n   */\n  ngOnInit(): void{\n    this.chkScreenMode();\n    this.elem = document.documentElement;\n    this.getOutboundData(true);\n    this.timeInterval = setInterval(()=> {\n      this.updateDate();\n    }, 1000);\n  }\n\n  /**\n     * getCardTableClass\n     */\n  getCardTableClass(repairs: any): string {\n    if (\n      repairs.OutboundStatus === null ||\n        repairs.OutboundStatus === 'Repair Not Started' ||\n        repairs.OutboundStatus === 'Repair In Progress'\n    ) {\n      return 'card-table-gray';\n    } else if (\n      (!repairs.IsDeliveryTypeEnable ||\n          (repairs.IsDeliveryTypeEnable && repairs.DeliveryDTO === null)) &&\n        repairs.OutboundStatus === 'Ready To PickUp'\n    ) {\n      return 'card-table-yellow';\n    } else if (\n      repairs.OutboundStatus === 'Picked Up' ||\n        repairs.DeliveryDTO !== null\n    ) {\n      return 'card-table-green';\n    } else {\n      return 'card-table-gray';\n    }\n  }\n\n  /**\n       * getHeaderTableDarkClass\n       */\n  getHeaderTableDarkClass(repairs: any, type = 'background'): string {\n    if(type === 'background') {\n      if (\n        repairs.OutboundStatus === null ||\n        repairs.OutboundStatus === 'Repair Not Started' ||\n        repairs.OutboundStatus === 'Repair In Progress'\n      ) {\n        return 'header-table-gray-dark';\n      } else if (\n        (!repairs.IsDeliveryTypeEnable ||\n          (repairs.IsDeliveryTypeEnable && repairs.DeliveryDTO === null)) &&\n        repairs.OutboundStatus === 'Ready To PickUp'\n      ) {\n        return 'header-table-yellow-dark';\n      } else if (\n        repairs.OutboundStatus === 'Picked Up' ||\n        repairs.DeliveryDTO !== null\n      ) {\n        return 'header-table-green-dark';\n      } else {\n        return 'card-table-gray-dark';\n      }\n    } else if (type === 'text') {\n      if (\n        repairs.OutboundStatus === null ||\n        repairs.OutboundStatus === 'Repair Not Started' ||\n        repairs.OutboundStatus === 'Repair In Progress'\n      ) {\n        return 'header-table-gray-dark-text';\n      } else if (\n        (!repairs.IsDeliveryTypeEnable ||\n          (repairs.IsDeliveryTypeEnable && repairs.DeliveryDTO === null)) &&\n        repairs.OutboundStatus === 'Ready To PickUp'\n      ) {\n        return 'header-table-yellow-dark-text';\n      } else if (\n        repairs.OutboundStatus === 'Picked Up' ||\n        repairs.DeliveryDTO !== null\n      ) {\n        return 'header-table-green-dark-text';\n      } else {\n        return 'header-table-gray-dark-text';\n      }\n    } else return ''\n  }\n\n  /**\n       * getHeaderTableClass\n       */\n  getHeaderTableClass(repairs: any): string {\n    if (\n      repairs.OutboundStatus === null ||\n        repairs.OutboundStatus === 'Repair Not Started' ||\n        repairs.OutboundStatus === 'Repair In Progress'\n    ) {\n      return 'header-table-gray';\n    } else if (\n      (!repairs.IsDeliveryTypeEnable ||\n          (repairs.IsDeliveryTypeEnable && repairs.DeliveryDTO === null)) &&\n        repairs.OutboundStatus === 'Ready To PickUp'\n    ) {\n      return 'header-table-yellow';\n    } else if (\n      repairs.OutboundStatus === 'Picked Up' ||\n        repairs.DeliveryDTO !== null\n    ) {\n      return 'header-table-green';\n    } else {\n      return 'card-table-gray';\n    }\n  }\n\n  /**\n   * update Date\n   */\n  updateDate(): void {\n    this.currentDate = dayjs().format('MMMM DD, YYYY hh:mm a');\n  }\n\n  /**\n   * getOutboundData\n   */\n  getOutboundData(flag):void {\n    this.CallingAPI = true;\n    if(flag) this.commonService.showLoading();\n    const StartDate = new Date(new Date().toDateString()).toISOString();\n    const EndDate = new Date(new Date(new Date().toDateString()).getTime()+1000*60*60*24-1000).toISOString();\n    const query = `$filter=RepairEndDate ge ${StartDate} and RepairEndDate lt ${EndDate} or PickUpDate ge ${StartDate} and PickUpDate lt ${EndDate}`;\n\n    this.subs.push(this.OutboundService.getDeparturesDetails(query).subscribe({\n      next: (data) => {\n        this.CallingAPI = false;\n        this.outboundData = [];\n        data.value.forEach((item)=>{\n          if(item?.Jobs?.length > 0) {\n            if(item.PickUpDate !== null) {\n              if(!(new Date(StartDate) < new Date(item.PickUpDate) && new Date(EndDate) > new Date(item.PickUpDate))) {\n                return;\n              }\n            }\n            item['ImageUrlFirstLoad']=true;\n            item['ImageUrlLastLoad']=true;\n            this.outboundData.push(item);\n          }\n        });\n\n        this.LastRefreshed = dayjs().format('DD/MM/YYYY HH:mm:ss');\n        this.commonService.hideLoading();\n        clearTimeout(this.currentDateTimeout);\n        this.currentDateTimeout = setTimeout(()=>{\n          this.updateCurrentDateTime();\n        }, 60*1000);\n\n        setTimeout(()=>{\n          const nodes = document.querySelectorAll('.card');\n          if(this.FocusedRepairIndex == 0){\n            document.querySelector('.lounge-content').scrollTop = 0;\n          } else {\n            nodes[this.FocusedRepairIndex].scrollIntoView({ behavior: 'smooth', block: 'start' });\n          }\n        }, 500);\n\n        clearTimeout(this.loungeTimeout);\n        this.loungeTimeout = setTimeout(()=>{ //call getOutboundData every 5 mins\n          this.getOutboundData(false);\n        }, 300000);\n      }, error: (error) => {\n        this.CallingAPI = false;\n        clearTimeout(this.loungeTimeout);\n      }\n    }))\n  }\n\n  /**\n   * updateCurrentDateTime\n   */\n  updateCurrentDateTime(): void {\n    this.autoScrollLastVisibleNode();\n\n    clearTimeout(this.currentDateTimeout);\n    this.currentDateTimeout = setTimeout(()=>{\n      this.updateCurrentDateTime();\n    }, 60*1000);\n  }\n\n  /**\n   * autoScrollLastVisibleNode\n   */\n  autoScrollLastVisibleNode(): void{\n    const container = document.querySelector('.lounge-content');\n    const nodes = document.querySelectorAll('.card');\n    if(container === null || container === undefined || nodes === null || nodes === undefined) {\n      return;\n    }\n    if(this.FocusedRepairIndex == nodes.length-1){\n      this.FocusedRepairIndex = 0;\n      container.scrollTop = 0;\n      return;\n    }\n\n    let visibleHeight = 0;\n    const totalHeight = container.clientHeight;\n\n    for(let i = this.FocusedRepairIndex; i < nodes.length; i++){\n      visibleHeight += nodes[i].clientHeight;\n      if(visibleHeight >= totalHeight){\n        this.FocusedRepairIndex = i;\n        nodes[i].scrollIntoView({ behavior: 'smooth', block: 'start' });\n        break;\n      }\n      if(i === nodes.length-1){\n        this.FocusedRepairIndex = 0;\n        container.scrollTop = 0;\n      }\n    }\n  }\n\n  /**\n   *\n   * @param event\n   */\n  @HostListener('document:fullscreenchange', [ '$event' ])\n  @HostListener('document:webkitfullscreenchange', [ '$event' ])\n  @HostListener('document:mozfullscreenchange', [ '$event' ])\n  @HostListener('document:MSFullscreenChange', [ '$event' ])\n  @HostListener('document:onwebkitfullscreenchange', [ '$event' ])\n  fullscreenmodes(event): void{\n    this.chkScreenMode();\n  }\n\n  /**\n   * check screen mode\n   */\n  chkScreenMode(): void{\n    if(document.fullscreenElement || document['webkitIsFullScreen']){\n      //fullscreen\n      this.isFullScreen = true;\n    }else{\n      //not in full screen\n      this.isFullScreen = false;\n    }\n  }\n\n  /**\n   * open in full screen\n   */\n  openFullscreen(): void {\n    if (this.elem.requestFullscreen) {\n      this.elem.requestFullscreen();\n    } else if (this.elem.mozRequestFullScreen) {\n      /* Firefox */\n      this.elem.mozRequestFullScreen();\n    } else if (this.elem.webkitRequestFullscreen) {\n      /* Chrome, Safari and Opera */\n      this.elem.webkitRequestFullscreen();\n    } else if (this.elem.msRequestFullscreen) {\n      /* IE/Edge */\n      this.elem.msRequestFullscreen();\n    }\n  }\n\n  /**\n   * OnDestroy\n   */\n  ngOnDestroy(): void {\n    this.subs.forEach(sub=>sub.unsubscribe());\n    clearTimeout(this.loungeTimeout);\n    clearInterval(this.timeInterval);\n  }\n}\n","<div class=\"page-container lounge-list-container mh-0 mt-0 fx-col\">\n    <div class=\"fx-0 lounge-list-header\">\n        <div class=\"header-content fx-row justify-space-between align-center\">\n            <!-- <div class=\"last-updated\">\n                {{'last_refreshed' | translate}}: {{LastRefreshed}}\n            </div> -->\n            <chq-button style='margin-left: auto;' [buttonModel]=\"FullscreenButton\" (click)=\"openFullscreen()\"></chq-button>\n        </div>\n    </div>\n    <div class=\"fullscreen\" *ngIf=\"isFullScreen\">\n        <div class=\"lounge-header fx-0 fx-col justify-center\">\n            <div class=\"lounge-header-content align-center fx-row\">\n                <a class=\"xa-logo-wrapper\">\n                    <div class=\"menu-image\">\n                        <img [src]=\"orgLogoUrl\" (error)=\"avatar='';\" (load)=\"orgImageLoading=false\" *ngIf=\"orgLogoUrl else name\" />\n                        <ng-template #name>\n                            <label *ngIf=\"orgName\" class=\"org-name\">{{orgName}}</label>\n                        </ng-template>\n                        <chq-custom-loader [showLoading]=\"orgImageLoading\"></chq-custom-loader>\n                    </div>\n                </a>\n                <div class=\"lounge-title-wrapper\">{{'outbound_dashboard' | translate}}</div>\n                <div class='date-container'>\n                    <div class=\"lounge-date-wrapper\">{{currentDate}}</div>\n                    <div class=\"lounge-last-refresh\">{{'last_refreshed' | translate}}: {{LastRefreshed}}</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"lounge-content\">\n        <mat-card class=\"card block\" *ngFor=\"let item of outboundData; let i = index;\">\n\n            <div class=\"card-container\">\n                <div class=\"card-header\">\n                    <div class=\"card-header-container align-center fx-row\">\n                        <table class=\"card-head-table\" [ngClass]=\"getHeaderTableDarkClass(item)\">\n                            <tr class=\"head-row\" [ngClass]=\"getHeaderTableDarkClass(item)\">\n                                <div class='head-row-col-1'>\n                                  <th *ngIf=\"item.CustomerName\" class='header-customerName' [ngClass]=\"getHeaderTableDarkClass(item)\">\n                                      <div class=\"header-content-data\">{{item.CustomerName}}</div>\n                                    </th>\n                                  <!-- <th *ngIf=\"item.RepairNumber\">\n                                      <div class=\"header-content-data\">{{item.RepairNumber}}</div>\n                                    </th> -->\n                                    <!-- <span *ngIf=\"item.RepairNumber\" class='border-right-line'></span> -->\n                                    <th><span class='sub-text'>Make & Model:</span>{{ item.VehicleMake + ' ' + item.VehicleName}}</th>\n                                    <th><span class='sub-text'>Plate:</span>{{ item.VehicleLicensePlate }}</th>\n                                    <th class='header-amount tv-hide'><span class='sub-text'>Amount:</span>{{item.TotalAmount | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}\n                                    </th>\n\n                                    <th *ngIf=\"item.CompanyName\"><span class='sub-text'>Customer:</span>{{item.CompanyName}}</th>\n                                    <!-- <th *ngIf=\"item.Assignees.length > 0\"><div class=\"flex\" style=\"flex-wrap: wrap;\"><div *ngFor=\"let assignee of item.Assignees;let last = last\">{{assignee.AssigneeName}}<ng-container *ngIf=\"!last\">&nbsp;-&nbsp;</ng-container></div></div></th> -->\n                                    <!-- <span *ngIf=\"item.Assignees.length > 0\" class='border-right-line'></span> -->\n                                </div>\n                                <!-- <th class='head-item' *ngIf=\"item.RepairServiceTypes.length > 0\">\n                                  <div class=\"fx-row\" style=\"display: flex !important; flex-wrap: wrap;\">\n                                      <button class=\"outbound-icon-btn\" *ngFor=\"let repair of item.RepairServiceTypes\">\n                                          <mat-icon [svgIcon]=\"jobIconDictionary[repair.Name]?jobIconDictionary[repair.Name]:'gears'\" [attr.color]=\"'black'\"></mat-icon>\n                                      </button>\n                                  </div>\n                              </th> -->\n                                <th style='margin-left: auto' class=\"head-item\">\n                                    <div class=\"repair-state\">\n                                        <button class=\"repair-state-btn\"><span [ngClass]=\"getHeaderTableDarkClass(item, 'text')\">{{(item.IsDeliveryTypeEnable && item.DeliveryDTO ? 'picked_up' :item.OutboundStatus.split(' ').join('')) | lowercase | translate}}</span></button>\n                                    </div>\n                                </th>\n                            </tr>\n                        </table>\n                    </div>\n                </div>\n\n                <div class=\"card-content\" [ngClass]=\"getHeaderTableClass(item)\">\n                    <div class=\"job-list-container fx-row align-center\">\n                        <div class=\"jobs-list\">\n                            <table class=\"card-table\">\n                                <tr class=\"card-row\">\n                                    <th class=\"card-job\" [ngClass]=\"getHeaderTableClass(item)\">\n                                      <div class=\"outbound-header-card\" style='justify-content: center;'>\n                                        <img [src]=\"item.ImageUrlFirst===null?'assets/img/front-left.png':item.ImageUrlFirst\" class=\"rapair-car-img\" (load)=\"item.ImageUrlFirstLoad=false;\" alt=\"\">\n                                        <chq-custom-loader [showLoading]=\"item.ImageUrlFirstLoad\"></chq-custom-loader>\n\n                                      </div>\n                                    </th>\n                                    <th  *ngFor=\"let job of item.Jobs\" [ngClass]=\"getHeaderTableClass(item)\">\n                                      <div class=\"outbound-header-card\" [matTooltip]=\"job.JobName\">\n                                        <!-- <span class='color-block' [style.background-color]=\"job.Color\"></span> -->\n                                        <div class='outbound-content'>\n                                          <span [style.background-color]=\"job.Color\">\n                                            <mat-icon style='width: 15px;height:15px' svgIcon=\"checked\"></mat-icon>\n                                            <p>{{job.JobName}}</p>\n                                          </span>\n                                          <p>{{job.CompletePercentage}}%</p>\n                                      </div>\n                                      </div>\n                                    </th>\n                                    <!-- <th class=\"card-job\">\n                                        <div class=\"img-container\">\n                                            <img [src]=\"item.ImageUrlLast?.includes('inspectiontemplates')?item.ImageUrlFirst ?item.ImageUrlFirst:item.ImageUrlLast:item.ImageUrlLast\" (load)=\"item.ImageUrlLastLoad=false;\" alt=\"\">\n                                            <chq-custom-loader [showLoading]=\"item.ImageUrlLastLoad\"></chq-custom-loader>\n                                        </div>\n                                    </th> -->\n                                </tr>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </mat-card>\n\n        <div class=\"no-data-wrapper\" *ngIf=\"outboundData.length === 0 && !CallingAPI\">\n            <div class=\"no-data-content\">\n                <img src=\"assets/img/no-data.png\" alt=\"\">\n                <span>{{'no_result_found' | translate}}</span>\n                <span>{{'could_not_find_any_data' | translate}}.</span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"footer-full-wrapper\">\n    <div class=\"footer-image-wrapper\">\n        <div class=\"image-wrapper\">\n            <img src=\"assets/img/addenda-repair.png\" alt=\"\"/>\n        </div>\n    </div>\n</div>\n","import { Component, OnDestroy, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { NavigationStart, Router, RouterEvent } from '@angular/router';\nimport { Subscription, filter, take, tap } from 'rxjs';\nimport { CommonService } from 'src/app/services/common/common.service';\nimport { OutboundComponent } from '../outbound/outbound.component';\nimport { OutboundService } from 'src/app/services/outbound/outbound.service';\n\n@Component({\n  selector: 'app-check-in-task',\n  templateUrl: './check-in-task.component.html',\n  styleUrls: [ './check-in-task.component.scss' ],\n  providers: [ OutboundService ],\n})\nexport class CheckInTaskComponent implements OnInit, OnDestroy{\n\n  \n  /**\n  * constructor\n  */\n  constructor(\n    public dialog: MatDialog,\n    public dialogRef: MatDialogRef<OutboundComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    router: Router,\n    private OutboundService: OutboundService,\n    private commonService: CommonService\n  ) {\n\n    // Close dialog ref on route changes\n    router.events.pipe(\n      filter((event: RouterEvent) => event instanceof NavigationStart),\n      tap(() => this.dialogRef.close()),\n      take(1),\n    ).subscribe();\n  }\n  \n  public subs: Subscription[] = [];\n  public ListOfRepairs: any[] = [];\n  public CallingAPI = false;\n  public allMandatoryTasks: number = 0;\n\n  /**\n  * ngOnInit\n  */\n  ngOnInit(): void {\n    this.getTaskDetails();\n  }\n\n  /**\n  * getTaskDetails\n  */\n  getTaskDetails(): void{\n    const repairId: string = this.data.repair.RepairGuid;\n    const jobId: string = this.data.job.JobGuid;\n    this.CallingAPI = true;\n    this.commonService.showLoading();\n    this.subs.push(this.OutboundService.getTaskDetails(repairId, jobId).subscribe({\n      next: (data: object[]) => {\n        this.ListOfRepairs = data;\n        this.allMandatoryTasks = this.ListOfRepairs.filter((task) => {\n          return task.isMandatory === true;\n        }).length;\n        this.CallingAPI = false;\n        this.commonService.hideLoading();\n      }, error: (error) =>{\n        this.CallingAPI = false;\n      }\n    }))\n  }\n\n  /**\n     * ngOnDestroy\n     */\n  ngOnDestroy(): void{\n    this.subs.forEach(sub=>sub.unsubscribe());\n  }\n\n}\n","<div class=\"dialog-with-header\">\n    <div class=\"header\" >\n        <div class=\"title\">\n            {{data.job.JobName}}\n        </div>\n        <div class=\"action\">\n            <button class=\"close-dailog-btn\">\n                <mat-icon [svgIcon]=\"'cross'\" color=\"white\" [mat-dialog-close]=\"\"></mat-icon>\n            </button>\n        </div>\n    </div>\n\n    <mat-dialog-content class=\"mat-content-dialog\">\n\n        <mat-card class=\"repair-card border-10\">\n            <div class=\"repair-table-header\">\n                <div *ngIf=\"allMandatoryTasks > 0\" class=\"mandatory-div\"><span\n                    class=\"mandatory-text text-danger\">{{'label_mandatory' |\n                    translate\n                    }}</span></div>\n                <table class=\"repair-dialog-table\">\n                    <tr class=\"task-hearder\">\n                        <th class=\"task-hearder-item task_Name_column\">{{'item_name' | translate}}</th>\n                        <th class=\"task-hearder-item repair_type_column\">{{'repair_type' | translate}}</th>\n                        <th class=\"task-hearder-item modified_column\">{{'modified_by' | translate}}</th>\n                        <th class=\"task-hearder-item note_column\">{{'notes' | translate}}</th>\n                        <th class=\"task-hearder-item status_column\">{{'done' | translate}}</th>\n                    </tr>\n                </table>\n            </div>            \n            <table class=\"repair-dialog-table\">\n                <tr *ngFor=\"let task of ListOfRepairs; let i = index;\" class=\"task-data-row\">\n                    <td class=\"task-data-item task_Name_column\"><span class=\"task-data\">{{task.name}}<span class=\"text-danger\" *ngIf=\"task.isMandatory\">*</span></span></td>\n                    <td class=\"task-data-item repair_type_column\">\n                        <span class=\"task-data\" *ngFor=\"let repair of task.repairJobMappings; let ind = index;\">\n                            {{repair.repairServiceTypeName}}<span *ngIf=\"ind !== task.repairJobMappings.length - 1\">, </span>\n                        </span>\n                    </td>\n                    <td class=\"task-data-item modified_column\"><div class=\"task-data\">\n                        <div class=\"modified_name\">{{task.modifiedBy}}</div>\n                        <div class=\"span-date\" *ngIf=\"task.completedDate\">{{task.completedDate | date: 'dd/MM/yyyy\n                            hh:mm:ss'}}</div>\n                        </div></td>\n                    <td class=\"task-data-item note_column\"><span class=\"task-data\">\n                        <mat-icon [svgIcon]=\"'comment'\" [color]=\"'black'\"></mat-icon>\n                    </span></td>\n                    <td class=\"task-data-item status_column\">\n\n                        <div class=\"col-2 relate-spinner\">\n                            <span *ngIf=\"task.completedBy !== null\" class=\"checked\"></span>\n                            <span *ngIf=\"task.completedBy === null\" class=\"circle\"></span>\n                            {{ 'task_done' | translate }}\n                        </div>\n                    </td>\n                </tr>\n            </table>\n        </mat-card>\n        <div *ngIf=\"ListOfRepairs.length===0 && !CallingAPI\">\n            <span class=\"not-found-task\">{{'no_task_found' | translate}}</span>\n        </div>\n        \n    </mat-dialog-content>\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport * as dayjs from 'dayjs';\nimport { ChqWidgetsInputModel } from 'src/app/model/chq-widgets-input-model';\nimport { OutboundService } from 'src/app/services/outbound/outbound.service';\nimport { CheckInTaskComponent } from '../check-in-task/check-in-task.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { DatePipe } from '@angular/common';\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\nimport { NotifyDialogComponent } from 'src/app/dialogs/notify-dialog/notify-dialog.component';\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\nimport { BookingService } from 'src/app/services/booking/booking.service';\nimport { RepairStatusMapper } from 'src/app/config/route-mapper/repair-status-mapper';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-outbound',\n  templateUrl: './outbound.component.html',\n  styleUrls: [ './outbound.component.scss' ],\n  providers: [ OutboundService ],\n})\n\nexport class OutboundComponent implements OnInit, OnDestroy {\n\n  jobIconDictionary = {\n    'Body': 'car',\n    'Paint': 'paint-nozzle',\n    'Mechanical': 'mechanical',\n    'Electrical': 'electric',\n    'Tires': 'tire',\n    'Preparation': 'car-roof',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Check In': 'checkbox-open',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Repair': 'door-panel',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Fitup': 'door-panel',\n    'Polish': 'car-paint',\n    'Detailing': 'car-cleaning',\n    'Maintenance': 'maintenance',\n    'Diagnosis': 'diagnosis',\n    'Others': 'gears',\n  }\n  departures: any[] = []\n  subs: Subscription[] = []\n\n  public PickUpDateTextBox: ChqWidgetsInputModel = {\n    placeHolder: 'pickup_date',\n    label: 'pick_up_date_time',\n    name: '',\n    type: 'datetime',\n    maxDate: dayjs().add(6, 'month').toDate(),\n    minDate: new Date(),\n    value: new Date(),\n  }\n\n  public notifyButton: ChqWidgetsButtonModel = {\n    label: 'notify',\n    type: 'outline',\n    icon: 'send'\n  }\n\n\n  currentWeek: Date = new Date();\n  currentWeekNumber: number = 1;\n  dates: Array<Date> = [];\n  public IntervalGetOutBound = null;\n  public lastUpdated = dayjs().format('DD/MM/YYYY HH:mm:ss');\n  public CallingAPI = false;\n  i18n: i18nInfo;\n  public isTechnician: boolean = false;\n  public TotalAmount: any = 0;\n\n  /**\n     * Creates an instance of DeparturesComponent.\n     * @constructor\n     * @param {Router} router\n     * @param {OutboundService} OutboundService\n     *  @param {MatDialog} dialog\n     *  @param {DatePipe} datePipe\n     * @param {CommonService} CommonService\n     */\n  constructor(private OutboundService: OutboundService,\n    private router: Router,\n    public dialog: MatDialog,\n    private datePipe: DatePipe,\n    private bookingService: BookingService,\n    private commonService: CommonService,) {\n    this.i18n = this.commonService.geti18nInfo();\n    this.getWeekDates(new Date(this.currentWeek));\n  }\n\n\n  /**\n     * ngOnInit\n     */\n  ngOnInit(): void {\n    this.getDeparturesDetails();\n\n    this.commonService.userProfileData.subscribe((res) => {\n      if (res?.data) {\n        const automotiveServices = res?.data?.userPermission?.automotiveServices;\n        const automotiveService = automotiveServices?.find(x => x.automotiveServiceName.toLowerCase() === 'addenda repair');\n        if (automotiveService && automotiveService.roleName.toLowerCase() === 'technician') {\n          this.isTechnician = true;\n        } else {\n          this.isTechnician = false;\n        }\n      }\n    });\n  }\n\n\n  /**\n   * getOutBoundData\n   */\n  public async getDeparturesDetails(): Promise<void> {\n    this.CallingAPI = true;\n    this.commonService.showLoading();\n    this.departures = [];\n    const StartDate = new Date(this.currentWeek.toDateString()).toISOString();\n    const EndDate = new Date(new Date(this.currentWeek.toDateString()).getTime()+1000*60*60*24-1000).toISOString();\n    const query = `$filter=BookingEndDate ge ${StartDate} and BookingEndDate lt ${EndDate} or PickUpDate ge ${StartDate} and PickUpDate lt ${EndDate}`;\n    this.subs.push(this.OutboundService.getDeparturesDetails(query).subscribe({\n      next: (data) => {\n        this.CallingAPI = false;\n        this.TotalAmount = 0;\n        data.value.forEach((el) => {\n          if(el.PickUpDate !== null) {\n            if(!(new Date(StartDate) < new Date(el.PickUpDate) && new Date(EndDate) > new Date(el.PickUpDate))) {\n              return;\n            }\n          }\n          el['ImageUrlFirstLoad'] = true;\n          el['ImageUrlLastLoad'] = true;\n          this.TotalAmount += el.TotalAmount; \n          this.departures.push(el);\n        });\n\n        this.lastUpdated = dayjs().format('DD/MM/YYYY HH:mm:ss');\n        this.commonService.hideLoading();\n\n        clearTimeout(this.IntervalGetOutBound);\n        this.IntervalGetOutBound = setTimeout(() => { //call getWorkflow every 5 mins\n          this.getDeparturesDetails();\n        }, 300000);\n      }, error: (error) => {\n        this.CallingAPI = false;\n        clearTimeout(this.IntervalGetOutBound);\n      }\n    }))\n  }\n\n\n  /**\n     * date_format\n     * return date format \n     * example 28 Wednesday, of June 2023\n     *@param date data \n  \n     * @returns {string}\n     */\n  date_format(date: Date): string {\n    return dayjs(date).format('D dddd, of MMMM YYYY');\n  }\n\n  /**\n  * updateInput\n  * update pickup date\n  */\n  updateInput(e, repairId: string, repairIndex: number): void {\n    this.departures[repairIndex]['PickupDateError'] = false;\n    if (new Date(e.value) < new Date()) {\n      this.departures[repairIndex]['PickupDateError'] = true;\n      return;\n    }\n\n\n    const pickupDate: string = new Date(e.value).toISOString();\n\n    if (new Date(pickupDate) == new Date(this.departures[repairIndex].PickUpDate)) {\n      return;\n    }\n\n    this.commonService.showLoading();\n    this.subs.push(this.OutboundService.setPickupDate(repairId, pickupDate, false).subscribe({\n      next: (data) => {\n        this.commonService.showInfoToast(1000, data.message);\n        this.commonService.hideLoading();\n      }\n    }));\n  }\n\n  /**\n   * openJobpopup\n   * @param { string } jobId\n   */\n  openJobpopup(repair: object, job: object): void {\n    this.dialog.open(CheckInTaskComponent, { data: { 'repair': repair, 'job': job } });\n  }\n\n  /**\n   * GetWeekNumber()\n   * \n   * @param {Date} date\n   */\n  getWeekNumber(date: Date): number {\n\n    const currentDate: any = date;\n    const startDate: any = new Date(currentDate.getFullYear(), 0, 1);\n    const days = Math.floor((currentDate - startDate) /\n      (24 * 60 * 60 * 1000));\n\n    const weekNumber = Math.ceil(days / 7);\n    return weekNumber;\n  }\n\n\n  /**\n    * getWeekDates\n    * change months as well when month about to end\n    */\n  getWeekDates(date: Date): any[] {\n    const daysInWeek = 7;\n    const dates = [];\n    const week = date.getDay() == 0 ? daysInWeek : date.getDay();\n    const start_date = new Date(date.setDate(date.getDate() - week + 1));\n\n    for (let i = 0; i < daysInWeek; i++) {\n      const temp_date = new Date(start_date);\n      const new_date: Date = new Date(temp_date.setDate(start_date.getDate() + i));\n      if (new_date.getMonth() < start_date.getMonth() && new_date.getMonth() == date.getFullYear()) {\n        new_date.setMonth(start_date.getMonth());\n      }\n      dates.push(new_date);\n    }\n\n    this.currentWeekNumber = this.getWeekNumber(this.currentWeek);\n    this.dates = dates;\n    return dates;\n  }\n\n  /**\n  * changeCurrentWeek\n  */\n  changeCurrentWeek(direction: string): void {\n    if (direction === 'left') {\n      const temp_date = this.dates[0];\n      this.currentWeek = new Date(temp_date.setDate(temp_date.getDate() - 7));\n    } else {\n      const temp_date = this.dates[6];\n      this.currentWeek = new Date(temp_date.setDate(temp_date.getDate() + 1));\n    }\n\n    this.getWeekDates(new Date(this.currentWeek));\n    this.departures = [];\n    this.getDeparturesDetails();\n  }\n\n  /**\n  * TodayWeek\n  */\n  TodayWeek(): void {\n    this.currentWeek = new Date();\n    this.getWeekDates(new Date(this.currentWeek));\n    this.departures = [];\n    this.getDeparturesDetails();\n  }\n\n  /**\n  * changeCurrentDate\n  *@param day { date } \n  */\n  changeCurrentDate(day: Date): void {\n    this.currentWeek = day;\n    this.departures = [];\n    this.getDeparturesDetails();\n  }\n\n  /**\n   * move_scroll\n   */\n  move_scroll(direction, el): void {\n    if (direction === 'left') {\n      el.scrollLeft = el.scrollLeft - 160;\n    } else {\n      el.scrollLeft = el.scrollLeft + 160;\n    }\n  }\n\n  /**\n   * checkJobWrapperScroll\n   */\n  checkJobWrapperScroll(direction, el): boolean {\n    if (direction === 'left') {\n      return !(el.scrollLeft <= 0);\n    } else {\n      return !(el.scrollLeft >= el.scrollWidth - el.clientWidth - 1);\n    }\n  }\n\n  /**\n   * openEmailForNotify\n   * \n   */\n  openEmailForNotify(RepairData: any): void {\n    this.commonService.showLoading();\n    this.bookingService.getRepairDetailByGuid(RepairData.RepairGuid).subscribe({\n      next: async (result: any) => {\n        if (result?.data) {\n          this.openEmailForNotifyInner(RepairData.RepairGuid, result.data.domainId, result.data.booking.communicationTypeId, result.data.communicationEvents);\n        }\n        this.commonService.hideLoading();\n      },\n      error: async (error: any) => {\n        this.commonService.hideLoading();\n      }\n    });\n  }\n\n  /**\n   * openEmailForNotify\n   * \n   */\n  openEmailForNotifyInner(RepairGuid: any, domainId: string, communicationList: string, communicatedList: any[]): void {\n    this.dialog.open(NotifyDialogComponent, {\n      data: {\n        repairGuid: RepairGuid,\n        domainId: domainId,\n        templateId: 2,\n        communicationList: communicationList,\n        communicatedList: communicatedList\n        \n      },\n      backdropClass: 'confirmation-popup-backdrop',\n      maxHeight: '693px',\n      maxWidth: '629px'\n    });\n  }\n\n  /**\n   * booking url\n   */\n  bookingStatusUrl(repair: any): void {\n    const { RepairStatus, RepairGuid } = repair;\n    const status = RepairStatus.split(' ').join('');\n    let routeToRedirect = RepairStatusMapper[status?.toLowerCase()] || RepairStatusMapper.others;\n    routeToRedirect = routeToRedirect.replace('{{repairGUID}}', RepairGuid);\n    this.router.navigate([ routeToRedirect ]);\n  }\n\n  /**\n     * ngOnDestroy\n     */\n  ngOnDestroy(): void {\n    this.subs.forEach(sub => sub.unsubscribe());\n    clearTimeout(this.IntervalGetOutBound);\n  }\n}\n\n","<div class=\"page-container outbound-container mh-0 mt-0 fx-col\">\n    <div class=\"fx-0 outbound-header\">\n        <div class=\"fx-row date-filter-wrapper\" style=\"padding-bottom: 26px;\">\n            <div class=\"fx-row change-week-btn\">\n                <div class=\"fx-row align-center week-days-tile\">\n                    <button type=\"button\" class=\"btn btn-left\" (click)=\"changeCurrentWeek('left')\">\n                        <mat-icon color=\"black\" svgIcon=\"arrow-left\"></mat-icon>\n                    </button>\n                    <span class=\"week-tile-content\">{{dates[0] | date: 'dd'}}-{{dates[6] | date: 'dd'}} {{dates[0] | date: 'MMM'}} {{dates[0] | date: 'YY'}} ({{currentWeekNumber}})</span>\n                    <button type=\"button\" class=\"btn btn-right\" (click)=\"changeCurrentWeek('right')\">\n                        <mat-icon color=\"black\" svgIcon=\"arrow-right\"></mat-icon>\n                    </button>\n                </div>\n                <button type=\"button\" class=\"btn current-week-btn\" (click)=\"TodayWeek()\">{{'today' | translate}}</button>\n            </div>\n            <div class=\"fx-row week-tiles\">\n                <button type=\"button\" class=\"day-tile\" *ngFor=\"let day of dates\" [ngClass]=\"day.getDay() === currentWeek.getDay()?'active':''\" (click)=\"changeCurrentDate(day)\"><span>{{day | date: 'dd EEEE'}}</span><span>{{day | date: 'MMM'}}</span></button>\n            </div>\n        </div>\n    </div>\n    <div class=\"outbound-container-wrapper\">\n        <div class=\"outbound-card\" *ngIf=\"departures.length > 0\">\n            <div class=\"card-header fx-row justify-space-between\">\n                <div class=\"fx-col left-content\">\n                    <label>\n                        {{currentWeek | date: 'EEEE, d MMMM y'}}\n                    </label>\n                    <div class=\"last-updated\">{{'last_refreshed' | translate}}: {{lastUpdated}}</div>\n                </div>\n                <div class=\"fx-row right-content\">\n                    <div class=\"fx-row align-center repair-count\">\n                        <mat-icon color=\"dark-gray\">directions_car</mat-icon>\n                        <label>{{departures.length}}</label>\n                    </div>\n                    <div class=\"fx-row align-center total-amount\">\n                        <mat-icon style=\"margin-right:8px\" svgIcon=\"double-database\"></mat-icon>\n                        <label>{{TotalAmount | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</label>\n                    </div>\n                </div>\n            </div>\n            <!-- <span class=\"card-header flex\">\n                <p><b>{{items.Day === null?'': items.Day| date: 'EEEE, d MMMM y'}}</b></p>\n                <span class=\"flex\">\n                    <span class=\"flex align-center\" style=\"margin: 0px 16px;\">\n                        <mat-icon color=\"dark-gray\" style=\"margin-right:8px\">directions_car</mat-icon>\n                        <label><b>{{items.NumberOfRepairs}}</b></label>\n                    </span>\n                    <span class=\"flex align-center\">\n                        <mat-icon style=\"margin-right:8px\" svgIcon=\"double-database\"></mat-icon>\n                        <label><b>{{items.TotalAmount | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</b></label>\n                    </span>\n                </span>\n            </span> -->\n            <mat-card class=\"card border-10\" *ngFor=\"let repairs of  departures; let j = index;\" [ngClass]=\"repairs.OutboundStatus===null || repairs.OutboundStatus==='Repair Not Started' || repairs.OutboundStatus==='Repair In Progress'?'card-table-gray':repairs.OutboundStatus==='Ready To PickUp'?'card-table-yellow':repairs.OutboundStatus==='Picked Up'?'card-table-green':'card-table-gray'\">\n                <table style=\"padding-bottom:8px\" [ngClass]=\"repairs.OutboundStatus===null || repairs.OutboundStatus==='Repair Not Started' || repairs.OutboundStatus==='Repair In Progress'?'header-table-gray':repairs.OutboundStatus==='Ready To PickUp'?'header-table-yellow':repairs.OutboundStatus==='Picked Up'?'header-table-green':'card-table-gray'\" class=\"header-table border-top-10\">\n                    <tr style=\"text-align: left;padding: 10px;display: flex;justify-content: space-between;\">\n                        <th><div class=\"header-type-text\">{{'booking_id' | translate}}</div><div class=\"header-content link\" (click)=\"bookingStatusUrl(repairs)\">{{repairs.RepairNumber}}</div></th>\n                        <th><div class=\"header-type-text\">{{'work_provider' | translate}}</div><div class=\"header-content\">{{repairs.WorkProviderName}}</div></th>\n                        <th><div class=\"header-type-text\">{{'driver_owner_name' | translate}}</div><div class=\"header-content\">{{repairs.CustomerName}}</div></th>\n                        <th><div class=\"header-type-text\">{{'vehicle' | translate}}</div><div class=\"header-content\">{{repairs.VehicleMake}} {{repairs.VehicleName}}</div></th>\n                        <th *ngIf=\"repairs.Assignees.length > 0\"><div class=\"header-type-text\">{{'assigned' | translate}}</div><div class=\"header-content\"><div class=\"flex\" *ngFor=\"let assignee of repairs.Assignees\">{{assignee.AssigneeName}}</div></div></th>\n                        <th><div class=\"header-type-text\">{{'cost' | translate}}</div>\n                            <div class=\"flex align-center header-content\">                                \n                                <div>{{repairs.TotalAmount | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</div>\n                            </div>                           \n                        </th>\n                        <th *ngIf=\"repairs.RepairServiceTypes.length > 0\"><div class=\"header-type-text\">{{'repair_types' | translate}}</div>\n                            <div class=\"flex align-center\" style=\"flex-wrap: wrap;\">\n                                <div class=\"header-repair-type\" *ngFor=\"let type of repairs.RepairServiceTypes\">\n                                    <button class=\"outbound-icon-btn\" matTooltip=\"{{(type.Name===null?'Others':type.Name) | lowercase | translate}}\" matTooltipPosition=\"above\">\n                                        <mat-icon [svgIcon]=\"jobIconDictionary[type.Name]?jobIconDictionary[type.Name]:'gears'\" [attr.color]=\"'black'\"></mat-icon>\n                                    </button>                                    \n                                </div>\n                            </div>                           \n                        </th>\n                        <th *ngIf=\"repairs.IsTowedIn\"><div class=\"header-type-text\"></div>\n                            <div class=\"is-towing\">\n                                <button class=\"outbound-icon-btn\" [matTooltip]=\"(repairs.IsTowedIn?'towed_in':'not_towed_in') | translate\" matTooltipPosition=\"above\">\n                                    <mat-icon [svgIcon]=\"'towing'\" [attr.color]=\"repairs.IsTowedIn ? 'black' : 'dark-gray-disabled'\"></mat-icon>\n                                </button>\n                            </div>\n                        </th>\n                    </tr>\n                </table>\n                <div class=\"outbound-card-content border-bottom-10\">\n                    <div class=\"outbound-jobs-container fx-row align-center\">\n                        <div class=\"move-left-wrapper\" *ngIf=\"checkJobWrapperScroll('left',job_scroll_wrapper)\">\n                            <button type=\"button\" class=\"jobs-move-btn\" (click)=\"move_scroll('left',job_scroll_wrapper)\">\n                                <mat-icon color=\"black\" svgIcon=\"arrow-left\"></mat-icon>\n                            </button>\n                        </div>\n                        <div class=\"outbound-jobs-wrapper\" #job_scroll_wrapper>\n                            <table class=\"outbound-table border-bottom-10\">\n                                <tr class=\"flex align-center\">\n                                    <th>\n                                        <div class=\"img-container\">\n                                            <img [src]=\"repairs.ImageUrlFirst===null?'assets/img/front-left.png':repairs.ImageUrlFirst\" class=\"rapair-car-img\" (load)=\"repairs.ImageUrlFirstLoad=false;\" alt=\"\">\n                                            <chq-customloader [showLoading]=\"repairs.ImageUrlFirstLoad\"></chq-customloader>                                        \n                                        </div>\n                                    </th>\n                                    <th *ngFor=\"let job of repairs.Jobs; let i = index\">\n                                        <div class=\"outbound-header-card\" [style.background-color]=\"job.Color\" (click)=\"openJobpopup(repairs,job)\">\n                                            <div>\n                                                <span class=\"uppercase\">{{job.JobName}}</span>\n                                            </div>\n            \n                                            <p>{{job.CompletePercentage}}%</p>\n                                        </div>\n                                    </th>\n                                    <th>\n                                        <div class=\"img-container\">\n                                            <img [src]=\"repairs.ImageUrlLast===null?'assets/img/front-left.png':repairs.ImageUrlLast\" (load)=\"repairs.ImageUrlLastLoad=false;\" alt=\"\">\n                                            <chq-customloader [showLoading]=\"repairs.ImageUrlLastLoad\"></chq-customloader>\n                                        </div>\n                                    </th>\n                                </tr>\n                            </table>\n                        </div>\n                        <div class=\"move-right-wrapper\" *ngIf=\"checkJobWrapperScroll('right',job_scroll_wrapper)\">\n                            <button type=\"button\"  class=\"jobs-move-btn\" (click)=\"move_scroll('right',job_scroll_wrapper)\">\n                                <mat-icon color=\"black\" svgIcon=\"arrow-right\"></mat-icon>\n                            </button>\n                        </div>\n                    </div>\n    \n                    <div class=\"date-card flex align-end\">\n                        <div class=\"date-selector\">\n                            <div class=\"input-wrapper flex align-end\">\n                                <div class=\"pickup_wrapper\">\n                                    <label class=\"input-label text-muted uppercase\">{{ PickUpDateTextBox.label | translate }}</label>\n                                    <dx-date-box\n                                    [value]=\"repairs.PickUpDate\" [acceptCustomValue]=\"false\"\n                                    type=\"datetime\" [invalidDateMessage]=\"''\" [max]=\"PickUpDateTextBox.maxDate\"\n                                    [min]=\"PickUpDateTextBox.minDate\" [validationError]=\"false\" [validationMessageMode]=\"'none'\"\n                                    [disabled]=\"!isTechnician?repairs.OutboundStatus !=='Ready To PickUp':true\"\n                                    (onValueChanged)=\"updateInput($event, repairs.RepairGuid,j)\"\n                                  >\n                                  </dx-date-box>\n                                  <span *ngIf=\"repairs?.PickupDateError\" class=\"pickupDate-error input-label text-muted\">Pick up date cannot set as past date</span>\n                                </div>\n    \n                                <chq-button [buttonModel]=\"notifyButton\" *ngIf=\"!isTechnician?!repairs.IsPickedUp && repairs.PickUpDate !== null && repairs.OutboundStatus ==='Ready To PickUp' && repairs.CommunicationTypes.length > 0: false\" (click)=\"openEmailForNotify(repairs)\" class=\"notify-btn\">\n                                </chq-button>\n                            </div>\n                        </div>\n                        \n                        <div class=\"day-counter\">\n                            <span class=\"text-muted\">{{'initial_booking_out_date' | translate}}: {{date_format(repairs.BookingEndDate)}} | {{repairs.LagInDays}} {{'days' | translate}}</span>\n                        </div>\n                    </div>\n                </div>\n\n            </mat-card>\n        </div>\n        <div class=\"no-data-wrapper\" *ngIf=\"departures.length === 0 && !CallingAPI\">\n            <div class=\"no-data-content\">\n                <img src=\"assets/img/no-data.png\" alt=\"\">\n                <span>{{'no_result_found' | translate}}</span>\n                <span>{{'could_not_find_any_data' | translate}}.</span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"footer-full-wrapper\">\n    <div class=\"footer-image-wrapper\">\n        <div class=\"image-wrapper\">\n            <img src=\"assets/img/addenda-repair.png\" alt=\"\"/>\n        </div>\n    </div>\n</div>","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MatIconModule } from '@angular/material/icon';\nimport { Route, RouterModule } from '@angular/router';\nimport { MsalGuard } from '@azure/msal-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DirectiveModule } from 'src/app/helper/directive.module';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { WidgetsModule } from '../../widgets/chq-widgets.module';\nimport { CustomerLayoutComponent } from './add-customers/customer-layout/customer-layout.component';\nimport { BookingJournalComponent } from './booking-journal/booking-journal/booking-journal.component';\nimport { EstimateApprovalComponent } from './estimate-approval/estimate-approval.component';\nimport { LoungeListComponent } from './lounge-list/lounge-list.component';\nimport { OutboundComponent } from './outbound/outbound/outbound.component';\nimport { WorkflowLoungeComponent } from './workflow-lounge/workflow-lounge.component';\nimport { WorkflowComponent } from './workflow/workflow/workflow.component';\nimport { RepairGuard } from 'src/app/guards/repair-guard/repair.guard';\n\nconst repairRoutes: Route[] = [\n  {\n    path: '',\n    pathMatch: 'full',\n    redirectTo: 'booking-journal'\n\n  },\n  {\n    path: 'booking',\n    canActivate: [ RepairGuard ],\n    loadChildren: () =>\n      import('../repair/add-customers/customers.module').then(\n        m => m.AddRepairCustomersModule\n      )\n  },\n  {\n    path: 'booking/:id',\n    component: CustomerLayoutComponent,\n    canActivate: [ RepairGuard ],\n    loadChildren: () =>\n      import('../repair/add-customers/customers.module').then(\n        m => m.AddRepairCustomersModule\n      )\n  },\n  {\n    path: 'customers',\n    canActivate: [ RepairGuard ],\n    loadChildren: () =>\n      import('../repair/customer/customer.module').then(\n        m => m.CustomerTableModule\n      )\n  },\n  {\n    path: 'booking-journal',\n    component: BookingJournalComponent,\n    canActivate: [ RepairGuard ],\n    loadChildren: () =>\n      import('../repair/booking-journal/booking-journal.module').then(\n        m => m.BookingJournalModule\n      )\n  },\n  {\n    path: 'workflow',\n    component: WorkflowComponent,\n    canActivate: [ RepairGuard ],\n    loadChildren: () =>\n      import('../repair/workflow/workflow.module').then(\n        m => m.WorkflowModule\n      )\n  },\n  {\n    path: 'outbound',\n    component: OutboundComponent,\n    canActivate: [ MsalGuard ],\n    loadChildren: () =>\n      import('../repair/outbound/outbound.module').then(\n        m => m.OutboundModule\n      )\n  },\n  {\n    path: 'lounge',\n    component: LoungeListComponent,\n    canActivate: [ MsalGuard ],\n    loadChildren: () =>\n      import('../repair/lounge-list/lounge-list.module').then(\n        m => m.LoungeListModule\n      )\n  },\n  {\n    path: 'workflow-lounge',\n    component: WorkflowLoungeComponent,\n    canActivate: [ MsalGuard ],\n    loadChildren: () =>\n      import('../repair/workflow-lounge/workflow-lounge.module').then(\n        m => m.WorkflowLoungeModule\n      )\n  }\n]\n\n@NgModule({\n  declarations: [\n    EstimateApprovalComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    MatIconModule,\n    RouterModule.forChild(repairRoutes),\n    WidgetsModule,\n    TranslateModule,\n    DirectiveModule\n  ]\n})\nexport class RepairModule { }\n\n","import { AfterViewInit, Component, ElementRef, HostListener, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as dayjs from 'dayjs';\nimport { Observable, Subscription, forkJoin, map, of } from 'rxjs';\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\nimport { ChqWidgetsInputModel, IControlValue } from 'src/app/model/chq-widgets-input-model';\nimport { WorkflowService } from 'src/app/services/workflow/workflow.service';\nimport { CaseService } from 'src/app/services/case/case.service';\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\nimport { ChqWidgetsDropdownModel } from 'src/app/model/chq-widgets-dropdown-model';\n\n@Component({\n  selector: 'app-workflow-lounge',\n  templateUrl: './workflow-lounge.component.html',\n  styleUrls: [ './workflow-lounge.component.scss' ],\n  providers: [ WorkflowService ],\n})\n\nexport class WorkflowLoungeComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  totalCost = 0;\n  totalCount = 0;\n  workflowData: any[] = [];\n  CallingAPI = false;\n  i18n: i18nInfo;\n  IntervalGetWorkflow = null;\n  autoScrollInterval = null;\n  timeInterval = null;\n  LastRefreshedDate = dayjs().format('DD/MM/YYYY HH:mm:ss');\n  public userDetail = null;\n  public userIsBM = false;\n  @ViewChild('filter') public filter: MatSidenav;\n\n  public filterButton: ChqWidgetsButtonModel = {\n    label: 'filter',\n    type: 'outline',\n    icon: 'filter'\n  }\n\n  public filterForm = this.formBuilder.group({\n    OrgName: [],\n    CustomerId: [],\n    CompanyId: []\n  });\n\n  public applyButton: ChqWidgetsButtonModel = {\n    label: 'apply',\n    type: 'primary'\n  }\n\n  public resetButton: ChqWidgetsButtonModel = {\n    label: 'reset_all',\n    type: 'outline'\n  }\n  public statusMap:{ [key: string]:string } = {\n    'Approved': 'Approved',\n    'PendingApproval': 'Pending Approval',\n    'RepairEstimation': 'Repair Estimation',\n    'UploadPhotos': 'Upload Photos',\n    'UploadDocuments': 'Upload Documents',\n    'Draft': 'Draft',\n  }\n\n  filterModal: ChqWidgetsInputModel[] = [\n    {\n      placeHolder: 'select_organization',\n      label: 'organization',\n      name: 'OrgName',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: false\n    },\n    {\n      placeHolder: 'select_type',\n      label: 'customer_name',\n      name: 'CustomerId',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: true\n    }\n  ];\n  filterDataLoaded: boolean = false;\n\n  repairSizeColors = {\n    'sm': 'bg-light-blue',\n    's': 'bg-light-blue',\n    'l': 'bg-light-green text-white',\n    'm': 'bg-light-pink text-white',\n    'xl': 'bg-dark-red text-white'\n  };\n  settingsButtonModel: ChqWidgetsButtonModel = {\n    label: 'filter',\n    type: 'outline',\n    icon: 'filter',\n    width: '13px',\n    height: '13px'\n  };\n\n  jobIconDictionary = {\n    'Body': 'car',\n    'Paint': 'paint-nozzle',\n    'Mechanical': 'mechanical',\n    'Electrical': 'electric',\n    'Tires': 'tire',\n    'Preparation': 'car-roof',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Check In': 'checkbox-open',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Repair': 'door-panel',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Fitup': 'door-panel',\n    'Polish': 'car-paint',\n    'Detailing': 'car-cleaning',\n    'Maintenance': 'maintenance',\n    'Diagnosis': 'diagnosis',\n    'Others': 'gears',\n  }\n\n  fontSizeDropdown: ChqWidgetsDropdownModel = {\n    options: [\n      { label: 'Small', labelSize : '12px', textSize: '10px' },\n      { label: 'Medium', labelSize : '13px', textSize: '11px' },      \n      { label: 'Large', labelSize : '14px', textSize: '12px' },\n      { label: 'X-Large', labelSize : '16px', textSize: '14px' },\n    ],\n    placeHolder: 'Select Font Size',\n    label: '',\n    name: 'fontSizeDropdown',\n    displayValue: 'label',\n    selectedOption: { label: 'Small', labelSize : '12px', textSize: '10px' }\n  }\n\n  subs: Subscription[] = [];\n\n  public FullscreenButton: ChqWidgetsButtonModel = {\n    label: 'view_full_screen',\n    type: 'outline',\n    icon: 'fullscreen'\n  };\n  public currentDate: string = dayjs().format('MMMM DD, YYYY hh:mm a');\n  isFullScreen: boolean;\n\n  orgImageLoading: boolean = true;\n  orgLogoUrl: string = '';\n  orgName: string = '';\n  avatar: string | ArrayBuffer;\n  public FocusedRepairIndex = 0;\n  public FocusedRepairHorizontalIndex = 0;\n  calculatedHeight: string;\n  verticalView: boolean = false;\n\n  @ViewChild('horizontalRow') horizontalRow: ElementRef;\n  horizontalRowHeight: number = 0;\n\n  @ViewChild('verticalRow') verticalRow: ElementRef;\n  verticalRowWidth: number = 0;\n\n  /**\n   * constructor.\n   * @constructor\n   * @param {WorkflowService} workflowService\n   * @param {commonService} commonService\n   * @param {caseService} caseService\n   * @param {formBuilder} formBuilder\n   */\n  constructor(private workflowService: WorkflowService,\n    private router: Router,\n    private commonService: CommonService,\n    private caseService: CaseService,\n    private translateService: TranslateService,\n    private formBuilder: FormBuilder\n  ) {\n    this.i18n = this.commonService.geti18nInfo();\n    this.commonService.userProfileData.subscribe({\n      next: (res: any) => {\n        if (res) {\n          this.orgLogoUrl = res?.data.organizationDetail?.logoUrl;\n          this.orgName = res?.data.organizationDetail?.name;\n          if (!this.orgLogoUrl) {\n            this.orgImageLoading = false;\n          }\n        }\n      }\n    });\n  }\n\n  /**\n   * ngOnInit\n   */\n  ngOnInit(): void {\n    this.timeInterval = setInterval(()=> {\n      this.updateDate();\n    }, 1000);\n    this.commonService.userProfileData.subscribe((res) => {\n      this.userDetail = res?.data;\n      this.userIsBM = this.userDetail?.roleDetail.some(x => x.name == 'Bodyshop Manager');\n      if (this.userDetail?.organizationDetail?.id) {\n        this.filterForm.get('OrgName').setValue(this.userDetail.organizationDetail.id);\n      }\n    });\n    this.chkScreenMode();\n\n  }\n\n  /**\n   * update Date\n   */\n  updateDate(): void {\n    this.currentDate = dayjs().format('MMMM DD, YYYY hh:mm a');\n  }\n  /**\n   * move_scroll\n   */\n  move_scroll(direction, el): void {\n    if (direction === 'left') {\n      el.scrollLeft = el.scrollLeft - 250;\n    } else {\n      el.scrollLeft = el.scrollLeft + 250;\n    }\n  }\n\n  /**\n * checkJobWrapperScroll\n */\n  checkJobWrapperScroll(direction, el): boolean {\n    if (direction === 'left') {\n      return !(el.scrollLeft <= 0);\n    } else {\n      return !(el.scrollLeft >= el.scrollWidth - el.clientWidth - 1);\n    }\n  }\n\n  /**\n   * auto scroll horizontally\n   */\n  horizontalScroll():void {\n\n    const parentContainer = document.querySelector('.workflow-table-container');\n    const container = document.querySelector('.scroll-items-row');\n    const nodes = container.querySelectorAll('.card-container');\n    if(container === null || container === undefined || nodes === null || nodes === undefined) {\n      return;\n    }\n\n    let visibleWidth = 0;\n    let longestNodeIndex = 0;\n    let longestNodeLength = 0;\n    const totalWidth = parentContainer.clientWidth\n    for(let i = 0; i < nodes.length; i++){\n      visibleWidth = 0;\n      if(longestNodeLength < nodes[i].children.length) {\n        longestNodeLength = nodes[i].children.length;\n        longestNodeIndex = i;\n      }\n    }\n    for(let i = this.FocusedRepairHorizontalIndex;i<nodes[longestNodeIndex].children.length;i++) {\n      if(i === nodes[longestNodeIndex].children.length - 1) {\n        this.FocusedRepairHorizontalIndex = 0;\n        parentContainer.scrollLeft = 0;\n      }\n      visibleWidth += nodes[longestNodeIndex].children[i].clientWidth + nodes[longestNodeIndex].children[i + 1]?.clientWidth ?? 0;\n      if(visibleWidth >= totalWidth){\n        this.FocusedRepairHorizontalIndex = i;\n        nodes[longestNodeIndex].children[i].scrollIntoView({ behavior: 'smooth', inline: 'start' });\n        break;\n      }\n    }\n  }\n\n  /**\n   * auto scroll vertically\n   */\n  verticalScroll():void {\n\n    const parentContainer = document.querySelector('.vertical-workflow-table');\n    const container = document.querySelector('.vertical-card-container');\n    const nodes = container.querySelectorAll('.vertical-card');\n    if(container === null || container === undefined || nodes === null || nodes === undefined) {\n      return;\n    }\n    let visibleHeight = 0;\n    let longestNodeIndex = 0;\n    let longestNodeLength = 0;\n    const totalHeight = parentContainer.clientHeight\n    for(let i = 0; i < nodes.length; i++){\n      visibleHeight = 0;\n      if(longestNodeLength < nodes[i].children.length) {\n        longestNodeLength = nodes[i].children.length;\n        longestNodeIndex = i;\n      }\n    }\n    for(let i = this.FocusedRepairIndex;i<nodes[longestNodeIndex].children.length;i++) {\n      if(i === nodes[longestNodeIndex].children.length - 1) {\n        this.FocusedRepairIndex = 0;\n        parentContainer.scrollTop = 0;\n      }\n      visibleHeight += nodes[longestNodeIndex].children[i].clientHeight;\n      if(visibleHeight >= totalHeight){\n        this.FocusedRepairIndex = i;\n        nodes[longestNodeIndex].children[i].scrollIntoView({ behavior: 'smooth', block: 'start' });\n        break;\n      }\n\n    }\n\n  }\n\n  /**\n   * ngAfterViewInit\n   */\n  ngAfterViewInit(): void {\n    //call autoScroll every 1 mins\n    this.autoScrollInterval = setInterval(()=> {\n      if(this.isFullScreen) {\n        if(this.verticalView) {\n          this.verticalScroll();\n        } else {\n          this.horizontalScroll();\n        }\n      }\n    }, 10000);\n    this.getWorkflowDetails(this.generateFilterQuery());\n    this.IntervalGetWorkflow = setInterval(() => { //call getWorkflow every 5 mins\n      this.getWorkflowDetails(this.generateFilterQuery());\n    }, 300000);\n    if(localStorage.getItem('workflow-fontsize')){\n      this.fontSizeDropdown.selectedOption = JSON.parse(localStorage.getItem('workflow-fontsize'))\n    }\n  }\n\n  /**\n   * getWorkflowData\n   */\n  public async getWorkflowDetails(query): Promise<any> {\n    this.commonService.showLoading();\n    this.CallingAPI = true;\n    if (query !== '?$filter=') {\n      this.subs.push(this.workflowService.getWorkflowDetailsWithQuery(query).subscribe({\n        next: (data) => {\n          this.workflowData = this.getTotals(data.value);\n\n          if (this.workflowData) {\n            this.workflowData = this.workflowData.filter(x => x.JobName !== 'REPAIR NOT STARTED');\n            this.calculatedHeight = `${100/this.workflowData.length}%`;\n            this.workflowData.map(value =>\n              value?.WaterfallRepairs.map(child => child.isLoaded = false));\n          }\n          this.CallingAPI = false;\n          this.LastRefreshedDate = dayjs().format('DD/MM/YYYY HH:mm:ss');\n          setTimeout(() => {\n            this.horizontalRowHeight = this.horizontalRow?.nativeElement?.offsetHeight;\n            this.commonService.hideLoading();\n          });\n        }, error: () => {\n          this.CallingAPI = false;\n        }\n      }))\n    } else {\n      this.subs.push(this.workflowService.getWorkflowDetails().subscribe({\n        next: (data) => {\n\n          this.workflowData = this.getTotals(data.value);\n\n          if (this.workflowData) {\n            this.workflowData.map(value =>\n              value?.WaterfallRepairs.map(child => child.isLoaded = false));\n          }\n          this.CallingAPI = false;\n          this.LastRefreshedDate = dayjs().format('DD/MM/YYYY HH:mm:ss');\n          this.commonService.hideLoading();\n        }, error: () => {\n          this.CallingAPI = false;\n        }\n      }))\n    }\n  }\n\n  /**\n   * calculate totalCost and totalCount of all repairs\n   */\n  getTotals(data: any): any {\n    this.totalCost = 0;\n    this.totalCount = 0;\n    data.forEach((item) => {\n      this.totalCount += item.WaterfallRepairs.length;\n      item['ManualCost'] = 0;\n      item.WaterfallRepairs.forEach((itm) => {\n        this.totalCost += itm.EstimateCost;\n        item.ManualCost += itm.EstimateCost;\n      });\n\n    });\n\n    return data;\n  }\n\n  /**\n   * current_date_format\n   * return date format\n   * example 28 Wednesday, of June 2023\n   *\n   * @returns {string}\n   */\n  current_date_format(): string {\n    return dayjs().format('D dddd, of MMMM YYYY');\n  }\n\n  /**\n   * pull data and open filter panel\n   */\n  openFilter(): void {\n    if (this.filterDataLoaded) {\n      this.filter.open();\n    } else {\n      this.commonService.showLoading();\n\n      forkJoin([\n        this.getOrgIfBM(),\n        this.workflowService.getCustomer(this.userDetail.organizationDetail.id)\n      ]\n      ).pipe(\n        map(([ orgList, CustomerList ]) => {\n          return { orgList, CustomerList };\n        })\n      ).subscribe((result) => {\n\n        if (this.userIsBM) {\n          this.filterModal[0] =\n          {\n            ...this.filterModal[0],\n            selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n            options: result.orgList.data.map((x) => { return { label: x.name, value: x.id } })\n          };\n        } else {\n          this.filterModal[0] =\n          {\n            ...this.filterModal[0],\n            selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n            options: [ { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id } ],\n            disabled: true\n          };\n        }\n        this.filterModal[1] =\n        {\n          ...this.filterModal[1],\n          options: result.CustomerList.filter((value, index, self) => {\n            return self.findIndex(o => o.contactId === value.contactId) === index;\n          }).map((x) => {\n            const name = x.firstName + ' ' + x.lastName;\n            const label = x.isIndividual ? name : x.companyName;\n            const subLabel = x.isIndividual ? x.email : x.licenseNumber;\n            return {\n              label: x.isIndividual ? name : x.companyName,\n              subLabel: x.isIndividual ? x.email : x.licenseNumber,\n              value: x.isIndividual ? x.contactId : x.companyId,\n              html: `<div class='workflow-customer-item'><span class='name'>${label}</span><span class='email'>${subLabel}</span></div>`\n            }\n          })\n        };\n\n        this.filter.open();\n        this.commonService.hideLoading();\n        this.filterDataLoaded = true;\n      });\n    }\n  }\n\n  /**\n   * Check if user is bm , then call api otherwise return observable\n   */\n  getOrgIfBM(): Observable<any> {\n    if (this.userIsBM) {\n      return this.caseService.getOrganizations()\n    } else {\n      return of(null);\n    }\n  }\n\n  /**\n   * get customer list\n   * @param orgId\n   */\n  getCustomer(orgId: number): void {\n    this.commonService.showLoading();\n    this.workflowService.getCustomer(orgId).subscribe({\n      next: (data) => {\n        this.filterModal[1] =\n        {\n          ...this.filterModal[1],\n          options: data.filter((value, index, self) => {\n            return self.findIndex(o => o.contactId === value.contactId) === index;\n          }).map((x) => {\n            const name = x.firstName + ' ' + x.lastName;\n            const label = x.isIndividual ? name : x.companyName;\n            const subLabel = x.isIndividual ? x.email : x.licenseNumber;\n            return {\n              label: x.isIndividual ? name : x.companyName,\n              subLabel: x.isIndividual ? x.email : x.licenseNumber,\n              value: x.isIndividual ? x.contactId : x.companyId,\n              html: `<div class='workflow-customer-item'><span class='name'>${label}</span><span class='email'>${subLabel}</span></div>`\n            }\n          })\n        };\n        console.log(this.filterModal[1]);\n        this.commonService.hideLoading();\n      }, error: () => {\n        this.commonService.showLoading();\n      }\n    })\n  }\n\n  /**\n  * function\n  */\n  generateFilterQuery(): string {\n\n    const filterValue = this.filterForm.value;\n    let query = '?$filter=';\n\n    if(filterValue.OrgName && filterValue.OrgName > 0) {\n      query += `OrgId eq ${filterValue.OrgName}`;\n    }\n\n    if((filterValue.CustomerId && filterValue.CustomerId.length > 0) || (filterValue.CompanyId && filterValue.CompanyId.length > 0)) {\n      if(query !== '?$filter=') {\n        query += '&';\n      } else {\n        query = '?';\n      }\n      query += '$expand=WaterfallRepairs($filter=(';\n      if(filterValue.CustomerId.length>0)\n        query += `${filterValue.CustomerId.map(x => 'ContactId eq ' + x + '').join(' or ')}`;\n      if(filterValue.CustomerId.length>0 && filterValue.CompanyId.length>0)\n        query += ' or ';\n      if(filterValue.CompanyId.length>0)\n        query += `${filterValue.CompanyId.map(x => 'CompanyId eq ' + x + '').join(' or ')}`;\n      query += '))';\n    }\n\n    return query;\n  }\n\n  /**\n   *\n   * @param output\n   */\n  onFormUpdate(output: IControlValue): void {\n\n    if (output.name === 'CustomerId') {\n      this.filterModal[1] = { ...this.filterModal[1], selectedOption: output.value };\n      this.filterForm.get(output.name).setValue(output.value.filter(x =>x.isIndividual).map((x) => { return x.value }));\n      this.filterForm.get('CompanyId').setValue(output.value.filter(x =>!x.isIndividual).map((x) => { return x.value }));\n    } else if (output.name === 'OrgName') {\n      this.filterModal[0] = { ...this.filterModal[0], selectedOption: output.value };\n      if (output.value) {\n        this.filterForm.get(output.name).setValue(output.value.value);\n        this.getCustomer(output.value.value);\n      } else {\n        this.filterModal[1] = {\n          ...this.filterModal[1],\n          value: '',\n          selectedOption: '',\n          options: []\n        }\n      }\n    }\n  }\n\n\n  /**\n   *\n   */\n  applyFilter(): void {\n    this.workflowData = [];\n    this.getWorkflowDetails(this.generateFilterQuery());\n    this.filter.close();\n  }\n\n  /**\n   *\n   */\n  resetFilter(): void {\n    this.filterForm.reset();\n\n    for (let index = 0; index < this.filterModal.length; index++) {\n      this.filterModal[index] = {\n        ...this.filterModal[index],\n        value: '',\n        selectedOption: '',\n        options: this.filterModal[index].options?.map((x) => { x.checked = false; return x; })\n      }\n\n    }\n\n    if (this.userDetail?.organizationDetail?.id) {\n      this.filterForm.get('OrgName').setValue(this.userDetail.organizationDetail.id);\n      this.filterModal[0] =\n      {\n        ...this.filterModal[0],\n        selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n      };\n      this.getCustomer(this.userDetail?.organizationDetail.id);\n    }\n  }\n\n  /**\n   * PartTypeIcon\n   *  @param type {string}\n   *\n   *  @returns {string}\n   */\n  PartTypeIcon(type: string): string {\n    switch (type) {\n    case 'NotOrdered':\n      return 'parts-not-ordered';\n    case 'Ordered':\n      return 'parts-ordered';\n    case 'Arrived':\n      return 'parts-arrived';\n    case 'OrderedPartially':\n      return 'parts-ordered-partial';\n    case 'ArrivedPartially':\n      return 'parts-arrived-partial';\n    default:\n      return 'parts-not-ordered';\n    }\n  }\n\n  /**\n   * PartTypeIcon\n   *  @param type {string}\n   *\n   *  @returns {string}\n   */\n  PartTypetoolTip(type: string): string {\n    let Tooltip = '';\n    switch (type) {\n    case 'NotOrdered':\n      Tooltip = 'parts_not_ordered';\n      break;\n    case 'Ordered':\n      Tooltip = 'part_ordered';\n      break;\n    case 'Arrived':\n      Tooltip = 'part_arrived';\n      break;\n    case 'OrderedPartially':\n      Tooltip = 'part_ordered_partial';\n      break;\n    case 'ArrivedPartially':\n      Tooltip = 'part_arrived_partial';\n      break;\n    default:\n      Tooltip = 'parts_not_ordered';\n      break;\n    }\n    return this.translateService.instant(Tooltip);\n  }\n\n  /**\n   *\n   * @param event\n   */\n  @HostListener('document:fullscreenchange', [ '$event' ])\n  @HostListener('document:webkitfullscreenchange', [ '$event' ])\n  @HostListener('document:mozfullscreenchange', [ '$event' ])\n  @HostListener('document:MSFullscreenChange', [ '$event' ])\n  @HostListener('document:onwebkitfullscreenchange', [ '$event' ])\n  fullscreenmodes(event): void {\n    this.chkScreenMode();\n  }\n\n  /**\n * check screen mode\n */\n  chkScreenMode(): void {\n    if (document.fullscreenElement || document['webkitIsFullScreen']) {\n      //fullscreen\n      this.isFullScreen = true;\n    } else {\n      //not in full screen\n      this.isFullScreen = false;\n    }\n  }\n\n  /**\n * open in full screen\n */\n  openFullscreen(): void {\n    const elem: any = document.documentElement;\n    if (elem.requestFullscreen) {\n      elem.requestFullscreen();\n    } else if (elem.mozRequestFullScreen) {\n      /* Firefox */\n      elem.mozRequestFullScreen();\n    } else if (elem.webkitRequestFullscreen) {\n      /* Chrome, Safari and Opera */\n      elem.webkitRequestFullscreen();\n    } else if (elem.msRequestFullscreen) {\n      /* IE/Edge */\n      elem.msRequestFullscreen();\n    }\n  }\n\n  /**\n   * toggle view\n   */\n  changeView(): void {\n    if(!this.verticalView) {\n      setTimeout(() => {\n        this.verticalRowWidth = this.verticalRow?.nativeElement?.offsetWidth*0.6;\n      });\n    }\n    this.verticalView = !this.verticalView;\n  }\n\n  /**\n   * changeFontSize\n   *\n   * @param {*} event\n   */\n  changeFontSize(event): void{\n    if(event.name === 'fontSizeDropdown'){\n      this.fontSizeDropdown.selectedOption = event.value;\n      localStorage.setItem('workflow-fontsize', JSON.stringify(event.value));\n    }\n  }\n\n  /**\n   * ngOnDestroy\n   */\n  ngOnDestroy(): void {\n    this.subs.forEach(sub => sub.unsubscribe());\n    clearInterval(this.IntervalGetWorkflow);\n    clearInterval(this.autoScrollInterval);\n    clearInterval(this.timeInterval)\n  }\n}\n","<div class=\"page-container workflow-container mh-0 mt-0 fx-col\">\n    <div class=\"fx-0 lounge-list-header\">\n        <div class=\"header-content fx-row justify-space-between align-center\">\n            <chq-dropdown style='margin-left: auto; width: 140px;' [dropdownModel]=\"fontSizeDropdown\" (selected)=\"changeFontSize($event)\" ></chq-dropdown>\n            <chq-button [buttonModel]=\"FullscreenButton\"\n                (click)=\"openFullscreen()\"></chq-button>\n            <div class=\"alignment-btn\" (click)=\"changeView()\">\n                <mat-icon *ngIf=\"!verticalView\" svgIcon=\"horizontal-alignment\"></mat-icon>\n                <mat-icon *ngIf=\"verticalView\" svgIcon=\"vertical-alignment\"></mat-icon>\n            </div>\n        </div>\n    </div>\n    <div class=\"fullscreen\" *ngIf=\"isFullScreen\">\n        <div class=\"lounge-header fx-0 fx-col justify-center\">\n            <div class=\"lounge-header-content align-center fx-row\">\n                <a class=\"xa-logo-wrapper\">\n                    <div class=\"menu-image\">\n                        <img [src]=\"orgLogoUrl\" (error)=\"avatar='';\" (load)=\"orgImageLoading=false\" alt=\"\"\n                            *ngIf=\"orgLogoUrl else name\" />\n                        <ng-template #name>\n                            <label *ngIf=\"orgName\" class=\"org-name\">{{orgName}}</label>\n                        </ng-template>\n                        <chq-custom-loader [showLoading]=\"orgImageLoading\"></chq-custom-loader>\n                    </div>\n                </a>\n                <div class=\"lounge-title-wrapper\">{{'workflow_dashboard' | translate}}</div>\n                <div class='date-container'>\n                    <div class=\"lounge-date-wrapper\">{{currentDate}}</div>\n                    <div class=\"lounge-last-refresh\">{{'last_refreshed' | translate}}: {{LastRefreshedDate}}</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"workflow-table-container\" [class.fullscreen-table]=\"isFullScreen\" *ngIf=\"totalCost > 0 && totalCount > 0 && !verticalView\">\n        <table class=\"horizontal-workflow-table\"  aria-describedby=\"horizontal\">\n            <th class=\"d-none\"></th>\n            <tbody class=\"scroll-items-row\">\n                <tr class='job-item-row' *ngFor=\"let items of workflowData; let i = index\" [ngStyle]=\"{'min-height': calculatedHeight, 'height': calculatedHeight, 'max-height': calculatedHeight}\">\n                    <div class='job-item-cards'>\n                        <div class=\"workflow-row-container\" #horizontalRow>\n                            <div class=\"workflow-header-card\" [style.background-color]=\"items.IsJobFromMaster ?items.Color:'#DCDDE2'\"\n                                [style.color]=\"items.IsJobFromMaster ?'':'#0B0E15'\">\n                                <div class=\"card-content\">\n                                    <span class=\"uppercase\" [style.fontSize]=\"fontSizeDropdown.selectedOption.labelSize\">{{items.JobName}}</span>\n                                    <div class=\"rounded-icon\">{{items.WaterfallRepairs.length}}</div>\n                                </div>\n                            </div>\n                            <div #cardContainer class='card-container'>\n                                <div class=\"workflow-details-card\"\n                                    *ngFor=\"let repair of items.WaterfallRepairs; let j = index\">\n                                    <div class=\"detail-card-link\">\n                                        <div class=\"img-container\">\n                                            <img [src]=\"(repair.ImageUrl !== null && repair.ImageUrl !== '') ? repair.ImageUrl : 'assets/img/front-left.png'\"\n                                                (load)=\"repair.isloaded=true;\" alt=\"\" [ngStyle]=\"{'width.px': horizontalRowHeight }\"/>\n                                        </div>\n                                        <div class=\"repair-items-container\">\n                                            <span class=\"due-date-span\" [style.fontSize]=\"fontSizeDropdown.selectedOption.textSize\">\n                                                {{'due_out' | translate}}: {{repair.RepairEndDate | date: 'dd/MM/yy' | translate}}\n                                            </span>\n                                            <span class=\"info-span\" [style.fontSize]=\"fontSizeDropdown.selectedOption.textSize\">\n                                                {{repair.VehicleMake + ' ' + repair.VehicleModel}}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class=\"vertical-workflow-table\" [class.fullscreen-table]=\"isFullScreen\" *ngIf=\"totalCost > 0 && totalCount > 0 && verticalView\">\n        <table class='vertical-table' aria-describedby=\"vertical view\">\n            <thead>\n                <tr>\n                    <th *ngFor=\"let items of workflowData;\" #verticalRow>\n                        <div class=\"header-container\" [style.background-color]=\"items.Color\" [ngClass]=\"{'repair-not-started': items.JobName.toLowerCase() === 'repair not started'}\">\n                            <div class=\"count\">{{items.WaterfallRepairs.length}}</div>\n                            <span class=\"title\">{{items.JobName | uppercase}}</span>\n                        </div>\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr class='vertical-card-container'>\n                    <td class='vertical-card' *ngFor=\"let items of workflowData; let i = index\">\n                        <ng-container *ngFor=\"let repair of items.WaterfallRepairs;\">\n                            <div class=\"repair-container\">\n                                <div class=\"img-container\">\n                                    <img [src]=\"(repair.ImageUrl !== null && repair.ImageUrl !== '') ? repair.ImageUrl : 'assets/img/front-left.png'\" (load)=\"repair.isloaded=true;\" alt=\"\" [ngStyle]=\"{'height.px': verticalRowWidth }\"/>\n                                </div>\n                                <div class=\"repair-items-container\">\n                                    <span class=\"due-date-span\" [style.visibility]=\"repair.RepairEndDate ? 'visible': 'hidden'\" [style.fontSize]=\"fontSizeDropdown.selectedOption.textSize\">\n                                        {{'due_out' | translate}}: {{repair.RepairEndDate | date: 'dd/MM/yy' | translate}}\n                                    </span>\n                                    <span class=\"info-span\" [style.fontSize]=\"fontSizeDropdown.selectedOption.textSize\">\n                                        {{repair.VehicleMake + ' ' + repair.VehicleModel}}\n                                    </span>\n                                </div>\n                            </div>\n                        </ng-container>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <div class=\"no-data-wrapper\"\n        *ngIf=\"(workflowData.length === 0 || (totalCost === 0 && totalCount === 0)) && !CallingAPI\">\n        <div class=\"no-data-content\">\n            <img src=\"assets/img/no-data.png\" alt=\"\">\n            <span>{{'no_result_found' | translate}}</span>\n            <span>{{'could_not_find_any_data' | translate}}.</span>\n        </div>\n    </div>\n</div>\n\n<div class=\"footer-full-wrapper\">\n    <div class=\"footer-image-wrapper\">\n        <div class=\"image-wrapper\">\n            <img src=\"assets/img/addenda-repair.png\" alt=\"\" />\n        </div>\n    </div>\n</div>\n","import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as dayjs from 'dayjs';\nimport { Observable, Subscription, forkJoin, map, of } from 'rxjs';\nimport { RepairStatusMapper } from 'src/app/config/route-mapper/repair-status-mapper';\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\nimport { ChqWidgetsInputModel, IControlValue } from 'src/app/model/chq-widgets-input-model';\nimport { WorkflowService } from 'src/app/services/workflow/workflow.service';\nimport { CaseService } from 'src/app/services/case/case.service';\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\n\n@Component({\n  selector: 'app-workflow',\n  templateUrl: './workflow.component.html',\n  styleUrls: [ './workflow.component.scss' ],\n  providers: [ WorkflowService ],\n})\n\nexport class WorkflowComponent implements OnInit, OnDestroy, AfterViewInit{\n\n  totalCost = 0;\n  totalCount = 0;\n  workflowData: any[] = [];\n  CallingAPI = false;\n  i18n: i18nInfo;\n  IntervalGetWorkflow = null;\n  LastRefreshedDate = dayjs().format('DD/MM/YYYY HH:mm:ss');\n  private userDetail;\n  public userIsBM = false;\n  @ViewChild('filter') public filter: MatSidenav;\n\n  public filterButton: ChqWidgetsButtonModel = {\n    label: 'filter',\n    type: 'outline',\n    icon: 'filter'\n  }\n\n  public filterForm = this.formBuilder.group({\n    OrgName: [],\n    CustomerId: []\n  });\n\n  public applyButton: ChqWidgetsButtonModel = {\n    label: 'apply',\n    type: 'primary'\n  }\n\n  public resetButton: ChqWidgetsButtonModel = {\n    label: 'reset_all',\n    type: 'outline'\n  }\n\n  filterModal: ChqWidgetsInputModel[] = [\n    {\n      placeHolder: 'select_organization',\n      label: 'organization',\n      name: 'OrgName',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: false\n    },\n    {\n      placeHolder: 'select_type',\n      label: 'customer_name',\n      name: 'CustomerId',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: true\n    }\n  ];\n  filterDataLoaded: boolean = false;\n\n  repairSizeColors = { \n    'sm': 'bg-light-blue', \n    's': 'bg-light-blue',\n    'l': 'bg-light-green text-white', \n    'm': 'bg-light-pink text-white', \n    'xl': 'bg-dark-red text-white' \n  };\n  settingsButtonModel : ChqWidgetsButtonModel = {\n    label: 'filter',\n    type: 'outline',\n    icon: 'filter',\n    width: '13px',\n    height: '13px'\n  };\n\n  jobIconDictionary = {\n    'Body': 'car',\n    'Paint': 'paint-nozzle',\n    'Mechanical': 'mechanical',\n    'Electrical': 'electric',\n    'Tires': 'tire',\n    'Preparation': 'car-roof',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Check In': 'checkbox-open',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Repair': 'door-panel',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Fitup': 'door-panel',\n    'Polish': 'car-paint',\n    'Detailing': 'car-cleaning',\n    'Maintenance': 'maintenance',\n    'Diagnosis': 'diagnosis',\n    'Others': 'gears',\n  }\n\n  subs: Subscription[] = []; \n  /**\n   * constructor.\n   * @constructor\n   * @param {WorkflowService} workflowService\n   * @param {commonService} commonService\n   * @param {caseService} caseService\n   * @param {formBuilder} formBuilder\n   */\n  constructor(private workflowService: WorkflowService,\n              private router: Router,\n              private commonService: CommonService,\n              private caseService: CaseService,\n              private translateService: TranslateService,\n              private formBuilder: FormBuilder,) {\n    this.i18n = this.commonService.geti18nInfo();\n  }\n\n  /**\n   * ngOnInit\n   */\n  ngOnInit(): void{\n    this.commonService.userProfileData.subscribe((res) => {\n      this.userDetail = res?.data;\n      this.userIsBM = this.userDetail?.roleDetail.some(x => x.name == 'Bodyshop Manager');\n      if (this.userDetail?.organizationDetail?.id) {\n        this.filterForm.get('OrgName').setValue(this.userDetail.organizationDetail.id);\n      }\n    });\n  }\n\n  /**\n   * ngAfterViewInit\n   */\n  ngAfterViewInit(): void {\n    this.getWorkflowDetails(this.generateFilterQuery());\n    this.IntervalGetWorkflow = setInterval(()=>{ //call getWorkflow every 5 mins\n      this.getWorkflowDetails(this.generateFilterQuery());\n    }, 300000);\n  }\n\n  /**\n   * getWorkflowData\n   */\n  public async getWorkflowDetails(query): Promise<any> {\n    this.commonService.showLoading();\n    this.CallingAPI = true;\n    if(query !== '?$filter='){\n      this.subs.push(this.workflowService.getWorkflowDetailsWithQuery(query).subscribe({\n        next: (data) => {\n          this.workflowData = data.value;\n          if(this.workflowData) {\n            this.workflowData.map(value => \n              value?.WaterfallRepairs.map(child => child.isLoaded = false));\n          }\n          this.CallingAPI = false;\n          this.LastRefreshedDate = dayjs().format('DD/MM/YYYY HH:mm:ss');\n          this.getTotals();\n          this.commonService.hideLoading();\n        }, error: () =>{\n          this.CallingAPI = false;\n        }\n      }))\n    } else{\n      this.subs.push(this.workflowService.getWorkflowDetails().subscribe({\n        next: (data) => {\n          this.workflowData = data.value;\n          if(this.workflowData) {\n            this.workflowData.map(value => \n              value?.WaterfallRepairs.map(child => child.isLoaded = false));\n          }\n          this.CallingAPI = false;\n          this.LastRefreshedDate = dayjs().format('DD/MM/YYYY HH:mm:ss');\n          this.getTotals();\n          this.commonService.hideLoading();\n        }, error: () =>{\n          this.CallingAPI = false;\n        }\n      }))\n    }\n   \n\n  }\n  \n  /**\n   * calculate totalCost and totalCount of all repairs\n   */\n  getTotals(): void{\n    this.totalCost = 0;\n    this.totalCount = 0;\n    this.workflowData.forEach((item)=> {\n      this.totalCount += item.WaterfallRepairs.length;\n      item.WaterfallRepairs.forEach((itm) => {\n        this.totalCost += itm.EstimateCost;\n      });\n      \n    });\n  }\n  \n  /**\n   * current_date_format\n   * return date format \n   * example 28 Wednesday, of June 2023\n   *\n   * @returns {string}\n   */\n  current_date_format(): string{\n    return dayjs().format('D dddd, of MMMM YYYY');\n  }\n\n  /**\n   * pull data and open filter panel\n   */\n  openFilter(): void{\n    if (this.filterDataLoaded) {\n      this.filter.open();\n    } else {\n      this.commonService.showLoading();\n\n      forkJoin([\n        this.getOrgIfBM(),\n        this.workflowService.getCustomer(this.userDetail.organizationDetail.id)\n      ]\n      ).pipe(\n        map(([ orgList, CustomerList ]) => {\n          return { orgList, CustomerList };\n        })\n      ).subscribe((result) => {\n        \n        if (this.userIsBM) {\n          this.filterModal[0] =\n          {\n            ...this.filterModal[0],\n            selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n            options: result.orgList.data.map((x) => { return { label: x.name, value: x.id } })\n          };\n        } else {\n          this.filterModal[0] =\n          {\n            ...this.filterModal[0],\n            selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n            options: [ { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id } ],\n            disabled: true\n          };\n        }\n\n        this.filterModal[1] =\n        {\n          ...this.filterModal[1],\n          options: result.CustomerList.filter((value, index, self) => {\n            return self.findIndex(o => o.contactId === value.contactId) === index;\n          }).map((x) => { \n            const name = x.firstName + ' ' + x.lastName;\n            const label = x.isIndividual ? name : x.companyName;\n            const subLabel = x.isIndividual ? x.email : x.licenseNumber;\n            return { \n              label: x.isIndividual ? name : x.companyName, \n              subLabel: x.isIndividual ? x.email : x.licenseNumber,\n              value: x.id, \n              html: `<div class='workflow-customer-item'><span class='name'>${label }</span><span class='email'>${subLabel }</span></div>` \n            } \n          })\n        };\n\n        this.filter.open();\n        this.commonService.hideLoading();\n        this.filterDataLoaded = true;\n      });\n    }\n  }\n\n  /**\n   * Check if user is bm , then call api otherwise return observable\n   */\n  getOrgIfBM(): Observable<any> {\n    if (this.userIsBM) {\n      return this.caseService.getOrganizations()\n    } else {\n      return of(null);\n    }\n  }\n\n  /**\n   * get customer list\n   * @param orgId\n   */\n  getCustomer(orgId: number): void {\n    this.commonService.showLoading();\n    this.workflowService.getCustomer(orgId).subscribe({\n      next: (data) => {\n        this.filterModal[1] =\n        {\n          ...this.filterModal[1],\n          options: data.filter((value, index, self) => {\n            return self.findIndex(o => o.contactId === value.contactId) === index;\n          }).map((x) => { \n            const name = x.firstName + ' ' + x.lastName;\n            const label = x.isIndividual ? name : x.companyName;\n            const subLabel = x.isIndividual ? x.email : x.licenseNumber;\n            return { \n              label: x.isIndividual ? name : x.companyName, \n              subLabel: x.isIndividual ? x.email : x.licenseNumber,\n              value: x.id, \n              html: `<div class='workflow-customer-item'><span class='name'>${label }</span><span class='email'>${subLabel }</span></div>` \n            } \n          })\n        };\n        console.log(this.filterModal[1]);\n        this.commonService.hideLoading();\n      }, error: () =>{\n        this.commonService.showLoading();\n      }\n    })\n  }\n\n  /**\n  * function\n  */\n  generateFilterQuery(): string {\n\n    const filterValue = this.filterForm.value;\n    let query = '?$filter=';\n  \n    if(filterValue.OrgName && filterValue.OrgName > 0) {\n      query += `OrgId eq ${filterValue.OrgName}`;\n    }\n\n    if(filterValue.CustomerId && filterValue.CustomerId.length > 0) {\n      if(query !== '?$filter=') {\n        query += '&';\n      } else {\n        query = '?';\n      }\n      query += '$expand=WaterfallRepairs($filter=';\n      query += `(${filterValue.CustomerId.map(x => 'CustomerId eq ' + x + '').join(' or ')}))`;\n    }\n  \n    return query;\n  }\n\n  /**\n   * \n   * @param output \n   */\n  onFormUpdate(output: IControlValue): void {\n\n    if (output.name === 'CustomerId') {\n      this.filterModal[1] = { ...this.filterModal[1], selectedOption: output.value };\n      this.filterForm.get(output.name).setValue(output.value.map((x) => { return x.value }));\n    } else if (output.name === 'OrgName') {\n      this.filterModal[0] = { ...this.filterModal[0], selectedOption: output.value };\n      this.filterForm.get(output.name).setValue(output.value.value);\n      if(output.value) {\n        this.getCustomer(output.value.value);\n      } else {\n        this.filterModal[1] = {\n          ...this.filterModal[1],\n          value: '',\n          selectedOption: '',\n          options: []\n        }\n      }\n    }\n  }\n    \n    \n  /**\n   * \n   */\n  applyFilter(): void {\n    this.workflowData = [];\n    this.getWorkflowDetails(this.generateFilterQuery());\n    this.filter.close();\n  }\n\n  /**\n   * \n   */\n  resetFilter(): void {\n    this.filterForm.reset();\n\n    for (let index = 0; index < this.filterModal.length; index++) {\n      this.filterModal[index] = {\n        ...this.filterModal[index],\n        value: '',\n        selectedOption: '',\n        options: this.filterModal[index].options?.map((x) => { x.checked = false; return x; })\n      }\n\n    }\n    \n    if (this.userDetail?.organizationDetail?.id) {\n      this.filterForm.get('OrgName').setValue(this.userDetail.organizationDetail.id);\n      this.filterModal[0] =\n      {\n        ...this.filterModal[0],\n        selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n      };\n      this.getCustomer(this.userDetail?.organizationDetail.id);\n    }\n  }\n\n  /**\n   * PartTypeIcon\n   *  @param type {string} \n   * \n   *  @returns {string}\n   */\n  PartTypeIcon(type: string): string {\n    switch (type) {\n    case 'NotOrdered':\n      return 'parts-not-ordered';\n    case 'Ordered':\n      return 'parts-ordered';\n    case 'Arrived':\n      return 'parts-arrived';\n    case 'OrderedPartially': \n      return 'parts-ordered-partial';\n    case 'ArrivedPartially':\n      return 'parts-arrived-partial';\n    default:\n      return 'parts-not-ordered';\n    }\n  }\n\n  /**\n   * PartTypeIcon\n   *  @param type {string} \n   * \n   *  @returns {string}\n   */\n  PartTypetoolTip(type: string): string {\n    let Tooltip = '';\n    switch (type) {\n    case 'NotOrdered':\n      Tooltip = 'parts_not_ordered';\n      break;\n    case 'Ordered':\n      Tooltip = 'part_ordered';\n      break;\n    case 'Arrived':\n      Tooltip = 'part_arrived';\n      break;\n    case 'OrderedPartially': \n      Tooltip = 'part_ordered_partial';\n      break;\n    case 'ArrivedPartially':\n      Tooltip = 'part_arrived_partial';\n      break;\n    default:\n      Tooltip = 'parts_not_ordered';\n      break;\n    }\n    return this.translateService.instant(Tooltip);\n  }\n\n  /**\n   * booking url\n   */\n  bookingStatusUrl(repair: any): void {\n    const { Status, RepairGuid } = repair;\n    let routeToRedirect = RepairStatusMapper[Status?.toLowerCase()] || RepairStatusMapper.others;\n    routeToRedirect = routeToRedirect.replace('{{repairGUID}}', RepairGuid);\n    this.router.navigate([ routeToRedirect ]);\n  }\n\n  /**\n   * ngOnDestroy\n   */\n  ngOnDestroy(): void{\n    this.subs.forEach(sub=>sub.unsubscribe());\n    clearInterval(this.IntervalGetWorkflow);\n  }\n}\n","<div class=\"page-container workflow-container mh-0 mt-0 fx-col\">\n    <div class=\"fx-0\">\n        <div class=\"fx-row date-filter-container\">\n            <span class=\"text-muted\" style=\"display: block;\">\n                <div class=\"current-data\"> \n                    {{'current_date' | translate}}: <span class=\"\" [innerHTML]=\"current_date_format()\"></span>\n                </div>\n                <div class=\"updated-date\">{{'last_refreshed' | translate}}: {{LastRefreshedDate}}</div>\n            </span>\n            <span class=\"flex align-center\" style=\"gap: 25px; margin-left: auto;\">               \n\n                <span class=\"flex align-center\">\n                    <mat-icon color=\"dark-gray\" style=\"margin-right:8px\">directions_car</mat-icon>\n                    <label><b>{{totalCount}}</b></label>\n                </span>\n                <span class=\"flex align-center\">\n                    <mat-icon style=\"margin-right:8px\" svgIcon=\"double-database\"></mat-icon>\n                    <label><b>{{totalCost | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</b></label>\n                </span>\n\n                <chq-button [buttonModel]=\"filterButton\" (click)=\"openFilter()\" *chqPermission=\"'workflow'\"></chq-button>\n            </span>\n        </div>\n    </div>\n    <div class=\"fx-1\" style=\"overflow: auto;\" *ngIf=\"totalCost > 0 && totalCount > 0\">\n        <table class=\"workflow-table\">\n            <thead class=\"workflow-table-thead\">\n                <tr>\n                    <th *ngFor=\"let items of workflowData; let i = index\" class=\"right-border\">\n                        <div class=\"workflow-header-card\" [style.background-color]=\"items.Color\">\n                            <div class=\"\">\n                                <button class=\"bg-white rounded-icon\">{{items.WaterfallRepairs.length}}</button>\n                               \n                            </div>\n                            <div>\n                                <p>{{items.TotalAmount | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</p>\n                            </div>\n                           \n                            <span class=\"uppercase\">{{items.JobName}}</span>\n                        </div>\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td *ngFor=\"let items of workflowData; let i = index\" class=\"right-border\">\n                        <mat-card class=\"workflow-details-card\" *ngFor=\"let repair of items.WaterfallRepairs; let j = index\">\n                            <a class=\"detail-card-link\" (click)=\"bookingStatusUrl(repair)\">\n                                <div class=\"img-container\">\n                                    <img [src]=\"(repair.ImageUrl !== null && repair.ImageUrl !== '') ? repair.ImageUrl : 'assets/img/front-left.png'\" (load)=\"repair.isloaded=true;\" alt=\"\" />\n                                    <chq-customloader [showLoading]=\"!repair.isloaded\"></chq-customloader>\n                                </div>\n                                <div class=\"workflow-repair-items flex\" style=\"padding: 5px 0px; gap: 5px;\">\n                                    <button class=\"repair-items\" style=\"padding:1px 6px;\" matTooltip=\"{{ (repair.Assignees.length === 0?'No Assignee':repair.Assignees.length > 1?'Multi Assignees':'Single Assignee') | translate}}\" matTooltipPosition=\"above\">\n                                        <mat-icon [svgIcon]=\"repair.Assignees.length > 1?'multi-users':'single-user'\" \n                                            [attr.color]=\"repair.Assignees.length === 0?'dark-gray-disabled':'black'\" class=\"svg-17px\"></mat-icon>\n                                    </button>\n                                    \n                                    <button class=\"repair-items\" style=\"padding:1px 6px;\" matTooltip=\"{{ (repair.JobStatusColor === 'Transparent'?'job_not_started':repair.JobStatusColor === 'Green'?'job_start_today':'job_start_in_past') | translate}}\" matTooltipPosition=\"above\">\n                                        <mat-icon [attr.color]=\"repair.JobStatusColor === 'Transparent' ?'dark-gray-disabled': repair.JobStatusColor === 'Green'?'green-medium' : 'dark-red2'\" svgIcon=\"clock2\"></mat-icon>\n                                    </button>  \n        \n                                    <button class=\"repair-items\" style=\"padding:1px 6px;\" [matTooltip]=\"PartTypetoolTip(repair.PartGeneralStatus)\" matTooltipPosition=\"above\">\n                                        <mat-icon [svgIcon]=\"PartTypeIcon(repair.PartGeneralStatus)\" class=\"svg-17px\"></mat-icon>\n                                    </button>\n        \n                                    <button class=\"repair-items\" style=\"padding:1px 6px;\" matTooltip=\"{{ (repair.IsAttentionRequired?'attention_required':'attention_not_required') | translate}}\" matTooltipPosition=\"above\">\n                                        <mat-icon svgIcon=\"flag-circle\" [attr.color]=\"repair.IsAttentionRequired === null? 'dark-gray-disabled': repair.IsAttentionRequired? 'dark-red2': 'dark-gray-disabled'\" class=\"svg-17px\"></mat-icon>\n                                    </button>\n        \n                                    <!-- <button class=\"repair-items\" style=\"padding:1px 6px;\">\n                                        <mat-icon [color]=\"repair.EstimateCost === null?'dark-gray-disabled':repair.EstimateCost === 0?'dark-gray-disabled':'black'\" class=\"svg-17px\" svgIcon=\"dollarsign-circle\"></mat-icon>\n                                    </button> -->\n        \n                                    <!-- <button class=\"repair-items\" style=\"padding:1px 6px;\" >\n                                        <mat-icon svgIcon=\"check-circle\" color=\"dark-green\" class=\"svg-17px\"></mat-icon>\n                                    </button> -->\n        \n                                    <button class=\"repair-items\" style=\"padding:1px 6px;\" matTooltip=\"{{ (repair.LastestTaskUpdatedRepairType?repair.LastestTaskUpdatedRepairType:'Others') | lowercase | translate}}\" matTooltipPosition=\"above\">\n                                        <mat-icon [svgIcon]=\"jobIconDictionary[repair.LastestTaskUpdatedRepairType]?jobIconDictionary[repair.LastestTaskUpdatedRepairType]:'gears'\" [attr.color]=\"'black'\" class=\"repairType-custom-class\"></mat-icon>\n                                    </button>\n        \n                                    <button class=\"repair-items\" style=\"padding:1px 6px;\" matTooltip=\"{{ (repair.IsTowedIn?'towed_in':'not_towed_in') | translate}}\" matTooltipPosition=\"above\">\n                                        <mat-icon [svgIcon]=\"'towing'\" [attr.color]=\"repair.IsTowedIn ? 'black' : 'dark-gray-disabled'\"></mat-icon>\n                                    </button>\n                                </div>\n                                \n                                <span class=\"due-date-span\" style=\"margin-top: 6px;\">{{'due_out' | translate}}: <b>{{repair.BookingOutDate | date: 'dd/MM/yy HH:mm' | translate}}</b></span>\n                            </a>\n                        </mat-card>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <div class=\"no-data-wrapper\" *ngIf=\"(workflowData.length === 0 || (totalCost === 0 && totalCount === 0)) && !CallingAPI\">\n        <div class=\"no-data-content\">\n            <img src=\"assets/img/no-data.png\" alt=\"\">\n            <span>{{'no_result_found' | translate}}</span>\n            <span>{{'could_not_find_any_data' | translate}}.</span>\n        </div>\n    </div>\n</div>\n\n<mat-sidenav-container [hasBackdrop]=\"true\">\n    <mat-sidenav #filter [mode]=\"'over'\" [position]=\"'end'\" class=\"filter-sidenav\">\n        <div class=\"filter-container\">\n            <div class=\"header\">\n                <div class=\"title\">\n                    Filters\n                </div>\n                <div class=\"action\">\n                    <button (click)=\"filter.toggle()\">\n                        <mat-icon [svgIcon]=\"'cross'\" color=\"white\"></mat-icon>\n                    </button>\n                </div>\n            </div>\n\n            <form class=\"form-container\" [formGroup]=\"filterForm\">\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <chq-input [inputModel]=\"filterModal[0]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <chq-input [inputModel]=\"filterModal[1]\" (controlOutput)=\"onFormUpdate($event)\" class=\"customer-list-w\"></chq-input>\n                    </div>\n                </div>\n            </form>\n            <div class=\"footer\">\n                <div class=\"row\">\n                    <div class=\"col-6\">\n                        <chq-button [buttonModel]=\"applyButton\" (click)=\"applyFilter()\"></chq-button>\n                    </div>\n                    <div class=\"col-6\">\n                        <chq-button [buttonModel]=\"resetButton\" (click)=\"resetFilter()\"></chq-button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </mat-sidenav>\n</mat-sidenav-container>\n\n<div class=\"footer-full-wrapper\">\n    <div class=\"footer-image-wrapper\">\n        <div class=\"image-wrapper\">\n            <img src=\"assets/img/addenda-repair.png\" alt=\"\"/>\n        </div>\n    </div>\n</div>\n\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { EmailRequest } from 'src/app/dialogs/request-approval-dialog/request-approval-dialog.component';\nimport { environment } from 'src/environments/environment';\nimport { FileService } from '../file-service/file.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MessagesService {\n\n  /**\n   * constructor\n   * @param http \n   */\n  constructor(\n    private http: HttpClient,\n    private fileService:FileService\n  ) {\n  }\n\n  /**\n   * send approval message\n   */\n  sendApprovalMessage(data:any, repairGuid: string):Observable<any>{\n    const url = `${environment.caseMgmtUrl}/api/message/${repairGuid}/estimate-approval`;\n      return this.http.post(url, data);\n  }\n\n  /**\n   * get message template\n   */\n  getMessageTemplate(repairId:string, domainId: number, id:number):Observable<any>{\n    const url = `${environment.xaAggregationApi}/repaircommunicationtemplate/${repairId}/${domainId}/${id}`;\n    return this.http.get(url);\n  }\n\n  /**\n   * set message\n   */\n  setMessage(body, repairId):Observable<any>{\n    const url = `${environment.caseMgmtUrl}/api/message/${repairId}/send-message`;\n    return this.http.post(url, body);\n  }\n\n  /**\n   * send customer message\n   */\n  sendFreeCommunicationMessage(emailBody:EmailRequest, reportProgress?: boolean, observe?: 'events'):Observable<any>{\n    const url = `${environment.messageApi}/Message/email`;\n    const formData = new FormData();\n    formData.append('ToEmail', emailBody.email?.join(','));\n    if(emailBody.cc){\n      formData.append('CCEmail', emailBody.cc);\n    }\n    formData.append('Content', emailBody.message);\n    formData.append('Subject', emailBody.subject); \n    formData.append('ObjectId', emailBody.objectId);\n    if(emailBody.files && emailBody.files.length > 0){\n      emailBody.files.forEach((file) => {\n        formData.append('files', file);\n      });\n    }\n    return this.fileService.uploadFile(url, formData, reportProgress, observe);\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OutboundService {\n\n\n  /**\n   * @constructor\n   * @param {HttpClient} http\n   */\n  constructor(private http: HttpClient) {}\n\n  /**\n   * getDeparturesDetails\n   * @param {string} query\n   */\n  getDeparturesDetails(query: string) : Observable<any>{\n    //return of(departuresData)\n    const url = `${environment.caseMgmtUrl}/odata/departures?${query}`;\n    return this.http.get(url);\n  }\n\n  /**\n   * setPickupDate\n   * @param {string} date\n   * @param {string} repairId\n   */\n  setPickupDate(repairId: string, date: string, isPickedup) : Observable<any>{\n    const url = `${environment.caseMgmtUrl}/api/departures/${repairId}/pickupdate`;\n    return this.http.put(url, { 'pickUpDate': date, 'isPickedUp': isPickedup });\n  }\n\n  /**\n  * setPickupDate\n  * @param {string} date\n  * @param {string} repairId\n  */\n  getTaskDetails(repairId: string, jobId: string) : Observable<object>{\n    const url = `${environment.caseMgmtUrl}/api/departures/tasks/${repairId}/${jobId}`;\n    return this.http.get(url);\n  }\n  \n  /**\n   * setRepairStatusComplete\n   * @param {string} repairId\n   */\n  setRepairStatusComplete(repairId: string,): Observable<object>{\n    const url = `${environment.caseMgmtUrl}/api/repair/${repairId}/status`;\n    return this.http.put(url, { 'status': 'Complete', 'reason': 'repair complete' });\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WorkflowService {\n\n  /**\n   * @constructor\n   * @param {HttpClient} http\n   */\n  constructor(private http: HttpClient) {}\n\n  /**\n     * getWaterfallDetails\n     * @returns {Observable<any>}\n     */\n  getWorkflowDetails() : Observable<any>{\n\n    const url = `${environment.caseMgmtUrl}/odata/waterfall`;\n    return this.http.get(url);\n  }\n  \n  // eslint-disable-next-line require-jsdoc\n  getWorkflowDetailsWithQuery(query: string): Observable<any>{\n\n    const url = `${environment.caseMgmtUrl}/odata/waterfall${query}`;\n    return this.http.get(url);\n  }\n\n  /**\n * getDraftCustomer\n * @returns Observable\n */\n  public getCustomer(id: number): Observable<any> {\n    const url = `${environment.caseMgmtUrl}/api/waterfallcustomer?$filter=OrgId eq ${id}`;\n    return this.http.get(url);\n  }\n\n  /**\n   * update attention\n   * @param repairguid \n   * @param obj \n   * @returns \n   */\n  updateAttentionRequired(repairguid: string): Observable<any> {\n    const url = `${environment.caseMgmtUrl}/api/repair/${repairguid}`;\n    const obj = [ {\n      'path': 'isAttentionRequired',\n      'op': 'replace',\n      'value': 'false'\n    } ];\n    return this.http.patch(url, obj);\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}