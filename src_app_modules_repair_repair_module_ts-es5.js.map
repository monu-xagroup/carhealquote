{"version":3,"mappings":"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","names":["year","month","day","hour","minute","second","e","a","r","o","hour12","timeZone","timeZoneName","u","s","m","c","l","h","v","f","i","locale","n","d","RepairStatusMapper","CaseStatusMapper","_angular_core__WEBPACK_IMPORTED_MODULE_10__","CustomerLayoutComponent","router","caseService","route","commonService","cdr","inspectionService","messageService","translateService","repairEstimateService","monitorService","dialog","_classCallCheck","src_app_model_menu__WEBPACK_IMPORTED_MODULE_2__","inProgressSteps","subscribe","length","_this","stepInProgress","_createClass","key","get","status","indexOf","toLowerCase","value","event","getCaseHistory","repairGuid","domainId","inspectionData","item","inspection","repairInspectionTemplate","template","uploadType","minimumPhotosRequired","inspectionItems","filter","isSkipEnabled","currentPhotos","currentStep","rawAzureBlobUrl","showToast","minimumBulkPhotosRequired","minImageLimit","bulkUploadedItemsWithImages","step","queryParam","location","search","url","tabs","setActiveMenu","navigate","replace","queryParams","mode","error","console","log","caseId","history","isHistoryLoading","next","response","_this2","complete","id","showLoading","getInspection","inspectionDetailResponse","_this3","mapInspection","hideLoading","urlSegments","split","lastSegment","substring","repairSegments","includes","activeItem","params","_this4","idSub$","pipe","data","subscriptions","push","bookingId$","bookingId","detectChanges","activeItem$","repairDetails$","repairDetails","showHideTopHeader","statusDesc","statusDescription","customerData","firstName","customer","lastName","mobileNumber","countryCode","email","workProvider","companyOrgType","isCompany","customerTypeName","caseData","vehicleMake","vehicle","vehicleModel","licensePlate","licensePlateNumber","modelYearRange","inspectionId","repairTypes","repairServiceTypes","repairType","currentOrganizationId","organizationDetail","organizationId","isViewOnly","currentLastSegment","displayMissingInspectionMessage","isGenerated","type","formType","vehicleId","quoteId","repairObjectId","repairMenuItems","disabled","isNoShow","booking","roleName","getEstimationDetail","estimateSource","userPermission$","userProfileData","res","automotiveServices","userPermission","automotiveService","find","x","automotiveServiceName","menuRepairItems","q","name","source","getGTEstimationDetail","getManualEstimationDetail","logEvent","caseGuid","getEstimate","estimateCharges","_this5","estimationOperationLength","getRepairEstimate","_this6","currentUrl","pathname","statusList","openAlertDialog","instant","module","getInspectionItems","viewActionTriggeredBooking","actionTriggered","active","currentStatus","afterClosed","result","_this7","containerWidth","userDetail","nativeElement","offsetWidth","expandUserDetail","showUserSection","dialogRef","open","src_app_dialogs_labour_rate_labour_rate_component__WEBPACK_IMPORTED_MODULE_0__","src_app_model_chq_upload_model__WEBPACK_IMPORTED_MODULE_1__","autoFocus","_this8","labourData","isRefreshRepairEstimateDetails","repairId","forEach","subscription","unsubscribe","selectors","viewQuery","ctx","_angular_core__WEBPACK_IMPORTED_MODULE_14__","dayjs__WEBPACK_IMPORTED_MODULE_0__","dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_2__","dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_1__","BookingJournalComponent","formBuilder","calendarService","datePipe","bookingService","xaCurrencyPipe","Date","label","icon","localStorage","getItem","currentView","defaultHeight","group","TypeName","Booking","WorkProviderDto","WorkProviderName","CustomerName","OrgName","Assignees","RepairType","placeHolder","options","displayValue","fieldValue","isMultiSelect","checked","geti18nInfo","bookingJournal","onAppointmentAdd","bind","getScreenSize","isTouchScreen","window","navigator","maxTouchPoints","platform","userAgent","document","windowInnerWidth","innerWidth","maxAppointmentsPerCell","isSmallScreen","scheduler","instance","getDataSource","reload","_this9","hasQuotePermission","some","userIsBM","roleDetail","filterForm","setValue","noPermissionRoles","isReadOnlyPermission","currentDate","getCalendarData","generateFilterQuery","draftDataLoaded","showDraftCustomer","getDraftCustomer","_this10","draftData","map","statusTrimmed","routeToRedirect","draftCustomerType","src_app_config_route_mapper_repair_status_mapper__WEBPACK_IMPORTED_MODULE_4__","statusClass","sort","b","createdDate","getTime","draftCustomer","calendarWidth","calendarHeight","showCalendar","setTimeout","_this11","scrollToCurrentTime","getOrganizations","filterDataLoaded","toggle","getBookingRepairTypes","getOrgIfBM","getProvidersByOrgId","getCaseUsers","bookingRepairType","orgList","employeeList","_this12","filterModal","BookingTypes","selectedOption","RepairTypes","getRepairTpeIcon","iconMapper","Body","Maintenance","Paint","Tires","Electric","Electrical","Mechanical","Diagnosis","Others","statusMapper","draft","vehicledetails","uploaddocuments","uploadphotos","repairestimation","pendingapproval","approved","reject","rejected","closed","partsorderedpartially","partsordered","repairinprogress","readytoinvoice","invoiceready","invoiced","paid","others","calendarData","calendarCurrentStartDate","getStartViewDate","toDateString","toISOString","calendarCurrentEndDate","getEndViewDate","startDate","endDate","isFromCalendar","filterValue","query","Object","keys","join","partialQuery","arr","reduce","total","current","totalEstimate","totalLabour","totalBooking","bookingIdList","disabledDate","weekendDate","startHour","endHour","getSchedule","userId","scheduleData","updatedValue","orgValue","mappedData","StartDate","toDate","EndDate","Color","BookingTypeColor","Icon","DisplayStatus","_this13","getDisplayStatus","StatusName","isSameDay","allDay","BookingGuid","getFullYear","getMonth","checkDateRange","EstimateCost","LabourCost","checkSchedule","scrollToHour","getHours","scrollToTime","getMinutes","calenderDays","element","breaks","startTime","date","endTime","stringDate","toString","_this14","lunchTime","add","isOff","isWeekend","timeSlots","format","formattedStartDate","transform","formattedEndDate","appointment","previewOpen","openPreview","deleteAppointment","findIndex","Id","cancel","_booking_preview_booking_preview_component__WEBPACK_IMPORTED_MODULE_6__","maxHeight","_this15","success","refreshCalendarData","draftClose","_this16","isDoubleClick","appointmentData","ObjectGuid","setItem","_this17","showInfoToast","checkDateAndOpen","isPastDate","cellData","isValidAppointment","component","notifyDisableDate","isValidAppointmentDate","allowedStatus","oldData","newData","message","getDate","setDate","patchBooking","_this18","bookingGuid","patchValue","op","path","updateBooking","localeDate","toLocaleDateString","holidays","getHolidays","holiday","getDay","isHoliday","isDisableDate","isValidAppointmentInterval","cellDuration","edgeEndDate","form","startDateEditor","getEditor","option","endDateEditor","filteredData","_this19","calculateSum","i18n","currencySymbol","digitsInfo","position","start","end","output","prevValue","keyFieldValue","index","splice","showProviderChild","orgQuery","_this20","getCompanyData","concatArray","concat","companyName","partnershipName","getCustomer","self","ContactId","FirstName","LastName","Email","html","getWorkProviders","applyButton","Math","round","close","reset","itemData","fromData","toData","addAppointmentFromDraft","_this21","openDraftCustomer","openDeleteDialog","_this22","deleteDraftCustomer","orgId","_this23","devextreme_angular__WEBPACK_IMPORTED_MODULE_24__","src_app_services_calendar_calendar_service__WEBPACK_IMPORTED_MODULE_5__","decls","vars","consts","_r5","_angular_core__WEBPACK_IMPORTED_MODULE_5__","BookingPreviewComponent","Tyres","events","_angular_router__WEBPACK_IMPORTED_MODULE_7__","_this24","src_app_config_route_mapper_repair_status_mapper__WEBPACK_IMPORTED_MODULE_0__","isRepairCreatedFromCase","isArrived","IsArrived","IsNoShow","IsRepairCreatedFromCase","calculateTimeDifference","beforeClosed","_this25","changesMade","bookingInDate","canActivateDate","isArrivedVisible","isNoShowVisible","_this26","deleteBooking","_this27","AssigneeName","_angular_material_dialog__WEBPACK_IMPORTED_MODULE_10__","features","src_app_services_calendar_calendar_service__WEBPACK_IMPORTED_MODULE_1__","LoungeListComponent","OutboundService","_this28","orgLogoUrl","logoUrl","orgName","orgImageLoading","chkScreenMode","elem","documentElement","getOutboundData","timeInterval","setInterval","_this29","updateDate","repairs","OutboundStatus","IsDeliveryTypeEnable","DeliveryDTO","flag","CallingAPI","subs","getDeparturesDetails","_this30","outboundData","Jobs","PickUpDate","LastRefreshed","clearTimeout","currentDateTimeout","updateCurrentDateTime","nodes","querySelectorAll","FocusedRepairIndex","querySelector","scrollTop","scrollIntoView","behavior","block","loungeTimeout","autoScrollLastVisibleNode","_this31","container","undefined","visibleHeight","totalHeight","clientHeight","fullscreenElement","isFullScreen","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","sub","clearInterval","_angular_common__WEBPACK_IMPORTED_MODULE_6__","hostBindings","src_app_services_outbound_outbound_service__WEBPACK_IMPORTED_MODULE_1__","_angular_core__WEBPACK_IMPORTED_MODULE_2__","CheckInTaskComponent","_angular_router__WEBPACK_IMPORTED_MODULE_4__","_this32","getTaskDetails","repair","RepairGuid","jobId","job","JobGuid","_this33","ListOfRepairs","allMandatoryTasks","task","isMandatory","_angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__","src_app_services_outbound_outbound_service__WEBPACK_IMPORTED_MODULE_0__","OutboundComponent","maxDate","minDate","getWeekDates","currentWeek","_this34","isTechnician","departures","_this35","TotalAmount","el","lastUpdated","IntervalGetOutBound","repairIndex","pickupDate","setPickupDate","_this36","_check_in_task_check_in_task_component__WEBPACK_IMPORTED_MODULE_2__","days","floor","weekNumber","ceil","daysInWeek","dates","week","start_date","temp_date","new_date","setMonth","currentWeekNumber","getWeekNumber","direction","scrollLeft","scrollWidth","clientWidth","RepairData","getRepairDetailByGuid","openEmailForNotifyInner","communicationTypeId","communicationEvents","communicationList","communicatedList","src_app_dialogs_notify_dialog_notify_dialog_component__WEBPACK_IMPORTED_MODULE_3__","templateId","backdropClass","maxWidth","RepairStatus","repairRoutes","pathMatch","redirectTo","canActivate","src_app_guards_repair_guard_repair_guard__WEBPACK_IMPORTED_MODULE_10__","loadChildren","Promise","then","AddRepairCustomersModule","_add_customers_customer_layout_customer_layout_component__WEBPACK_IMPORTED_MODULE_3__","__webpack_require__","CustomerTableModule","_booking_journal_booking_journal_booking_journal_component__WEBPACK_IMPORTED_MODULE_4__","BookingJournalModule","_workflow_workflow_workflow_component__WEBPACK_IMPORTED_MODULE_9__","WorkflowModule","_outbound_outbound_outbound_component__WEBPACK_IMPORTED_MODULE_7__","_azure_msal_angular__WEBPACK_IMPORTED_MODULE_11__","OutboundModule","_lounge_list_lounge_list_component__WEBPACK_IMPORTED_MODULE_6__","LoungeListModule","_workflow_lounge_workflow_lounge_component__WEBPACK_IMPORTED_MODULE_8__","WorkflowLoungeModule","RepairModule","_angular_common__WEBPACK_IMPORTED_MODULE_13__","src_app_shared_shared_module__WEBPACK_IMPORTED_MODULE_1__","_angular_material_icon__WEBPACK_IMPORTED_MODULE_14__","_angular_router__WEBPACK_IMPORTED_MODULE_15__","_widgets_chq_widgets_module__WEBPACK_IMPORTED_MODULE_2__","_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__","src_app_helper_directive_module__WEBPACK_IMPORTED_MODULE_0__","declarations","_estimate_approval_estimate_approval_component__WEBPACK_IMPORTED_MODULE_5__","imports","_angular_core__WEBPACK_IMPORTED_MODULE_6__","WorkflowLoungeComponent","workflowService","CustomerId","CompanyId","width","height","labelSize","textSize","_this38","_this39","parentContainer","visibleWidth","longestNodeIndex","longestNodeLength","totalWidth","children","FocusedRepairHorizontalIndex","inline","autoScrollInterval","_this40","verticalView","verticalScroll","horizontalScroll","getWorkflowDetails","IntervalGetWorkflow","fontSizeDropdown","JSON","parse","getWorkflowDetailsWithQuery","_this41","workflowData","getTotals","JobName","calculatedHeight","WaterfallRepairs","child","isLoaded","LastRefreshedDate","horizontalRowHeight","horizontalRow","offsetHeight","totalCost","totalCount","_this42","itm","ManualCost","CustomerList","_this43","contactId","isIndividual","subLabel","licenseNumber","companyId","_this44","Tooltip","_this45","verticalRowWidth","verticalRow","stringify","src_app_services_workflow_workflow_service__WEBPACK_IMPORTED_MODULE_1__","WorkflowComponent","_this46","_this47","_this48","_this49","_this50","_this51","Status","src_app_config_route_mapper_repair_status_mapper__WEBPACK_IMPORTED_MODULE_1__","src_app_services_workflow_workflow_service__WEBPACK_IMPORTED_MODULE_2__","_r3","MessagesService","http","fileService","src_environments_environment__WEBPACK_IMPORTED_MODULE_0__","post","body","emailBody","reportProgress","observe","formData","FormData","append","cc","subject","objectId","files","file","uploadFile","factory","providedIn","isPickedup","put","WorkflowService","repairguid","obj","patch"],"sources":["webpack:///node_modules/dayjs/plugin/timezone.js","webpack:///src/app/config/route-mapper/repair-status-mapper.ts","webpack:///src/app/modules/repair/add-customers/customer-layout/customer-layout.component.html","webpack:///src/app/modules/repair/add-customers/customer-layout/customer-layout.component.ts","webpack:///src/app/modules/repair/booking-journal/booking-journal/booking-journal.component.html","webpack:///src/app/modules/repair/booking-journal/booking-journal/booking-journal.component.ts","webpack:///src/app/modules/repair/booking-journal/booking-preview/booking-preview.component.html","webpack:///src/app/modules/repair/booking-journal/booking-preview/booking-preview.component.ts","webpack:///src/app/modules/repair/lounge-list/lounge-list.component.html","webpack:///src/app/modules/repair/lounge-list/lounge-list.component.ts","webpack:///src/app/modules/repair/outbound/check-in-task/check-in-task.component.html","webpack:///src/app/modules/repair/outbound/check-in-task/check-in-task.component.ts","webpack:///src/app/modules/repair/outbound/outbound/outbound.component.html","webpack:///src/app/modules/repair/outbound/outbound/outbound.component.ts","webpack:///src/app/modules/repair/repair.module.ts","webpack:///src/app/modules/repair/workflow-lounge/workflow-lounge.component.html","webpack:///src/app/modules/repair/workflow-lounge/workflow-lounge.component.ts","webpack:///src/app/modules/repair/workflow/workflow/workflow.component.html","webpack:///src/app/modules/repair/workflow/workflow/workflow.component.ts","webpack:///src/app/services/message/messages.service.ts","webpack:///src/app/services/outbound/outbound.service.ts","webpack:///src/app/services/workflow/workflow.service.ts"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs_plugin_timezone=e()}(this,(function(){\"use strict\";var t={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(n,i,o){var r,a=function(t,n,i){void 0===i&&(i={});var o=new Date(t),r=function(t,n){void 0===n&&(n={});var i=n.timeZoneName||\"short\",o=t+\"|\"+i,r=e[o];return r||(r=new Intl.DateTimeFormat(\"en-US\",{hour12:!1,timeZone:t,year:\"numeric\",month:\"2-digit\",day:\"2-digit\",hour:\"2-digit\",minute:\"2-digit\",second:\"2-digit\",timeZoneName:i}),e[o]=r),r}(n,i);return r.formatToParts(o)},u=function(e,n){for(var i=a(e,n),r=[],u=0;u<i.length;u+=1){var f=i[u],s=f.type,m=f.value,c=t[s];c>=0&&(r[c]=parseInt(m,10))}var d=r[3],l=24===d?0:d,h=r[0]+\"-\"+r[1]+\"-\"+r[2]+\" \"+l+\":\"+r[4]+\":\"+r[5]+\":000\",v=+e;return(o.utc(h).valueOf()-(v-=v%1e3))/6e4},f=i.prototype;f.tz=function(t,e){void 0===t&&(t=r);var n=this.utcOffset(),i=this.toDate(),a=i.toLocaleString(\"en-US\",{timeZone:t}),u=Math.round((i-new Date(a))/1e3/60),f=o(a,{locale:this.$L}).$set(\"millisecond\",this.$ms).utcOffset(15*-Math.round(i.getTimezoneOffset()/15)-u,!0);if(e){var s=f.utcOffset();f=f.add(n-s,\"minute\")}return f.$x.$timezone=t,f},f.offsetName=function(t){var e=this.$x.$timezone||o.tz.guess(),n=a(this.valueOf(),e,{timeZoneName:t}).find((function(t){return\"timezonename\"===t.type.toLowerCase()}));return n&&n.value};var s=f.startOf;f.startOf=function(t,e){if(!this.$x||!this.$x.$timezone)return s.call(this,t,e);var n=o(this.format(\"YYYY-MM-DD HH:mm:ss:SSS\"),{locale:this.$L});return s.call(n,t,e).tz(this.$x.$timezone,!0)},o.tz=function(t,e,n){var i=n&&e,a=n||e||r,f=u(+o(),a);if(\"string\"!=typeof t)return o(t).tz(a);var s=function(t,e,n){var i=t-60*e*1e3,o=u(i,n);if(e===o)return[i,e];var r=u(i-=60*(o-e)*1e3,n);return o===r?[i,o]:[t-60*Math.min(o,r)*1e3,Math.max(o,r)]}(o.utc(t,i).valueOf(),f,a),m=s[0],c=s[1],d=o(m).utcOffset(c);return d.$x.$timezone=a,d},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(t){r=t}}}));","export const RepairStatusMapper = {\n  'draft': 'repair/booking/{{repairGUID}}',\n  'vehicledetails': 'repair/booking/{{repairGUID}}',\n  'uploaddocuments': 'repair/booking/{{repairGUID}}/document',\n  'uploadphotos': 'repair/booking/{{repairGUID}}/photos',\n  'repairestimation': 'repair/booking/{{repairGUID}}/estimate',\n  'pendingapproval': 'repair/booking/{{repairGUID}}/estimate',\n  'approved': 'repair/booking/{{repairGUID}}/estimate',\n  'reject': 'repair/booking/{{repairGUID}}/estimate',\n  'rejected': 'repair/booking/{{repairGUID}}/estimate',\n  'closed': 'repair/booking/{{repairGUID}}/invoices',\n  'complete': 'repair/booking/{{repairGUID}}/invoices',\n  'partsorderedpartially': 'repair/booking/{{repairGUID}}/parts',\n  'partsordered': 'repair/booking/{{repairGUID}}/parts',\n  'repairinprogress': 'repair/booking/{{repairGUID}}/repair-stages',\n  'readytoinvoice': 'repair/booking/{{repairGUID}}/invoices',\n  'invoiced': 'repair/booking/{{repairGUID}}/invoices',\n  'paid': 'repair/booking/{{repairGUID}}/invoices',\n  'others': 'repair/booking/{{repairGUID}}',\n}\n\nexport const CaseStatusMapper = {\n  'draft': 'quote/case/{{caseGUID}}',\n  'vehicledetails': 'quote/case/{{caseGUID}}/vehicle',\n  'uploaddocuments': 'quote/case/{{caseGUID}}/document',\n  'uploadphotos': 'quote/case/{{caseGUID}}/photos',\n  'aianalysis': 'quote/case/{{caseGUID}}/ai',\n  'repairestimation': 'quote/case/{{caseGUID}}/estimate',\n  'approved': 'quote/case/{{caseGUID}}/estimate',\n  'reject': 'quote/case/{{caseGUID}}/estimate',\n  'rejected': 'quote/case/{{caseGUID}}/estimate',\n  'closed': 'quote/case/{{caseGUID}}/estimate',\n  'complete': 'quote/case/{{caseGUID}}/estimate',\n  'others': 'quote/case/{{caseGUID}}/estimate'\n}","<div class=\"page-container  mh-0 mt-0 fx-col\">\n    <div class=\"tab-container fx-0\">\n        <div class=\"main-tab-wrapper\">\n            <chq-tabs [mode]=\"'underline'\" #tabMain [menuItems]=\"repairMenuItems\"\n                (menuItemClick)=\"changeTab($event);\"></chq-tabs>\n            <div class=\"user-wrapper\">\n                <ng-container *ngIf=\"!expandUserDetail;else expanding\">\n                    <div class=\"user-detail-container fx-col\" *ngIf=\"showUserSection\"\n                        [ngClass]=\"{'expand-main-wrapper': expandUserDetail}\"\n                        [ngStyle]=\"{'width': expandUserDetail ? containerWidth : '' }\">\n                        <div class=\"user-detail-wrapper\" #userDetail>\n                            <div class=\"user-detail\">\n                                <div class=\"heading-text\">{{customerData.firstName}} {{customerData.lastName}}</div>\n                                <div style=\"font-weight: 500;\"><span class=\"title\">{{ 'booking_id' | translate\n                                        }}</span>: <b>{{ bookingId }} </b></div>\n                            </div>\n\n                            <div class=\"vehicle-detail\">\n                                <div class=\"make-status fx-row\">\n                                    <div class=\"fx-row align-center\" *ngIf=\"caseData?.vehicleMake\">\n                                        <div class=\"heading-label\">{{'make' | translate}}: </div>\n                                        <div class=\"heading-text\">{{ caseData.vehicleMake }} </div>\n                                    </div>\n\n                                    <div class=\"fx-row align-center\">\n                                        <div class=\"heading-label\">{{'status' | translate}}: </div>\n                                        <div class=\"heading-text\">{{ statusDesc }} </div>\n                                    </div>\n                                </div>\n\n                                <div class=\"fx-row\" *ngIf=\"caseData?.vehicleMake\">\n                                    <span style=\"font-weight: 500;\" *ngIf=\"caseData?.vehicleModel\"><span\n                                            class=\"title\">{{ 'model' | translate }}</span>: <b>{{ caseData.vehicleModel\n                                            }}</b></span>\n                                    <span style=\"font-weight: 500;\" *ngIf=\"caseData?.licensePlate\"><span\n                                            class=\"title\">{{ 'license_plate' | translate }}</span>:\n                                        <b>{{caseData.licensePlate}}</b></span>\n                                </div>\n                            </div>\n\n                            <div class=\"arrow-drop\">\n                                <mat-icon [svgIcon]=\"!expandUserDetail ? 'dropdown' : 'dropdown-up'\"\n                                    (click)=\"expand()\"></mat-icon>\n                            </div>\n                        </div>\n                    </div>\n                </ng-container>\n\n                <ng-template #expanding>\n                    <ng-container>\n                        <div class=\"user-detail-container fx-col\" *ngIf=\"showUserSection\"\n                            [ngClass]=\"{'expand-main-wrapper': expandUserDetail}\"\n                            [ngStyle]=\"{'width': expandUserDetail ? containerWidth : '' }\">\n                            <div class=\"user-detail-wrapper\" #userDetail>\n                                <div class=\"user-detail\">\n                                    <div class=\"heading-text\">{{customerData.firstName}} {{customerData.lastName}}</div>\n                                    <div style=\"font-weight: 500;\"><span class=\"title\">{{ 'booking_id' | translate\n                                            }}</span>: <b>{{ bookingId }} </b></div>\n                                </div>\n\n                                <div class=\"arrow-drop\">\n                                    <mat-icon [svgIcon]=\"!expandUserDetail ? 'dropdown' : 'dropdown-up'\"\n                                        (click)=\"expand()\"></mat-icon>\n                                </div>\n                            </div>\n\n                            <div class=\"user-detail-expand-wrapper\" [ngClass]=\"{'expand': expandUserDetail}\">\n                                <div class=\"user-detail-more fx-col\">\n                                    <div class=\"labour-container\" (click)=\"openLabourRate()\">\n                                        <span>{{'labour_rate_discount' | translate}}</span>\n                                    </div>\n                                    <div class=\"vehicle-detail\">\n                                        <div class=\"vehicle-detail-expand fx-col\">\n                                            <span *ngIf=\"status\">{{ 'status' |translate }}: <b>{{ status }}</b></span>\n                                            <span *ngIf=\"caseData?.vehicleMake\">{{ 'make' |translate }}: <b>{{\n                                                    caseData.vehicleMake }}</b></span>\n                                            <span *ngIf=\"caseData?.year\">{{ 'year' |translate }}: <b>{{ caseData.year\n                                                    }}</b></span>\n                                            <span *ngIf=\"caseData?.vehicleModel\">{{ 'model' |translate }}: <b>{{\n                                                    caseData.vehicleModel }}</b></span>\n                                            <span *ngIf=\"caseData?.licensePlate\">{{ 'license_plate' |translate }}: <b>{{\n                                                    caseData.licensePlate }}</b></span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </ng-container>\n                </ng-template>\n            </div>\n        </div>\n\n        <div class=\"tab-wrapper\">\n            <chq-tabs [mode]=\"'default'\" #tabs [menuItems]=\"menuItems\" (menuItemClick)=\"navigate($event);\"\n                *ngIf=\"activeItem === 'Booking'\"></chq-tabs>\n            <chq-tabs [mode]=\"'default'\" #tabs [menuItems]=\"menuRepairItems\" (menuItemClick)=\"navigate($event);\"\n                *ngIf=\"activeItem === 'Repair'\"></chq-tabs>\n        </div>\n    </div>\n\n    <div class=\"tab-content fx-1\">\n        <div class=\"tab-wrapper\">\n            <router-outlet></router-outlet>\n        </div>\n    </div>\n</div>\n<history (toggleExpand)=\"onHistoryExpand($event)\" [history]=\"history\" [isLoading]=\"isHistoryLoading\"\n    *ngIf=\"repairGuid !== '0'\" serviceType=\"repair\"></history>","import { ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BehaviorSubject, Subscription, filter } from 'rxjs';\nimport { ChqLabourRateComponent } from 'src/app/dialogs/labour-rate/labour-rate.component';\nimport { Modules, UploadStepModel } from 'src/app/model/chq-upload-model';\nimport { customerMenus, menuItem, menuRepairItems, repairMenus } from 'src/app/model/menu';\nimport { CaseService } from 'src/app/services/case/case.service';\nimport { CommonService } from 'src/app/services/common/common.service';\nimport { InspectionService } from 'src/app/services/inspection-service/inspection.service';\nimport { MessagesService } from 'src/app/services/message/messages.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ChqTabsComponent } from 'src/app/widgets/chq-tabs/chq-tabs/chq-tabs.component';\nimport { RepairEstimateService } from 'src/app/services/repair-estimate/repair-estimate.service';\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\nimport { ChqInspectionStep } from 'src/app/model/chq-inspection-step';\n\n@Component({\n  selector: 'app-customer-layout',\n  templateUrl: './customer-layout.component.html',\n  styleUrls: [ './customer-layout.component.scss' ],\n})\n\nexport class CustomerLayoutComponent implements OnInit, OnDestroy {\n\n  public activeItem: string = 'Booking';\n  public bookingId: string = '';\n  public repairGuid: string = '0';\n  private repairObjectId = 0;\n  public inspectionId: number;\n  private domainId: number = 3100;\n  public repairTypes: any = [];\n  public showUserSection: boolean = false;\n  public expandUserDetail: boolean = false;\n  public status: string = '';\n  public statusDesc: string = '';\n  stepInProgress: boolean = false;\n  currentOrganizationId: number;\n\n  private vehicleId: number = 0;\n  private caseId: string = '0';\n\n  private estimationOperationLength: boolean = false;\n\n  public caseData: any = {\n    'vehicleMake': '',\n    'vehicleModel': ''\n  }\n  @ViewChild('tabs') tabs: ChqTabsComponent;\n  @ViewChild('tabMain') tabMain: ChqTabsComponent;\n  @ViewChild('userDetail') userDetail!: ElementRef;\n\n  public customerData: any = {\n    'firstName': '',\n    'lastName': '',\n    'countryCode': '',\n    'mobileNumber': '',\n    'email': ''\n  }\n  // sample history data\n  history = []\n  private workProvider:string = '';\n  private isCompany:boolean = false;\n  isHistoryLoading = false;\n  subscriptions: Subscription[] = [];\n  private isNoShow:boolean = false;\n  private repairType:string = '';\n\n  private roleName: string = '';\n  containerWidth: string;\n  /**\n   * get current status\n   */\n  get currentStatus(): boolean {\n    if (this.status && [ 'draft', 'uploaddocuments', 'uploadphotos' ].indexOf(this.status?.toLowerCase()) === -1) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * constructor\n   * @param router\n   */\n  constructor(\n    private router: Router,\n    private caseService: CaseService,\n    private route: ActivatedRoute,\n    private commonService: CommonService,\n    private cdr: ChangeDetectorRef,\n    private inspectionService: InspectionService,\n    private messageService: MessagesService,\n    private translateService: TranslateService,\n    private repairEstimateService: RepairEstimateService,\n    private monitorService: MonitorService,\n    public dialog: MatDialog,\n  ) {\n    this.commonService.inProgressSteps.subscribe((length: number) => {\n      this.stepInProgress = length > 0;\n    });\n\n\n  }\n\n  menuItems = customerMenus;\n  repairMenuItems = repairMenus;\n  menuRepairItems = menuRepairItems;\n\n\n  /**\n   * map inspection from api\n   */\n  onHistoryExpand(event:boolean):void {\n    // Get latest History when history is expanded\n    if(event) {\n      this.getCaseHistory(this.repairGuid, this.domainId)\n    }\n  }\n  /**\n   * map inspection from api\n   * @param inspectionData\n   */\n  mapInspection(inspectionData: any, item: menuItem): void {\n    if (inspectionData) {\n      try {\n        const inspection = inspectionData;\n        if (this.commonService.repairInspectionTemplate) {\n          const template = this.commonService.repairInspectionTemplate\n          if(inspection?.uploadType) {\n            if (inspection?.uploadType.toLowerCase() === 'spi') {\n              const minimumPhotosRequired = inspection.inspectionItems?.filter((value: ChqInspectionStep) => {\n                return value.isSkipEnabled !== true;\n              }).length;\n              const currentPhotos = inspection.inspectionItems?.filter((currentStep) => {\n                return currentStep.rawAzureBlobUrl;\n              });\n              if (currentPhotos.length < minimumPhotosRequired) {\n                this.commonService.showToast(0, `All ${minimumPhotosRequired} sides images are mandatory and cannot skip to next section.`);\n                return;\n              }\n            } else {\n              const minimumBulkPhotosRequired = template?.minImageLimit;\n              const bulkUploadedItemsWithImages = inspection.inspectionItems\n                .filter((step) => {\n                  return step.rawAzureBlobUrl != null && step.rawAzureBlobUrl != '';\n                });\n              if (bulkUploadedItemsWithImages.length < minimumBulkPhotosRequired) {\n                this.commonService.showToast(0, `All ${minimumBulkPhotosRequired} sides images are mandatory and cannot skip to next section.`);\n                return;\n              }\n            }\n          }\n\n          const queryParam = location.search;\n          const url = item.url;\n          this.tabs?.setActiveMenu(item);\n          if ((queryParam.indexOf('mode=edit') !== -1)) {\n            this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ], { queryParams: { mode: 'edit' } });\n          } else {\n            this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ]);\n          }\n        }\n      } catch (error: any) {\n        console.log(error);\n      }\n    }\n  }\n\n  /**\n   * Get Case History\n   */\n  getCaseHistory(caseId: string, domainId: number): void {\n    this.history = [];\n    this.isHistoryLoading = true;\n    this.caseService.getCaseHistory(caseId, domainId).subscribe({\n      next: (response) => {\n        this.history = response;\n      },\n      complete: () => {\n        this.isHistoryLoading = false\n      }\n    });\n  }\n\n  /**\n   * get current inspectionitems length\n   */\n  getInspectionItems(id, item: menuItem): void {\n    this.commonService.showLoading();\n    this.inspectionService.getInspection(id).subscribe({\n      next: (inspectionDetailResponse: any) => {\n        if (inspectionDetailResponse) {\n          this.mapInspection(inspectionDetailResponse, item);\n        }\n        this.commonService.hideLoading();\n      },\n      complete: () => {\n        this.commonService.hideLoading();\n      },\n    });\n  }\n\n  /**\n   * on init\n   */\n  ngOnInit(): void {\n    const urlSegments = this.router.url.split('/');\n    let lastSegment = (urlSegments.length > 0) ? urlSegments[urlSegments.length - 1] : '';\n\n    if (lastSegment.indexOf('?') != -1) {\n      lastSegment = lastSegment.substring(0, lastSegment.indexOf('?'));\n    }\n\n    const repairSegments: string[] = [ 'parts', 'invoices', 'repair-stages', 'invoicesEdit' ];\n\n    if (repairSegments.includes(lastSegment)) {\n      this.activeItem = 'Repair';\n    }\n\n    this.route?.params.subscribe((value) => {\n      if (value && value['id']) {\n        this.repairGuid = value['id'];\n\n        if (this.repairGuid !== '0') {\n          // Get Case History when domainId is available\n          const idSub$ = this.commonService.domainId.pipe(filter(value => value !== null)).subscribe({\n            next: (data) => {\n              this.getCaseHistory(this.repairGuid, data)\n              this.domainId = data\n            }\n          });\n          this.subscriptions.push(idSub$);\n        }\n\n      }\n    });\n\n    const bookingId$ = this.commonService.bookingId.subscribe({\n      next: (bookingId: string) => {\n        this.bookingId = bookingId;\n        this.cdr.detectChanges();\n      }\n    });\n\n    const activeItem$ = this.commonService.activeItem.subscribe({\n      next: (activeItem: string) => {\n        if (activeItem) {\n          this.activeItem = activeItem\n        }\n      }\n    });\n    const repairDetails$ = this.commonService.repairDetails.subscribe({\n      next: (repairDetails: any) => {\n        this.showHideTopHeader()\n        if (repairDetails) {\n          this.status = repairDetails.status;\n          this.statusDesc = repairDetails?.statusDescription;\n          this.customerData.firstName = repairDetails.customer?.firstName || '';\n          this.customerData.lastName = repairDetails.customer?.lastName || '';\n          this.customerData.mobileNumber = (repairDetails.customer?.countryCode || '') + ' ' + repairDetails.customer?.mobileNumber || '';\n          this.customerData.email = repairDetails.customer?.email || '';\n          this.workProvider = repairDetails.customer?.companyOrgType || '';\n          this.isCompany = repairDetails.customer?.customerTypeName !== 'Person' || false;\n\n          this.caseData.vehicleMake = repairDetails.vehicle?.vehicleMake || '';\n          this.caseData.vehicleModel = repairDetails.vehicle?.vehicleModel || '';\n          this.caseData.licensePlate = repairDetails.vehicle?.licensePlateNumber || '';\n          this.caseData.year = repairDetails.vehicle?.modelYearRange || '';\n\n          this.inspectionId = repairDetails.vehicle?.inspectionId;\n          this.repairTypes = repairDetails.repairServiceTypes;\n          this.repairType = repairDetails.repairType;\n          this.domainId = repairDetails.domainId;\n\n          if(this.currentOrganizationId != repairDetails.organizationDetail?.organizationId) {\n            this.commonService.isViewOnly = true;\n          }else{\n            this.commonService.isViewOnly = false;\n          }\n\n          const urlSegments = this.router.url.split('/');\n          let currentLastSegment = (urlSegments.length > 0) ? urlSegments[urlSegments.length - 1] : '';\n          if(currentLastSegment.includes('photos')){\n            if(!this.inspectionId){\n              this.displayMissingInspectionMessage(this.repairGuid);\n              return;\n            }\n          }\n          const queryParam = location.search;\n\n          if(currentLastSegment === 'invoices' && !queryParam.includes('isBack=true')){\n            const isGenerated = this.status?.toLowerCase() === 'paid' || this.status?.toLowerCase() === 'invoiced' || this.status?.toLowerCase()\n              === 'complete';\n            let type = 1;\n            if(isGenerated){\n              if(this.workProvider === 'Retail' && !this.isCompany){\n                type = 2;\n              }\n              this.router.navigate([ `/repair/booking/${this.repairGuid}/invoicesEdit` ], { queryParams: { formType: type } });\n              return;\n            }\n          }\n\n          this.vehicleId = repairDetails.vehicle?.vehicleId\n          this.caseId = repairDetails.quoteId;\n          this.domainId = repairDetails.domainId;\n\n          this.repairObjectId = repairDetails.id;\n          if (this.repairType?.toLowerCase() === 'assessment') {\n            this.repairMenuItems[1].disabled = true;\n          } else {\n            this.repairMenuItems[1].disabled = false;\n          }\n          this.isNoShow = repairDetails?.booking?.isNoShow;\n\n          if (currentLastSegment.indexOf('?') != -1) {\n            currentLastSegment = currentLastSegment.substring(0, currentLastSegment.indexOf('?'));\n          }\n\n          if(this.roleName?.toLowerCase() === 'technician' && currentLastSegment === 'invoices') {\n            this.router.navigate([ `/repair/booking/${this.repairGuid}/repair-stages` ]);\n            return;\n          }\n\n          const repairSegments: string[] = [ 'parts', 'invoices', 'repair-stages', 'invoicesEdit' ];\n          if (repairSegments.includes(currentLastSegment)) {\n            this.getEstimationDetail(repairDetails.estimateSource);\n          }\n\n          this.cdr.detectChanges();\n        }\n      }\n    });\n\n    const userPermission$ = this.commonService.userProfileData.subscribe((res) => {\n      if (res?.data) {\n        const automotiveServices = res?.data?.userPermission?.automotiveServices;\n        const automotiveService = automotiveServices?.find(x => x.automotiveServiceName.toLowerCase() === 'addenda repair');\n        this.roleName = automotiveService.roleName.toLowerCase();  \n        this.commonService.roleName = this.roleName;\n\n        if(this.roleName?.toLowerCase() == 'technician') {\n          this.menuRepairItems = this.menuRepairItems.filter(q=> q.name != 'Invoices')\n        }\n\n        const organizationDetail = res.data.organizationDetail;\n        if (organizationDetail) {\n          this.currentOrganizationId = organizationDetail.id;\n        }\n      }\n    });\n    this.subscriptions.push(bookingId$);\n    this.subscriptions.push(activeItem$);\n    this.subscriptions.push(repairDetails$);\n    this.subscriptions.push(userPermission$);\n  }\n\n  /**\n * estimate\n */\n  getEstimationDetail(source: string): void {\n    if (source === 'GTMotive') {\n      this.getGTEstimationDetail();\n    } else {\n      this.getManualEstimationDetail();\n    }\n  }\n\n  /**\n   * get estimation detail\n   */\n  getGTEstimationDetail(): void {\n    if (this.vehicleId && this.inspectionId) {\n      this.monitorService.logEvent('getGTEstimationDetail', [ 'CustomerLayoutComponent', 'addenda-repair' ], {\n        repairGuid: this.repairGuid,\n        caseGuid: this.caseId,\n        inspectionId: this.inspectionId,\n        vehicleId: this.vehicleId\n      });\n      this.commonService.showLoading();\n      this.repairEstimateService.getEstimate(this.caseId, this.inspectionId, this.vehicleId, this.domainId).subscribe({\n        next: (response) => {\n          if (response?.data?.estimateCharges?.length > 0) {\n            this.estimationOperationLength = true;\n          }\n          this.commonService.hideLoading();\n        },\n        error: () => {\n          this.commonService.hideLoading();\n        }\n      });\n    }\n  }\n\n  /**\n   * get manual estimate\n   */\n  getManualEstimationDetail(): void {\n    if (this.vehicleId && this.inspectionId) {\n      this.monitorService.logEvent('getManualEstimationDetail', [ 'EstimateComponent', 'addenda-repair' ], {\n        repairGuid: this.repairGuid,\n        inspectionId: this.inspectionId,\n        vehicleId: this.vehicleId\n      });\n      this.commonService.showLoading();\n      this.repairEstimateService.getRepairEstimate(this.repairGuid, this.inspectionId, this.vehicleId).subscribe({\n        next: (response) => {\n          if (response?.estimateCharges?.length) {\n            this.estimationOperationLength = true;\n          }\n\n          this.commonService.hideLoading();\n        },\n        error: () => {\n          this.commonService.hideLoading();\n        }\n      })\n    }\n  }\n\n  /**\n   * navigate to selected route\n   * @param item\n   */\n  navigate(item: menuItem): void {\n    const queryParam = location.search;\n    const url = item.url;\n    const currentUrl = location.pathname;\n\n    if(url.includes('/repair-stages')){\n      const statusList = [ 'draft', 'uploaddocuments', 'uploadphotos', 'repairestimation', 'pendingapproval', 'rejected' ];\n      if(statusList.includes(this.status?.toLowerCase())){\n        this.commonService.hideLoading();\n        this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('start_job'));\n        return;\n      }\n\n      if(this.isNoShow){\n        this.commonService.hideLoading();\n        this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('stages_no_allowed'));\n        return;\n      }\n\n      if(this.repairType?.toLowerCase() !== 'repair'){\n        this.commonService.hideLoading();\n        this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('stages_repair'));\n        return;\n      }\n\n    }\n\n    if (url.includes('/invoices')) {\n      if (!this.estimationOperationLength) {\n        this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('no_charges'));\n        return;\n      }\n\n      if(this.status?.toLowerCase() === 'rejected') {\n        this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('invoice_access'));\n        return;\n      }\n    }\n\n\n    if (currentUrl.includes('/document')) {\n      if (this.stepInProgress) {\n        const module = currentUrl.includes('/photos') ? 'images' : 'documents';\n        this.commonService.showToast(0, `Please wait until all ${module} are uploaded.`);\n        return;\n      }\n    }\n    if (currentUrl.includes('/photos')) {\n      if (this.stepInProgress) {\n        const module = currentUrl.includes('/photos') ? 'images' : 'documents';\n        this.commonService.showToast(0, `Please wait until all ${module} are uploaded.`);\n        return;\n      }\n      if(url.includes('/estimate')) {\n        this.getInspectionItems(this.inspectionId, item);\n        return;\n      }\n    }\n\n    if(url.includes('invoices')){\n      const isGenerated = this.status?.toLowerCase() === 'paid' || this.status?.toLowerCase() === 'invoiced' || this.status?.toLowerCase()\n       === 'complete';\n      let type = 1;\n      if(isGenerated){\n        if(this.workProvider === 'Retail' && !this.isCompany){\n          type = 2;\n        }\n        this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '').replace('invoices', 'invoicesEdit') ], { queryParams: { formType: type } });\n        return;\n      }\n    }\n\n    if (url === '/repair/booking/{bookingId}') {\n      if ((queryParam.indexOf('mode=edit') !== -1)) {\n        this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ], { queryParams: { mode: 'edit' } });\n      } else {\n        this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ]);\n      }\n    } else if (currentUrl === '/repair/booking' || currentUrl === '/repair/booking/0' || currentUrl === `/repair/booking/${this.repairGuid}`) {\n      if (url === '/repair/booking/{bookingId}') {\n        return;\n      }\n\n      if(this.roleName?.toLowerCase() === 'technician' || this.status?.toLowerCase() === 'complete') {\n        this.commonService.viewActionTriggeredBooking.next((queryParam.indexOf('mode=edit') !== -1) ? url + queryParam : url);\n      } else {\n        this.commonService.actionTriggered.next((queryParam.indexOf('mode=edit') !== -1) ? url + queryParam : url);\n      }\n\n    } else {\n      \n      if(url.includes('/photos') || url.includes('/estimate')){\n        if(!this.inspectionId){\n          this.displayMissingInspectionMessage(this.repairGuid);\n          return;\n        }\n      }\n      this.tabs?.setActiveMenu(item);\n      if ((queryParam.indexOf('mode=edit') !== -1)) {\n        this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ], { queryParams: { mode: 'edit' } });\n      } else {\n        this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ]);\n      }\n\n    }\n  }\n\n  /**\n   * change tab\n   */\n  changeTab(item: menuItem): void {\n    let url = '';\n    const queryParam = location.search;\n\n    if (item.disabled) {\n      return;\n    }\n\n    if (item.name == 'Booking') {\n      url = '/repair/booking/' + this.repairGuid;\n      this.repairMenuItems.filter(q => q.name == 'Repair')[0].active = false;\n    } else {\n      if (!this.currentStatus) {// && !this.estimationOperationLength) {\n        return;\n      }\n\n      url = '/repair/booking/' + this.repairGuid + '/parts';\n      this.repairMenuItems.filter(q => q.name == 'Booking')[0].active = false;\n    }\n    item.active = true;\n    this.repairMenuItems = [ ...this.repairMenuItems ];\n\n    if ((queryParam.indexOf('?mode=edit') !== -1)) {\n      this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ], { queryParams: { mode: 'edit' } });\n    } else {\n      this.router.navigate([ url.replace('{bookingId}', this.repairGuid || '') ]);\n    }\n\n    this.activeItem = item.name;\n  }\n\n  /**\n   * show error dialog\n   */\n  displayMissingInspectionMessage(bookingId:string):void{\n    this.commonService.openAlertDialog('Notification', 'Please add your vehicle in order to add car images.').afterClosed().subscribe({\n      next: (result:boolean)=>{\n        if(result){\n          this.router.navigate([ `repair/booking/${bookingId}` ]);\n        }\n      },\n      error: ()=>{\n        this.commonService.hideLoading();\n      }\n    });\n  }\n\n  /**\n   * expand user -detail\n  */\n  expand(): void {\n    this.containerWidth = `${this.userDetail.nativeElement.offsetWidth}px` ;\n    this.expandUserDetail = !this.expandUserDetail;\n  }\n\n  /**\n   * Show Hide User section based on active menu item\n   */\n  showHideTopHeader(): void {\n    if (this.repairGuid && this.repairGuid != '0') {\n      this.showUserSection = true\n    } else {\n      this.showUserSection = false;\n    }\n  }\n\n  /**\n   * open labour rate popup\n   */\n  openLabourRate(): void {\n    this.monitorService.logEvent('openLabourRate', [ 'CustomerLayoutComponent', 'addenda-repair' ]);\n    let dialogRef = this.dialog.open(ChqLabourRateComponent, {\n      data:\n        { 'repairId': this.repairGuid, 'from': Modules.repair },\n      autoFocus: false\n    });\n\n    dialogRef.afterClosed().subscribe((result: any) => {\n      dialogRef = null;\n      if(result) {\n        this.commonService.labourData.next(result);\n        this.commonService.isRefreshRepairEstimateDetails.next(true)\n      }\n    });\n  }\n\n  /**\n   * on destroy\n   */\n  ngOnDestroy(): void {\n    this.monitorService.logEvent('ngOnDestroy', [ 'CustomerLayoutComponent', 'addenda-repair', {\n      repairId: this.repairGuid\n    } ]);\n    if (this.subscriptions) this.subscriptions.forEach((subscription: Subscription) => subscription.unsubscribe());\n    this.commonService.activeItem.next(null);\n    this.commonService.repairDetails.next(null);\n    this.commonService.isViewOnly = false;\n  }\n}\n","<div class=\"calendar-header-container\" [ngClass]=\"{'margin-right':isiOS }\">\n    <div class=\"filter\">\n        <chq-button [buttonModel]=\"newBookingButton\" (click)=\"newBooking()\"\n            *chqPermission=\"'bookingJournal'\"></chq-button>\n        <chq-button [buttonModel]=\"draftButton\" (click)=\"openDraftCustomer()\"></chq-button>\n        <chq-button [buttonModel]=\"filterButton\" (click)=\"openFilter()\"></chq-button>\n    </div>\n\n    <p class=\"total\">\n        <span><span>E</span><b>{{totalEstimate |\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</b> {{'total_estimated' |\n            translate}}</span>\n        <span><span>L</span><b>{{totalLabour |\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</b> {{'total_labour' |\n            translate}}</span>\n        <span><span class=\"has-background\">{{ totalBooking }}</span>\n            <ng-container *ngIf=\"totalBooking === 1; else elseTemplate\">\n                {{ 'no_of_booking' | translate }}\n            </ng-container>\n            <ng-template #elseTemplate>\n                {{ 'no_of_bookings' | translate }}\n            </ng-template>\n        </span>\n    </p>\n</div>\n\n<div class=\"booking-calendar mh-0\" [ngClass]=\"{'margin-right':isiOS }\">\n    <!-- [ngClass]=\"{'mt-0': windowInnerWidth >= 1200}\" -->\n    <!-- [height]=\"'calc(100vh - (5px + 0.8vw + 5px + 1.5vw + 48px + 66px))'\" -->\n    <dx-scheduler *ngIf=\"showCalendar\" [width]='calendarWidth' [height]=\"calendarHeight\" [editing]=\"true\"\n        [dataSource]=\"calendarData\" [views]=\"['day', 'week', 'month']\" [currentView]=\"currentView\"\n        [adaptivityEnabled]=\"isSmallScreen\" startDateExpr=\"StartDate\" endDateExpr=\"EndDate\" [firstDayOfWeek]=\"1\"\n        [startDayHour]=\"0\" [endDayHour]=\"24\" [currentDate]=\"currentDate\" [cellDuration]=\"30\"\n        [useDropDownViewSwitcher]=\"false\" [crossScrollingEnabled]=\"true\" dateCellTemplate=\"dateCellTemplate\"\n        timeCellTemplate=\"timeCellTemplate\" dataCellTemplate=\"dataCellTemplate\"\n        appointmentTemplate=\"appointment-template\" appointmentTooltipTemplate=\"appointment-tooltip-template\"\n        [showCurrentTimeIndicator]=\"true\" (onAppointmentFormOpening)=\"onAppointmentFormOpening($event)\"\n        (onAppointmentUpdating)=\"onAppointmentUpdating($event)\" (onAppointmentUpdated)=\"onAppointmentUpdated($event)\"\n        (onAppointmentClick)=\"onAppointmentClick($event)\" (onAppointmentDblClick)=\"onAppointmentDblClick($event)\"\n        (onOptionChanged)=\"onOptionChanged($event)\" (onCellClick)=\"onCellClick($event)\"\n        [maxAppointmentsPerCell]=\"maxAppointmentsPerCell\">\n\n        <div *dxTemplate=\"let dataCell of 'dataCellTemplate'\"\n            [ngClass]=\"{'disable-date' : disabledDate[dataCell.startDate.toDateString()],'weekend' : weekendDate[dataCell.startDate.toDateString()], 'readonly': isReadOnlyPermission,'dinner': lunchTime[dataCell.startDate.toString()]}\">\n            {{ currentView === 'month' ? dataCell.startDate.getDate() : \"\" }}\n\n        </div>\n\n        <div *dxTemplate=\"let dateCell of 'dateCellTemplate'\"\n            [ngClass]=\"{ 'disable-date': disabledDate[dateCell.date.toDateString()] }\">\n            <p *ngIf=\"currentView !== 'month'\" class=\"calendar-header header-info\"\n                [ngClass]=\"{'flex-column': getDateText(dateCell.date).length > 105}\"\n                [innerHtml]=\"getDateText(dateCell.date)\"></p>\n            <p *ngIf=\"currentView !== 'month'\" class=\"calendar-header date-info\">\n                {{ dateCell.date | date: 'd EEE' }}\n            </p>\n            <p *ngIf=\"currentView === 'month'\" class=\"calendar-header date-info\">\n                {{ dateCell.text }}\n            </p>\n        </div>\n\n        <div *dxTemplate=\"let timeCell of 'timeCellTemplate'\">\n            <!-- [ngClass]=\"{ dinner: timeCell.date.getHours() >= lunchTime.from && timeCell.date.getHours() < lunchTime.to }\" -->\n            {{ timeCell.text ? (timeCell.date | date:'HH:mm') : '' }}\n        </div>\n\n        <div *dxTemplate=\"let model of 'appointment-template'\">\n            <div class='template-wrap' [style.background]=\"model.targetedAppointmentData.Color\">\n                <div class=\"template-content-wrap\">\n                    <div class=\"subject\">\n                        <span>{{model.targetedAppointmentData.Customer?.FirstName}}\n                            {{model.targetedAppointmentData.Customer?.LastName}}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div *dxTemplate=\"let model of 'appointment-tooltip-template'\">\n            <div class='tooltip-template-wrap'\n                [style.border-left]=\"'12px solid ' + model.targetedAppointmentData.Color\">\n                <div class=\"tooltip-content-wrap\">\n                    <div class=\"subject\">\n                        <span>{{model.targetedAppointmentData.Customer?.FirstName}}\n                            {{model.targetedAppointmentData.Customer?.LastName}}</span>\n                    </div>\n                    <div class=\"booking-detail\">\n                        <div class=\"assigned\">Work Provider:\n                            {{model.targetedAppointmentData.WorkProviderDto?.CompanyName}}\n                        </div>\n                        <div class=\"status\">Status: {{model.targetedAppointmentData.DisplayStatus}}</div>\n                    </div>\n                </div>\n                <div class=\"context-menu\">\n                    <button (click)=\"handleContextMenu('preview', $event, model.targetedAppointmentData)\">\n                        <mat-icon [svgIcon]=\"'show'\" color=\"black\"></mat-icon>\n                    </button>\n                </div>\n            </div>\n        </div>\n\n        <dxo-appointment-dragging [group]=\"'customer'\" [onAdd]=\"onAppointmentAdd\">\n        </dxo-appointment-dragging>\n\n        <dxo-scrolling mode=\"virtual\"> </dxo-scrolling>\n    </dx-scheduler>\n</div>\n\n<mat-sidenav-container [hasBackdrop]=\"true\">\n    <mat-sidenav #filter [mode]=\"'over'\" [position]=\"'end'\" class=\"filter-sidenav\">\n        <div class=\"filter-container\">\n            <div class=\"header\">\n                <div class=\"title\">\n                    {{ 'filters' | translate }}\n                </div>\n                <div class=\"action\">\n                    <button (click)=\"filter.toggle()\">\n                        <mat-icon [svgIcon]=\"'cross'\" color=\"white\"></mat-icon>\n                    </button>\n                </div>\n            </div>\n\n            <form class=\"form-container\" [formGroup]=\"filterForm\">\n                \n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <chq-input [inputModel]=\"filterModal[1]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <hr class=\"no-line\">\n                <div class=\"row custom-checkbox\">\n                    <div class=\"col-12\">\n                        <chq-input\n                            [ngClass]=\"{ 'two-per-row': (filterModal[0].options.length < 3 || filterModal[0].options[2]?.label.length > 12) }\"\n                            [inputModel]=\"filterModal[0]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <hr class=\"no-line\" *ngIf=\"filterModal[0].options.length > 0\">\n                <div class=\"row custom-checkbox\">\n                    <div class=\"col-12\">\n                        <chq-input class=\"two-per-row\" [inputModel]=\"filterModal[2]\"\n                            (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <hr *ngIf=\"filterModal[3].options.length > 0\">\n                <div class=\"row custom-checkbox\">\n                    <div class=\"col-12\">\n                        <chq-input class=\"two-per-row\" [inputModel]=\"filterModal[3]\"\n                            (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <hr class=\"no-line\" *ngIf=\"showProviderChild\">\n                <div class=\"row\" *ngIf=\"showProviderChild\">\n                    <div class=\"col-12\">\n                        <chq-input [inputModel]=\"filterModal[7]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <hr class=\"no-line\"\n                    *ngIf=\"filterForm.get('WorkProviderDto').value && filterForm.get('WorkProviderDto').value.length > 0\">\n                <div class=\"row\"\n                    *ngIf=\"filterForm.get('WorkProviderDto').value && filterForm.get('WorkProviderDto').value.length > 0\">\n                    <div class=\"col-12\">\n                        <chq-input [inputModel]=\"filterModal[4]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <hr *ngIf=\"filterModal[5].options.length > 0\">\n                <div *ngIf=\"filterModal[5].options.length > 0\" class=\"row\">\n                    <div class=\"col-12\">\n                        <chq-input [inputModel]=\"filterModal[5]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <hr *ngIf=\"filterModal[6].options.length > 0\">\n                <div class=\"row custom-checkbox\">\n                    <div class=\"col-12\">\n                        <chq-input class=\"two-per-row\" [inputModel]=\"filterModal[6]\"\n                            (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n            </form>\n            <div class=\"footer\">\n                <div class=\"row\">\n                    <div class=\"col-6\">\n                        <chq-button [buttonModel]=\"applyButton\" (click)=\"applyFilter()\"></chq-button>\n                    </div>\n                    <div class=\"col-6\">\n                        <chq-button [buttonModel]=\"resetButton\" (click)=\"resetFilter()\"></chq-button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </mat-sidenav>\n</mat-sidenav-container>\n\n<mat-sidenav-container class=\"draft-sidenav-container\" [hasBackdrop]=\"false\">\n    <mat-sidenav #draftcustomer [mode]=\"'over'\" [position]=\"'end'\" class=\"draft-sidenav\">\n        <div class=\"draft-container\">\n            <div class=\"header\">\n                <div class=\"title\">\n                    {{ 'draft_customers' | translate }}\n                </div>\n                <div class=\"action\">\n                    <button (click)=\"draftClose()\">\n                        <mat-icon [svgIcon]=\"'cross'\" color=\"white\"></mat-icon>\n                    </button>\n                </div>\n            </div>\n\n            <div *ngIf=\"!draftData || draftData.length === 0\" class=\"no-data-wrapper\">\n                <div class=\"no-data-content\">\n                    <img src=\"assets/img/no-data.png\" alt=\"\">\n                    <span>{{'no_result_found' | translate}}</span>\n                    <span>{{'could_not_find_any_data' | translate}}.</span>\n                </div>\n            </div>\n\n            <dx-draggable class=\"item dx-card dx-theme-text-color dx-theme-background-color\" [clone]=\"true\"\n                handle=\".draggable\" [group]=\"'customer'\" [data]=\"customer\" (onDragStart)=\"onItemDragStart($event)\"\n                (onDragEnd)=\"onItemDragEnd($event)\" *ngFor=\"let customer of draftData\">\n                <div class='draft-wrap'>\n                    <mat-icon [svgIcon]=\"'list'\" color=\"light-gray\" class=\"draggable\"></mat-icon>\n                    <div class=\"draft-content-wrap\">\n                        <div class=\"subject\">\n                            <span>\n                                {{customer.firstName}}\n                                {{customer.lastName}}\n                            </span>\n                        </div>\n                        <div class=\"booking-detail\">\n                            <span class=\"value\">\n                                {{customer.createdDate | date:'dd/MM/yyyy hh:mm:ss'}}\n                            </span>\n                            <span *ngIf=\"customer.statusClass === 'RepairEstimation'\">\n                                License Plate: <span class=\"value\">{{customer.licensePlateNumber}}</span>\n                            </span>\n                            <span *ngIf=\"customer.statusClass === 'RepairEstimation'\">\n                                Amount:\n                                <span class=\"value\">\n                                    {{customer.cost |\n                                    xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}\n                                </span>\n                            </span>\n                        </div>\n                        <div class=\"status {{customer.statusClass}}\">\n                            <span>\n                                {{customer.status}}\n                            </span>\n                        </div>\n                    </div>\n                    <div class=\"draft-action-menu\">\n                        <a [ngClass]=\"{'disabled': !hasQuotePermission && customer.draftCustomerType === 'Quote'}\"\n                            [routerLink]=\"[customer.url]\">\n                            <mat-icon [svgIcon]=\"'show'\" color=\"black\"></mat-icon>\n                        </a>\n                        <a *chqPermission=\"'bookingJournal'\" (click)=\"handleDraftAction('delete', $event, customer)\">\n                            <mat-icon [svgIcon]=\"'trash'\" color=\"red\"></mat-icon>\n                        </a>\n                    </div>\n                </div>\n            </dx-draggable>\n        </div>\n    </mat-sidenav>\n</mat-sidenav-container>\n\n<div class=\"footer-full-wrapper\">\n    <div class=\"footer-image-wrapper\">\n        <div class=\"image-wrapper\">\n            <img src=\"assets/img/addenda-repair.png\" />\n        </div>\n    </div>\n</div>","import { DatePipe } from '@angular/common';\nimport { AfterViewInit, ChangeDetectorRef, Component, HostListener, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as dayjs from 'dayjs';\nimport * as tz from 'dayjs/plugin/timezone';\nimport * as utc from 'dayjs/plugin/utc';\nimport { DxSchedulerComponent } from 'devextreme-angular';\nimport { locale } from 'devextreme/localization';\nimport { Observable, forkJoin, map, of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { CaseStatusMapper, RepairStatusMapper } from 'src/app/config/route-mapper/repair-status-mapper';\nimport { XaCurrencyPipe } from 'src/app/helper/pipe/xa-currency/xa-currency.pipe';\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\nimport { ChqWidgetsInputModel, IControlValue } from 'src/app/model/chq-widgets-input-model';\nimport { BookingService } from 'src/app/services/booking/booking.service';\nimport { CalendarService, } from 'src/app/services/calendar/calendar.service';\nimport { CaseService } from 'src/app/services/case/case.service';\nimport { CommonService } from 'src/app/services/common/common.service';\nimport { BookingPreviewComponent } from '../booking-preview/booking-preview.component';\ndayjs.extend(utc);\ndayjs.extend(tz);\n\nlocale('en');\n\n@Component({\n  selector: 'chr-booking-journal',\n  templateUrl: './booking-journal.component.html',\n  styleUrls: [ './booking-journal.component.scss' ],\n  providers: [ CalendarService ]\n})\nexport class BookingJournalComponent implements AfterViewInit, OnInit {\n\n  currentDate: Date = new Date();\n  startHour: number = 0;\n  endHour: number = 24;\n\n  public filterButton: ChqWidgetsButtonModel = {\n    label: 'filter',\n    type: 'outline',\n    icon: 'filter'\n  }\n\n  public draftButton: ChqWidgetsButtonModel = {\n    label: 'draft_customer',\n    type: 'outline',\n    icon: 'person-add'\n  }\n\n  public newBookingButton: ChqWidgetsButtonModel = {\n    label: 'new_booking',\n    type: 'primary',\n    icon: 'plus'\n  }\n\n  public applyButton: ChqWidgetsButtonModel = {\n    label: 'apply',\n    type: 'primary'\n  }\n\n  public resetButton: ChqWidgetsButtonModel = {\n    label: 'reset_all',\n    type: 'outline'\n  }\n\n  /**\n   * \n   * @returns \n   */\n  get isiOS(): boolean {\n    return false;\n    return [\n      'iPad Simulator',\n      'iPhone Simulator',\n      'iPod Simulator',\n      'iPad',\n      'iPhone',\n      'iPod'\n    ].includes(navigator.platform)\n      // iPad on iOS 13 detection\n      || (navigator.userAgent.includes('Mac') && 'ontouchend' in document)\n  }\n\n  public calendarData: any[] = [];\n  public draftData: any[] = [];\n  @ViewChild(DxSchedulerComponent, { static: false }) scheduler: DxSchedulerComponent;\n  @ViewChild('filter') public filter: MatSidenav;\n  @ViewChild('draftcustomer') public draftCustomer: MatSidenav;\n  currentView = localStorage.getItem('currentView') || 'week'\n  calendarWidth = '100%';\n  defaultHeight = 'calc(100vh - (5px + 0.8vw + 5px + 1.5vw + 50px))';\n  calendarHeight = this.currentView === 'month' ? '100%' : this.defaultHeight;\n  // calc(((((100vh - (50px + 2 * (5px + 0.8vw))) - (5px + 1.5vw)) - 1.5vw) - 90px))\n  public filterForm = this.formBuilder.group({\n    TypeName: [],\n    Booking: [],\n    WorkProviderDto: [],\n    WorkProviderName: [],\n    CustomerName: [],\n    OrgName: '',\n    Assignees: [],\n    RepairType: []\n  });\n\n  filterModal: ChqWidgetsInputModel[] = [\n    {\n      placeHolder: 'booking_type',\n      name: 'TypeName',\n      label: 'booking_type',\n      value: '',\n      type: 'checkbox',\n      options: []\n    },\n    {\n      placeHolder: 'select_organization',\n      label: 'organization',\n      name: 'OrgName',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: false\n    },\n    {\n      placeHolder: 'booking',\n      name: 'Booking',\n      label: 'booking',\n      value: '',\n      type: 'checkbox',\n      options: [\n        { label: 'Start Date', value: 'bookingIn', checked: false },\n        { label: 'End Date', value: 'bookingOut', checked: false }\n      ]\n    },\n    {\n      placeHolder: 'work_provider',\n      name: 'WorkProviderDto',\n      label: 'work_provider',\n      value: '',\n      type: 'checkbox',\n      options: []\n    },\n    {\n      placeHolder: 'driver_name',\n      name: 'CustomerName',\n      label: 'driver_name',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: true\n    },\n    {\n      placeHolder: 'assigned_to',\n      label: 'assigned_to',\n      name: 'Assignees',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: true\n    },\n    {\n      placeHolder: 'repair_type',\n      name: 'RepairType',\n      label: 'repair_type',\n      value: '',\n      type: 'checkbox',\n      options: []\n    },\n    {\n      placeHolder: 'work_provider_name',\n      name: 'WorkProviderName',\n      label: 'work_provider_name',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: true\n    },\n  ];\n  filterDataLoaded: boolean = false;\n  draftDataLoaded: boolean = false;\n  isFromCalendar = false;\n  calendarCurrentStartDate = null;\n  calendarCurrentEndDate = null;\n\n  isSmallScreen = false;\n  isTouchScreen = false;\n\n  maxAppointmentsPerCell = 2;\n\n  /**\n   * detect change in windows resize\n   */\n  @HostListener('window:resize', [ '$event' ])\n  getScreenSize(): void {\n    this.windowInnerWidth = window.innerWidth;\n\n    if (window.innerWidth < 1024) {\n      this.maxAppointmentsPerCell = 1;\n    } else {\n      this.maxAppointmentsPerCell = 2;\n    }\n\n    if (window.innerWidth < 500) {\n      this.isSmallScreen = true;\n      this.maxAppointmentsPerCell = 0;\n    }\n\n    this.scheduler?.instance.getDataSource().reload();\n  }\n\n  public userDetail;\n  public userIsBM = false;\n\n\n  i18n = this.commonService.geti18nInfo();\n\n  public isReadOnlyPermission: boolean = true;\n\n  /**\n   * Constructor\n   */\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    private formBuilder: FormBuilder,\n    public dialog: MatDialog,\n    private calendarService: CalendarService,\n    private commonService: CommonService,\n    private datePipe: DatePipe,\n    private cdr: ChangeDetectorRef,\n    private bookingService: BookingService,\n    private caseService: CaseService,\n    private xaCurrencyPipe: XaCurrencyPipe,\n    private translateService: TranslateService\n  ) {\n    this.onAppointmentAdd = this.onAppointmentAdd.bind(this);\n    this.getScreenSize();\n\n    this.isTouchScreen = ('ontouchstart' in window) ||\n      (navigator.maxTouchPoints > 0) ||\n      (navigator.maxTouchPoints > 0);\n\n  }\n\n  showCalendar = true;\n  hasQuotePermission = false;\n  windowInnerWidth = 0;\n\n  /**\n   * on init\n   */\n  ngOnInit(): void {\n\n    this.windowInnerWidth = window.innerWidth;\n\n    this.commonService.userProfileData.subscribe((res) => {\n      this.userDetail = res?.data;\n      const automotiveServices = res?.data?.userPermission?.automotiveServices;\n      this.hasQuotePermission = automotiveServices?.some(x => x.automotiveServiceName === 'Carheal Quote');\n      this.userIsBM = this.userDetail?.roleDetail.some(x => x.name == 'Bodyshop Manager');\n\n      if (this.userDetail?.organizationDetail?.id) {\n        this.filterForm.get('OrgName').setValue(this.userDetail?.organizationDetail.id);\n      }\n\n      const automotiveService = automotiveServices?.find(x => x.automotiveServiceName.toLowerCase() === 'addenda repair');\n      if (automotiveService && this.noPermissionRoles['bookingJournal'].includes(automotiveService.roleName.toLowerCase())) {\n        this.isReadOnlyPermission = false;\n      } else {\n        this.isReadOnlyPermission = true;\n      }\n    })\n\n    this.route.queryParams.subscribe((params) => {\n      if (params['bookInDate']) {\n        this.currentDate = new Date(params['bookInDate']);\n      }\n    });\n  }\n\n  /**\n* function\n*/\n  ngAfterViewInit(): void {\n    this.getCalendarData(this.generateFilterQuery());\n    this.cdr.detectChanges();\n  }\n\n\n  /**\n   * Check and pull draft customer data\n   */\n  openDraftCustomer(): void {\n    if (this.draftDataLoaded) {\n      this.showDraftCustomer();\n    } else {\n      this.commonService.showLoading();\n      this.calendarService.getDraftCustomer()?.subscribe({\n        next: (result) => {\n          this.draftData = result.data\n            // .filter(x => !this.bookingIdList.some(y => y === x.bookingGuid))\n            .map(\n              ((x) => {\n                const statusTrimmed = x.status?.replace(/\\s/g, '');\n                let routeToRedirect = '/';\n                if (x.draftCustomerType === 'Repair') {\n                  routeToRedirect += RepairStatusMapper[statusTrimmed?.toLowerCase()] || RepairStatusMapper.others;\n                  routeToRedirect = routeToRedirect.replace('{{repairGUID}}', x.repairGuid)\n                } else if (x.draftCustomerType === 'Quote') {\n                  routeToRedirect += CaseStatusMapper[statusTrimmed?.toLowerCase()] || CaseStatusMapper.others;\n                  routeToRedirect = routeToRedirect.replace('{{caseGUID}}', x.caseGuid)\n                }\n                return {\n                  ...x,\n                  url: routeToRedirect,\n                  statusClass: statusTrimmed\n                }\n              }))\n            .sort(function (a, b) {\n              return new Date(b.createdDate).getTime() - new Date(a.createdDate).getTime();\n            });\n          this.commonService.hideLoading();\n          this.draftDataLoaded = true;\n          this.showDraftCustomer();\n        }\n      });\n    }\n  }\n\n\n  /**\n   * open draft customer panel\n   */\n  showDraftCustomer(open = true): void {\n    if (open) {\n      this.draftCustomer.open();\n    }\n\n    this.calendarWidth = (window.innerWidth - 400) + 'px';\n    this.calendarHeight = this.defaultHeight;\n\n    this.showCalendar = false;\n    setTimeout(() => {\n      this.showCalendar = true;\n      setTimeout(() => {\n        this.scrollToCurrentTime();\n      }, 0);\n    }, 0);\n\n  }\n\n\n  /**\n   * Check if user is bm , then call api otherwise return observable\n   */\n  getOrgIfBM(): Observable<any> {\n    if (this.userIsBM) {\n      return this.caseService.getOrganizations()\n    } else {\n      return of(null);\n    }\n  }\n\n  /**\n   * pull data and open filter panel\n   */\n  openFilter(): void {\n    if (this.filterDataLoaded) {\n      this.filter.toggle();\n    } else {\n      this.commonService.showLoading();\n\n      forkJoin([\n        this.bookingService.getBookingRepairTypes(`?orgIds=${this.userDetail?.organizationDetail.id}`),\n        this.getOrgIfBM(),\n        this.caseService.getProvidersByOrgId(`?orgIds=${this.userDetail?.organizationDetail.id}`),\n        this.caseService.getCaseUsers(`?orgId=${this.userDetail?.organizationDetail.id}`)\n      ]\n      ).pipe(\n        map(([ bookingRepairType, orgList, workProvider, employeeList ]) => {\n          return { bookingRepairType, orgList, workProvider, employeeList };\n        })\n      ).subscribe((result) => {\n        this.filterModal[0].options = result.bookingRepairType.data.BookingTypes.map((x) => { return { label: x.name, value: x.name } });\n\n        if (this.userIsBM) {\n          this.filterModal[1] =\n          {\n            ...this.filterModal[1],\n            selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n            options: result.orgList.data.map((x) => { return { label: x.name, value: x.id } })\n          };\n        } else {\n          this.filterModal[1] =\n          {\n            ...this.filterModal[1],\n            selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n            options: [ { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id } ],\n            disabled: true\n          };\n        }\n\n        this.filterModal[3].options = result.workProvider.data.map((x) => { return { label: x, value: x } });\n        this.filterModal[5] =\n        {\n          ...this.filterModal[5],\n          options: result.employeeList.data.map((x) => { return { label: x.name, value: x.id } })\n        };\n        if (result.bookingRepairType.data.RepairType && result.bookingRepairType.data.RepairType.length > 0) {\n          this.filterModal[6].options = result.bookingRepairType.data.RepairType[0].RepairTypes.map((x) => {\n            return { label: x.name, value: x.id, icon: this.getRepairTpeIcon(x.name) }\n          });\n        }\n\n        this.filter.toggle();\n        this.commonService.hideLoading();\n        this.filterDataLoaded = true;\n      });\n    }\n  }\n\n  /**\n * getRepairTpeIcon\n */\n  getRepairTpeIcon(name): string {\n    const iconMapper = {\n      Body: 'car',\n      Maintenance: 'house',\n      Paint: 'paint',\n      Tires: 'tire',\n      Electric: 'bolt-car',\n      Electrical: 'bolt-car',\n      Mechanical: 'mechanical',\n      Diagnosis: 'diagnosis',\n      Others: 'gears'\n    };\n    return iconMapper[name];\n  }\n\n  /**\n* getDisplayStatus\n*/\n  getDisplayStatus(status): string {\n    const statusMapper =\n    {\n      draft: 'Draft',\n      vehicledetails: 'Vehicle Details',\n      uploaddocuments: 'Upload Documents',\n      uploadphotos: 'Upload Photos',\n      repairestimation: 'Repair Estimation',\n      pendingapproval: 'Pending Approval',\n      approved: 'Approved',\n      reject: 'Reject',\n      rejected: 'Rejected',\n      closed: 'Closed',\n      complete: 'Complete',\n      partsorderedpartially: 'Parts Ordered Partially',\n      partsordered: 'Parts Ordered',\n      repairinprogress: 'Repair In Progress',\n      readytoinvoice: 'Ready To Invoice',\n      invoiceready: 'Invoice Ready',\n      invoiced: 'Invoiced',\n      paid: 'Paid',\n      others: 'Others'\n    }\n    return statusMapper[status.replace(/\\s/g, '').toLowerCase()] || status;\n  }\n\n  public lunchTime = {};\n\n  /**\n  * function\n  */\n  refreshCalendarData(): void {\n    this.calendarData = [];\n    this.getCalendarData(this.generateFilterQuery());\n  }\n\n  /**\n  * function\n  */\n  generateFilterQuery(): string {\n\n    this.calendarCurrentStartDate = this.calendarCurrentStartDate\n      || new Date(this.scheduler.instance.getStartViewDate().toDateString()).toISOString();\n    this.calendarCurrentEndDate = this.calendarCurrentEndDate\n      || new Date(new Date(this.scheduler.instance.getEndViewDate().toDateString()).getTime() + 1000 * 60 * 60 * 24 - 1000).toISOString();\n\n    let startDate = this.calendarCurrentStartDate;\n    let endDate = this.calendarCurrentEndDate;\n    if (this.isFromCalendar) {\n      startDate = new Date(this.scheduler.instance.getStartViewDate().toDateString()).toISOString();\n      endDate = new Date(new Date(this.scheduler.instance.getEndViewDate().toDateString()).getTime() + 1000 * 60 * 60 * 24 - 1000).toISOString();\n\n      this.calendarCurrentStartDate = startDate;\n      this.calendarCurrentEndDate = endDate;\n      this.isFromCalendar = false;\n    }\n\n    const filterValue = this.filterForm.value;\n    let query = `?$filter=((StartDate ge ${startDate} and StartDate le ${endDate}) or (EndDate ge ${startDate} and EndDate le ${endDate}) or (StartDate le ${startDate} and EndDate ge ${endDate}))`;\n\n    if (filterValue['Booking']) {\n      if (filterValue['Booking'].includes('bookingIn') && filterValue['Booking'].includes('bookingOut')) {\n        query = `?$filter=((StartDate ge ${startDate} and StartDate le ${endDate}) and (EndDate ge ${startDate} and EndDate le ${endDate}))`;\n      } else if (filterValue['Booking'].includes('bookingIn')) {\n        query = `?$filter=((StartDate ge ${startDate} and StartDate le ${endDate}))`;\n      } else if (filterValue['Booking'].includes('bookingOut')) {\n        query = `?$filter=((EndDate ge ${startDate} and EndDate le ${endDate}))`;\n      }\n    }\n\n    Object.keys(filterValue).forEach((key) => {\n      switch (key) {\n      case 'OrgName':\n        if (filterValue[key]) {\n          query += ` and (OrgId eq ${filterValue[key]})`;\n        }\n        break;\n      case 'TypeName':\n        if (filterValue[key] && filterValue[key].length > 0) {\n          query += ` and (${filterValue[key].map(x => key + ' eq \\'' + x + '\\'').join(' or ')})`;\n        }\n        break;\n      case 'WorkProviderDto':\n        if (filterValue[key] && filterValue[key].length > 0) {\n          query += ` and (${filterValue[key].map(x => 'WorkProviderDto/CompanyOrgType eq \\'' + x + '\\'').join(' or ')})`;\n        }\n        break;\n      case 'WorkProviderName':\n        if (filterValue[key] && filterValue[key].length > 0) {\n          query += ` and (${filterValue[key].map(x => 'WorkProviderDto/CompanyName eq \\'' + x + '\\'').join(' or ')})`;\n        }\n        break;\n      case 'CustomerName':\n        if (filterValue[key] && filterValue[key].length > 0) {\n          query += ` and (${filterValue[key].map(x => 'Customer/Email eq \\'' + x + '\\'').join(' or ')})`;\n        }\n        break;\n      case 'Assignees':\n        if (filterValue[key] && filterValue[key].length > 0) {\n          const partialQuery = `${filterValue[key].map(x => 'c/AssigneeId eq ' + x).join(' or ')}`;\n          query += ` and Assignees/any(c: (${partialQuery}))`;\n        }\n        break;\n      case 'RepairType':\n        if (filterValue[key] && filterValue[key].length > 0) {\n          const partialQuery = `${filterValue[key].map(x => 'c/RepairServiceTypeId eq ' + x).join(' or ')}`;\n          query += ` and RepairServiceTypes/any(c: (${partialQuery}))`;\n        }\n        break;\n\n      default:\n        break;\n      }\n    });\n\n    return query + '&$count=true';\n  }\n\n  bookingIdList: any[] = [];\n\n  totalEstimate: number = 0;\n  totalLabour: number = 0;\n  totalBooking: number = 0;\n\n  /**\n   * \n   * @param arr \n   * @returns \n   */\n  calculateSum(arr, key): number {\n    return arr.reduce((total, current) => {\n      return total + current[key];\n    }, 0);\n  }\n\n  /**\n   * getCalendarData\n   * @param query \n   */\n  getCalendarData(query: string): void {\n    this.totalEstimate = 0;\n    this.totalLabour = 0;\n    this.totalBooking = 0;\n\n    // this.setDisabledCell();\n    this.bookingIdList = [];\n    this.disabledDate = {};\n    this.weekendDate = {};\n    this.startHour = 0;\n    this.endHour = 24;\n    this.commonService.showLoading();\n\n    forkJoin([\n      this.calendarService.getCalendarData(query),\n      this.calendarService.getSchedule(this.userDetail?.userId, this.calendarCurrentStartDate, this.calendarCurrentEndDate).pipe(catchError(error => of(null)))\n    ]\n    ).pipe(\n      map(([ calendarData, scheduleData ]) => {\n\n        const updatedValue = [];\n        calendarData.value.forEach((orgValue) => {\n          const mappedData = {\n            ...orgValue,\n            StartDate: dayjs(orgValue.StartDate).toDate(),\n            EndDate: dayjs(orgValue.EndDate).toDate(),\n            Color: orgValue.BookingTypeColor, //(orgValue.TypeName === 'Assessment' ? '#3B82F6' : '#03A31B'),\n            Icon: (orgValue.TypeName === 'Assessment' ? 'booking-type-assessment' : 'booking-type-repair'),\n            DisplayStatus: this.getDisplayStatus(orgValue.StatusName)\n          };\n\n          if (!this.isSameDay(mappedData.StartDate, mappedData.EndDate)) {\n            mappedData.allDay = true;\n          }\n          updatedValue.push(mappedData);\n          this.bookingIdList.push(mappedData.BookingGuid);\n\n          const startDate = this.currentView === 'month' ? new Date(this.currentDate.getFullYear(), this.currentDate.getMonth(), 1) : new Date(this.calendarCurrentStartDate);\n          const endDate = this.currentView === 'month' ? new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, 0, 11, 59, 59) : new Date(this.calendarCurrentEndDate);\n\n\n          if (this.checkDateRange(startDate, endDate, mappedData.StartDate)) {\n            this.totalEstimate += mappedData.EstimateCost || 0;\n            this.totalLabour += mappedData.LabourCost || 0;\n            this.totalBooking++;\n          }\n        });\n\n        return { calendarData: updatedValue, scheduleData };\n      })\n    ).subscribe((result) => {\n      this.calendarData = [ ...result.calendarData ];\n\n      this.commonService.hideLoading();\n\n      this.checkSchedule(result.scheduleData);\n\n      this.scrollToCurrentTime();\n    });\n\n  }\n\n  /**\n   * \n   */\n  private scrollToCurrentTime(): void {\n    const currentDate = new Date();\n    let scrollToHour = currentDate.getHours() > 0 ? currentDate.getHours() - 1 : currentDate.getHours();\n\n    if (scrollToHour < this.startHour) {\n      scrollToHour = this.startHour;\n    }\n\n    if (scrollToHour > this.endHour) {\n      scrollToHour = this.endHour - 1;\n    }\n\n    this.scheduler.instance.scrollToTime(scrollToHour, currentDate.getMinutes());\n  }\n\n  /**\n   * \n   * @param data \n   */\n  private checkSchedule(scheduleData): void {\n    let startHour;\n    let endHour;\n    scheduleData?.data?.calenderDays?.forEach((element) => {\n      if (element.breaks && element.breaks.length > 0) {\n        let startTime = dayjs(`${element.date} ${element.breaks[0].startTime} Z`, 'YYYY-MM-DD hh:mm A Z');\n        const endTime = dayjs(`${element.date} ${element.breaks[0].endTime} Z`, 'YYYY-MM-DD hh:mm A Z');\n\n        do {\n          const stringDate = dayjs(startTime.toDate()).toDate().toString();\n\n          this.lunchTime[stringDate] = true;\n          startTime = dayjs.utc(startTime.toDate()).add(30, 'm');\n        } while (startTime < endTime);\n      }\n\n      const date = dayjs(`${element.date} 00:00 AM Z`, 'YYYY-MM-DD hh:mm A Z');\n      if (element.isOff) {\n        this.disabledDate[date.toDate().toDateString()] = true;\n      }\n\n      if (element.isWeekend) {\n        this.weekendDate[date.toDate().toDateString()] = true;\n      }\n\n      if (element.timeSlots && element.timeSlots.length > 0) {\n        const startTime = dayjs(`${element.date} ${element.timeSlots[0].startTime} Z`, 'YYYY-MM-DD HH:mm Z');\n        const endTime = dayjs(`${element.date} ${element.timeSlots[0].endTime} Z`, 'YYYY-MM-DD HH:mm Z');\n\n        if (!startHour || startHour > startTime.toDate().getHours()) {\n          startHour = startTime.toDate().getHours()\n        }\n\n        if (!endHour || endHour < endTime.toDate().getHours()) {\n          endHour = endTime.toDate().getHours()\n          if (endTime.toDate().getMinutes() > 0 && endHour < 24) {\n            endHour = endHour + 1;\n          }\n        }\n\n      }\n    });\n\n    this.startHour = startHour || 0;\n    this.endHour = endHour || 24;\n\n    // this.showCalendar = false;\n    // setTimeout(() => {\n    //   this.showCalendar = true;\n    // }, 0);\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  getStringDate(date): string {\n    return dayjs(date).format('YYYYMMDDHHmm');\n  }\n\n  /**\n   * isSameDay\n   * @param startDate \n   * @param endDate \n   * @returns \n   */\n  isSameDay(startDate: Date, endDate: Date): boolean {\n    const formattedStartDate = this.datePipe.transform(startDate, 'yyyy-MM-dd');\n    const formattedEndDate = this.datePipe.transform(endDate, 'yyyy-MM-dd');\n\n    return formattedStartDate === formattedEndDate;\n  }\n\n  /**\n   * newBooking\n   */\n  newBooking(): void {\n    this.router.navigate([ '/repair/booking/0' ]);\n  }\n\n  /**\n   * handleContextMenu\n   * @param type \n   * @param e \n   * @param appointment \n   */\n  handleContextMenu(type: any, e: any, appointment: any): void {\n    if (type === 'preview') {\n      if (!this.previewOpen) {\n        this.openPreview(appointment);\n      }\n    } else if (type === 'delete') {\n      this.scheduler.instance.deleteAppointment(this.calendarData[this.calendarData.findIndex(x => x.Id == appointment.Id)]);\n    }\n  }\n\n  /**\n   * cancelEvent\n   * @param e \n   */\n  cancelEvent(e): void {\n    e.cancel = true;\n  }\n\n  /**\n   * \n   * @param appointment \n   */\n  openPreview(appointment): void {\n    this.previewOpen = true;\n    appointment.isReadOnlyPermission = this.isReadOnlyPermission;\n    const dialogRef = this.dialog.open(BookingPreviewComponent, { data: appointment, maxHeight: '90vh' });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      this.previewOpen = false;\n      if (result?.success && (result.type === 'delete' || result.type === 'refresh')) {\n        this.refreshCalendarData();\n\n        this.draftClose();\n        this.draftData = [];\n        this.draftDataLoaded = false;\n      }\n    });\n  }\n\n  isDoubleClick = false;\n  previewOpen = false;\n\n  /**\n     * onAppointmentClick\n     * @param e \n     */\n  onAppointmentClick(e): void {\n\n    setTimeout(() => {\n      if (!this.isDoubleClick && !this.previewOpen) {\n        this.openPreview(e.appointmentData);\n      }\n    }, 500);\n    this.isDoubleClick = false;\n    e.cancel = true;\n  }\n\n  /**\n     * onAppointmentDblClick\n     * @param e \n     */\n  onAppointmentDblClick(e): void {\n    this.isDoubleClick = true;\n    const routeToRedirect = RepairStatusMapper[e.appointmentData.StatusName?.replace(/\\s/g, '').toLowerCase()] || RepairStatusMapper.others;\n    this.router.navigate([ routeToRedirect.replace('{{repairGUID}}', e.appointmentData.ObjectGuid) ]);\n    e.cancel = true;\n  }\n\n  /**\n   * onOptionChanged\n   * @param e \n   */\n  onOptionChanged(e: any): void {\n    if (e.name === 'currentView') {\n      this.currentView = e.value;\n      localStorage.setItem('currentView', this.currentView);\n      this.isFromCalendar = true;\n      setTimeout(() => {\n        this.draftClose();\n        this.draftData = [];\n        this.draftDataLoaded = false;\n        this.refreshCalendarData();\n      }, 100);\n\n      this.calendarHeight = this.currentView === 'month' ? '100%' : this.defaultHeight;\n    } else if (e.name === 'currentDate') {\n      this.currentDate = e.value;\n      this.isFromCalendar = true;\n      setTimeout(() => {\n        this.draftClose();\n        this.draftData = [];\n        this.draftDataLoaded = false;\n        this.refreshCalendarData();\n      }, 100);\n    }\n  }\n\n  /**\n   * onCellClick\n   * @param e \n   */\n  onCellClick(e): void {\n    if (!this.previewOpen) {\n      if (this.isReadOnlyPermission) {\n        e.cancel = true;\n        this.commonService.showInfoToast(5000, 'msg_gt_permission');\n      } else {\n        this.checkDateAndOpen(e);\n      }\n    }\n  }\n\n  private noPermissionRoles = {\n    bookingJournal: [ 'bodyshop manager', 'service advisor' ]\n  }\n\n  /**\n   * \n   * @param e \n   */\n  checkDateAndOpen(e): void {\n    if (this.isPastDate(e.cellData.startDate)) {\n      e.cancel = true;\n      this.commonService.showInfoToast(5000, 'cannot_past_date');\n    } else {\n      const isValidAppointment = this.isValidAppointment(e.component, e.cellData);\n\n      if (!isValidAppointment) {\n        e.cancel = true;\n        this.notifyDisableDate();\n      } else {\n        const startDate = this.datePipe.transform(e.cellData.startDate, 'yyyy-MM-ddTHH:mm:ss');\n        const endDate = this.datePipe.transform(e.cellData.endDate, 'yyyy-MM-ddTHH:mm:ss');\n\n        this.router.navigate([ '/repair/booking/0' ], { queryParams: { startDate: startDate, endDate: endDate } });\n      }\n    }\n  }\n\n  /**\n   * \n   * @param e \n   */\n  onAppointmentFormOpening(e: any): void {\n    e.cancel = true;\n    const startDate = e.appointmentData.startDate;\n    if (!this.isValidAppointmentDate(startDate)) {\n      e.cancel = true;\n      this.notifyDisableDate();\n    }\n  }\n\n  /**\n   * \n   * @param e \n   */\n  onAppointmentAdding(e: any): void {\n    const isValidAppointment = this.isValidAppointment(e.component, e.appointmentData);\n    if (!isValidAppointment) {\n      e.cancel = true;\n      this.notifyDisableDate();\n    }\n  }\n\n  /**\n   * \n   * @param e \n   */\n  onAppointmentUpdating(e: any): void {\n    const allowedStatus = [ 'draft', 'vehicledetails', 'uploaddocuments', 'uploadphotos', 'repairestimation', 'pendingapproval', 'approved', 'reject', 'rejected', 'repairinprogress' ];\n    const statusTrimmed = e.oldData.StatusName.toLowerCase().replace(/\\s/g, '');\n\n    if (!this.isReadOnlyPermission && allowedStatus.includes(statusTrimmed)) {\n      const isValidAppointment = this.isValidAppointment(e.component, e.newData);\n      if (!isValidAppointment) {\n        e.cancel = true;\n        this.notifyDisableDate();\n      }\n\n      if (e.newData.TypeName === 'Assessment') {\n        if ((e.newData.StartDate.getTime() === e.oldData.StartDate.getTime() && e.newData.EndDate.getTime() !== e.oldData.EndDate.getTime())\n          || (e.newData.StartDate.getTime() !== e.oldData.StartDate.getTime() && e.newData.EndDate.getTime() === e.oldData.EndDate.getTime())) {\n          //This means that the appointment is resized and you can cancel it.  \n          e.cancel = true;\n        }\n      }\n    } else {\n      e.cancel = true;\n\n      if (!allowedStatus.includes(statusTrimmed)) {\n        const message = this.translateService.instant('cannot_update_datetime_for_status', { status: this.getDisplayStatus(statusTrimmed) });\n        this.commonService.showInfoToast(5000, message);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param e \n   */\n  onAppointmentUpdated(e: any): void {\n    if (!this.isReadOnlyPermission) {\n      const startDate = new Date(e.appointmentData.StartDate.getTime());\n      let endDate = new Date(e.appointmentData.EndDate.getTime());\n\n      if (e.appointmentData.allDay && startDate.getDate() == endDate.getDate()) {\n        endDate = new Date(e.appointmentData.StartDate.getTime());\n        endDate.setDate(endDate.getDate() + 1);\n      }\n\n      this.patchBooking(startDate, endDate, e.appointmentData.BookingGuid).subscribe({\n        next: () => {\n          this.commonService.hideLoading();\n          this.refreshCalendarData();\n        }\n      });\n    } else {\n      e.cancel = true;\n    }\n  }\n\n  /**\n   * \n   * @param startDate \n   * @param endDate \n   * @param bookingGuid \n   * @returns \n   */\n  patchBooking(startDate, endDate, bookingGuid): Observable<any> {\n    const patchValue: any =\n      [\n        {\n          op: 'replace',\n          path: 'StartDate',\n          value: dayjs.utc(startDate).format('YYYY-MM-DDTHH:mm:ss.000') + 'Z'\n        },\n        {\n          op: 'replace',\n          path: 'EndDate',\n          value: dayjs.utc(endDate).format('YYYY-MM-DDTHH:mm:ss.000') + 'Z'\n        },\n        {\n          op: 'replace',\n          path: 'IsArrived',\n          value: 'False'\n        },\n        {\n          op: 'replace',\n          path: 'IsNoShow',\n          value: 'False'\n        },\n      ];\n\n    this.commonService.showLoading();\n\n    return this.calendarService.updateBooking(bookingGuid, patchValue);\n  }\n\n  /**\n   * \n   */\n  notifyDisableDate(): void {\n    this.commonService.showInfoToast(5000, 'cannot_disabled_date');\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  isHoliday(date: Date): boolean {\n    const localeDate = date.toLocaleDateString();\n    const holidays = this.calendarService.getHolidays();\n    return holidays.filter(holiday => holiday.toLocaleDateString() === localeDate).length > 0;\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  isWeekend(date: Date): boolean {\n    const day = date.getDay();\n    return day === 0;\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  isDisableDate(date: Date): boolean {\n    return this.isHoliday(date);// || this.isWeekend(date) || this.isPastDate(date);\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  isPastDate(date: Date): boolean {\n    return date < new Date();\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  isDisabledDateCell(date: Date): boolean {\n    return this.currentView === 'month'\n      ? this.isWeekend(date)\n      : this.isDisableDate(date);\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  // hasCoffeeCupIcon(date: Date): boolean {\n  //   const hours = date.getHours();\n  //   const minutes = date.getMinutes();\n  //   const dinnerTime = this.lunchTime;\n\n  //   return hours === dinnerTime.from && minutes === 0;\n  // }\n\n  /**\n   * \n   * @param component \n   * @param appointmentData \n   * @returns \n   */\n  isValidAppointment(component: any, appointmentData: any): boolean {\n    const startDate = new Date(appointmentData.StartDate || appointmentData.startDate);\n    const endDate = new Date(appointmentData.EndDate || appointmentData.endDate);\n    return this.isValidAppointmentInterval(startDate, endDate, 30);\n  }\n\n  /**\n   * \n   * @param startDate \n   * @param endDate \n   * @param cellDuration \n   * @returns \n   */\n  isValidAppointmentInterval(startDate: Date, endDate: Date, cellDuration: number): boolean {\n    const edgeEndDate = new Date(endDate.getTime());\n\n    if (!this.isValidAppointmentDate(edgeEndDate)) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * \n   * @param date \n   * @returns \n   */\n  isValidAppointmentDate(date: Date): boolean {\n    // return !this.isHoliday(date) &&\n    //   !(date.getHours() >= this.lunchTime.from &&\n    //     date.getHours() < this.lunchTime.to) &&\n    //   !this.isWeekend(date) && !this.isPastDate(date);\n\n    // return !this.isHoliday(date) &&\n    //   !this.isWeekend(date) && !this.isPastDate(date);\n\n    return !this.isPastDate(date);\n  }\n\n  /**\n   * \n   * @param form \n   */\n  applyDisableDatesToDateEditors(form: any): void {\n    const holidays = this.calendarService.getHolidays();\n    const startDateEditor = form.getEditor('startDate');\n    startDateEditor.option('disabledDates', holidays);\n\n    const endDateEditor = form.getEditor('endDate');\n    endDateEditor.option('disabledDates', holidays);\n  }\n\n  /**\n   * \n   * @param currentDate \n   * @returns \n   */\n  getDateText(currentDate): string {\n    const startDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate());\n    const endDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate() + 1);\n\n    const filteredData = this.calendarData.filter(x => this.checkDateRange(startDate, endDate, x.StartDate)).map(a => a);\n\n    if (filteredData.length > 0) {\n      return '<span>' + this.xaCurrencyPipe.transform(this.calculateSum(filteredData, 'EstimateCost'), this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) + '<span>E</span></span>' +\n        '<span>' + this.xaCurrencyPipe.transform(this.calculateSum(filteredData, 'LabourCost'), this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) + '<span>L</span></span>' +\n        '<span class=\"has-background\">' + filteredData.length + '</span>';\n    } else {\n      return '<span>' + this.xaCurrencyPipe.transform(0, this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) + '<span>E</span></span>' +\n        '<span>' + this.xaCurrencyPipe.transform(0, this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) + '<span>L</span></span>' +\n        '<span class=\"has-background\">0</span>';\n    }\n  }\n\n  /**\n   * \n   * @param start \n   * @param end \n   * @param current \n   * @returns \n   */\n  checkDateRange(start: Date, end: Date, current: Date): boolean {\n    if (start <= current && current <= end) {\n      return true;\n    }\n    return false;\n  }\n\n  showProviderChild = false;\n\n  /**\n   * \n   * @param output \n   */\n  onFormUpdate(output: IControlValue): void {\n    if (output.name === 'TypeName' || output.name === 'Booking' || output.name === 'WorkProviderDto' || output.name === 'RepairType') {\n      // eslint-disable-next-line prefer-const\n      let prevValue = this.filterForm.get(output.name).value || [];\n      if (output.value) {\n        if (prevValue.indexOf(output.keyFieldValue) === -1) {\n          prevValue.push(output.keyFieldValue);\n        }\n      } else {\n        const index = prevValue.indexOf(output.keyFieldValue);\n        prevValue.splice(index, 1);\n      }\n      this.filterForm.get(output.name).setValue(prevValue);\n\n      if (output.name === 'WorkProviderDto') {\n        this.showProviderChild = (prevValue.length > 1 || (prevValue.length == 1 && !prevValue.includes('Retail')));\n      }\n\n      if (prevValue.length > 0 && output.name === 'WorkProviderDto') {\n        this.filterModal[4] = { ...this.filterModal[4], value: '', selectedOption: '' };\n        this.filterForm.get('CustomerName').setValue('');\n\n        this.filterModal[7] = { ...this.filterModal[7], value: '', options: [], selectedOption: '' };\n        this.filterForm.get('WorkProviderName').setValue('');\n\n        this.commonService.showLoading();\n        let query = `?$filter= (OrgId eq ${this.filterForm.get('OrgName').value})`;\n        query += `and (${prevValue.map((x) => { return `CompanyOrgType eq '${x}'` }).join(' or ')})`;\n        const orgQuery = `?orgId=${this.filterForm.get('OrgName').value}`;\n        prevValue.forEach((value) => {\n          this.caseService.getCompanyData(value, orgQuery).subscribe({\n            next: (result) => {\n              const concatArray = this.filterModal[7].options.concat(result.data.map((x) => {\n                return { label: x.companyName || x.partnershipName, value: x.companyName || x.partnershipName }\n              }));\n\n              this.filterModal[7] = {\n                ...this.filterModal[7],\n                options: concatArray\n              }\n            }\n          });\n        });\n\n        this.calendarService.getCustomer(query).subscribe({\n          next: (result) => {\n            this.commonService.hideLoading();\n            if (result) {\n              this.filterModal[4] =\n              {\n                ...this.filterModal[4],\n                options: result.value.filter((value, index, self) => {\n                  return self.findIndex(o => o.ContactId === value.ContactId) === index;\n                }).map((x) => {\n                  return {\n                    label: x.FirstName + ' ' + x.LastName,\n                    value: x.Email,\n                    html: `<div class='workflow-customer-item'><span class='name'>${x.FirstName + ' ' + x.LastName}</span><span class='email'>${x.Email}</span></div>`\n                  }\n                })\n              };\n            } else {\n              this.filterModal[4] =\n              {\n                ...this.filterModal[4],\n                options: []\n              };\n            }\n          },\n          error: () => {\n            this.filterModal[4] =\n            {\n              ...this.filterModal[4],\n              options: []\n            };\n\n            this.commonService.hideLoading();\n          }\n        });\n      } else {\n        this.filterModal[4] =\n        {\n          ...this.filterModal[4],\n          options: []\n        };\n      }\n\n    } else if (output.name === 'Assignees') {\n      this.filterModal[5] = { ...this.filterModal[5], selectedOption: output.value };\n      this.filterForm.get(output.name).setValue(output.value.map((x) => { return x.value }));\n    } else if (output.name === 'CustomerName') {\n      this.filterModal[4] = { ...this.filterModal[4], selectedOption: output.value };\n      this.filterForm.get(output.name).setValue(output.value.map((x) => { return x.value }));\n    } else if (output.name === 'WorkProviderName') {\n      this.filterModal[7] = { ...this.filterModal[7], selectedOption: output.value };\n      this.filterForm.get(output.name).setValue(output.value.map((x) => { return x.value }));\n    } else if (output.name === 'OrgName') {\n      this.filterModal[1] = { ...this.filterModal[1], selectedOption: output.value };\n      this.filterForm.get(output.name).setValue(output.value.value);\n\n      this.filterModal[0] = {\n        ...this.filterModal[0],\n        options: []\n      };\n      this.filterModal[3] = {\n        ...this.filterModal[3],\n        options: []\n      };\n      this.filterModal[4] =\n      {\n        ...this.filterModal[4],\n        options: []\n      };\n      this.filterModal[5] =\n      {\n        ...this.filterModal[5],\n        options: []\n      };\n      this.filterModal[6] =\n      {\n        ...this.filterModal[6],\n        options: []\n      };\n      this.filterModal[7] =\n      {\n        ...this.filterModal[7],\n        options: []\n      };\n      this.filterForm.get('WorkProviderDto').setValue('');\n      this.filterForm.get('WorkProviderName').setValue('');\n      this.filterForm.get('CustomerName').setValue('');\n      if (this.filterForm.get(output.name).value) {\n        this.getWorkProviders(this.filterForm.get(output.name).value);\n        this.applyButton = { ...this.applyButton, type: 'primary' };\n      } else {\n        this.applyButton = { ...this.applyButton, type: 'disabled' };\n      }\n\n      this.showProviderChild = false;\n    } else {\n      this.filterForm.get(output.name).setValue(output.value);\n    }\n\n  }\n\n  /**\n   * \n   * @param value \n   * @returns \n   */\n  formatLabel(value: number): string {\n    if (value >= 1000) {\n      return Math.round(value / 1000) + 'k';\n    }\n\n    return `${value} `;\n  }\n\n  public disabledDate: any = {};\n  public weekendDate: any = {};\n\n  /**\n   * \n   */\n  // setDisabledCell(): void {\n  //   const startDate = this.scheduler.instance.getStartViewDate();\n  //   const endDate = this.scheduler.instance.getEndViewDate();\n\n\n\n  //   for (const date = startDate; date <= endDate; date.setDate(date.getDate() + 1)) {\n  //     // if (this.isPastDate(startDate)) {\n  //     //   this.disabledDate[startDate.toDateString()] = true;\n  //     //   continue;\n  //     // }\n\n  //     if (this.isDisableDate(date)) {\n  //       this.disabledDate[date.toDateString()] = true;\n  //     } else {\n  //       if (this.isWeekend(date)) {\n  //         this.weekendDate[date.toDateString()] = true;\n  //       }\n  //     }\n\n  //   }\n  // }\n\n  /**\n   * \n   */\n  applyFilter(): void {\n    this.refreshCalendarData();\n    this.filter.close();\n  }\n\n  /**\n   * \n   */\n  resetFilter(): void {\n    this.filterForm.reset();\n\n    for (let index = 0; index < this.filterModal.length; index++) {\n      if (!this.filterModal[index].disabled) {\n        this.filterModal[index] = {\n          ...this.filterModal[index],\n          value: '',\n          selectedOption: '',\n          options: this.filterModal[index].options?.map((x) => { x.checked = false; return x; })\n        }\n      }\n    }\n\n    this.showProviderChild = false;\n\n    if (this.userDetail?.organizationDetail?.id) {\n      this.filterForm.get('OrgName').setValue(this.userDetail?.organizationDetail.id);\n\n      this.filterModal[1] =\n      {\n        ...this.filterModal[1],\n        selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n      };\n\n      if (this.filterForm.get('OrgName').value) {\n        this.getWorkProviders(this.filterForm.get('OrgName').value);\n      }\n    }\n    this.applyButton = { ...this.applyButton, type: 'primary' };\n    // this.refreshCalendarData();\n    // this.filter.close();\n  }\n\n  /*Draft customer*/\n\n  /**\n   * \n   * @param e \n   */\n  onItemDragStart(e): void {\n    e.itemData = e.fromData;\n  }\n\n  /**\n   * \n   * @param e \n   */\n  onItemDragEnd(e): void {\n    if (e.toData) {\n      e.cancel = true;\n    }\n  }\n\n  /**\n   * \n   * @param e \n   */\n  onAppointmentAdd(e): void {\n    if (this.isReadOnlyPermission) {\n      this.commonService.showInfoToast(5000, 'msg_gt_permission');\n    } else {\n      this.addAppointmentFromDraft(e);\n    }\n  }\n\n  /**\n   * \n   * @param e \n   */\n  addAppointmentFromDraft(e): void {\n    if (this.isPastDate(e.itemData.StartDate)) {\n      e.cancel = true;\n      this.commonService.showInfoToast(5000, 'cannot_past_date');\n    } else {\n      const isValidAppointment = this.isValidAppointment(e.component, e.itemData);\n\n      if (!isValidAppointment) {\n        e.cancel = true;\n        this.notifyDisableDate();\n      } else {\n        if (e.itemData.draftCustomerType === 'Quote') {\n          if (e.itemData.status == 'Repair Estimation') {\n\n            const startDate = this.datePipe.transform(e.itemData.StartDate, 'yyyy-MM-ddTHH:mm:ss');\n            const endDate = this.datePipe.transform(e.itemData.EndDate, 'yyyy-MM-ddTHH:mm:ss');\n\n            this.router.navigate([ 'repair/booking/0' ], {\n              queryParams:\n                { 'caseId': e.itemData.caseGuid, 'startDate': startDate, 'endDate': endDate }\n            });\n          } else {\n            this.router.navigate([ `/quote/case/${e.itemData.caseGuid}` ]);\n          }\n        } else if (e.itemData.draftCustomerType === 'Repair') {\n          this.patchBooking(e.itemData.StartDate, e.itemData.EndDate, e.itemData.bookingGuid).subscribe({\n            next: () => {\n              this.commonService.hideLoading();\n              this.draftDataLoaded = false;\n              this.refreshCalendarData();\n              this.openDraftCustomer();\n            }\n          });\n        } else {\n          this.commonService.showInfoToast(1000, 'draft_type_not_defined');\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   * @param type \n   * @param e \n   * @param customer \n   */\n  handleDraftAction(type: any, e: any, customer: any): void {\n    if (type === 'preview') {\n      if (customer.draftCustomerType == 'Repair') {\n        this.router.navigate([ `/repair/booking/${customer.repairGuid}` ]);\n      } else if (customer.draftCustomerType == 'Quote') {\n        this.router.navigate([ `/quote/case/${customer.caseGuid}` ]);\n      }\n    } else if (type === 'delete') {\n      this.commonService.openDeleteDialog('customer')\n        .afterClosed().subscribe((data) => {\n          if (data) {\n            this.commonService.showLoading();\n            this.calendarService.deleteDraftCustomer(customer.id).subscribe({\n              next: () => {\n                this.commonService.hideLoading();\n                this.draftDataLoaded = false;\n                this.openDraftCustomer();\n              }\n            });\n          }\n        });\n    }\n  }\n\n  /**\n   * \n   */\n  draftClose(): void {\n    this.draftCustomer.close();\n    this.calendarWidth = '100%';\n    this.calendarHeight = this.currentView === 'month' ? '100%' : this.defaultHeight;\n  }\n\n  /**\n   * get work providers\n   * @param orgId \n   */\n  getWorkProviders(orgId: any): void {\n    this.commonService.showLoading();\n    // this.caseService.getProvidersByOrgId(`?orgIds=${orgId}`).subscribe({\n    //   next: (result) => {\n    //     this.commonService.hideLoading();\n    //     this.filterModal[3].options = result.data.map((x) => { return { label: x, value: x } });\n    //   },\n    //   error: (err) => {\n    //     this.commonService.hideLoading();\n    //   }\n    // });\n\n\n    forkJoin([\n      this.bookingService.getBookingRepairTypes(`?orgIds=${orgId}`),\n      this.caseService.getProvidersByOrgId(`?orgIds=${orgId}`),\n      this.caseService.getCaseUsers(`?orgId=${orgId}`)\n    ]\n    ).pipe(\n      map(([ bookingRepairType, workProvider, employeeList ]) => {\n        return { bookingRepairType, workProvider, employeeList };\n      })\n    ).subscribe((result) => {\n      if(result?.bookingRepairType?.data) this.filterModal[0].options = result?.bookingRepairType?.data.BookingTypes.map((x) => { return { label: x.name, value: x.name } });\n\n      if(result?.workProvider?.data) this.filterModal[3].options = result?.workProvider?.data.map((x) => { return { label: x, value: x } });\n\n      if(result?.employeeList?.data) {\n        this.filterModal[5] =\n        {\n          ...this.filterModal[5],\n          options: result?.employeeList?.data?.map((x) => { return { label: x.name, value: x.id } })\n        };\n      }\n      \n\n      if (result.bookingRepairType.data.RepairType && result.bookingRepairType.data.RepairType.length > 0) {\n        this.filterModal[6].options = result.bookingRepairType.data.RepairType[0].RepairTypes.map((x) => {\n          return { label: x.name, value: x.id, icon: this.getRepairTpeIcon(x.name) }\n        });\n      }\n\n      this.commonService.hideLoading();\n    });\n  }\n}","<div class=\"dialog-with-header large-width\">\n    <div class=\"header\" [ngStyle]=\"{'background-color': data.Color}\">\n        <div class=\"title\">\n            {{ 'booking_details' | translate}} - {{data.TypeName}}\n        </div>\n        <div class=\"action\">\n            <button>\n                <mat-icon [svgIcon]=\"'cross'\" color=\"white\" [mat-dialog-close]=\"\"></mat-icon>\n            </button>\n        </div>\n    </div>\n\n    <mat-dialog-content class=\"mat-typography\">\n        <div class=\"booking-preview-wrapper\">\n            <div class=\"booking-preview-content\">\n                <div class=\"section-header\">\n                    <div class=\"section-title\">\n                        <mat-icon [svgIcon]=\"'person-circle'\" color=\"black-medium\"></mat-icon>\n                        <span>{{ 'customer_details' | translate}}</span>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'first_name' | translate}}: <span class=\"info-content short-text\">{{data.Customer?.FirstName ||\n                                '-'}}</span></label>\n                    </div>\n                    <div class=\"detail-col\">\n                        <label>{{ 'last_name' | translate}}: <span class=\"info-content short-text\">{{data.Customer?.LastName ||\n                                '-'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'work_provider' | translate}}: <span\n                                class=\"info-content\">{{data.WorkProviderDto?.CompanyName ||\n                                data.WorkProviderDto?.CompanyOrgType || '-'}}</span></label>\n                    </div>\n                </div>\n\n                <div class=\"section-header\">\n                    <div class=\"section-title\">\n                        <mat-icon [svgIcon]=\"'car'\" color=\"black-medium\"></mat-icon>\n                        <span>{{ 'vehicle_detail' | translate}}</span>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'car_make' | translate}}: <span class=\"info-content\">{{data.Vehicle?.Make ||\n                                '-'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'car_model' | translate}}: <span class=\"info-content\">{{data.Vehicle?.Model ||\n                                '-'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'license_plate' | translate}}: <span class=\"info-content\">{{data.Vehicle?.LicensePlate\n                                || '-'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'import_interval' | translate}}:\n                            <span class=\"info-content\">\n                                {{ data.Vehicle?.VehicleId ? data.Vehicle?.ModelInterval || '-' : '-'}}\n                            </span>\n                        </label>\n                    </div>\n                </div>\n\n                <div class=\"section-header\">\n                    <div class=\"section-title\">\n                        <mat-icon [svgIcon]=\"'magazine'\" color=\"black-medium\"></mat-icon>\n                        <span>{{ 'booking_details' | translate}}</span>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'assigned_to' | translate}}:\n                            <ng-container *ngIf=\"data.Assignees?.length > 0; else emptyAssignee\">\n                                <span class=\"info-content\" inner>{{ joinAssignees(data.Assignees) }}</span>\n                            </ng-container>\n                            <ng-template #emptyAssignee>\n                                <span class=\"info-content\">-</span>\n                            </ng-template>\n\n\n                        </label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'status' | translate}}: <span class=\"info-content\">\n                                {{data.DisplayStatus || '-'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\" *ngIf=\"data.TypeName === 'Repair'\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'repair_type' | translate}}:\n                            <ng-container *ngFor=\"let repairType of data.RepairServiceTypes\">\n                                <mat-icon [svgIcon]=\"iconMapper[repairType.RepairServiceTypeName]\"\n                                    [matTooltip]=\"repairType.RepairServiceTypeName\"></mat-icon>\n                            </ng-container>\n                        </label>\n                    </div>\n                </div>\n                <div class=\"detail-row\" *ngIf=\"data.TypeName === 'Repair'\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'stage' | translate}}: <span class=\"info-content\">{{data.Stage || '-'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'booking_in' | translate}}: <span class=\"info-content\">{{data.StartDate | date:'EE d\n                                MMM y h:mm:ss a'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <label>{{ 'booking_out' | translate}}: <span class=\"info-content\">{{data.EndDate | date:'EE d\n                                MMM y h:mm:ss a'}}</span></label>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\" *ngIf=\"data.TypeName === 'Repair'\">\n                        <label>{{ 'parts' | translate }}:\n                            <div class=\"icon-container\">\n                                <div class=\"icon-wrapper\" [matTooltip]=\"data.RepairPartsGeneralStatus || 'Not Ordered'\"\n                                    matTooltipPosition=\"above\">\n                                    <mat-icon\n                                        [svgIcon]=\"partsIconMapper[data.RepairPartsGeneralStatus || 'Not Ordered']\"></mat-icon>\n                                </div>\n                            </div>\n                        </label>\n                    </div>\n                </div>\n            </div>\n            <div class=\"booking-preview-action\">\n                <div class=\"section-header transparent\">\n                    <div class=\"section-title\">\n                        <span>{{ 'actions' | translate}}</span>\n                    </div>\n                </div>\n                <div class=\"detail-row\">\n                    <div class=\"detail-col\">\n                        <a class=\"button button-outline\"\n                            [routerLink]=\"bookingStatusUrl\"\n                            [queryParams]=\"{ mode: 'edit' }\" *chqPermission=\"'viewBooking'\">\n                            <mat-icon [svgIcon]=\"'edit'\" aria-hidden=\" false\" aria-label='edit icon'></mat-icon>\n                            <label *ngIf=\"!data.isReadOnlyPermission\" class=\"action-btn\">{{ 'edit_booking' |\n                                translate}}</label>\n                            <label *ngIf=\"data.isReadOnlyPermission\" class=\"action-btn\">{{ 'view_booking' |\n                                translate}}</label>\n                        </a>\n                    </div>\n                </div>\n                <div class=\"detail-row\" *ngIf=\"!data.isReadOnlyPermission && showDelete\">\n                    <div class=\"detail-col\">\n                        <button class=\"button-outline-danger\" (click)=\"deleteBooking(data.BookingGuid)\"\n                            *chqPermission=\"'newBooking'\">\n                            <mat-icon [svgIcon]=\"'delete'\" aria-hidden=\" false\" aria-label='edit icon'></mat-icon>\n                            <label class=\"action-btn\">{{ 'cancel_booking' | translate}}</label>\n                        </button>\n                    </div>\n                </div>\n\n                <div class=\"detail-row\"\n                    *ngIf=\"data.TypeName === 'Repair' && isArrivedVisible && !data.isReadOnlyPermission\">\n                    <div class=\"detail-col\">\n                        <div class=\"toggle\">\n                            <label class=\"label-toggle\">{{ 'arrived' | translate}}</label>\n                            <div class=\"toggle-button\">\n                                <chq-toggle [checked]=\"isArrived\" [name]=\"'arrived'\"\n                                    (ToggleChange)=\"onToggleChange($event)\"></chq-toggle>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"detail-row\"\n                    *ngIf=\"data.TypeName === 'Repair' && data.StatusName === 'Draft' && isNoShowVisible && !data.isReadOnlyPermission\">\n                    <div class=\"detail-col\">\n                        <div class=\"toggle\">\n                            <label class=\"label-toggle\">{{ 'no_show' | translate}}</label>\n                            <div class=\"toggle-button\">\n                                <chq-toggle [checked]=\"isNoShow\" [name]=\"'noshow'\"\n                                    (ToggleChange)=\"onToggleChange($event)\"></chq-toggle>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </mat-dialog-content>\n</div>","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable require-jsdoc */\nimport { Component, Inject, OnChanges, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { NavigationStart, Router, RouterEvent } from '@angular/router';\nimport { filter, take, tap } from 'rxjs';\nimport { RepairStatusMapper } from 'src/app/config/route-mapper/repair-status-mapper';\nimport { CalendarService } from 'src/app/services/calendar/calendar.service';\nimport { CommonService } from 'src/app/services/common/common.service';\n\n@Component({\n  selector: 'booking-preview',\n  templateUrl: './booking-preview.component.html',\n  styleUrls: [ './booking-preview.component.scss' ],\n  providers: [ CalendarService ]\n})\nexport class BookingPreviewComponent implements OnInit, OnChanges {\n  public iconMapper = {\n    Body: 'car',\n    Maintenance: 'house',\n    Paint: 'paintbrush',\n    Tyres: 'tire',\n    Electric: 'bolt-car',\n    Tires: 'tire',\n    Electrical: 'bolt-car',\n    Mechanical: 'mechanical',\n    Diagnosis: 'diagnosis',\n    Others: 'gears'\n  };\n\n  public isArrived = false;\n  public isNoShow = false;\n\n  public isArrivedVisible = false;\n  public isNoShowVisible = false;\n  public isRepairCreatedFromCase = false;\n  public status = '';\n\n  private changesMade: boolean = false;\n\n  constructor(\n    public dialog: MatDialog,\n    public dialogRef: MatDialogRef<BookingPreviewComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private router: Router,\n    private calendarService: CalendarService,\n    private commonService: CommonService\n  ) {\n\n    // Close dialog ref on route changes\n    router.events.pipe(\n      filter((event: RouterEvent) => event instanceof NavigationStart),\n      tap(() => this.dialogRef.close()),\n      take(1),\n    ).subscribe();\n  }\n\n\n  /**\n   * booking url\n   */\n  get bookingStatusUrl(): string {\n    const { StatusName, ObjectGuid } = this.data;\n    let routeToRedirect = RepairStatusMapper[StatusName?.replace(/\\s/g, '')?.toLowerCase()] || RepairStatusMapper.others;\n    routeToRedirect = routeToRedirect.replace('{{repairGUID}}', ObjectGuid)\n    return routeToRedirect;\n  }\n\n  /**\n   * show delete\n   */\n  get showDelete(): boolean {\n    if (this.status?.toLowerCase() === 'draft') {\n      return true;\n    } else if (this.isRepairCreatedFromCase == true && this.status?.toLowerCase() == 'repairestimation') {\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * detects changes in input attributes\n   * @param changes \n   */\n  ngOnInit(): void {\n    this.isArrived = this.data.IsArrived;\n    this.isNoShow = this.data.IsNoShow;\n    this.status = this.data.StatusName;\n    this.isRepairCreatedFromCase = this.data.IsRepairCreatedFromCase;\n\n    this.calculateTimeDifference();\n\n    this.dialogRef.beforeClosed().subscribe(() => this.dialogRef.close({ 'success': this.changesMade, 'type': 'refresh' }));\n  }\n\n  /**\n * detects changes in input attributes\n * @param changes \n */\n  ngOnChanges(): void {\n    this.isArrived = this.data.IsArrived;\n    this.isNoShow = this.data.IsNoShow;\n    this.status = this.data.StatusName;\n    this.isRepairCreatedFromCase = this.data.IsRepairCreatedFromCase;\n\n    this.calculateTimeDifference();\n  }\n\n  calculateTimeDifference(): void {\n    const currentDate = new Date();\n    const bookingInDate = this.data.StartDate;\n    const canActivateDate = new Date(bookingInDate.getTime() - 30 * 60000);\n    if (currentDate > canActivateDate) {\n      this.isArrivedVisible = true;\n    }\n\n    if (currentDate > bookingInDate) {\n      this.isNoShowVisible = true;\n      this.isArrivedVisible = false;\n    }\n  }\n\n  deleteBooking(id): void {\n    this.commonService.openDeleteDialog()\n      .afterClosed().subscribe((data) => {\n        if (data) {\n          this.commonService.showLoading();\n          this.calendarService.deleteBooking(id).subscribe({\n            next: () => {\n              this.dialogRef.close({ 'success': true, 'type': 'delete', 'id': id });\n              this.commonService.hideLoading();\n            }\n          });\n        }\n      });\n  }\n\n  onToggleChange(e): void {\n    if (e.checked && e.name == 'noshow') {\n      this.isNoShow = true;\n      this.isArrived = false;\n    } else if (e.checked && e.name == 'arrived') {\n      this.isNoShow = false;\n      this.isArrived = true;\n    } else {\n      this.isNoShow = false;\n      this.isArrived = false;\n    }\n\n    const patchValue: any =\n      [\n        {\n          op: 'replace',\n          path: 'IsArrived',\n          value: this.isArrived ? 'True' : 'False'\n        },\n        {\n          op: 'replace',\n          path: 'IsNoShow',\n          value: this.isNoShow ? 'True' : 'False'\n        },\n      ];\n\n    this.commonService.showLoading();\n\n    this.calendarService.updateBooking(this.data.BookingGuid, patchValue).subscribe({\n      next: () => {\n        this.commonService.hideLoading();\n        this.changesMade = true;\n      },\n      error: () => {\n        e.cancel = true;\n      }\n    });\n  }\n\n  partsIconMapper = {\n    'Ordered': 'parts-ordered',\n    'Arrived Partially': 'parts-arrived-partial',\n    'Arrived': 'parts-arrived',\n    'Ordered Partially': 'parts-ordered-partial',\n    'Not Ordered': 'parts-not-ordered'\n  }\n\n  joinAssignees(Assignees): string {\n    return Assignees?.map(x => x.AssigneeName).join(', ');\n  }\n\n}","<div class=\"page-container lounge-list-container mh-0 mt-0 fx-col\">\n    <div class=\"fx-0 lounge-list-header\">\n        <div class=\"header-content fx-row justify-space-between align-center\">\n            <!-- <div class=\"last-updated\">\n                {{'last_refreshed' | translate}}: {{LastRefreshed}}\n            </div> -->\n            <chq-button style='margin-left: auto;' [buttonModel]=\"FullscreenButton\" (click)=\"openFullscreen()\"></chq-button>\n        </div>\n    </div>\n    <div class=\"fullscreen\" *ngIf=\"isFullScreen\">\n        <div class=\"lounge-header fx-0 fx-col justify-center\">\n            <div class=\"lounge-header-content align-center fx-row\">\n                <a class=\"xa-logo-wrapper\">\n                    <div class=\"menu-image\">\n                        <img [src]=\"orgLogoUrl\" (error)=\"avatar='';\" (load)=\"orgImageLoading=false\" *ngIf=\"orgLogoUrl else name\" />\n                        <ng-template #name>\n                            <label *ngIf=\"orgName\" class=\"org-name\">{{orgName}}</label>\n                        </ng-template>\n                        <chq-custom-loader [showLoading]=\"orgImageLoading\"></chq-custom-loader>\n                    </div>\n                </a>\n                <div class=\"lounge-title-wrapper\">{{'outbound_dashboard' | translate}}</div>\n                <div class='date-container'>\n                    <div class=\"lounge-date-wrapper\">{{currentDate}}</div>\n                    <div class=\"lounge-last-refresh\">{{'last_refreshed' | translate}}: {{LastRefreshed}}</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"lounge-content\">\n        <mat-card class=\"card block\" *ngFor=\"let item of outboundData; let i = index;\">\n\n            <div class=\"card-container\">\n                <div class=\"card-header\">\n                    <div class=\"card-header-container align-center fx-row\">\n                        <table class=\"card-head-table\" [ngClass]=\"getHeaderTableDarkClass(item)\">\n                            <tr class=\"head-row\" [ngClass]=\"getHeaderTableDarkClass(item)\">\n                                <div class='head-row-col-1'>\n                                  <th *ngIf=\"item.CustomerName\" class='header-customerName' [ngClass]=\"getHeaderTableDarkClass(item)\">\n                                      <div class=\"header-content-data\">{{item.CustomerName}}</div>\n                                    </th>\n                                  <!-- <th *ngIf=\"item.RepairNumber\">\n                                      <div class=\"header-content-data\">{{item.RepairNumber}}</div>\n                                    </th> -->\n                                    <!-- <span *ngIf=\"item.RepairNumber\" class='border-right-line'></span> -->\n                                    <th><span class='sub-text'>Make & Model:</span>{{ item.VehicleMake + ' ' + item.VehicleName}}</th>\n                                    <th><span class='sub-text'>Plate:</span>{{ item.VehicleLicensePlate }}</th>\n                                    <th class='header-amount tv-hide'><span class='sub-text'>Amount:</span>{{item.TotalAmount | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}\n                                    </th>\n\n                                    <th *ngIf=\"item.CompanyName\"><span class='sub-text'>Customer:</span>{{item.CompanyName}}</th>\n                                    <!-- <th *ngIf=\"item.Assignees.length > 0\"><div class=\"flex\" style=\"flex-wrap: wrap;\"><div *ngFor=\"let assignee of item.Assignees;let last = last\">{{assignee.AssigneeName}}<ng-container *ngIf=\"!last\">&nbsp;-&nbsp;</ng-container></div></div></th> -->\n                                    <!-- <span *ngIf=\"item.Assignees.length > 0\" class='border-right-line'></span> -->\n                                </div>\n                                <!-- <th class='head-item' *ngIf=\"item.RepairServiceTypes.length > 0\">\n                                  <div class=\"fx-row\" style=\"display: flex !important; flex-wrap: wrap;\">\n                                      <button class=\"outbound-icon-btn\" *ngFor=\"let repair of item.RepairServiceTypes\">\n                                          <mat-icon [svgIcon]=\"jobIconDictionary[repair.Name]?jobIconDictionary[repair.Name]:'gears'\" [attr.color]=\"'black'\"></mat-icon>\n                                      </button>\n                                  </div>\n                              </th> -->\n                                <th style='margin-left: auto' class=\"head-item\">\n                                    <div class=\"repair-state\">\n                                        <button class=\"repair-state-btn\"><span [ngClass]=\"getHeaderTableDarkClass(item, 'text')\">{{(item.IsDeliveryTypeEnable && item.DeliveryDTO ? 'picked_up' :item.OutboundStatus.split(' ').join('')) | lowercase | translate}}</span></button>\n                                    </div>\n                                </th>\n                            </tr>\n                        </table>\n                    </div>\n                </div>\n\n                <div class=\"card-content\" [ngClass]=\"getHeaderTableClass(item)\">\n                    <div class=\"job-list-container fx-row align-center\">\n                        <div class=\"jobs-list\">\n                            <table class=\"card-table\">\n                                <tr class=\"card-row\">\n                                    <th class=\"card-job\" [ngClass]=\"getHeaderTableClass(item)\">\n                                      <div class=\"outbound-header-card\" style='justify-content: center;'>\n                                        <img [src]=\"item.ImageUrlFirst===null?'assets/img/front-left.png':item.ImageUrlFirst\" class=\"rapair-car-img\" (load)=\"item.ImageUrlFirstLoad=false;\" alt=\"\">\n                                        <chq-custom-loader [showLoading]=\"item.ImageUrlFirstLoad\"></chq-custom-loader>\n\n                                      </div>\n                                    </th>\n                                    <th  *ngFor=\"let job of item.Jobs\" [ngClass]=\"getHeaderTableClass(item)\">\n                                      <div class=\"outbound-header-card\" [matTooltip]=\"job.JobName\">\n                                        <!-- <span class='color-block' [style.background-color]=\"job.Color\"></span> -->\n                                        <div class='outbound-content'>\n                                          <span [style.background-color]=\"job.Color\">\n                                            <mat-icon style='width: 15px;height:15px' svgIcon=\"checked\"></mat-icon>\n                                            <p>{{job.JobName}}</p>\n                                          </span>\n                                          <p>{{job.CompletePercentage}}%</p>\n                                      </div>\n                                      </div>\n                                    </th>\n                                    <!-- <th class=\"card-job\">\n                                        <div class=\"img-container\">\n                                            <img [src]=\"item.ImageUrlLast?.includes('inspectiontemplates')?item.ImageUrlFirst ?item.ImageUrlFirst:item.ImageUrlLast:item.ImageUrlLast\" (load)=\"item.ImageUrlLastLoad=false;\" alt=\"\">\n                                            <chq-custom-loader [showLoading]=\"item.ImageUrlLastLoad\"></chq-custom-loader>\n                                        </div>\n                                    </th> -->\n                                </tr>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </mat-card>\n\n        <div class=\"no-data-wrapper\" *ngIf=\"outboundData.length === 0 && !CallingAPI\">\n            <div class=\"no-data-content\">\n                <img src=\"assets/img/no-data.png\" alt=\"\">\n                <span>{{'no_result_found' | translate}}</span>\n                <span>{{'could_not_find_any_data' | translate}}.</span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"footer-full-wrapper\">\n    <div class=\"footer-image-wrapper\">\n        <div class=\"image-wrapper\">\n            <img src=\"assets/img/addenda-repair.png\" alt=\"\"/>\n        </div>\n    </div>\n</div>\n","import { DatePipe } from '@angular/common';\nimport { Component, HostListener, Inject, OnDestroy, OnInit } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport * as dayjs from 'dayjs';\nimport { Subscription } from 'rxjs';\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\nimport { OutboundService } from 'src/app/services/outbound/outbound.service';\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\n\n@Component({\n  selector: 'app-lounge-list',\n  templateUrl: './lounge-list.component.html',\n  styleUrls: [ './lounge-list.component.scss' ],\n  providers: [ OutboundService ],\n})\nexport class LoungeListComponent implements OnInit, OnDestroy {\n\n  public FullscreenButton: ChqWidgetsButtonModel = {\n    label: 'view_full_screen',\n    type: 'outline',\n    icon: 'fullscreen'\n  };\n\n  public jobIconDictionary = {\n    'Body': 'car',\n    'Paint': 'paint-nozzle',\n    'Mechanical': 'mechanical',\n    'Electrical': 'electric',\n    'Tires': 'tire',\n    'Preparation': 'car-roof',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Check In': 'checkbox-open',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Repair': 'door-panel',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Fitup': 'door-panel',\n    'Polish': 'car-paint',\n    'Detailing': 'car-cleaning',\n    'Maintenance': 'maintenance',\n    'Diagnosis': 'diagnosis',\n    'Others': 'gears',\n  };\n\n  public i18n: i18nInfo;\n  public currentDate: string = dayjs().format('MMMM DD, YYYY hh:mm a');\n  public LastRefreshed: string = dayjs().format('DD/MM/YYYY HH:mm:ss');\n  public loungeTimeout = null;\n  public currentDateTimeout = null;\n  subs: Subscription[] = [];\n  CallingAPI = false;\n  public outboundData = [];\n  public FocusedRepairIndex = 0;\n  orgImageLoading: boolean = true;\n  orgLogoUrl: string = '';\n  orgName: string = '';\n  avatar: string | ArrayBuffer;\n\n  elem: any;\n  isFullScreen: boolean;\n  timeInterval = null;\n\n\n\n  /**\n     * Creates an instance.\n     * @constructor\n     * @param {DatePipe} datePipe\n     * @param {CommonService} CommonService\n     * @param {OutboundService} OutboundService\n     */\n  constructor(private datePipe: DatePipe,\n      private commonService: CommonService,\n      private OutboundService: OutboundService,\n      @Inject(DOCUMENT) private document: any) {\n    this.i18n = this.commonService.geti18nInfo();\n\n    this.commonService.userProfileData.subscribe({\n      next: (res: any) => {\n        if (res) {\n          this.orgLogoUrl = res?.data.organizationDetail?.logoUrl;\n          this.orgName = res?.data.organizationDetail?.name;\n          if (!this.orgLogoUrl) {\n            this.orgImageLoading = false;\n          }\n        }\n      }\n    });\n  }\n\n\n  /**\n   * ngOnInit\n   */\n  ngOnInit(): void{\n    this.chkScreenMode();\n    this.elem = document.documentElement;\n    this.getOutboundData(true);\n    this.timeInterval = setInterval(()=> {\n      this.updateDate();\n    }, 1000);\n  }\n\n  /**\n     * getCardTableClass\n     */\n  getCardTableClass(repairs: any): string {\n    if (\n      repairs.OutboundStatus === null ||\n        repairs.OutboundStatus === 'Repair Not Started' ||\n        repairs.OutboundStatus === 'Repair In Progress'\n    ) {\n      return 'card-table-gray';\n    } else if (\n      (!repairs.IsDeliveryTypeEnable ||\n          (repairs.IsDeliveryTypeEnable && repairs.DeliveryDTO === null)) &&\n        repairs.OutboundStatus === 'Ready To PickUp'\n    ) {\n      return 'card-table-yellow';\n    } else if (\n      repairs.OutboundStatus === 'Picked Up' ||\n        repairs.DeliveryDTO !== null\n    ) {\n      return 'card-table-green';\n    } else {\n      return 'card-table-gray';\n    }\n  }\n\n  /**\n       * getHeaderTableDarkClass\n       */\n  getHeaderTableDarkClass(repairs: any, type = 'background'): string {\n    if(type === 'background') {\n      if (\n        repairs.OutboundStatus === null ||\n        repairs.OutboundStatus === 'Repair Not Started' ||\n        repairs.OutboundStatus === 'Repair In Progress'\n      ) {\n        return 'header-table-gray-dark';\n      } else if (\n        (!repairs.IsDeliveryTypeEnable ||\n          (repairs.IsDeliveryTypeEnable && repairs.DeliveryDTO === null)) &&\n        repairs.OutboundStatus === 'Ready To PickUp'\n      ) {\n        return 'header-table-yellow-dark';\n      } else if (\n        repairs.OutboundStatus === 'Picked Up' ||\n        repairs.DeliveryDTO !== null\n      ) {\n        return 'header-table-green-dark';\n      } else {\n        return 'card-table-gray-dark';\n      }\n    } else if (type === 'text') {\n      if (\n        repairs.OutboundStatus === null ||\n        repairs.OutboundStatus === 'Repair Not Started' ||\n        repairs.OutboundStatus === 'Repair In Progress'\n      ) {\n        return 'header-table-gray-dark-text';\n      } else if (\n        (!repairs.IsDeliveryTypeEnable ||\n          (repairs.IsDeliveryTypeEnable && repairs.DeliveryDTO === null)) &&\n        repairs.OutboundStatus === 'Ready To PickUp'\n      ) {\n        return 'header-table-yellow-dark-text';\n      } else if (\n        repairs.OutboundStatus === 'Picked Up' ||\n        repairs.DeliveryDTO !== null\n      ) {\n        return 'header-table-green-dark-text';\n      } else {\n        return 'header-table-gray-dark-text';\n      }\n    } else return ''\n  }\n\n  /**\n       * getHeaderTableClass\n       */\n  getHeaderTableClass(repairs: any): string {\n    if (\n      repairs.OutboundStatus === null ||\n        repairs.OutboundStatus === 'Repair Not Started' ||\n        repairs.OutboundStatus === 'Repair In Progress'\n    ) {\n      return 'header-table-gray';\n    } else if (\n      (!repairs.IsDeliveryTypeEnable ||\n          (repairs.IsDeliveryTypeEnable && repairs.DeliveryDTO === null)) &&\n        repairs.OutboundStatus === 'Ready To PickUp'\n    ) {\n      return 'header-table-yellow';\n    } else if (\n      repairs.OutboundStatus === 'Picked Up' ||\n        repairs.DeliveryDTO !== null\n    ) {\n      return 'header-table-green';\n    } else {\n      return 'card-table-gray';\n    }\n  }\n\n  /**\n   * update Date\n   */\n  updateDate(): void {\n    this.currentDate = dayjs().format('MMMM DD, YYYY hh:mm a');\n  }\n\n  /**\n   * getOutboundData\n   */\n  getOutboundData(flag):void {\n    this.CallingAPI = true;\n    if(flag) this.commonService.showLoading();\n    const StartDate = new Date(new Date().toDateString()).toISOString();\n    const EndDate = new Date(new Date(new Date().toDateString()).getTime()+1000*60*60*24-1000).toISOString();\n    const query = `$filter=RepairEndDate ge ${StartDate} and RepairEndDate lt ${EndDate} or PickUpDate ge ${StartDate} and PickUpDate lt ${EndDate}`;\n\n    this.subs.push(this.OutboundService.getDeparturesDetails(query).subscribe({\n      next: (data) => {\n        this.CallingAPI = false;\n        this.outboundData = [];\n        data.value.forEach((item)=>{\n          if(item?.Jobs?.length > 0) {\n            if(item.PickUpDate !== null) {\n              if(!(new Date(StartDate) < new Date(item.PickUpDate) && new Date(EndDate) > new Date(item.PickUpDate))) {\n                return;\n              }\n            }\n            item['ImageUrlFirstLoad']=true;\n            item['ImageUrlLastLoad']=true;\n            this.outboundData.push(item);\n          }\n        });\n\n        this.LastRefreshed = dayjs().format('DD/MM/YYYY HH:mm:ss');\n        this.commonService.hideLoading();\n        clearTimeout(this.currentDateTimeout);\n        this.currentDateTimeout = setTimeout(()=>{\n          this.updateCurrentDateTime();\n        }, 60*1000);\n\n        setTimeout(()=>{\n          const nodes = document.querySelectorAll('.card');\n          if(this.FocusedRepairIndex == 0){\n            document.querySelector('.lounge-content').scrollTop = 0;\n          } else {\n            nodes[this.FocusedRepairIndex].scrollIntoView({ behavior: 'smooth', block: 'start' });\n          }\n        }, 500);\n\n        clearTimeout(this.loungeTimeout);\n        this.loungeTimeout = setTimeout(()=>{ //call getOutboundData every 5 mins\n          this.getOutboundData(false);\n        }, 300000);\n      }, error: (error) => {\n        this.CallingAPI = false;\n        clearTimeout(this.loungeTimeout);\n      }\n    }))\n  }\n\n  /**\n   * updateCurrentDateTime\n   */\n  updateCurrentDateTime(): void {\n    this.autoScrollLastVisibleNode();\n\n    clearTimeout(this.currentDateTimeout);\n    this.currentDateTimeout = setTimeout(()=>{\n      this.updateCurrentDateTime();\n    }, 60*1000);\n  }\n\n  /**\n   * autoScrollLastVisibleNode\n   */\n  autoScrollLastVisibleNode(): void{\n    const container = document.querySelector('.lounge-content');\n    const nodes = document.querySelectorAll('.card');\n    if(container === null || container === undefined || nodes === null || nodes === undefined) {\n      return;\n    }\n    if(this.FocusedRepairIndex == nodes.length-1){\n      this.FocusedRepairIndex = 0;\n      container.scrollTop = 0;\n      return;\n    }\n\n    let visibleHeight = 0;\n    const totalHeight = container.clientHeight;\n\n    for(let i = this.FocusedRepairIndex; i < nodes.length; i++){\n      visibleHeight += nodes[i].clientHeight;\n      if(visibleHeight >= totalHeight){\n        this.FocusedRepairIndex = i;\n        nodes[i].scrollIntoView({ behavior: 'smooth', block: 'start' });\n        break;\n      }\n      if(i === nodes.length-1){\n        this.FocusedRepairIndex = 0;\n        container.scrollTop = 0;\n      }\n    }\n  }\n\n  /**\n   *\n   * @param event\n   */\n  @HostListener('document:fullscreenchange', [ '$event' ])\n  @HostListener('document:webkitfullscreenchange', [ '$event' ])\n  @HostListener('document:mozfullscreenchange', [ '$event' ])\n  @HostListener('document:MSFullscreenChange', [ '$event' ])\n  @HostListener('document:onwebkitfullscreenchange', [ '$event' ])\n  fullscreenmodes(event): void{\n    this.chkScreenMode();\n  }\n\n  /**\n   * check screen mode\n   */\n  chkScreenMode(): void{\n    if(document.fullscreenElement || document['webkitIsFullScreen']){\n      //fullscreen\n      this.isFullScreen = true;\n    }else{\n      //not in full screen\n      this.isFullScreen = false;\n    }\n  }\n\n  /**\n   * open in full screen\n   */\n  openFullscreen(): void {\n    if (this.elem.requestFullscreen) {\n      this.elem.requestFullscreen();\n    } else if (this.elem.mozRequestFullScreen) {\n      /* Firefox */\n      this.elem.mozRequestFullScreen();\n    } else if (this.elem.webkitRequestFullscreen) {\n      /* Chrome, Safari and Opera */\n      this.elem.webkitRequestFullscreen();\n    } else if (this.elem.msRequestFullscreen) {\n      /* IE/Edge */\n      this.elem.msRequestFullscreen();\n    }\n  }\n\n  /**\n   * OnDestroy\n   */\n  ngOnDestroy(): void {\n    this.subs.forEach(sub=>sub.unsubscribe());\n    clearTimeout(this.loungeTimeout);\n    clearInterval(this.timeInterval);\n  }\n}\n","<div class=\"dialog-with-header\">\n    <div class=\"header\" >\n        <div class=\"title\">\n            {{data.job.JobName}}\n        </div>\n        <div class=\"action\">\n            <button class=\"close-dailog-btn\">\n                <mat-icon [svgIcon]=\"'cross'\" color=\"white\" [mat-dialog-close]=\"\"></mat-icon>\n            </button>\n        </div>\n    </div>\n\n    <mat-dialog-content class=\"mat-content-dialog\">\n\n        <mat-card class=\"repair-card border-10\">\n            <div class=\"repair-table-header\">\n                <div *ngIf=\"allMandatoryTasks > 0\" class=\"mandatory-div\"><span\n                    class=\"mandatory-text text-danger\">{{'label_mandatory' |\n                    translate\n                    }}</span></div>\n                <table class=\"repair-dialog-table\">\n                    <tr class=\"task-hearder\">\n                        <th class=\"task-hearder-item task_Name_column\">{{'item_name' | translate}}</th>\n                        <th class=\"task-hearder-item repair_type_column\">{{'repair_type' | translate}}</th>\n                        <th class=\"task-hearder-item modified_column\">{{'modified_by' | translate}}</th>\n                        <th class=\"task-hearder-item note_column\">{{'notes' | translate}}</th>\n                        <th class=\"task-hearder-item status_column\">{{'done' | translate}}</th>\n                    </tr>\n                </table>\n            </div>            \n            <table class=\"repair-dialog-table\">\n                <tr *ngFor=\"let task of ListOfRepairs; let i = index;\" class=\"task-data-row\">\n                    <td class=\"task-data-item task_Name_column\"><span class=\"task-data\">{{task.name}}<span class=\"text-danger\" *ngIf=\"task.isMandatory\">*</span></span></td>\n                    <td class=\"task-data-item repair_type_column\">\n                        <span class=\"task-data\" *ngFor=\"let repair of task.repairJobMappings; let ind = index;\">\n                            {{repair.repairServiceTypeName}}<span *ngIf=\"ind !== task.repairJobMappings.length - 1\">, </span>\n                        </span>\n                    </td>\n                    <td class=\"task-data-item modified_column\"><div class=\"task-data\">\n                        <div class=\"modified_name\">{{task.modifiedBy}}</div>\n                        <div class=\"span-date\" *ngIf=\"task.completedDate\">{{task.completedDate | date: 'dd/MM/yyyy\n                            hh:mm:ss'}}</div>\n                        </div></td>\n                    <td class=\"task-data-item note_column\"><span class=\"task-data\">\n                        <mat-icon [svgIcon]=\"'comment'\" [color]=\"'black'\"></mat-icon>\n                    </span></td>\n                    <td class=\"task-data-item status_column\">\n\n                        <div class=\"col-2 relate-spinner\">\n                            <span *ngIf=\"task.completedBy !== null\" class=\"checked\"></span>\n                            <span *ngIf=\"task.completedBy === null\" class=\"circle\"></span>\n                            {{ 'task_done' | translate }}\n                        </div>\n                    </td>\n                </tr>\n            </table>\n        </mat-card>\n        <div *ngIf=\"ListOfRepairs.length===0 && !CallingAPI\">\n            <span class=\"not-found-task\">{{'no_task_found' | translate}}</span>\n        </div>\n        \n    </mat-dialog-content>\n</div>","import { Component, OnDestroy, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { NavigationStart, Router, RouterEvent } from '@angular/router';\nimport { Subscription, filter, take, tap } from 'rxjs';\nimport { CommonService } from 'src/app/services/common/common.service';\nimport { OutboundComponent } from '../outbound/outbound.component';\nimport { OutboundService } from 'src/app/services/outbound/outbound.service';\n\n@Component({\n  selector: 'app-check-in-task',\n  templateUrl: './check-in-task.component.html',\n  styleUrls: [ './check-in-task.component.scss' ],\n  providers: [ OutboundService ],\n})\nexport class CheckInTaskComponent implements OnInit, OnDestroy{\n\n  \n  /**\n  * constructor\n  */\n  constructor(\n    public dialog: MatDialog,\n    public dialogRef: MatDialogRef<OutboundComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    router: Router,\n    private OutboundService: OutboundService,\n    private commonService: CommonService\n  ) {\n\n    // Close dialog ref on route changes\n    router.events.pipe(\n      filter((event: RouterEvent) => event instanceof NavigationStart),\n      tap(() => this.dialogRef.close()),\n      take(1),\n    ).subscribe();\n  }\n  \n  public subs: Subscription[] = [];\n  public ListOfRepairs: any[] = [];\n  public CallingAPI = false;\n  public allMandatoryTasks: number = 0;\n\n  /**\n  * ngOnInit\n  */\n  ngOnInit(): void {\n    this.getTaskDetails();\n  }\n\n  /**\n  * getTaskDetails\n  */\n  getTaskDetails(): void{\n    const repairId: string = this.data.repair.RepairGuid;\n    const jobId: string = this.data.job.JobGuid;\n    this.CallingAPI = true;\n    this.commonService.showLoading();\n    this.subs.push(this.OutboundService.getTaskDetails(repairId, jobId).subscribe({\n      next: (data: object[]) => {\n        this.ListOfRepairs = data;\n        this.allMandatoryTasks = this.ListOfRepairs.filter((task) => {\n          return task.isMandatory === true;\n        }).length;\n        this.CallingAPI = false;\n        this.commonService.hideLoading();\n      }, error: (error) =>{\n        this.CallingAPI = false;\n      }\n    }))\n  }\n\n  /**\n     * ngOnDestroy\n     */\n  ngOnDestroy(): void{\n    this.subs.forEach(sub=>sub.unsubscribe());\n  }\n\n}\n","<div class=\"page-container outbound-container mh-0 mt-0 fx-col\">\n    <div class=\"fx-0 outbound-header\">\n        <div class=\"fx-row date-filter-wrapper\" style=\"padding-bottom: 26px;\">\n            <div class=\"fx-row change-week-btn\">\n                <div class=\"fx-row align-center week-days-tile\">\n                    <button type=\"button\" class=\"btn btn-left\" (click)=\"changeCurrentWeek('left')\">\n                        <mat-icon color=\"black\" svgIcon=\"arrow-left\"></mat-icon>\n                    </button>\n                    <span class=\"week-tile-content\">{{dates[0] | date: 'dd'}}-{{dates[6] | date: 'dd'}} {{dates[0] | date: 'MMM'}} {{dates[0] | date: 'YY'}} ({{currentWeekNumber}})</span>\n                    <button type=\"button\" class=\"btn btn-right\" (click)=\"changeCurrentWeek('right')\">\n                        <mat-icon color=\"black\" svgIcon=\"arrow-right\"></mat-icon>\n                    </button>\n                </div>\n                <button type=\"button\" class=\"btn current-week-btn\" (click)=\"TodayWeek()\">{{'today' | translate}}</button>\n            </div>\n            <div class=\"fx-row week-tiles\">\n                <button type=\"button\" class=\"day-tile\" *ngFor=\"let day of dates\" [ngClass]=\"day.getDay() === currentWeek.getDay()?'active':''\" (click)=\"changeCurrentDate(day)\"><span>{{day | date: 'dd EEEE'}}</span><span>{{day | date: 'MMM'}}</span></button>\n            </div>\n        </div>\n    </div>\n    <div class=\"outbound-container-wrapper\">\n        <div class=\"outbound-card\" *ngIf=\"departures.length > 0\">\n            <div class=\"card-header fx-row justify-space-between\">\n                <div class=\"fx-col left-content\">\n                    <label>\n                        {{currentWeek | date: 'EEEE, d MMMM y'}}\n                    </label>\n                    <div class=\"last-updated\">{{'last_refreshed' | translate}}: {{lastUpdated}}</div>\n                </div>\n                <div class=\"fx-row right-content\">\n                    <div class=\"fx-row align-center repair-count\">\n                        <mat-icon color=\"dark-gray\">directions_car</mat-icon>\n                        <label>{{departures.length}}</label>\n                    </div>\n                    <div class=\"fx-row align-center total-amount\">\n                        <mat-icon style=\"margin-right:8px\" svgIcon=\"double-database\"></mat-icon>\n                        <label>{{TotalAmount | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</label>\n                    </div>\n                </div>\n            </div>\n            <!-- <span class=\"card-header flex\">\n                <p><b>{{items.Day === null?'': items.Day| date: 'EEEE, d MMMM y'}}</b></p>\n                <span class=\"flex\">\n                    <span class=\"flex align-center\" style=\"margin: 0px 16px;\">\n                        <mat-icon color=\"dark-gray\" style=\"margin-right:8px\">directions_car</mat-icon>\n                        <label><b>{{items.NumberOfRepairs}}</b></label>\n                    </span>\n                    <span class=\"flex align-center\">\n                        <mat-icon style=\"margin-right:8px\" svgIcon=\"double-database\"></mat-icon>\n                        <label><b>{{items.TotalAmount | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</b></label>\n                    </span>\n                </span>\n            </span> -->\n            <mat-card class=\"card border-10\" *ngFor=\"let repairs of  departures; let j = index;\" [ngClass]=\"repairs.OutboundStatus===null || repairs.OutboundStatus==='Repair Not Started' || repairs.OutboundStatus==='Repair In Progress'?'card-table-gray':repairs.OutboundStatus==='Ready To PickUp'?'card-table-yellow':repairs.OutboundStatus==='Picked Up'?'card-table-green':'card-table-gray'\">\n                <table style=\"padding-bottom:8px\" [ngClass]=\"repairs.OutboundStatus===null || repairs.OutboundStatus==='Repair Not Started' || repairs.OutboundStatus==='Repair In Progress'?'header-table-gray':repairs.OutboundStatus==='Ready To PickUp'?'header-table-yellow':repairs.OutboundStatus==='Picked Up'?'header-table-green':'card-table-gray'\" class=\"header-table border-top-10\">\n                    <tr style=\"text-align: left;padding: 10px;display: flex;justify-content: space-between;\">\n                        <th><div class=\"header-type-text\">{{'booking_id' | translate}}</div><div class=\"header-content link\" (click)=\"bookingStatusUrl(repairs)\">{{repairs.RepairNumber}}</div></th>\n                        <th><div class=\"header-type-text\">{{'work_provider' | translate}}</div><div class=\"header-content\">{{repairs.WorkProviderName}}</div></th>\n                        <th><div class=\"header-type-text\">{{'driver_owner_name' | translate}}</div><div class=\"header-content\">{{repairs.CustomerName}}</div></th>\n                        <th><div class=\"header-type-text\">{{'vehicle' | translate}}</div><div class=\"header-content\">{{repairs.VehicleMake}} {{repairs.VehicleName}}</div></th>\n                        <th *ngIf=\"repairs.Assignees.length > 0\"><div class=\"header-type-text\">{{'assigned' | translate}}</div><div class=\"header-content\"><div class=\"flex\" *ngFor=\"let assignee of repairs.Assignees\">{{assignee.AssigneeName}}</div></div></th>\n                        <th><div class=\"header-type-text\">{{'cost' | translate}}</div>\n                            <div class=\"flex align-center header-content\">                                \n                                <div>{{repairs.TotalAmount | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</div>\n                            </div>                           \n                        </th>\n                        <th *ngIf=\"repairs.RepairServiceTypes.length > 0\"><div class=\"header-type-text\">{{'repair_types' | translate}}</div>\n                            <div class=\"flex align-center\" style=\"flex-wrap: wrap;\">\n                                <div class=\"header-repair-type\" *ngFor=\"let type of repairs.RepairServiceTypes\">\n                                    <button class=\"outbound-icon-btn\" matTooltip=\"{{(type.Name===null?'Others':type.Name) | lowercase | translate}}\" matTooltipPosition=\"above\">\n                                        <mat-icon [svgIcon]=\"jobIconDictionary[type.Name]?jobIconDictionary[type.Name]:'gears'\" [attr.color]=\"'black'\"></mat-icon>\n                                    </button>                                    \n                                </div>\n                            </div>                           \n                        </th>\n                        <th *ngIf=\"repairs.IsTowedIn\"><div class=\"header-type-text\"></div>\n                            <div class=\"is-towing\">\n                                <button class=\"outbound-icon-btn\" [matTooltip]=\"(repairs.IsTowedIn?'towed_in':'not_towed_in') | translate\" matTooltipPosition=\"above\">\n                                    <mat-icon [svgIcon]=\"'towing'\" [attr.color]=\"repairs.IsTowedIn ? 'black' : 'dark-gray-disabled'\"></mat-icon>\n                                </button>\n                            </div>\n                        </th>\n                    </tr>\n                </table>\n                <div class=\"outbound-card-content border-bottom-10\">\n                    <div class=\"outbound-jobs-container fx-row align-center\">\n                        <div class=\"move-left-wrapper\" *ngIf=\"checkJobWrapperScroll('left',job_scroll_wrapper)\">\n                            <button type=\"button\" class=\"jobs-move-btn\" (click)=\"move_scroll('left',job_scroll_wrapper)\">\n                                <mat-icon color=\"black\" svgIcon=\"arrow-left\"></mat-icon>\n                            </button>\n                        </div>\n                        <div class=\"outbound-jobs-wrapper\" #job_scroll_wrapper>\n                            <table class=\"outbound-table border-bottom-10\">\n                                <tr class=\"flex align-center\">\n                                    <th>\n                                        <div class=\"img-container\">\n                                            <img [src]=\"repairs.ImageUrlFirst===null?'assets/img/front-left.png':repairs.ImageUrlFirst\" class=\"rapair-car-img\" (load)=\"repairs.ImageUrlFirstLoad=false;\" alt=\"\">\n                                            <chq-customloader [showLoading]=\"repairs.ImageUrlFirstLoad\"></chq-customloader>                                        \n                                        </div>\n                                    </th>\n                                    <th *ngFor=\"let job of repairs.Jobs; let i = index\">\n                                        <div class=\"outbound-header-card\" [style.background-color]=\"job.Color\" (click)=\"openJobpopup(repairs,job)\">\n                                            <div>\n                                                <span class=\"uppercase\">{{job.JobName}}</span>\n                                            </div>\n            \n                                            <p>{{job.CompletePercentage}}%</p>\n                                        </div>\n                                    </th>\n                                    <th>\n                                        <div class=\"img-container\">\n                                            <img [src]=\"repairs.ImageUrlLast===null?'assets/img/front-left.png':repairs.ImageUrlLast\" (load)=\"repairs.ImageUrlLastLoad=false;\" alt=\"\">\n                                            <chq-customloader [showLoading]=\"repairs.ImageUrlLastLoad\"></chq-customloader>\n                                        </div>\n                                    </th>\n                                </tr>\n                            </table>\n                        </div>\n                        <div class=\"move-right-wrapper\" *ngIf=\"checkJobWrapperScroll('right',job_scroll_wrapper)\">\n                            <button type=\"button\"  class=\"jobs-move-btn\" (click)=\"move_scroll('right',job_scroll_wrapper)\">\n                                <mat-icon color=\"black\" svgIcon=\"arrow-right\"></mat-icon>\n                            </button>\n                        </div>\n                    </div>\n    \n                    <div class=\"date-card flex align-end\">\n                        <div class=\"date-selector\">\n                            <div class=\"input-wrapper flex align-end\">\n                                <div class=\"pickup_wrapper\">\n                                    <label class=\"input-label text-muted uppercase\">{{ PickUpDateTextBox.label | translate }}</label>\n                                    <dx-date-box\n                                    [value]=\"repairs.PickUpDate\" [acceptCustomValue]=\"false\"\n                                    type=\"datetime\" [invalidDateMessage]=\"''\" [max]=\"PickUpDateTextBox.maxDate\"\n                                    [min]=\"PickUpDateTextBox.minDate\" [validationError]=\"false\" [validationMessageMode]=\"'none'\"\n                                    [disabled]=\"!isTechnician?repairs.OutboundStatus !=='Ready To PickUp':true\"\n                                    (onValueChanged)=\"updateInput($event, repairs.RepairGuid,j)\"\n                                  >\n                                  </dx-date-box>\n                                  <span *ngIf=\"repairs?.PickupDateError\" class=\"pickupDate-error input-label text-muted\">Pick up date cannot set as past date</span>\n                                </div>\n    \n                                <chq-button [buttonModel]=\"notifyButton\" *ngIf=\"!isTechnician?!repairs.IsPickedUp && repairs.PickUpDate !== null && repairs.OutboundStatus ==='Ready To PickUp' && repairs.CommunicationTypes.length > 0: false\" (click)=\"openEmailForNotify(repairs)\" class=\"notify-btn\">\n                                </chq-button>\n                            </div>\n                        </div>\n                        \n                        <div class=\"day-counter\">\n                            <span class=\"text-muted\">{{'initial_booking_out_date' | translate}}: {{date_format(repairs.BookingEndDate)}} | {{repairs.LagInDays}} {{'days' | translate}}</span>\n                        </div>\n                    </div>\n                </div>\n\n            </mat-card>\n        </div>\n        <div class=\"no-data-wrapper\" *ngIf=\"departures.length === 0 && !CallingAPI\">\n            <div class=\"no-data-content\">\n                <img src=\"assets/img/no-data.png\" alt=\"\">\n                <span>{{'no_result_found' | translate}}</span>\n                <span>{{'could_not_find_any_data' | translate}}.</span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"footer-full-wrapper\">\n    <div class=\"footer-image-wrapper\">\n        <div class=\"image-wrapper\">\n            <img src=\"assets/img/addenda-repair.png\" alt=\"\"/>\n        </div>\n    </div>\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport * as dayjs from 'dayjs';\nimport { ChqWidgetsInputModel } from 'src/app/model/chq-widgets-input-model';\nimport { OutboundService } from 'src/app/services/outbound/outbound.service';\nimport { CheckInTaskComponent } from '../check-in-task/check-in-task.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { DatePipe } from '@angular/common';\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\nimport { NotifyDialogComponent } from 'src/app/dialogs/notify-dialog/notify-dialog.component';\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\nimport { BookingService } from 'src/app/services/booking/booking.service';\nimport { RepairStatusMapper } from 'src/app/config/route-mapper/repair-status-mapper';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-outbound',\n  templateUrl: './outbound.component.html',\n  styleUrls: [ './outbound.component.scss' ],\n  providers: [ OutboundService ],\n})\n\nexport class OutboundComponent implements OnInit, OnDestroy {\n\n  jobIconDictionary = {\n    'Body': 'car',\n    'Paint': 'paint-nozzle',\n    'Mechanical': 'mechanical',\n    'Electrical': 'electric',\n    'Tires': 'tire',\n    'Preparation': 'car-roof',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Check In': 'checkbox-open',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Repair': 'door-panel',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Fitup': 'door-panel',\n    'Polish': 'car-paint',\n    'Detailing': 'car-cleaning',\n    'Maintenance': 'maintenance',\n    'Diagnosis': 'diagnosis',\n    'Others': 'gears',\n  }\n  departures: any[] = []\n  subs: Subscription[] = []\n\n  public PickUpDateTextBox: ChqWidgetsInputModel = {\n    placeHolder: 'pickup_date',\n    label: 'pick_up_date_time',\n    name: '',\n    type: 'datetime',\n    maxDate: dayjs().add(6, 'month').toDate(),\n    minDate: new Date(),\n    value: new Date(),\n  }\n\n  public notifyButton: ChqWidgetsButtonModel = {\n    label: 'notify',\n    type: 'outline',\n    icon: 'send'\n  }\n\n\n  currentWeek: Date = new Date();\n  currentWeekNumber: number = 1;\n  dates: Array<Date> = [];\n  public IntervalGetOutBound = null;\n  public lastUpdated = dayjs().format('DD/MM/YYYY HH:mm:ss');\n  public CallingAPI = false;\n  i18n: i18nInfo;\n  public isTechnician: boolean = false;\n  public TotalAmount: any = 0;\n\n  /**\n     * Creates an instance of DeparturesComponent.\n     * @constructor\n     * @param {Router} router\n     * @param {OutboundService} OutboundService\n     *  @param {MatDialog} dialog\n     *  @param {DatePipe} datePipe\n     * @param {CommonService} CommonService\n     */\n  constructor(private OutboundService: OutboundService,\n    private router: Router,\n    public dialog: MatDialog,\n    private datePipe: DatePipe,\n    private bookingService: BookingService,\n    private commonService: CommonService,) {\n    this.i18n = this.commonService.geti18nInfo();\n    this.getWeekDates(new Date(this.currentWeek));\n  }\n\n\n  /**\n     * ngOnInit\n     */\n  ngOnInit(): void {\n    this.getDeparturesDetails();\n\n    this.commonService.userProfileData.subscribe((res) => {\n      if (res?.data) {\n        const automotiveServices = res?.data?.userPermission?.automotiveServices;\n        const automotiveService = automotiveServices?.find(x => x.automotiveServiceName.toLowerCase() === 'addenda repair');\n        if (automotiveService && automotiveService.roleName.toLowerCase() === 'technician') {\n          this.isTechnician = true;\n        } else {\n          this.isTechnician = false;\n        }\n      }\n    });\n  }\n\n\n  /**\n   * getOutBoundData\n   */\n  public async getDeparturesDetails(): Promise<void> {\n    this.CallingAPI = true;\n    this.commonService.showLoading();\n    this.departures = [];\n    const StartDate = new Date(this.currentWeek.toDateString()).toISOString();\n    const EndDate = new Date(new Date(this.currentWeek.toDateString()).getTime()+1000*60*60*24-1000).toISOString();\n    const query = `$filter=BookingEndDate ge ${StartDate} and BookingEndDate lt ${EndDate} or PickUpDate ge ${StartDate} and PickUpDate lt ${EndDate}`;\n    this.subs.push(this.OutboundService.getDeparturesDetails(query).subscribe({\n      next: (data) => {\n        this.CallingAPI = false;\n        this.TotalAmount = 0;\n        data.value.forEach((el) => {\n          if(el.PickUpDate !== null) {\n            if(!(new Date(StartDate) < new Date(el.PickUpDate) && new Date(EndDate) > new Date(el.PickUpDate))) {\n              return;\n            }\n          }\n          el['ImageUrlFirstLoad'] = true;\n          el['ImageUrlLastLoad'] = true;\n          this.TotalAmount += el.TotalAmount; \n          this.departures.push(el);\n        });\n\n        this.lastUpdated = dayjs().format('DD/MM/YYYY HH:mm:ss');\n        this.commonService.hideLoading();\n\n        clearTimeout(this.IntervalGetOutBound);\n        this.IntervalGetOutBound = setTimeout(() => { //call getWorkflow every 5 mins\n          this.getDeparturesDetails();\n        }, 300000);\n      }, error: (error) => {\n        this.CallingAPI = false;\n        clearTimeout(this.IntervalGetOutBound);\n      }\n    }))\n  }\n\n\n  /**\n     * date_format\n     * return date format \n     * example 28 Wednesday, of June 2023\n     *@param date data \n  \n     * @returns {string}\n     */\n  date_format(date: Date): string {\n    return dayjs(date).format('D dddd, of MMMM YYYY');\n  }\n\n  /**\n  * updateInput\n  * update pickup date\n  */\n  updateInput(e, repairId: string, repairIndex: number): void {\n    this.departures[repairIndex]['PickupDateError'] = false;\n    if (new Date(e.value) < new Date()) {\n      this.departures[repairIndex]['PickupDateError'] = true;\n      return;\n    }\n\n\n    const pickupDate: string = new Date(e.value).toISOString();\n\n    if (new Date(pickupDate) == new Date(this.departures[repairIndex].PickUpDate)) {\n      return;\n    }\n\n    this.commonService.showLoading();\n    this.subs.push(this.OutboundService.setPickupDate(repairId, pickupDate, false).subscribe({\n      next: (data) => {\n        this.commonService.showInfoToast(1000, data.message);\n        this.commonService.hideLoading();\n      }\n    }));\n  }\n\n  /**\n   * openJobpopup\n   * @param { string } jobId\n   */\n  openJobpopup(repair: object, job: object): void {\n    this.dialog.open(CheckInTaskComponent, { data: { 'repair': repair, 'job': job } });\n  }\n\n  /**\n   * GetWeekNumber()\n   * \n   * @param {Date} date\n   */\n  getWeekNumber(date: Date): number {\n\n    const currentDate: any = date;\n    const startDate: any = new Date(currentDate.getFullYear(), 0, 1);\n    const days = Math.floor((currentDate - startDate) /\n      (24 * 60 * 60 * 1000));\n\n    const weekNumber = Math.ceil(days / 7);\n    return weekNumber;\n  }\n\n\n  /**\n    * getWeekDates\n    * change months as well when month about to end\n    */\n  getWeekDates(date: Date): any[] {\n    const daysInWeek = 7;\n    const dates = [];\n    const week = date.getDay() == 0 ? daysInWeek : date.getDay();\n    const start_date = new Date(date.setDate(date.getDate() - week + 1));\n\n    for (let i = 0; i < daysInWeek; i++) {\n      const temp_date = new Date(start_date);\n      const new_date: Date = new Date(temp_date.setDate(start_date.getDate() + i));\n      if (new_date.getMonth() < start_date.getMonth() && new_date.getMonth() == date.getFullYear()) {\n        new_date.setMonth(start_date.getMonth());\n      }\n      dates.push(new_date);\n    }\n\n    this.currentWeekNumber = this.getWeekNumber(this.currentWeek);\n    this.dates = dates;\n    return dates;\n  }\n\n  /**\n  * changeCurrentWeek\n  */\n  changeCurrentWeek(direction: string): void {\n    if (direction === 'left') {\n      const temp_date = this.dates[0];\n      this.currentWeek = new Date(temp_date.setDate(temp_date.getDate() - 7));\n    } else {\n      const temp_date = this.dates[6];\n      this.currentWeek = new Date(temp_date.setDate(temp_date.getDate() + 1));\n    }\n\n    this.getWeekDates(new Date(this.currentWeek));\n    this.departures = [];\n    this.getDeparturesDetails();\n  }\n\n  /**\n  * TodayWeek\n  */\n  TodayWeek(): void {\n    this.currentWeek = new Date();\n    this.getWeekDates(new Date(this.currentWeek));\n    this.departures = [];\n    this.getDeparturesDetails();\n  }\n\n  /**\n  * changeCurrentDate\n  *@param day { date } \n  */\n  changeCurrentDate(day: Date): void {\n    this.currentWeek = day;\n    this.departures = [];\n    this.getDeparturesDetails();\n  }\n\n  /**\n   * move_scroll\n   */\n  move_scroll(direction, el): void {\n    if (direction === 'left') {\n      el.scrollLeft = el.scrollLeft - 160;\n    } else {\n      el.scrollLeft = el.scrollLeft + 160;\n    }\n  }\n\n  /**\n   * checkJobWrapperScroll\n   */\n  checkJobWrapperScroll(direction, el): boolean {\n    if (direction === 'left') {\n      return !(el.scrollLeft <= 0);\n    } else {\n      return !(el.scrollLeft >= el.scrollWidth - el.clientWidth - 1);\n    }\n  }\n\n  /**\n   * openEmailForNotify\n   * \n   */\n  openEmailForNotify(RepairData: any): void {\n    this.commonService.showLoading();\n    this.bookingService.getRepairDetailByGuid(RepairData.RepairGuid).subscribe({\n      next: async (result: any) => {\n        if (result?.data) {\n          this.openEmailForNotifyInner(RepairData.RepairGuid, result.data.domainId, result.data.booking.communicationTypeId, result.data.communicationEvents);\n        }\n        this.commonService.hideLoading();\n      },\n      error: async (error: any) => {\n        this.commonService.hideLoading();\n      }\n    });\n  }\n\n  /**\n   * openEmailForNotify\n   * \n   */\n  openEmailForNotifyInner(RepairGuid: any, domainId: string, communicationList: string, communicatedList: any[]): void {\n    this.dialog.open(NotifyDialogComponent, {\n      data: {\n        repairGuid: RepairGuid,\n        domainId: domainId,\n        templateId: 2,\n        communicationList: communicationList,\n        communicatedList: communicatedList\n        \n      },\n      backdropClass: 'confirmation-popup-backdrop',\n      maxHeight: '693px',\n      maxWidth: '629px'\n    });\n  }\n\n  /**\n   * booking url\n   */\n  bookingStatusUrl(repair: any): void {\n    const { RepairStatus, RepairGuid } = repair;\n    const status = RepairStatus.split(' ').join('');\n    let routeToRedirect = RepairStatusMapper[status?.toLowerCase()] || RepairStatusMapper.others;\n    routeToRedirect = routeToRedirect.replace('{{repairGUID}}', RepairGuid);\n    this.router.navigate([ routeToRedirect ]);\n  }\n\n  /**\n     * ngOnDestroy\n     */\n  ngOnDestroy(): void {\n    this.subs.forEach(sub => sub.unsubscribe());\n    clearTimeout(this.IntervalGetOutBound);\n  }\n}\n\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MatIconModule } from '@angular/material/icon';\nimport { Route, RouterModule } from '@angular/router';\nimport { MsalGuard } from '@azure/msal-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DirectiveModule } from 'src/app/helper/directive.module';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { WidgetsModule } from '../../widgets/chq-widgets.module';\nimport { CustomerLayoutComponent } from './add-customers/customer-layout/customer-layout.component';\nimport { BookingJournalComponent } from './booking-journal/booking-journal/booking-journal.component';\nimport { EstimateApprovalComponent } from './estimate-approval/estimate-approval.component';\nimport { LoungeListComponent } from './lounge-list/lounge-list.component';\nimport { OutboundComponent } from './outbound/outbound/outbound.component';\nimport { WorkflowLoungeComponent } from './workflow-lounge/workflow-lounge.component';\nimport { WorkflowComponent } from './workflow/workflow/workflow.component';\nimport { RepairGuard } from 'src/app/guards/repair-guard/repair.guard';\n\nconst repairRoutes: Route[] = [\n  {\n    path: '',\n    pathMatch: 'full',\n    redirectTo: 'booking-journal'\n\n  },\n  {\n    path: 'booking',\n    canActivate: [ RepairGuard ],\n    loadChildren: () =>\n      import('../repair/add-customers/customers.module').then(\n        m => m.AddRepairCustomersModule\n      )\n  },\n  {\n    path: 'booking/:id',\n    component: CustomerLayoutComponent,\n    canActivate: [ RepairGuard ],\n    loadChildren: () =>\n      import('../repair/add-customers/customers.module').then(\n        m => m.AddRepairCustomersModule\n      )\n  },\n  {\n    path: 'customers',\n    canActivate: [ RepairGuard ],\n    loadChildren: () =>\n      import('../repair/customer/customer.module').then(\n        m => m.CustomerTableModule\n      )\n  },\n  {\n    path: 'booking-journal',\n    component: BookingJournalComponent,\n    canActivate: [ RepairGuard ],\n    loadChildren: () =>\n      import('../repair/booking-journal/booking-journal.module').then(\n        m => m.BookingJournalModule\n      )\n  },\n  {\n    path: 'workflow',\n    component: WorkflowComponent,\n    canActivate: [ RepairGuard ],\n    loadChildren: () =>\n      import('../repair/workflow/workflow.module').then(\n        m => m.WorkflowModule\n      )\n  },\n  {\n    path: 'outbound',\n    component: OutboundComponent,\n    canActivate: [ MsalGuard ],\n    loadChildren: () =>\n      import('../repair/outbound/outbound.module').then(\n        m => m.OutboundModule\n      )\n  },\n  {\n    path: 'lounge',\n    component: LoungeListComponent,\n    canActivate: [ MsalGuard ],\n    loadChildren: () =>\n      import('../repair/lounge-list/lounge-list.module').then(\n        m => m.LoungeListModule\n      )\n  },\n  {\n    path: 'workflow-lounge',\n    component: WorkflowLoungeComponent,\n    canActivate: [ MsalGuard ],\n    loadChildren: () =>\n      import('../repair/workflow-lounge/workflow-lounge.module').then(\n        m => m.WorkflowLoungeModule\n      )\n  }\n]\n\n@NgModule({\n  declarations: [\n    EstimateApprovalComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    MatIconModule,\n    RouterModule.forChild(repairRoutes),\n    WidgetsModule,\n    TranslateModule,\n    DirectiveModule\n  ]\n})\nexport class RepairModule { }\n\n","<div class=\"page-container workflow-container mh-0 mt-0 fx-col\">\n    <div class=\"fx-0 lounge-list-header\">\n        <div class=\"header-content fx-row justify-space-between align-center\">\n            <chq-dropdown style='margin-left: auto; width: 140px;' [dropdownModel]=\"fontSizeDropdown\" (selected)=\"changeFontSize($event)\" ></chq-dropdown>\n            <chq-button [buttonModel]=\"FullscreenButton\"\n                (click)=\"openFullscreen()\"></chq-button>\n            <div class=\"alignment-btn\" (click)=\"changeView()\">\n                <mat-icon *ngIf=\"!verticalView\" svgIcon=\"horizontal-alignment\"></mat-icon>\n                <mat-icon *ngIf=\"verticalView\" svgIcon=\"vertical-alignment\"></mat-icon>\n            </div>\n        </div>\n    </div>\n    <div class=\"fullscreen\" *ngIf=\"isFullScreen\">\n        <div class=\"lounge-header fx-0 fx-col justify-center\">\n            <div class=\"lounge-header-content align-center fx-row\">\n                <a class=\"xa-logo-wrapper\">\n                    <div class=\"menu-image\">\n                        <img [src]=\"orgLogoUrl\" (error)=\"avatar='';\" (load)=\"orgImageLoading=false\" alt=\"\"\n                            *ngIf=\"orgLogoUrl else name\" />\n                        <ng-template #name>\n                            <label *ngIf=\"orgName\" class=\"org-name\">{{orgName}}</label>\n                        </ng-template>\n                        <chq-custom-loader [showLoading]=\"orgImageLoading\"></chq-custom-loader>\n                    </div>\n                </a>\n                <div class=\"lounge-title-wrapper\">{{'workflow_dashboard' | translate}}</div>\n                <div class='date-container'>\n                    <div class=\"lounge-date-wrapper\">{{currentDate}}</div>\n                    <div class=\"lounge-last-refresh\">{{'last_refreshed' | translate}}: {{LastRefreshedDate}}</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"workflow-table-container\" [class.fullscreen-table]=\"isFullScreen\" *ngIf=\"totalCost > 0 && totalCount > 0 && !verticalView\">\n        <table class=\"horizontal-workflow-table\"  aria-describedby=\"horizontal\">\n            <th class=\"d-none\"></th>\n            <tbody class=\"scroll-items-row\">\n                <tr class='job-item-row' *ngFor=\"let items of workflowData; let i = index\" [ngStyle]=\"{'min-height': calculatedHeight, 'height': calculatedHeight, 'max-height': calculatedHeight}\">\n                    <div class='job-item-cards'>\n                        <div class=\"workflow-row-container\" #horizontalRow>\n                            <div class=\"workflow-header-card\" [style.background-color]=\"items.IsJobFromMaster ?items.Color:'#DCDDE2'\"\n                                [style.color]=\"items.IsJobFromMaster ?'':'#0B0E15'\">\n                                <div class=\"card-content\">\n                                    <span class=\"uppercase\" [style.fontSize]=\"fontSizeDropdown.selectedOption.labelSize\">{{items.JobName}}</span>\n                                    <div class=\"rounded-icon\">{{items.WaterfallRepairs.length}}</div>\n                                </div>\n                            </div>\n                            <div #cardContainer class='card-container'>\n                                <div class=\"workflow-details-card\"\n                                    *ngFor=\"let repair of items.WaterfallRepairs; let j = index\">\n                                    <div class=\"detail-card-link\">\n                                        <div class=\"img-container\">\n                                            <img [src]=\"(repair.ImageUrl !== null && repair.ImageUrl !== '') ? repair.ImageUrl : 'assets/img/front-left.png'\"\n                                                (load)=\"repair.isloaded=true;\" alt=\"\" [ngStyle]=\"{'width.px': horizontalRowHeight }\"/>\n                                        </div>\n                                        <div class=\"repair-items-container\">\n                                            <span class=\"due-date-span\" [style.fontSize]=\"fontSizeDropdown.selectedOption.textSize\">\n                                                {{'due_out' | translate}}: {{repair.RepairEndDate | date: 'dd/MM/yy' | translate}}\n                                            </span>\n                                            <span class=\"info-span\" [style.fontSize]=\"fontSizeDropdown.selectedOption.textSize\">\n                                                {{repair.VehicleMake + ' ' + repair.VehicleModel}}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class=\"vertical-workflow-table\" [class.fullscreen-table]=\"isFullScreen\" *ngIf=\"totalCost > 0 && totalCount > 0 && verticalView\">\n        <table class='vertical-table' aria-describedby=\"vertical view\">\n            <thead>\n                <tr>\n                    <th *ngFor=\"let items of workflowData;\" #verticalRow>\n                        <div class=\"header-container\" [style.background-color]=\"items.Color\" [ngClass]=\"{'repair-not-started': items.JobName.toLowerCase() === 'repair not started'}\">\n                            <div class=\"count\">{{items.WaterfallRepairs.length}}</div>\n                            <span class=\"title\">{{items.JobName | uppercase}}</span>\n                        </div>\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr class='vertical-card-container'>\n                    <td class='vertical-card' *ngFor=\"let items of workflowData; let i = index\">\n                        <ng-container *ngFor=\"let repair of items.WaterfallRepairs;\">\n                            <div class=\"repair-container\">\n                                <div class=\"img-container\">\n                                    <img [src]=\"(repair.ImageUrl !== null && repair.ImageUrl !== '') ? repair.ImageUrl : 'assets/img/front-left.png'\" (load)=\"repair.isloaded=true;\" alt=\"\" [ngStyle]=\"{'height.px': verticalRowWidth }\"/>\n                                </div>\n                                <div class=\"repair-items-container\">\n                                    <span class=\"due-date-span\" [style.visibility]=\"repair.RepairEndDate ? 'visible': 'hidden'\" [style.fontSize]=\"fontSizeDropdown.selectedOption.textSize\">\n                                        {{'due_out' | translate}}: {{repair.RepairEndDate | date: 'dd/MM/yy' | translate}}\n                                    </span>\n                                    <span class=\"info-span\" [style.fontSize]=\"fontSizeDropdown.selectedOption.textSize\">\n                                        {{repair.VehicleMake + ' ' + repair.VehicleModel}}\n                                    </span>\n                                </div>\n                            </div>\n                        </ng-container>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <div class=\"no-data-wrapper\"\n        *ngIf=\"(workflowData.length === 0 || (totalCost === 0 && totalCount === 0)) && !CallingAPI\">\n        <div class=\"no-data-content\">\n            <img src=\"assets/img/no-data.png\" alt=\"\">\n            <span>{{'no_result_found' | translate}}</span>\n            <span>{{'could_not_find_any_data' | translate}}.</span>\n        </div>\n    </div>\n</div>\n\n<div class=\"footer-full-wrapper\">\n    <div class=\"footer-image-wrapper\">\n        <div class=\"image-wrapper\">\n            <img src=\"assets/img/addenda-repair.png\" alt=\"\" />\n        </div>\n    </div>\n</div>\n","import { AfterViewInit, Component, ElementRef, HostListener, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as dayjs from 'dayjs';\nimport { Observable, Subscription, forkJoin, map, of } from 'rxjs';\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\nimport { ChqWidgetsInputModel, IControlValue } from 'src/app/model/chq-widgets-input-model';\nimport { WorkflowService } from 'src/app/services/workflow/workflow.service';\nimport { CaseService } from 'src/app/services/case/case.service';\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\nimport { ChqWidgetsDropdownModel } from 'src/app/model/chq-widgets-dropdown-model';\n\n@Component({\n  selector: 'app-workflow-lounge',\n  templateUrl: './workflow-lounge.component.html',\n  styleUrls: [ './workflow-lounge.component.scss' ],\n  providers: [ WorkflowService ],\n})\n\nexport class WorkflowLoungeComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  totalCost = 0;\n  totalCount = 0;\n  workflowData: any[] = [];\n  CallingAPI = false;\n  i18n: i18nInfo;\n  IntervalGetWorkflow = null;\n  autoScrollInterval = null;\n  timeInterval = null;\n  LastRefreshedDate = dayjs().format('DD/MM/YYYY HH:mm:ss');\n  public userDetail = null;\n  public userIsBM = false;\n  @ViewChild('filter') public filter: MatSidenav;\n\n  public filterButton: ChqWidgetsButtonModel = {\n    label: 'filter',\n    type: 'outline',\n    icon: 'filter'\n  }\n\n  public filterForm = this.formBuilder.group({\n    OrgName: [],\n    CustomerId: [],\n    CompanyId: []\n  });\n\n  public applyButton: ChqWidgetsButtonModel = {\n    label: 'apply',\n    type: 'primary'\n  }\n\n  public resetButton: ChqWidgetsButtonModel = {\n    label: 'reset_all',\n    type: 'outline'\n  }\n  public statusMap:{ [key: string]:string } = {\n    'Approved': 'Approved',\n    'PendingApproval': 'Pending Approval',\n    'RepairEstimation': 'Repair Estimation',\n    'UploadPhotos': 'Upload Photos',\n    'UploadDocuments': 'Upload Documents',\n    'Draft': 'Draft',\n  }\n\n  filterModal: ChqWidgetsInputModel[] = [\n    {\n      placeHolder: 'select_organization',\n      label: 'organization',\n      name: 'OrgName',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: false\n    },\n    {\n      placeHolder: 'select_type',\n      label: 'customer_name',\n      name: 'CustomerId',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: true\n    }\n  ];\n  filterDataLoaded: boolean = false;\n\n  repairSizeColors = {\n    'sm': 'bg-light-blue',\n    's': 'bg-light-blue',\n    'l': 'bg-light-green text-white',\n    'm': 'bg-light-pink text-white',\n    'xl': 'bg-dark-red text-white'\n  };\n  settingsButtonModel: ChqWidgetsButtonModel = {\n    label: 'filter',\n    type: 'outline',\n    icon: 'filter',\n    width: '13px',\n    height: '13px'\n  };\n\n  jobIconDictionary = {\n    'Body': 'car',\n    'Paint': 'paint-nozzle',\n    'Mechanical': 'mechanical',\n    'Electrical': 'electric',\n    'Tires': 'tire',\n    'Preparation': 'car-roof',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Check In': 'checkbox-open',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Repair': 'door-panel',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Fitup': 'door-panel',\n    'Polish': 'car-paint',\n    'Detailing': 'car-cleaning',\n    'Maintenance': 'maintenance',\n    'Diagnosis': 'diagnosis',\n    'Others': 'gears',\n  }\n\n  fontSizeDropdown: ChqWidgetsDropdownModel = {\n    options: [\n      { label: 'Small', labelSize : '12px', textSize: '10px' },\n      { label: 'Medium', labelSize : '13px', textSize: '11px' },      \n      { label: 'Large', labelSize : '14px', textSize: '12px' },\n      { label: 'X-Large', labelSize : '16px', textSize: '14px' },\n    ],\n    placeHolder: 'Select Font Size',\n    label: '',\n    name: 'fontSizeDropdown',\n    displayValue: 'label',\n    selectedOption: { label: 'Small', labelSize : '12px', textSize: '10px' }\n  }\n\n  subs: Subscription[] = [];\n\n  public FullscreenButton: ChqWidgetsButtonModel = {\n    label: 'view_full_screen',\n    type: 'outline',\n    icon: 'fullscreen'\n  };\n  public currentDate: string = dayjs().format('MMMM DD, YYYY hh:mm a');\n  isFullScreen: boolean;\n\n  orgImageLoading: boolean = true;\n  orgLogoUrl: string = '';\n  orgName: string = '';\n  avatar: string | ArrayBuffer;\n  public FocusedRepairIndex = 0;\n  public FocusedRepairHorizontalIndex = 0;\n  calculatedHeight: string;\n  verticalView: boolean = false;\n\n  @ViewChild('horizontalRow') horizontalRow: ElementRef;\n  horizontalRowHeight: number = 0;\n\n  @ViewChild('verticalRow') verticalRow: ElementRef;\n  verticalRowWidth: number = 0;\n\n  /**\n   * constructor.\n   * @constructor\n   * @param {WorkflowService} workflowService\n   * @param {commonService} commonService\n   * @param {caseService} caseService\n   * @param {formBuilder} formBuilder\n   */\n  constructor(private workflowService: WorkflowService,\n    private router: Router,\n    private commonService: CommonService,\n    private caseService: CaseService,\n    private translateService: TranslateService,\n    private formBuilder: FormBuilder\n  ) {\n    this.i18n = this.commonService.geti18nInfo();\n    this.commonService.userProfileData.subscribe({\n      next: (res: any) => {\n        if (res) {\n          this.orgLogoUrl = res?.data.organizationDetail?.logoUrl;\n          this.orgName = res?.data.organizationDetail?.name;\n          if (!this.orgLogoUrl) {\n            this.orgImageLoading = false;\n          }\n        }\n      }\n    });\n  }\n\n  /**\n   * ngOnInit\n   */\n  ngOnInit(): void {\n    this.timeInterval = setInterval(()=> {\n      this.updateDate();\n    }, 1000);\n    this.commonService.userProfileData.subscribe((res) => {\n      this.userDetail = res?.data;\n      this.userIsBM = this.userDetail?.roleDetail.some(x => x.name == 'Bodyshop Manager');\n      if (this.userDetail?.organizationDetail?.id) {\n        this.filterForm.get('OrgName').setValue(this.userDetail.organizationDetail.id);\n      }\n    });\n    this.chkScreenMode();\n\n  }\n\n  /**\n   * update Date\n   */\n  updateDate(): void {\n    this.currentDate = dayjs().format('MMMM DD, YYYY hh:mm a');\n  }\n  /**\n   * move_scroll\n   */\n  move_scroll(direction, el): void {\n    if (direction === 'left') {\n      el.scrollLeft = el.scrollLeft - 250;\n    } else {\n      el.scrollLeft = el.scrollLeft + 250;\n    }\n  }\n\n  /**\n * checkJobWrapperScroll\n */\n  checkJobWrapperScroll(direction, el): boolean {\n    if (direction === 'left') {\n      return !(el.scrollLeft <= 0);\n    } else {\n      return !(el.scrollLeft >= el.scrollWidth - el.clientWidth - 1);\n    }\n  }\n\n  /**\n   * auto scroll horizontally\n   */\n  horizontalScroll():void {\n\n    const parentContainer = document.querySelector('.workflow-table-container');\n    const container = document.querySelector('.scroll-items-row');\n    const nodes = container.querySelectorAll('.card-container');\n    if(container === null || container === undefined || nodes === null || nodes === undefined) {\n      return;\n    }\n\n    let visibleWidth = 0;\n    let longestNodeIndex = 0;\n    let longestNodeLength = 0;\n    const totalWidth = parentContainer.clientWidth\n    for(let i = 0; i < nodes.length; i++){\n      visibleWidth = 0;\n      if(longestNodeLength < nodes[i].children.length) {\n        longestNodeLength = nodes[i].children.length;\n        longestNodeIndex = i;\n      }\n    }\n    for(let i = this.FocusedRepairHorizontalIndex;i<nodes[longestNodeIndex].children.length;i++) {\n      if(i === nodes[longestNodeIndex].children.length - 1) {\n        this.FocusedRepairHorizontalIndex = 0;\n        parentContainer.scrollLeft = 0;\n      }\n      visibleWidth += nodes[longestNodeIndex].children[i].clientWidth + nodes[longestNodeIndex].children[i + 1]?.clientWidth ?? 0;\n      if(visibleWidth >= totalWidth){\n        this.FocusedRepairHorizontalIndex = i;\n        nodes[longestNodeIndex].children[i].scrollIntoView({ behavior: 'smooth', inline: 'start' });\n        break;\n      }\n    }\n  }\n\n  /**\n   * auto scroll vertically\n   */\n  verticalScroll():void {\n\n    const parentContainer = document.querySelector('.vertical-workflow-table');\n    const container = document.querySelector('.vertical-card-container');\n    const nodes = container.querySelectorAll('.vertical-card');\n    if(container === null || container === undefined || nodes === null || nodes === undefined) {\n      return;\n    }\n    let visibleHeight = 0;\n    let longestNodeIndex = 0;\n    let longestNodeLength = 0;\n    const totalHeight = parentContainer.clientHeight\n    for(let i = 0; i < nodes.length; i++){\n      visibleHeight = 0;\n      if(longestNodeLength < nodes[i].children.length) {\n        longestNodeLength = nodes[i].children.length;\n        longestNodeIndex = i;\n      }\n    }\n    for(let i = this.FocusedRepairIndex;i<nodes[longestNodeIndex].children.length;i++) {\n      if(i === nodes[longestNodeIndex].children.length - 1) {\n        this.FocusedRepairIndex = 0;\n        parentContainer.scrollTop = 0;\n      }\n      visibleHeight += nodes[longestNodeIndex].children[i].clientHeight;\n      if(visibleHeight >= totalHeight){\n        this.FocusedRepairIndex = i;\n        nodes[longestNodeIndex].children[i].scrollIntoView({ behavior: 'smooth', block: 'start' });\n        break;\n      }\n\n    }\n\n  }\n\n  /**\n   * ngAfterViewInit\n   */\n  ngAfterViewInit(): void {\n    //call autoScroll every 1 mins\n    this.autoScrollInterval = setInterval(()=> {\n      if(this.isFullScreen) {\n        if(this.verticalView) {\n          this.verticalScroll();\n        } else {\n          this.horizontalScroll();\n        }\n      }\n    }, 10000);\n    this.getWorkflowDetails(this.generateFilterQuery());\n    this.IntervalGetWorkflow = setInterval(() => { //call getWorkflow every 5 mins\n      this.getWorkflowDetails(this.generateFilterQuery());\n    }, 300000);\n    if(localStorage.getItem('workflow-fontsize')){\n      this.fontSizeDropdown.selectedOption = JSON.parse(localStorage.getItem('workflow-fontsize'))\n    }\n  }\n\n  /**\n   * getWorkflowData\n   */\n  public async getWorkflowDetails(query): Promise<any> {\n    this.commonService.showLoading();\n    this.CallingAPI = true;\n    if (query !== '?$filter=') {\n      this.subs.push(this.workflowService.getWorkflowDetailsWithQuery(query).subscribe({\n        next: (data) => {\n          this.workflowData = this.getTotals(data.value);\n\n          if (this.workflowData) {\n            this.workflowData = this.workflowData.filter(x => x.JobName !== 'REPAIR NOT STARTED');\n            this.calculatedHeight = `${100/this.workflowData.length}%`;\n            this.workflowData.map(value =>\n              value?.WaterfallRepairs.map(child => child.isLoaded = false));\n          }\n          this.CallingAPI = false;\n          this.LastRefreshedDate = dayjs().format('DD/MM/YYYY HH:mm:ss');\n          setTimeout(() => {\n            this.horizontalRowHeight = this.horizontalRow?.nativeElement?.offsetHeight;\n            this.commonService.hideLoading();\n          });\n        }, error: () => {\n          this.CallingAPI = false;\n        }\n      }))\n    } else {\n      this.subs.push(this.workflowService.getWorkflowDetails().subscribe({\n        next: (data) => {\n\n          this.workflowData = this.getTotals(data.value);\n\n          if (this.workflowData) {\n            this.workflowData.map(value =>\n              value?.WaterfallRepairs.map(child => child.isLoaded = false));\n          }\n          this.CallingAPI = false;\n          this.LastRefreshedDate = dayjs().format('DD/MM/YYYY HH:mm:ss');\n          this.commonService.hideLoading();\n        }, error: () => {\n          this.CallingAPI = false;\n        }\n      }))\n    }\n  }\n\n  /**\n   * calculate totalCost and totalCount of all repairs\n   */\n  getTotals(data: any): any {\n    this.totalCost = 0;\n    this.totalCount = 0;\n    data.forEach((item) => {\n      this.totalCount += item.WaterfallRepairs.length;\n      item['ManualCost'] = 0;\n      item.WaterfallRepairs.forEach((itm) => {\n        this.totalCost += itm.EstimateCost;\n        item.ManualCost += itm.EstimateCost;\n      });\n\n    });\n\n    return data;\n  }\n\n  /**\n   * current_date_format\n   * return date format\n   * example 28 Wednesday, of June 2023\n   *\n   * @returns {string}\n   */\n  current_date_format(): string {\n    return dayjs().format('D dddd, of MMMM YYYY');\n  }\n\n  /**\n   * pull data and open filter panel\n   */\n  openFilter(): void {\n    if (this.filterDataLoaded) {\n      this.filter.open();\n    } else {\n      this.commonService.showLoading();\n\n      forkJoin([\n        this.getOrgIfBM(),\n        this.workflowService.getCustomer(this.userDetail.organizationDetail.id)\n      ]\n      ).pipe(\n        map(([ orgList, CustomerList ]) => {\n          return { orgList, CustomerList };\n        })\n      ).subscribe((result) => {\n\n        if (this.userIsBM) {\n          this.filterModal[0] =\n          {\n            ...this.filterModal[0],\n            selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n            options: result.orgList.data.map((x) => { return { label: x.name, value: x.id } })\n          };\n        } else {\n          this.filterModal[0] =\n          {\n            ...this.filterModal[0],\n            selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n            options: [ { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id } ],\n            disabled: true\n          };\n        }\n        this.filterModal[1] =\n        {\n          ...this.filterModal[1],\n          options: result.CustomerList.filter((value, index, self) => {\n            return self.findIndex(o => o.contactId === value.contactId) === index;\n          }).map((x) => {\n            const name = x.firstName + ' ' + x.lastName;\n            const label = x.isIndividual ? name : x.companyName;\n            const subLabel = x.isIndividual ? x.email : x.licenseNumber;\n            return {\n              label: x.isIndividual ? name : x.companyName,\n              subLabel: x.isIndividual ? x.email : x.licenseNumber,\n              value: x.isIndividual ? x.contactId : x.companyId,\n              html: `<div class='workflow-customer-item'><span class='name'>${label}</span><span class='email'>${subLabel}</span></div>`\n            }\n          })\n        };\n\n        this.filter.open();\n        this.commonService.hideLoading();\n        this.filterDataLoaded = true;\n      });\n    }\n  }\n\n  /**\n   * Check if user is bm , then call api otherwise return observable\n   */\n  getOrgIfBM(): Observable<any> {\n    if (this.userIsBM) {\n      return this.caseService.getOrganizations()\n    } else {\n      return of(null);\n    }\n  }\n\n  /**\n   * get customer list\n   * @param orgId\n   */\n  getCustomer(orgId: number): void {\n    this.commonService.showLoading();\n    this.workflowService.getCustomer(orgId).subscribe({\n      next: (data) => {\n        this.filterModal[1] =\n        {\n          ...this.filterModal[1],\n          options: data.filter((value, index, self) => {\n            return self.findIndex(o => o.contactId === value.contactId) === index;\n          }).map((x) => {\n            const name = x.firstName + ' ' + x.lastName;\n            const label = x.isIndividual ? name : x.companyName;\n            const subLabel = x.isIndividual ? x.email : x.licenseNumber;\n            return {\n              label: x.isIndividual ? name : x.companyName,\n              subLabel: x.isIndividual ? x.email : x.licenseNumber,\n              value: x.isIndividual ? x.contactId : x.companyId,\n              html: `<div class='workflow-customer-item'><span class='name'>${label}</span><span class='email'>${subLabel}</span></div>`\n            }\n          })\n        };\n        console.log(this.filterModal[1]);\n        this.commonService.hideLoading();\n      }, error: () => {\n        this.commonService.showLoading();\n      }\n    })\n  }\n\n  /**\n  * function\n  */\n  generateFilterQuery(): string {\n\n    const filterValue = this.filterForm.value;\n    let query = '?$filter=';\n\n    if(filterValue.OrgName && filterValue.OrgName > 0) {\n      query += `OrgId eq ${filterValue.OrgName}`;\n    }\n\n    if((filterValue.CustomerId && filterValue.CustomerId.length > 0) || (filterValue.CompanyId && filterValue.CompanyId.length > 0)) {\n      if(query !== '?$filter=') {\n        query += '&';\n      } else {\n        query = '?';\n      }\n      query += '$expand=WaterfallRepairs($filter=(';\n      if(filterValue.CustomerId.length>0)\n        query += `${filterValue.CustomerId.map(x => 'ContactId eq ' + x + '').join(' or ')}`;\n      if(filterValue.CustomerId.length>0 && filterValue.CompanyId.length>0)\n        query += ' or ';\n      if(filterValue.CompanyId.length>0)\n        query += `${filterValue.CompanyId.map(x => 'CompanyId eq ' + x + '').join(' or ')}`;\n      query += '))';\n    }\n\n    return query;\n  }\n\n  /**\n   *\n   * @param output\n   */\n  onFormUpdate(output: IControlValue): void {\n\n    if (output.name === 'CustomerId') {\n      this.filterModal[1] = { ...this.filterModal[1], selectedOption: output.value };\n      this.filterForm.get(output.name).setValue(output.value.filter(x =>x.isIndividual).map((x) => { return x.value }));\n      this.filterForm.get('CompanyId').setValue(output.value.filter(x =>!x.isIndividual).map((x) => { return x.value }));\n    } else if (output.name === 'OrgName') {\n      this.filterModal[0] = { ...this.filterModal[0], selectedOption: output.value };\n      if (output.value) {\n        this.filterForm.get(output.name).setValue(output.value.value);\n        this.getCustomer(output.value.value);\n      } else {\n        this.filterModal[1] = {\n          ...this.filterModal[1],\n          value: '',\n          selectedOption: '',\n          options: []\n        }\n      }\n    }\n  }\n\n\n  /**\n   *\n   */\n  applyFilter(): void {\n    this.workflowData = [];\n    this.getWorkflowDetails(this.generateFilterQuery());\n    this.filter.close();\n  }\n\n  /**\n   *\n   */\n  resetFilter(): void {\n    this.filterForm.reset();\n\n    for (let index = 0; index < this.filterModal.length; index++) {\n      this.filterModal[index] = {\n        ...this.filterModal[index],\n        value: '',\n        selectedOption: '',\n        options: this.filterModal[index].options?.map((x) => { x.checked = false; return x; })\n      }\n\n    }\n\n    if (this.userDetail?.organizationDetail?.id) {\n      this.filterForm.get('OrgName').setValue(this.userDetail.organizationDetail.id);\n      this.filterModal[0] =\n      {\n        ...this.filterModal[0],\n        selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n      };\n      this.getCustomer(this.userDetail?.organizationDetail.id);\n    }\n  }\n\n  /**\n   * PartTypeIcon\n   *  @param type {string}\n   *\n   *  @returns {string}\n   */\n  PartTypeIcon(type: string): string {\n    switch (type) {\n    case 'NotOrdered':\n      return 'parts-not-ordered';\n    case 'Ordered':\n      return 'parts-ordered';\n    case 'Arrived':\n      return 'parts-arrived';\n    case 'OrderedPartially':\n      return 'parts-ordered-partial';\n    case 'ArrivedPartially':\n      return 'parts-arrived-partial';\n    default:\n      return 'parts-not-ordered';\n    }\n  }\n\n  /**\n   * PartTypeIcon\n   *  @param type {string}\n   *\n   *  @returns {string}\n   */\n  PartTypetoolTip(type: string): string {\n    let Tooltip = '';\n    switch (type) {\n    case 'NotOrdered':\n      Tooltip = 'parts_not_ordered';\n      break;\n    case 'Ordered':\n      Tooltip = 'part_ordered';\n      break;\n    case 'Arrived':\n      Tooltip = 'part_arrived';\n      break;\n    case 'OrderedPartially':\n      Tooltip = 'part_ordered_partial';\n      break;\n    case 'ArrivedPartially':\n      Tooltip = 'part_arrived_partial';\n      break;\n    default:\n      Tooltip = 'parts_not_ordered';\n      break;\n    }\n    return this.translateService.instant(Tooltip);\n  }\n\n  /**\n   *\n   * @param event\n   */\n  @HostListener('document:fullscreenchange', [ '$event' ])\n  @HostListener('document:webkitfullscreenchange', [ '$event' ])\n  @HostListener('document:mozfullscreenchange', [ '$event' ])\n  @HostListener('document:MSFullscreenChange', [ '$event' ])\n  @HostListener('document:onwebkitfullscreenchange', [ '$event' ])\n  fullscreenmodes(event): void {\n    this.chkScreenMode();\n  }\n\n  /**\n * check screen mode\n */\n  chkScreenMode(): void {\n    if (document.fullscreenElement || document['webkitIsFullScreen']) {\n      //fullscreen\n      this.isFullScreen = true;\n    } else {\n      //not in full screen\n      this.isFullScreen = false;\n    }\n  }\n\n  /**\n * open in full screen\n */\n  openFullscreen(): void {\n    const elem: any = document.documentElement;\n    if (elem.requestFullscreen) {\n      elem.requestFullscreen();\n    } else if (elem.mozRequestFullScreen) {\n      /* Firefox */\n      elem.mozRequestFullScreen();\n    } else if (elem.webkitRequestFullscreen) {\n      /* Chrome, Safari and Opera */\n      elem.webkitRequestFullscreen();\n    } else if (elem.msRequestFullscreen) {\n      /* IE/Edge */\n      elem.msRequestFullscreen();\n    }\n  }\n\n  /**\n   * toggle view\n   */\n  changeView(): void {\n    if(!this.verticalView) {\n      setTimeout(() => {\n        this.verticalRowWidth = this.verticalRow?.nativeElement?.offsetWidth*0.6;\n      });\n    }\n    this.verticalView = !this.verticalView;\n  }\n\n  /**\n   * changeFontSize\n   *\n   * @param {*} event\n   */\n  changeFontSize(event): void{\n    if(event.name === 'fontSizeDropdown'){\n      this.fontSizeDropdown.selectedOption = event.value;\n      localStorage.setItem('workflow-fontsize', JSON.stringify(event.value));\n    }\n  }\n\n  /**\n   * ngOnDestroy\n   */\n  ngOnDestroy(): void {\n    this.subs.forEach(sub => sub.unsubscribe());\n    clearInterval(this.IntervalGetWorkflow);\n    clearInterval(this.autoScrollInterval);\n    clearInterval(this.timeInterval)\n  }\n}\n","<div class=\"page-container workflow-container mh-0 mt-0 fx-col\">\n    <div class=\"fx-0\">\n        <div class=\"fx-row date-filter-container\">\n            <span class=\"text-muted\" style=\"display: block;\">\n                <div class=\"current-data\"> \n                    {{'current_date' | translate}}: <span class=\"\" [innerHTML]=\"current_date_format()\"></span>\n                </div>\n                <div class=\"updated-date\">{{'last_refreshed' | translate}}: {{LastRefreshedDate}}</div>\n            </span>\n            <span class=\"flex align-center\" style=\"gap: 25px; margin-left: auto;\">               \n\n                <span class=\"flex align-center\">\n                    <mat-icon color=\"dark-gray\" style=\"margin-right:8px\">directions_car</mat-icon>\n                    <label><b>{{totalCount}}</b></label>\n                </span>\n                <span class=\"flex align-center\">\n                    <mat-icon style=\"margin-right:8px\" svgIcon=\"double-database\"></mat-icon>\n                    <label><b>{{totalCost | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</b></label>\n                </span>\n\n                <chq-button [buttonModel]=\"filterButton\" (click)=\"openFilter()\" *chqPermission=\"'workflow'\"></chq-button>\n            </span>\n        </div>\n    </div>\n    <div class=\"fx-1\" style=\"overflow: auto;\" *ngIf=\"totalCost > 0 && totalCount > 0\">\n        <table class=\"workflow-table\">\n            <thead class=\"workflow-table-thead\">\n                <tr>\n                    <th *ngFor=\"let items of workflowData; let i = index\" class=\"right-border\">\n                        <div class=\"workflow-header-card\" [style.background-color]=\"items.Color\">\n                            <div class=\"\">\n                                <button class=\"bg-white rounded-icon\">{{items.WaterfallRepairs.length}}</button>\n                               \n                            </div>\n                            <div>\n                                <p>{{items.TotalAmount | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</p>\n                            </div>\n                           \n                            <span class=\"uppercase\">{{items.JobName}}</span>\n                        </div>\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td *ngFor=\"let items of workflowData; let i = index\" class=\"right-border\">\n                        <mat-card class=\"workflow-details-card\" *ngFor=\"let repair of items.WaterfallRepairs; let j = index\">\n                            <a class=\"detail-card-link\" (click)=\"bookingStatusUrl(repair)\">\n                                <div class=\"img-container\">\n                                    <img [src]=\"(repair.ImageUrl !== null && repair.ImageUrl !== '') ? repair.ImageUrl : 'assets/img/front-left.png'\" (load)=\"repair.isloaded=true;\" alt=\"\" />\n                                    <chq-customloader [showLoading]=\"!repair.isloaded\"></chq-customloader>\n                                </div>\n                                <div class=\"workflow-repair-items flex\" style=\"padding: 5px 0px; gap: 5px;\">\n                                    <button class=\"repair-items\" style=\"padding:1px 6px;\" matTooltip=\"{{ (repair.Assignees.length === 0?'No Assignee':repair.Assignees.length > 1?'Multi Assignees':'Single Assignee') | translate}}\" matTooltipPosition=\"above\">\n                                        <mat-icon [svgIcon]=\"repair.Assignees.length > 1?'multi-users':'single-user'\" \n                                            [attr.color]=\"repair.Assignees.length === 0?'dark-gray-disabled':'black'\" class=\"svg-17px\"></mat-icon>\n                                    </button>\n                                    \n                                    <button class=\"repair-items\" style=\"padding:1px 6px;\" matTooltip=\"{{ (repair.JobStatusColor === 'Transparent'?'job_not_started':repair.JobStatusColor === 'Green'?'job_start_today':'job_start_in_past') | translate}}\" matTooltipPosition=\"above\">\n                                        <mat-icon [attr.color]=\"repair.JobStatusColor === 'Transparent' ?'dark-gray-disabled': repair.JobStatusColor === 'Green'?'green-medium' : 'dark-red2'\" svgIcon=\"clock2\"></mat-icon>\n                                    </button>  \n        \n                                    <button class=\"repair-items\" style=\"padding:1px 6px;\" [matTooltip]=\"PartTypetoolTip(repair.PartGeneralStatus)\" matTooltipPosition=\"above\">\n                                        <mat-icon [svgIcon]=\"PartTypeIcon(repair.PartGeneralStatus)\" class=\"svg-17px\"></mat-icon>\n                                    </button>\n        \n                                    <button class=\"repair-items\" style=\"padding:1px 6px;\" matTooltip=\"{{ (repair.IsAttentionRequired?'attention_required':'attention_not_required') | translate}}\" matTooltipPosition=\"above\">\n                                        <mat-icon svgIcon=\"flag-circle\" [attr.color]=\"repair.IsAttentionRequired === null? 'dark-gray-disabled': repair.IsAttentionRequired? 'dark-red2': 'dark-gray-disabled'\" class=\"svg-17px\"></mat-icon>\n                                    </button>\n        \n                                    <!-- <button class=\"repair-items\" style=\"padding:1px 6px;\">\n                                        <mat-icon [color]=\"repair.EstimateCost === null?'dark-gray-disabled':repair.EstimateCost === 0?'dark-gray-disabled':'black'\" class=\"svg-17px\" svgIcon=\"dollarsign-circle\"></mat-icon>\n                                    </button> -->\n        \n                                    <!-- <button class=\"repair-items\" style=\"padding:1px 6px;\" >\n                                        <mat-icon svgIcon=\"check-circle\" color=\"dark-green\" class=\"svg-17px\"></mat-icon>\n                                    </button> -->\n        \n                                    <button class=\"repair-items\" style=\"padding:1px 6px;\" matTooltip=\"{{ (repair.LastestTaskUpdatedRepairType?repair.LastestTaskUpdatedRepairType:'Others') | lowercase | translate}}\" matTooltipPosition=\"above\">\n                                        <mat-icon [svgIcon]=\"jobIconDictionary[repair.LastestTaskUpdatedRepairType]?jobIconDictionary[repair.LastestTaskUpdatedRepairType]:'gears'\" [attr.color]=\"'black'\" class=\"repairType-custom-class\"></mat-icon>\n                                    </button>\n        \n                                    <button class=\"repair-items\" style=\"padding:1px 6px;\" matTooltip=\"{{ (repair.IsTowedIn?'towed_in':'not_towed_in') | translate}}\" matTooltipPosition=\"above\">\n                                        <mat-icon [svgIcon]=\"'towing'\" [attr.color]=\"repair.IsTowedIn ? 'black' : 'dark-gray-disabled'\"></mat-icon>\n                                    </button>\n                                </div>\n                                \n                                <span class=\"due-date-span\" style=\"margin-top: 6px;\">{{'due_out' | translate}}: <b>{{repair.BookingOutDate | date: 'dd/MM/yy HH:mm' | translate}}</b></span>\n                            </a>\n                        </mat-card>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <div class=\"no-data-wrapper\" *ngIf=\"(workflowData.length === 0 || (totalCost === 0 && totalCount === 0)) && !CallingAPI\">\n        <div class=\"no-data-content\">\n            <img src=\"assets/img/no-data.png\" alt=\"\">\n            <span>{{'no_result_found' | translate}}</span>\n            <span>{{'could_not_find_any_data' | translate}}.</span>\n        </div>\n    </div>\n</div>\n\n<mat-sidenav-container [hasBackdrop]=\"true\">\n    <mat-sidenav #filter [mode]=\"'over'\" [position]=\"'end'\" class=\"filter-sidenav\">\n        <div class=\"filter-container\">\n            <div class=\"header\">\n                <div class=\"title\">\n                    Filters\n                </div>\n                <div class=\"action\">\n                    <button (click)=\"filter.toggle()\">\n                        <mat-icon [svgIcon]=\"'cross'\" color=\"white\"></mat-icon>\n                    </button>\n                </div>\n            </div>\n\n            <form class=\"form-container\" [formGroup]=\"filterForm\">\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <chq-input [inputModel]=\"filterModal[0]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <chq-input [inputModel]=\"filterModal[1]\" (controlOutput)=\"onFormUpdate($event)\" class=\"customer-list-w\"></chq-input>\n                    </div>\n                </div>\n            </form>\n            <div class=\"footer\">\n                <div class=\"row\">\n                    <div class=\"col-6\">\n                        <chq-button [buttonModel]=\"applyButton\" (click)=\"applyFilter()\"></chq-button>\n                    </div>\n                    <div class=\"col-6\">\n                        <chq-button [buttonModel]=\"resetButton\" (click)=\"resetFilter()\"></chq-button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </mat-sidenav>\n</mat-sidenav-container>\n\n<div class=\"footer-full-wrapper\">\n    <div class=\"footer-image-wrapper\">\n        <div class=\"image-wrapper\">\n            <img src=\"assets/img/addenda-repair.png\" alt=\"\"/>\n        </div>\n    </div>\n</div>\n\n","import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as dayjs from 'dayjs';\nimport { Observable, Subscription, forkJoin, map, of } from 'rxjs';\nimport { RepairStatusMapper } from 'src/app/config/route-mapper/repair-status-mapper';\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\nimport { ChqWidgetsInputModel, IControlValue } from 'src/app/model/chq-widgets-input-model';\nimport { WorkflowService } from 'src/app/services/workflow/workflow.service';\nimport { CaseService } from 'src/app/services/case/case.service';\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\n\n@Component({\n  selector: 'app-workflow',\n  templateUrl: './workflow.component.html',\n  styleUrls: [ './workflow.component.scss' ],\n  providers: [ WorkflowService ],\n})\n\nexport class WorkflowComponent implements OnInit, OnDestroy, AfterViewInit{\n\n  totalCost = 0;\n  totalCount = 0;\n  workflowData: any[] = [];\n  CallingAPI = false;\n  i18n: i18nInfo;\n  IntervalGetWorkflow = null;\n  LastRefreshedDate = dayjs().format('DD/MM/YYYY HH:mm:ss');\n  private userDetail;\n  public userIsBM = false;\n  @ViewChild('filter') public filter: MatSidenav;\n\n  public filterButton: ChqWidgetsButtonModel = {\n    label: 'filter',\n    type: 'outline',\n    icon: 'filter'\n  }\n\n  public filterForm = this.formBuilder.group({\n    OrgName: [],\n    CustomerId: []\n  });\n\n  public applyButton: ChqWidgetsButtonModel = {\n    label: 'apply',\n    type: 'primary'\n  }\n\n  public resetButton: ChqWidgetsButtonModel = {\n    label: 'reset_all',\n    type: 'outline'\n  }\n\n  filterModal: ChqWidgetsInputModel[] = [\n    {\n      placeHolder: 'select_organization',\n      label: 'organization',\n      name: 'OrgName',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: false\n    },\n    {\n      placeHolder: 'select_type',\n      label: 'customer_name',\n      name: 'CustomerId',\n      value: '',\n      type: 'select',\n      displayValue: 'label',\n      fieldValue: 'value',\n      options: [],\n      isMultiSelect: true\n    }\n  ];\n  filterDataLoaded: boolean = false;\n\n  repairSizeColors = { \n    'sm': 'bg-light-blue', \n    's': 'bg-light-blue',\n    'l': 'bg-light-green text-white', \n    'm': 'bg-light-pink text-white', \n    'xl': 'bg-dark-red text-white' \n  };\n  settingsButtonModel : ChqWidgetsButtonModel = {\n    label: 'filter',\n    type: 'outline',\n    icon: 'filter',\n    width: '13px',\n    height: '13px'\n  };\n\n  jobIconDictionary = {\n    'Body': 'car',\n    'Paint': 'paint-nozzle',\n    'Mechanical': 'mechanical',\n    'Electrical': 'electric',\n    'Tires': 'tire',\n    'Preparation': 'car-roof',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Check In': 'checkbox-open',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Repair': 'door-panel',\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    'Panel Fitup': 'door-panel',\n    'Polish': 'car-paint',\n    'Detailing': 'car-cleaning',\n    'Maintenance': 'maintenance',\n    'Diagnosis': 'diagnosis',\n    'Others': 'gears',\n  }\n\n  subs: Subscription[] = []; \n  /**\n   * constructor.\n   * @constructor\n   * @param {WorkflowService} workflowService\n   * @param {commonService} commonService\n   * @param {caseService} caseService\n   * @param {formBuilder} formBuilder\n   */\n  constructor(private workflowService: WorkflowService,\n              private router: Router,\n              private commonService: CommonService,\n              private caseService: CaseService,\n              private translateService: TranslateService,\n              private formBuilder: FormBuilder,) {\n    this.i18n = this.commonService.geti18nInfo();\n  }\n\n  /**\n   * ngOnInit\n   */\n  ngOnInit(): void{\n    this.commonService.userProfileData.subscribe((res) => {\n      this.userDetail = res?.data;\n      this.userIsBM = this.userDetail?.roleDetail.some(x => x.name == 'Bodyshop Manager');\n      if (this.userDetail?.organizationDetail?.id) {\n        this.filterForm.get('OrgName').setValue(this.userDetail.organizationDetail.id);\n      }\n    });\n  }\n\n  /**\n   * ngAfterViewInit\n   */\n  ngAfterViewInit(): void {\n    this.getWorkflowDetails(this.generateFilterQuery());\n    this.IntervalGetWorkflow = setInterval(()=>{ //call getWorkflow every 5 mins\n      this.getWorkflowDetails(this.generateFilterQuery());\n    }, 300000);\n  }\n\n  /**\n   * getWorkflowData\n   */\n  public async getWorkflowDetails(query): Promise<any> {\n    this.commonService.showLoading();\n    this.CallingAPI = true;\n    if(query !== '?$filter='){\n      this.subs.push(this.workflowService.getWorkflowDetailsWithQuery(query).subscribe({\n        next: (data) => {\n          this.workflowData = data.value;\n          if(this.workflowData) {\n            this.workflowData.map(value => \n              value?.WaterfallRepairs.map(child => child.isLoaded = false));\n          }\n          this.CallingAPI = false;\n          this.LastRefreshedDate = dayjs().format('DD/MM/YYYY HH:mm:ss');\n          this.getTotals();\n          this.commonService.hideLoading();\n        }, error: () =>{\n          this.CallingAPI = false;\n        }\n      }))\n    } else{\n      this.subs.push(this.workflowService.getWorkflowDetails().subscribe({\n        next: (data) => {\n          this.workflowData = data.value;\n          if(this.workflowData) {\n            this.workflowData.map(value => \n              value?.WaterfallRepairs.map(child => child.isLoaded = false));\n          }\n          this.CallingAPI = false;\n          this.LastRefreshedDate = dayjs().format('DD/MM/YYYY HH:mm:ss');\n          this.getTotals();\n          this.commonService.hideLoading();\n        }, error: () =>{\n          this.CallingAPI = false;\n        }\n      }))\n    }\n   \n\n  }\n  \n  /**\n   * calculate totalCost and totalCount of all repairs\n   */\n  getTotals(): void{\n    this.totalCost = 0;\n    this.totalCount = 0;\n    this.workflowData.forEach((item)=> {\n      this.totalCount += item.WaterfallRepairs.length;\n      item.WaterfallRepairs.forEach((itm) => {\n        this.totalCost += itm.EstimateCost;\n      });\n      \n    });\n  }\n  \n  /**\n   * current_date_format\n   * return date format \n   * example 28 Wednesday, of June 2023\n   *\n   * @returns {string}\n   */\n  current_date_format(): string{\n    return dayjs().format('D dddd, of MMMM YYYY');\n  }\n\n  /**\n   * pull data and open filter panel\n   */\n  openFilter(): void{\n    if (this.filterDataLoaded) {\n      this.filter.open();\n    } else {\n      this.commonService.showLoading();\n\n      forkJoin([\n        this.getOrgIfBM(),\n        this.workflowService.getCustomer(this.userDetail.organizationDetail.id)\n      ]\n      ).pipe(\n        map(([ orgList, CustomerList ]) => {\n          return { orgList, CustomerList };\n        })\n      ).subscribe((result) => {\n        \n        if (this.userIsBM) {\n          this.filterModal[0] =\n          {\n            ...this.filterModal[0],\n            selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n            options: result.orgList.data.map((x) => { return { label: x.name, value: x.id } })\n          };\n        } else {\n          this.filterModal[0] =\n          {\n            ...this.filterModal[0],\n            selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n            options: [ { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id } ],\n            disabled: true\n          };\n        }\n\n        this.filterModal[1] =\n        {\n          ...this.filterModal[1],\n          options: result.CustomerList.filter((value, index, self) => {\n            return self.findIndex(o => o.contactId === value.contactId) === index;\n          }).map((x) => { \n            const name = x.firstName + ' ' + x.lastName;\n            const label = x.isIndividual ? name : x.companyName;\n            const subLabel = x.isIndividual ? x.email : x.licenseNumber;\n            return { \n              label: x.isIndividual ? name : x.companyName, \n              subLabel: x.isIndividual ? x.email : x.licenseNumber,\n              value: x.id, \n              html: `<div class='workflow-customer-item'><span class='name'>${label }</span><span class='email'>${subLabel }</span></div>` \n            } \n          })\n        };\n\n        this.filter.open();\n        this.commonService.hideLoading();\n        this.filterDataLoaded = true;\n      });\n    }\n  }\n\n  /**\n   * Check if user is bm , then call api otherwise return observable\n   */\n  getOrgIfBM(): Observable<any> {\n    if (this.userIsBM) {\n      return this.caseService.getOrganizations()\n    } else {\n      return of(null);\n    }\n  }\n\n  /**\n   * get customer list\n   * @param orgId\n   */\n  getCustomer(orgId: number): void {\n    this.commonService.showLoading();\n    this.workflowService.getCustomer(orgId).subscribe({\n      next: (data) => {\n        this.filterModal[1] =\n        {\n          ...this.filterModal[1],\n          options: data.filter((value, index, self) => {\n            return self.findIndex(o => o.contactId === value.contactId) === index;\n          }).map((x) => { \n            const name = x.firstName + ' ' + x.lastName;\n            const label = x.isIndividual ? name : x.companyName;\n            const subLabel = x.isIndividual ? x.email : x.licenseNumber;\n            return { \n              label: x.isIndividual ? name : x.companyName, \n              subLabel: x.isIndividual ? x.email : x.licenseNumber,\n              value: x.id, \n              html: `<div class='workflow-customer-item'><span class='name'>${label }</span><span class='email'>${subLabel }</span></div>` \n            } \n          })\n        };\n        console.log(this.filterModal[1]);\n        this.commonService.hideLoading();\n      }, error: () =>{\n        this.commonService.showLoading();\n      }\n    })\n  }\n\n  /**\n  * function\n  */\n  generateFilterQuery(): string {\n\n    const filterValue = this.filterForm.value;\n    let query = '?$filter=';\n  \n    if(filterValue.OrgName && filterValue.OrgName > 0) {\n      query += `OrgId eq ${filterValue.OrgName}`;\n    }\n\n    if(filterValue.CustomerId && filterValue.CustomerId.length > 0) {\n      if(query !== '?$filter=') {\n        query += '&';\n      } else {\n        query = '?';\n      }\n      query += '$expand=WaterfallRepairs($filter=';\n      query += `(${filterValue.CustomerId.map(x => 'CustomerId eq ' + x + '').join(' or ')}))`;\n    }\n  \n    return query;\n  }\n\n  /**\n   * \n   * @param output \n   */\n  onFormUpdate(output: IControlValue): void {\n\n    if (output.name === 'CustomerId') {\n      this.filterModal[1] = { ...this.filterModal[1], selectedOption: output.value };\n      this.filterForm.get(output.name).setValue(output.value.map((x) => { return x.value }));\n    } else if (output.name === 'OrgName') {\n      this.filterModal[0] = { ...this.filterModal[0], selectedOption: output.value };\n      this.filterForm.get(output.name).setValue(output.value.value);\n      if(output.value) {\n        this.getCustomer(output.value.value);\n      } else {\n        this.filterModal[1] = {\n          ...this.filterModal[1],\n          value: '',\n          selectedOption: '',\n          options: []\n        }\n      }\n    }\n  }\n    \n    \n  /**\n   * \n   */\n  applyFilter(): void {\n    this.workflowData = [];\n    this.getWorkflowDetails(this.generateFilterQuery());\n    this.filter.close();\n  }\n\n  /**\n   * \n   */\n  resetFilter(): void {\n    this.filterForm.reset();\n\n    for (let index = 0; index < this.filterModal.length; index++) {\n      this.filterModal[index] = {\n        ...this.filterModal[index],\n        value: '',\n        selectedOption: '',\n        options: this.filterModal[index].options?.map((x) => { x.checked = false; return x; })\n      }\n\n    }\n    \n    if (this.userDetail?.organizationDetail?.id) {\n      this.filterForm.get('OrgName').setValue(this.userDetail.organizationDetail.id);\n      this.filterModal[0] =\n      {\n        ...this.filterModal[0],\n        selectedOption: { 'label': this.userDetail?.organizationDetail.name, 'value': this.userDetail?.organizationDetail.id },\n      };\n      this.getCustomer(this.userDetail?.organizationDetail.id);\n    }\n  }\n\n  /**\n   * PartTypeIcon\n   *  @param type {string} \n   * \n   *  @returns {string}\n   */\n  PartTypeIcon(type: string): string {\n    switch (type) {\n    case 'NotOrdered':\n      return 'parts-not-ordered';\n    case 'Ordered':\n      return 'parts-ordered';\n    case 'Arrived':\n      return 'parts-arrived';\n    case 'OrderedPartially': \n      return 'parts-ordered-partial';\n    case 'ArrivedPartially':\n      return 'parts-arrived-partial';\n    default:\n      return 'parts-not-ordered';\n    }\n  }\n\n  /**\n   * PartTypeIcon\n   *  @param type {string} \n   * \n   *  @returns {string}\n   */\n  PartTypetoolTip(type: string): string {\n    let Tooltip = '';\n    switch (type) {\n    case 'NotOrdered':\n      Tooltip = 'parts_not_ordered';\n      break;\n    case 'Ordered':\n      Tooltip = 'part_ordered';\n      break;\n    case 'Arrived':\n      Tooltip = 'part_arrived';\n      break;\n    case 'OrderedPartially': \n      Tooltip = 'part_ordered_partial';\n      break;\n    case 'ArrivedPartially':\n      Tooltip = 'part_arrived_partial';\n      break;\n    default:\n      Tooltip = 'parts_not_ordered';\n      break;\n    }\n    return this.translateService.instant(Tooltip);\n  }\n\n  /**\n   * booking url\n   */\n  bookingStatusUrl(repair: any): void {\n    const { Status, RepairGuid } = repair;\n    let routeToRedirect = RepairStatusMapper[Status?.toLowerCase()] || RepairStatusMapper.others;\n    routeToRedirect = routeToRedirect.replace('{{repairGUID}}', RepairGuid);\n    this.router.navigate([ routeToRedirect ]);\n  }\n\n  /**\n   * ngOnDestroy\n   */\n  ngOnDestroy(): void{\n    this.subs.forEach(sub=>sub.unsubscribe());\n    clearInterval(this.IntervalGetWorkflow);\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { EmailRequest } from 'src/app/dialogs/request-approval-dialog/request-approval-dialog.component';\nimport { environment } from 'src/environments/environment';\nimport { FileService } from '../file-service/file.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MessagesService {\n\n  /**\n   * constructor\n   * @param http \n   */\n  constructor(\n    private http: HttpClient,\n    private fileService:FileService\n  ) {\n  }\n\n  /**\n   * send approval message\n   */\n  sendApprovalMessage(data:any, repairGuid: string):Observable<any>{\n    const url = `${environment.caseMgmtUrl}/api/message/${repairGuid}/estimate-approval`;\n      return this.http.post(url, data);\n  }\n\n  /**\n   * get message template\n   */\n  getMessageTemplate(repairId:string, domainId: number, id:number):Observable<any>{\n    const url = `${environment.xaAggregationApi}/repaircommunicationtemplate/${repairId}/${domainId}/${id}`;\n    return this.http.get(url);\n  }\n\n  /**\n   * set message\n   */\n  setMessage(body, repairId):Observable<any>{\n    const url = `${environment.caseMgmtUrl}/api/message/${repairId}/send-message`;\n    return this.http.post(url, body);\n  }\n\n  /**\n   * send customer message\n   */\n  sendFreeCommunicationMessage(emailBody:EmailRequest, reportProgress?: boolean, observe?: 'events'):Observable<any>{\n    const url = `${environment.messageApi}/Message/email`;\n    const formData = new FormData();\n    formData.append('ToEmail', emailBody.email?.join(','));\n    if(emailBody.cc){\n      formData.append('CCEmail', emailBody.cc);\n    }\n    formData.append('Content', emailBody.message);\n    formData.append('Subject', emailBody.subject); \n    formData.append('ObjectId', emailBody.objectId);\n    if(emailBody.files && emailBody.files.length > 0){\n      emailBody.files.forEach((file) => {\n        formData.append('files', file);\n      });\n    }\n    return this.fileService.uploadFile(url, formData, reportProgress, observe);\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OutboundService {\n\n\n  /**\n   * @constructor\n   * @param {HttpClient} http\n   */\n  constructor(private http: HttpClient) {}\n\n  /**\n   * getDeparturesDetails\n   * @param {string} query\n   */\n  getDeparturesDetails(query: string) : Observable<any>{\n    //return of(departuresData)\n    const url = `${environment.caseMgmtUrl}/odata/departures?${query}`;\n    return this.http.get(url);\n  }\n\n  /**\n   * setPickupDate\n   * @param {string} date\n   * @param {string} repairId\n   */\n  setPickupDate(repairId: string, date: string, isPickedup) : Observable<any>{\n    const url = `${environment.caseMgmtUrl}/api/departures/${repairId}/pickupdate`;\n    return this.http.put(url, { 'pickUpDate': date, 'isPickedUp': isPickedup });\n  }\n\n  /**\n  * setPickupDate\n  * @param {string} date\n  * @param {string} repairId\n  */\n  getTaskDetails(repairId: string, jobId: string) : Observable<object>{\n    const url = `${environment.caseMgmtUrl}/api/departures/tasks/${repairId}/${jobId}`;\n    return this.http.get(url);\n  }\n  \n  /**\n   * setRepairStatusComplete\n   * @param {string} repairId\n   */\n  setRepairStatusComplete(repairId: string,): Observable<object>{\n    const url = `${environment.caseMgmtUrl}/api/repair/${repairId}/status`;\n    return this.http.put(url, { 'status': 'Complete', 'reason': 'repair complete' });\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WorkflowService {\n\n  /**\n   * @constructor\n   * @param {HttpClient} http\n   */\n  constructor(private http: HttpClient) {}\n\n  /**\n     * getWaterfallDetails\n     * @returns {Observable<any>}\n     */\n  getWorkflowDetails() : Observable<any>{\n\n    const url = `${environment.caseMgmtUrl}/odata/waterfall`;\n    return this.http.get(url);\n  }\n  \n  // eslint-disable-next-line require-jsdoc\n  getWorkflowDetailsWithQuery(query: string): Observable<any>{\n\n    const url = `${environment.caseMgmtUrl}/odata/waterfall${query}`;\n    return this.http.get(url);\n  }\n\n  /**\n * getDraftCustomer\n * @returns Observable\n */\n  public getCustomer(id: number): Observable<any> {\n    const url = `${environment.caseMgmtUrl}/api/waterfallcustomer?$filter=OrgId eq ${id}`;\n    return this.http.get(url);\n  }\n\n  /**\n   * update attention\n   * @param repairguid \n   * @param obj \n   * @returns \n   */\n  updateAttentionRequired(repairguid: string): Observable<any> {\n    const url = `${environment.caseMgmtUrl}/api/repair/${repairguid}`;\n    const obj = [ {\n      'path': 'isAttentionRequired',\n      'op': 'replace',\n      'value': 'false'\n    } ];\n    return this.http.patch(url, obj);\n  }\n\n}\n"]}