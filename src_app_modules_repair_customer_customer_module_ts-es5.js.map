{"version":3,"mappings":"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","names":["ReapirTableConfig","columns","id","sortable","header","text","tooltip","selector","field","widget","type","cellStyle","CasesTableConfig","CustomerTableConfig","CustomerCompanyTableConfig","_angular_core__WEBPACK_IMPORTED_MODULE_10__","ctx_r0","ctx_r2","ctx_r3","PATHS","repair","cases","caseStatusMapper","src_app_config_route_mapper_repair_status_mapper__WEBPACK_IMPORTED_MODULE_3__","repairStatusMapper","CustomerDetailsComponent","monitorService","customerService","route","commonService","router","xaCurrencyPipe","src_app_widgets_chq_paginator_chq_paginator_component__WEBPACK_IMPORTED_MODULE_0__","src_app_config_display_customer_details_config__WEBPACK_IMPORTED_MODULE_1__","src_app_model_menu__WEBPACK_IMPORTED_MODULE_2__","row","column","find","ele","_a","result","_b","value","clickedRawData","tableDataRepair","RepairNumber","routeToRedirect","Status","toLowerCase","navigate","replace","RepairGuid","tableDataCase","EstimateNumber","EstimationStatus","others","CaseGuid","sort","paginationRepair","Object","orderBy","active","sortDirection","direction","getRepairOrders","paginationCase","getCases","i18n","geti18nInfo","logEvent","userProfileData","subscribe","res","automotiveServices","data","userPermission","haveQuotePermissions","automotiveServiceName","params","customerId","uniqueId","userType","activeTab","tableConfigRepair","configDataRepair","tableConfigCase","configDataCase","count","totalCountRepair","currentPage","currentPageRepair","totalCountCase","currentPageCase","getUserDetails","userDetailsLoading","getCompanyDetails","then","response","userDetails","amount","amountReceived","amountDue","err","logException","_microsoft_applicationinsights_web__WEBPACK_IMPORTED_MODULE_13__","getCustomerDetails","showLoading","getReapirOrders","map","AmountDue","TotalInvoiceAmount","PaidAmount","FormattedTotalAmount","transform","currencySymbol","digitsInfo","locale","position","FormattedPaidAmount","FormattedDueAmount","hideLoading","FormattedTotalEstimateAmount","TotalEstimateAmount","event","pagination","pageSize","offset","pageChangedRepair","pageChangedCase","item","url","selectors","decls","vars","consts","template","ctx","_angular_core__WEBPACK_IMPORTED_MODULE_14__","ctx_r4","ctx_r5","ACTIVE_PATHS","COMPANY","PERSONAL","CustomerTableComponent","tableDataSer","caseService","calendarService","src_app_config_display_customer_table_config__WEBPACK_IMPORTED_MODULE_1__","personName","companyName","label","icon","onclick","applyFilter","bind","reSetFilter","options","placeHolder","name","displayValue","selectedOption","keyFieldName","isMultiSelect","required","getCustomers","paginationCompany","getCompanyCustomers","customerDetails","tableData","ContactId","next","Id","companyId","tableDataCompany","tableConfig","configData","tableConfigCompany","configDataCompany","paginationInfo","handlePaginationChange","getTotalDueAmountPerson","currentPageCompnay","getCompanyWorkProviders","responseB","length","workProviderFromBooking","CompanyOrgType","getTotalDueAmountCompany","dropdownModelFilter","observable","getProviders","onObservableLoad","onObservableLoadWorkProviderData","workProvider","dropdownModel","getObservable","subscription","userDetail","unsubscribe","queryParams","selectedCompanyForFilter","x","CompanyId","join","dueAmountClass","Amount","AmountReceived","undefined","dueAmountPrecent","FormattedCompanyName","CompanyName","LicenseNumber","_microsoft_applicationinsights_web__WEBPACK_IMPORTED_MODULE_17__","selectedFilter","dropdownModelFilterPerson","textToSearch","empName","showTotalDueAmountCompany","query","dueAmountCompanyClass","totalDueAmountCompany","TotalAmount","TotalAmountReceived","showTotalDueAmountPerson","dueAmountPersonClass","totalDueAmountPerson","pageChanged","pageChangedCompany","$event","organizationDetail","hideShowDropdown","dropdownModelCompany","getCustomer","onObservableLoadCompanyData","setTimeout","updateApplyButtonState","_c","nameTextBox","state","activeTabOptions","toString","input","applyButtonModel","key","keys","forEach","_d","items","i","html","filteredItems","filter","indexOf","dropdownOptions","viewQuery","path","component","_customer_list_customer_table_component__WEBPACK_IMPORTED_MODULE_3__","resolve","version","src_app_resolvers_versionControl_resolver__WEBPACK_IMPORTED_MODULE_0__","_customer_details_customer_details_component__WEBPACK_IMPORTED_MODULE_4__","CustomerTableModule","_angular_common__WEBPACK_IMPORTED_MODULE_7__","_angular_material_icon__WEBPACK_IMPORTED_MODULE_8__","src_app_icons_module__WEBPACK_IMPORTED_MODULE_1__","_angular_router__WEBPACK_IMPORTED_MODULE_9__","_angular_material_menu__WEBPACK_IMPORTED_MODULE_10__","src_app_widgets_chq_widgets_module__WEBPACK_IMPORTED_MODULE_2__","_angular_material_expansion__WEBPACK_IMPORTED_MODULE_11__","_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__","src_app_shared_shared_module__WEBPACK_IMPORTED_MODULE_5__","declarations","imports","VersionControlResolver","checkVersion","pipe","localVersion","localStorage","getItem","appVersion","buildRevision","setItem","location","reload","_angular_core__WEBPACK_IMPORTED_MODULE_4__","factory","providedIn","CustomerService","http","skip","src_environments_environment__WEBPACK_IMPORTED_MODULE_0__","get","_angular_core__WEBPACK_IMPORTED_MODULE_1__"],"sources":["webpack:///src/app/config/display/customer-details-config.ts","webpack:///src/app/config/display/customer-table-config.ts","webpack:///src/app/modules/repair/customer/customer-details/customer-details.component.html","webpack:///src/app/modules/repair/customer/customer-details/customer-details.component.ts","webpack:///src/app/modules/repair/customer/customer-list/customer-table.component.html","webpack:///src/app/modules/repair/customer/customer-list/customer-table.component.ts","webpack:///src/app/modules/repair/customer/customer.module.ts","webpack:///src/app/resolvers/versionControl.resolver.ts","webpack:///src/app/services/customer/customer.service.ts"],"sourcesContent":["export const ReapirTableConfig = {\r\n  columns: [\r\n    {\r\n      id: 'Id',\r\n      sortable: true,\r\n      header: {\r\n        text: 'booking_id',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'RepairNumber',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      },\r\n      cellStyle: 'text-decoration: underline; color: var(--xa-primary);',\r\n    },\r\n    {\r\n      id: 'CreatedDate',\r\n      sortable: true,\r\n      header: {\r\n        text: 'creation_date',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'CreatedDate',\r\n      },\r\n      widget: {\r\n        type: 'dateTime'\r\n      },\r\n    },\r\n    {\r\n      id: 'VehicleMake',\r\n      sortable: true,\r\n      header: {\r\n        text: 'vehicle_make',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'VehicleMake',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'VehicleModel',\r\n      sortable: true,\r\n      header: {\r\n        text: 'vehicle_model',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'VehicleModel',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'LicensePlateNumber',\r\n      sortable: true,\r\n      header: {\r\n        text: 'license_plate',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'LicensePlateNumber',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'BookingType',\r\n      sortable: true,\r\n      header: {\r\n        text: 'booking_type',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'BookingType',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'RepairType',\r\n      sortable: true,\r\n      header: {\r\n        text: 'repair_type',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'RepairType',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'TotalInvoiceAmount',\r\n      sortable: true,\r\n      header: {\r\n        text: 'total_amount_invoiced',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'FormattedTotalAmount',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'PaidAmount',\r\n      sortable: true,\r\n      header: {\r\n        text: 'paid_amount',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'FormattedPaidAmount',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'AmountDue',\r\n      sortable: true,\r\n      header: {\r\n        text: 'due_amount',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'FormattedDueAmount',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'Status',\r\n      sortable: true,\r\n      header: {\r\n        text: 'status',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'Status',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n  ]\r\n}\r\n\r\n\r\nexport const CasesTableConfig = {\r\n  columns: [\r\n    {\r\n      id: 'Id',\r\n      sortable: true,\r\n      header: {\r\n        text: 'estimate_id',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'EstimateNumber',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      },\r\n      cellStyle: 'text-decoration: underline; color: var(--xa-primary);',\r\n    },\r\n    {\r\n      id: 'CreatedDate',\r\n      sortable: true,\r\n      header: {\r\n        text: 'creation_date',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'CreatedDate',\r\n      },\r\n      widget: {\r\n        type: 'dateTime'\r\n      },\r\n    },\r\n    {\r\n      id: 'VehicleMake',\r\n      sortable: true,\r\n      header: {\r\n        text: 'vehicle_make',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'VehicleMake',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'VehicleModel',\r\n      sortable: true,\r\n      header: {\r\n        text: 'vehicle_model',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'VehicleModel',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'LicensePlateNumber',\r\n      sortable: true,\r\n      header: {\r\n        text: 'license_plate',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'LicensePlateNumber',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'TotalEstimateAmount ',\r\n      sortable: true,\r\n      header: {\r\n        text: 'total_estimate_amount',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'FormattedTotalEstimateAmount',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    {\r\n      id: 'EstimationStatus',\r\n      sortable: true,\r\n      header: {\r\n        text: 'estimation_status',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'EstimationStatus',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      }\r\n    },\r\n  ]\r\n}","\r\nexport const CustomerTableConfig = {\r\n  columns: [\r\n    {\r\n      id: 'ContactId',\r\n      sortable: true,\r\n      header: {\r\n        text: 'id',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'ContactId',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      },\r\n      cellStyle: 'text-decoration: underline; color: var(--xa-primary);',\r\n    },\r\n    {\r\n      id: 'CreatedDate',\r\n      sortable: true,\r\n      header: {\r\n        text: 'creation_date',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'CreatedDate',\r\n      },\r\n      widget: {\r\n        type: 'dateTime'\r\n      }\r\n    },\r\n    {\r\n      id: 'FirstName',\r\n      sortable: true,\r\n      selector: {\r\n        field: 'FirstName',\r\n      },\r\n      header: {\r\n        text: 'first_name',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      },\r\n    },\r\n    {\r\n      id: 'LastName',\r\n      sortable: true,\r\n      selector: {\r\n        field: 'LastName',\r\n      },\r\n      header: {\r\n        text: 'last_name',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      },\r\n    },\r\n    {\r\n      id: 'MobileNumber',\r\n      sortable: true,\r\n      selector: {\r\n        field: 'MobileNumber',\r\n      },\r\n      header: {\r\n        text: 'mobile_number',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      },\r\n    },\r\n    {\r\n      id: 'Email',\r\n      sortable: true,\r\n      selector: {\r\n        field: 'Email',\r\n      },\r\n      header: {\r\n        text: 'email_address',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      },\r\n    },\r\n    {\r\n      id: 'Amount',\r\n      sortable: true,\r\n      selector: {\r\n        field: 'FormattedTotalAmount',\r\n      },\r\n      cellStyle: 'justify-content:center;',\r\n      header: {\r\n        text: 'total_amount_invoiced',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      },\r\n    },\r\n    {\r\n      id: 'AmountReceived',\r\n      sortable: true,\r\n      cellStyle: 'justify-content:center;',\r\n      selector: {\r\n        field: 'FormattedPaidAmount',\r\n      },\r\n      header: {\r\n        text: 'paid_amount',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      },\r\n    },\r\n    {\r\n      id: 'AmountDue',\r\n      sortable: true,\r\n      cellStyle: 'justify-content:center;',\r\n      selector: {\r\n        field: 'FormattedDueAmount',\r\n      },\r\n      header: {\r\n        text: 'due_amount',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'html',\r\n      },\r\n    }\r\n  ]\r\n}\r\n\r\nexport const CustomerCompanyTableConfig = {\r\n  columns: [\r\n    {\r\n      id: 'ContactId',\r\n      sortable: true,\r\n      header: {\r\n        text: 'id',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'ContactId',\r\n      },\r\n      widget: {\r\n        type: 'text'\r\n      },\r\n      cellStyle: 'text-decoration: underline; color: var(--xa-primary);',\r\n    },\r\n    {\r\n      id: 'CreatedDate',\r\n      sortable: true,\r\n      header: {\r\n        text: 'creation_date',\r\n        tooltip: '',\r\n      },\r\n      selector: {\r\n        field: 'CreatedDate',\r\n      },\r\n      widget: {\r\n        type: 'dateTime'\r\n      }\r\n    },\r\n    {\r\n      id: 'CompanyName',\r\n      sortable: true,\r\n      selector: {\r\n        field: 'FormattedCompanyName',\r\n      },\r\n      header: {\r\n        text: 'company_name',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'html',\r\n      },\r\n    },\r\n    {\r\n      id: 'Amount',\r\n      sortable: true,\r\n      selector: {\r\n        field: 'FormattedTotalAmount',\r\n      },\r\n      header: {\r\n        text: 'total_amount_invoiced',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      },\r\n      cellStyle: 'justify-content:center;',\r\n    },\r\n    {\r\n      id: 'AmountReceived',\r\n      sortable: true,\r\n      selector: {\r\n        field: 'FormattedPaidAmount',\r\n      },\r\n      header: {\r\n        text: 'paid_amount',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'text',\r\n      },\r\n      cellStyle: 'justify-content:center;',\r\n    },\r\n    {\r\n      id: 'AmountDue',\r\n      sortable: true,\r\n      selector: {\r\n        field: 'FormattedDueAmount',\r\n      },\r\n      header: {\r\n        text: 'due_amount',\r\n        tooltip: '',\r\n      },\r\n      widget: {\r\n        type: 'html',\r\n      },\r\n      cellStyle: 'justify-content:center;',\r\n    }\r\n  ]\r\n}","<div class=\"main-customer-details fx-col\">\r\n    <section class=\"header d-flex align-center position-relative fx-0\">\r\n        <div class=\"\">\r\n            <div class=\"back-section d-flex align-center\" (click)=\"handleBackClick()\">\r\n                <mat-icon [svgIcon]=\"'left-arrow'\" class=\"cross\"></mat-icon> \r\n                <span>{{ 'back' | translate}} / {{userType | translate}}  </span>\r\n            </div>\r\n            <chq-tabs *ngIf=\"haveQuotePermissions\" [mode]=\"'button'\" [menuItems]=\"customerDetailsMenus\" (menuItemClick)=\"navigate($event);\"></chq-tabs>\r\n        </div>\r\n        <div class=\"user-details\" *ngIf=\"userDetails && !userDetailsLoading\">\r\n            <mat-accordion *ngIf=\"userType === 'company'\">\r\n                <mat-expansion-panel (opened)=\"panelOpenState = true\" (closed)=\"panelOpenState = false\">\r\n                <mat-expansion-panel-header>\r\n                    <mat-panel-title>\r\n                        <h4>{{ userDetails?.companyName }}</h4>\r\n                        <p class=\"sub-heading\">\r\n                            <label >{{ 'contact_id' | translate }}:</label>  \r\n                            {{userDetails?.contactId }}\r\n                        </p>\r\n                    </mat-panel-title>\r\n                </mat-expansion-panel-header>\r\n                <div>\r\n                    <p class=\"expanded-sub-heading\"><label>{{ 'creation_date' | translate }}:</label>  {{userDetails?.createdDate | date:'dd/MM/YYYY hh:mm:ss'}}</p>\r\n                    <p class=\"expanded-sub-heading\"><label>{{ 'total_invoiced' | translate }}:</label>  {{userDetails?.amount | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</p>\r\n                    <p class=\"expanded-sub-heading\"><label>{{ 'paid_amount' | translate }}:</label>  {{userDetails?.amountReceived | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</p>\r\n                    <p class=\"expanded-sub-heading\"><label>{{ 'due_amount' | translate }}:</label>  {{userDetails?.amountDue | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</p>\r\n                    <p class=\"expanded-sub-heading\"><label>{{ 'contact_name' | translate }}:</label>  {{userDetails?.contactName}}</p>\r\n                    <!-- <p class=\"expanded-sub-heading\"><label>{{ 'contact_surname' | translate }}:</label>  {{userDetails?.ContactSurname}}</p> -->\r\n                    <p class=\"expanded-sub-heading\"><label>{{ 'contact_phone' | translate }}:</label>  {{userDetails?.contactPhoneNumber}}</p>\r\n                    <p class=\"expanded-sub-heading\"><label>{{ 'contact_email' | translate }}:</label>  {{userDetails?.contactEmail}}</p>\r\n                </div>\r\n                </mat-expansion-panel>\r\n            </mat-accordion>\r\n\r\n            <mat-accordion *ngIf=\"userType === 'individual'\">\r\n                <mat-expansion-panel (opened)=\"panelOpenState = true\" (closed)=\"panelOpenState = false\">\r\n                <mat-expansion-panel-header>\r\n                    <mat-panel-title>\r\n                        <h4>{{ userDetails?.firstName }} {{ userDetails?.lastName }}</h4>\r\n                        <p class=\"sub-heading\"><label>{{ 'contact_id' | translate }}:</label>  {{userDetails?.contactId }}</p>\r\n                    </mat-panel-title>\r\n                </mat-expansion-panel-header>\r\n                <div>\r\n                    <p class=\"expanded-sub-heading\"><label>{{ 'email' | translate }}:</label>  {{userDetails.email}}</p>\r\n                    <p class=\"expanded-sub-heading\"><label>{{ 'phone_number' | translate }}:</label>  {{userDetails.mobileNumber}}</p>\r\n                </div>\r\n                </mat-expansion-panel>\r\n            </mat-accordion>\r\n        </div>\r\n    </section>\r\n    <div class=\"table-section fx-1\">\r\n        <section *ngIf=\"this.activeTab === this.tabOptions.repair\">\r\n            <div class=\"table-container\">\r\n                <div class=\"table-wrapper\">\r\n                    <chq-mat-table \r\n                        [config]=\"tableConfigRepair\" \r\n                        [tableData]=\"tableDataRepair\" \r\n                        [cellClicked]=\"handleCellClickRepair\"\r\n                        [sortChanged]=\"handleSortChangeRepair\" \r\n                        [pageChanged]=\"pageChangedRepair\" [i18n]=\"i18n\"\r\n                    ></chq-mat-table>\r\n                </div>\r\n                <div class=\"pagination-wrapper\" *ngIf=\"tableDataRepair?.length > 0 && (paginationRepair.count > paginationRepair.pageSize)\">\r\n                    <chq-paginator #paginator (paginationChange)=\"handlePaginationChangeReapir($event)\"\r\n                        [pagination]=\"paginationRepair\">\r\n                    </chq-paginator>\r\n                </div>        \r\n            </div>\r\n        </section>\r\n        <section *ngIf=\"this.activeTab === this.tabOptions.cases\">\r\n            <div class=\"table-container\">\r\n                <div class=\"table-wrapper\">\r\n                    <chq-mat-table [config]=\"tableConfigCase\" [tableData]=\"tableDataCase\" [cellClicked]=\"handleCellClickCase\"\r\n                    [sortChanged]=\"handleSortChangeCase\"\r\n                    [pageChanged]=\"pageChangedCase\" [i18n]=\"i18n\"></chq-mat-table>\r\n                </div>\r\n                <div class=\"pagination-wrapper\" *ngIf=\"tableDataCase?.length > 0 && (paginationCase.count > paginationCase.pageSize)\">\r\n                    <chq-paginator #paginator (paginationChange)=\"handlePaginationChangeCase($event)\"\r\n                        [pagination]=\"paginationCase\">\r\n                    </chq-paginator>\r\n                </div>        \r\n            </div>\r\n        </section> \r\n    </div>\r\n    <footer>\r\n        <div class=\"footer-full-wrapper\">\r\n            <div class=\"footer-image-wrapper\">\r\n                <div class=\"image-wrapper\">\r\n                    <img src=\"assets/img/addenda-repair.png\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </footer>\r\n</div>","import { Component } from '@angular/core';\r\nimport { CellClickedCallback, SortChangedCallback, TableCellData, TableConfig, TableRowData } from 'src/app/widgets/chq-mat-table/chq-mat-table.component';\r\nimport { Sort } from '@angular/material/sort';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { ApiPagination, defaultPagination, PaginateInfo } from 'src/app/widgets/chq-paginator/chq-paginator.component';\r\nimport { CustomerService } from 'src/app/services/customer/customer.service';\r\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\r\nimport { ReapirTableConfig, CasesTableConfig } from 'src/app/config/display/customer-details-config';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { customerDetailsMenus, menuItem } from 'src/app/model/menu';\r\nimport { formatCurrency, formatNumber } from '@angular/common';\r\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\r\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\r\nimport { XaCurrencyPipe } from 'src/app/helper/pipe/xa-currency/xa-currency.pipe';\r\n\r\nimport { CaseStatusMapper, RepairStatusMapper } from 'src/app/config/route-mapper/repair-status-mapper';\r\nconst PATHS = {\r\n  repair: 'repair-order',\r\n  cases: 'estimates'\r\n}\r\n\r\nconst caseStatusMapper = CaseStatusMapper\r\n\r\nconst repairStatusMapper = RepairStatusMapper\r\n\r\n@Component({\r\n  selector: 'customer-details',\r\n  templateUrl: './customer-details.component.html',\r\n  styleUrls: [ './customer-details.component.scss' ]\r\n})\r\nexport class CustomerDetailsComponent {\r\n  panelOpenState = false;\r\n  public tableConfigRepair: TableConfig;\r\n  public tableDataRepair: any;\r\n  public pageChangedRepair: boolean = false;\r\n  public paginationRepair: ApiPagination = defaultPagination;\r\n  public static currentPageRepair: number = 1;\r\n  public totalCountRepair: number = 0;\r\n  private readonly configDataRepair: any = ReapirTableConfig;\r\n\r\n\r\n  public tableConfigCase: TableConfig;\r\n  public tableDataCase: any;\r\n  public pageChangedCase: boolean = false;\r\n  public paginationCase: ApiPagination = defaultPagination;\r\n  public static currentPageCase: number = 1;\r\n  public totalCountCase: number = 0;\r\n  private readonly configDataCase: any = CasesTableConfig;\r\n\r\n\r\n  public userDetails: any = {};\r\n  public customerId: string = '';\r\n  public uniqueId: string = '';\r\n  public userType: string = '';\r\n  public haveQuotePermissions: boolean = false;\r\n  public userDetailsLoading: boolean = false;\r\n\r\n  // Tabs Menu\r\n  public customerDetailsMenus = customerDetailsMenus;\r\n  public activeTab: string = ''\r\n  public tabOptions = PATHS;\r\n  \r\n  i18n: i18nInfo;\r\n\r\n  /**\r\n    Constructor for the CustomerService class.\r\n    @constructor\r\n    @param {CustomerService} customerService - The CustomerService instance to be used in the constructor.\r\n    @param {CommonService} commonService - The CommonService instance to be used in the constructor.\r\n    @param {Router} router - The Router instance.\r\n  */\r\n  constructor(\r\n    private monitorService: MonitorService,\r\n    private customerService: CustomerService,\r\n    private route: ActivatedRoute,\r\n    private commonService: CommonService,\r\n    private router: Router,\r\n    private xaCurrencyPipe: XaCurrencyPipe) {\r\n    this.i18n = this.commonService.geti18nInfo();\r\n  }\r\n\r\n  /**\r\n    Lifecycle hook that is called after the component is initialized.\r\n    @returns {Promise} A promise that resolves when the initialization is complete.\r\n  */\r\n  async ngOnInit(): Promise<void> {\r\n    this.monitorService.logEvent('ngOnInit', [ 'CustomerDetailsComponent', 'addenda-repair' ]);\r\n\r\n    this.commonService.userProfileData.subscribe((res: any) => {\r\n      const automotiveServices = res?.data?.userPermission?.automotiveServices || []; \r\n      this.haveQuotePermissions = automotiveServices.find(ele => ele.automotiveServiceName === 'Carheal Quote')\r\n    })\r\n\r\n    this.route.params.subscribe((params) => {\r\n      this.customerId = params['contactId'];\r\n      this.uniqueId = params['id'];\r\n      this.userType = params['userType']; \r\n\r\n      this.activeTab = params['orderType'];\r\n      this.tableConfigRepair = this.configDataRepair;\r\n      this.tableConfigCase = this.configDataCase;\r\n\r\n      this.paginationRepair = {\r\n        ...this.paginationRepair, ...{\r\n          count: this.totalCountRepair,\r\n          currentPage: CustomerDetailsComponent.currentPageRepair,\r\n          orderBy: 'CreatedDate',\r\n          sortDirection: 'desc'\r\n        }\r\n      };\r\n      this.paginationCase = {\r\n        ...this.paginationCase, ...{\r\n          count: this.totalCountCase,\r\n          currentPage: CustomerDetailsComponent.currentPageCase,\r\n          orderBy: 'CreatedDate',\r\n          sortDirection: 'desc'\r\n        }\r\n      };\r\n      if(this.activeTab === PATHS.repair) this.getRepairOrders();\r\n      else this.getCases();\r\n      this.getUserDetails();\r\n    });\r\n\r\n    \r\n  }\r\n\r\n  /**\r\n    Get Customer details\r\n    @returns {Promise} A promise that resolves when the repair orders are retrieved and the table data is updated.\r\n  */\r\n  public async getUserDetails(): Promise<any> {\r\n    if(this.userType === 'company') {\r\n      this.userDetailsLoading = true;\r\n      return firstValueFrom(this.customerService.getCompanyDetails(this.customerId)).then((response) => {\r\n        if(response?.data) {\r\n          this.userDetails = response.data;\r\n          if(!this.userDetails.amount) this.userDetails.amount = 0\r\n          if(!this.userDetails.amountReceived) this.userDetails.amountReceived = 0\r\n          if(!this.userDetails.amountDue) this.userDetails.amountDue = 0\r\n          this.userDetailsLoading = false;\r\n        }\r\n      }).catch((err) => {\r\n        this.monitorService.logException(err, SeverityLevel.Error);\r\n      });\r\n    } else {\r\n      this.userDetailsLoading = true;\r\n      return firstValueFrom(this.customerService.getCustomerDetails(this.uniqueId)).then((response) => {\r\n        if(response?.data) {\r\n          this.userDetails = response.data;\r\n          this.userDetailsLoading = false;\r\n        }\r\n      }).catch((err) => {\r\n        this.monitorService.logException(err, SeverityLevel.Error);\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n    Retrieves repair orders from the customer service and updates the table data for the repair orders.\r\n    @returns {Promise} A promise that resolves when the repair orders are retrieved and the table data is updated.\r\n  */\r\n  public async getRepairOrders(): Promise<any> {\r\n    this.commonService.showLoading();\r\n    return firstValueFrom(this.customerService.getReapirOrders(this.customerId, this.userType, this.paginationRepair)).then((response) => {\r\n      const result = response.value\r\n      result.map((ele) => {\r\n        ele.AmountDue = ele.TotalInvoiceAmount - ele.PaidAmount;\r\n        ele.FormattedTotalAmount = ele.TotalInvoiceAmount ? this.xaCurrencyPipe.transform(ele.TotalInvoiceAmount, this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) : '-'\r\n        ele.FormattedPaidAmount = ele.PaidAmount ? this.xaCurrencyPipe.transform(ele.PaidAmount, this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) : '-'\r\n        ele.FormattedDueAmount = ele.TotalInvoiceAmount ? this.xaCurrencyPipe.transform(ele.AmountDue, this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) : '-'\r\n      })\r\n      this.tableDataRepair = result;\r\n      this.paginationRepair = { ...this.paginationRepair, count: response['@odata.count'] || 0 };\r\n      this.commonService.hideLoading();\r\n    }).catch((err) => {\r\n      this.monitorService.logException(err, SeverityLevel.Error);\r\n      this.commonService.hideLoading();\r\n    });\r\n  }\r\n\r\n  /**\r\n    Retrieves cases from the customer service and updates the table data with the response.\r\n    @returns {Promise} A promise that resolves when the cases are retrieved and the table data is updated.\r\n  */\r\n  public async getCases(): Promise<any> {\r\n    this.commonService.showLoading();\r\n    return firstValueFrom(this.customerService.getCases(this.customerId, this.userType, this.paginationCase)).then((response) => {\r\n      const result = response.value\r\n      result.map((ele) => {\r\n        ele.FormattedTotalEstimateAmount = ele.TotalEstimateAmount ? this.xaCurrencyPipe.transform(ele.TotalEstimateAmount, this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) : '-'\r\n      })\r\n      this.tableDataCase = result;\r\n      this.paginationCase = { ...this.paginationCase, count: response['@odata.count'] || 0 };\r\n      this.commonService.hideLoading();\r\n    }).catch((err) => {\r\n      this.monitorService.logException(err, SeverityLevel.Error);\r\n      this.commonService.hideLoading();\r\n    });\r\n  }\r\n\r\n  /**\r\n    @description Handles a cell click event for a repair table.\r\n    @param {TableRowData} row - The row data for the clicked cell.\r\n    @param {Partial} column - The column data for the clicked cell.\r\n    @returns {void}\r\n  */\r\n  handleCellClickRepair: CellClickedCallback = (row: TableRowData, column: Partial<TableCellData>): void => {\r\n    if(column.id === 'Id') {\r\n      const id = row.find(ele => ele.id === column.id)?.result?.value;\r\n      if(id) {\r\n        const clickedRawData = this.tableDataRepair.find(ele => ele.RepairNumber === id)\r\n        if(clickedRawData) {\r\n          const routeToRedirect = RepairStatusMapper[clickedRawData.Status.toLowerCase()] || RepairStatusMapper.others;\r\n          this.router.navigate([ routeToRedirect.replace('{{repairGUID}}', clickedRawData.RepairGuid) ]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n    @description Handles a cell click event for a case.\r\n    @param {TableRowData} row - The row data for the clicked cell.\r\n    @param {Partial} column - The column data for the clicked cell.\r\n    @returns {void}\r\n  */\r\n  handleCellClickCase: CellClickedCallback = (row: TableRowData, column: Partial<TableCellData>): void => {\r\n    if(column.id === 'Id') {\r\n      const id = row.find(ele => ele.id === column.id)?.result?.value;\r\n      if(id) {\r\n        const clickedRawData = this.tableDataCase.find(ele => ele.EstimateNumber === id)\r\n        if(clickedRawData) {\r\n          const routeToRedirect = caseStatusMapper[clickedRawData.EstimationStatus.toLowerCase()] || caseStatusMapper.others;\r\n          this.router.navigate([ routeToRedirect.replace('{{caseGUID}}', clickedRawData.CaseGuid) ]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n    A function that handles a change in the sorting of data for a repair table.\r\n    @param {Sort} sort - The new sorting criteria.\r\n    @returns {void}\r\n  */\r\n  handleSortChangeRepair: SortChangedCallback = (sort: Sort): void => {\r\n    if (sort) {\r\n      this.paginationRepair = { ...this.paginationRepair, ...{ orderBy: sort.active, sortDirection: sort.direction } };\r\n      this.getRepairOrders()\r\n    }\r\n  }\r\n\r\n  /**\r\n    @description Handles a change in the sorting of data for a case table.\r\n    @param {Sort} sort - The new sorting criteria.\r\n    @returns {void}\r\n  */\r\n  handleSortChangeCase: SortChangedCallback = (sort: Sort): void => {\r\n    if (sort) {\r\n      this.paginationCase = { ...this.paginationCase, ...{ orderBy: sort.active, sortDirection: sort.direction } };\r\n      this.getCases()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handlePaginationChange\r\n   * @param event\r\n   */\r\n  handlePaginationChangeReapir(event: PaginateInfo): void {\r\n    const pagination: ApiPagination = {\r\n      pageSize: event.pageSize,\r\n      offset: event.offset,\r\n      currentPage: event.currentPage\r\n    };\r\n\r\n    this.paginationRepair.currentPage = event.currentPage;\r\n    this.paginationRepair = { ...this.paginationRepair, ...pagination };\r\n\r\n    this.pageChangedRepair = true;\r\n    this.getRepairOrders()\r\n  }\r\n\r\n  /**\r\n   * handlePaginationChange\r\n   * @param event\r\n   */\r\n  handlePaginationChangeCase(event: PaginateInfo): void {\r\n    const pagination: ApiPagination = {\r\n      pageSize: event.pageSize,\r\n      offset: event.offset,\r\n      currentPage: event.currentPage\r\n    };\r\n\r\n    this.paginationCase.currentPage = event.currentPage;\r\n    this.paginationCase = { ...this.paginationCase, ...pagination };\r\n\r\n    this.pageChangedCase = true;\r\n    this.getCases()\r\n  }\r\n\r\n  /**\r\n    Navigates to the specified menu item's URL using the Angular Router.\r\n    @param {menuItem} item - The menu item to navigate to.\r\n    @returns {void}\r\n  */\r\n  navigate(item:menuItem): void{\r\n    const url = item.url;\r\n    if(this.userType && this.customerId) {\r\n      this.router.navigate([ url.replace('{userType}', this.userType).replace('{customerId}', this.customerId).replace('{id}', this.uniqueId) ]);\r\n    }\r\n    \r\n  }\r\n\r\n  /**\r\n    Navigates to the customer listing based on usertype using the Angular Router.\r\n    @returns {void}\r\n  */\r\n  handleBackClick(): void{\r\n    this.router.navigate([ '/repair/customers/{userType}'.replace('{userType}', this.userType) ]);\r\n  }\r\n}\r\n","<div class=\"main-customer-list customer-list fx-col\">\r\n    <div class=\"header-container fx-0\">\r\n        <chq-tabs [mode]=\"'button'\" [menuItems]=\"customerListMenus\" (menuItemClick)=\"navigate($event);\"></chq-tabs>\r\n        <div class=\"filter\" *ngIf=\"this.activeTab === activeTabOptions.COMPANY\">\r\n            <chq-dropdown [dropdownModel]=\"dropdownModelFilter\" #workProvider \r\n                (selected)=\"selectFilter($event)\" class=\"company-filter-dropdown\">\r\n            </chq-dropdown>\r\n            <chq-dropdown #companyName *ngIf=\"input.companyName\" [dropdownModel]=\"dropdownModelCompany\" (selected)=\"selectFilter($event)\" class=\"bodyShop-filter-dropdown\">\r\n            </chq-dropdown>\r\n            <chq-button [buttonModel]=\"applyButtonModel\"></chq-button>\r\n            <chq-button [buttonModel]=\"resetButtonModel\"></chq-button>\r\n        </div>\r\n        <div class=\"filter\" *ngIf=\"this.activeTab === activeTabOptions.PERSONAL\">\r\n            <chq-dropdown [dropdownModel]=\"dropdownModelFilterPerson\" #filterPerson\r\n                (selected)=\"selectFilter($event)\" class=\"person-filter-dropdown\">\r\n            </chq-dropdown>\r\n            <chq-input *ngIf=\"input.personName\" [inputModel]=\"nameTextBox\" (controlOutput)=\"updateInput($event)\">\r\n            </chq-input>\r\n            <chq-button [buttonModel]=\"applyButtonModel\"></chq-button>\r\n            <chq-button [buttonModel]=\"resetButtonModel\"></chq-button>\r\n        </div>\r\n\r\n    </div>\r\n    <div class=\"pending-amount fx-0\">\r\n        <div class=\"total-due-amount\" *ngIf=\"activeTab === activeTabOptions.PERSONAL && tableData?.length > 0 && showTotalDueAmountPerson\">\r\n            <span>{{'total_due_amount' | translate}}: \r\n                <span *ngIf=\"totalDueAmountPerson !== '-'\" class=\"{{dueAmountPersonClass}}\">{{totalDueAmountPerson | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</span> \r\n                <span *ngIf=\"totalDueAmountPerson === '-'\">{{totalDueAmountPerson}}</span> \r\n            </span>\r\n        </div>\r\n        <div class=\"total-due-amount\" *ngIf=\"activeTab === activeTabOptions.COMPANY && tableDataCompany?.length > 0 && showTotalDueAmountCompany\">\r\n            <span>{{'total_due_amount' | translate}}: \r\n                <span *ngIf=\"totalDueAmountCompany !== '-'\" class=\"{{dueAmountCompanyClass}}\">{{totalDueAmountCompany | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</span> \r\n                <span *ngIf=\"totalDueAmountCompany === '-'\">{{totalDueAmountCompany}}</span> \r\n            </span>\r\n        </div>\r\n    </div>\r\n    <div class=\"table-section fx-1\">\r\n        <div class=\"table-container\" *ngIf=\"activeTab === activeTabOptions.PERSONAL\">\r\n            <div class=\"table-wrapper\">\r\n                <chq-mat-table [config]=\"tableConfig\" [tableData]=\"tableData\" [sortChanged]=\"handleSortChange\"\r\n                [pageChanged]=\"pageChanged\" [cellClicked]=\"handleCellClick\" [i18n]=\"i18n\"></chq-mat-table>\r\n            </div>\r\n            <div class=\"pagination-wrapper\" *ngIf=\"tableData?.length > 0 && (pagination.count > pagination.pageSize)\">\r\n                <chq-paginator #paginator (paginationChange)=\"handlePaginationChange($event)\"\r\n                    [pagination]=\"pagination\">\r\n                </chq-paginator>\r\n            </div>      \r\n        </div>\r\n        <div class=\"table-container\" *ngIf=\"activeTab === activeTabOptions.COMPANY\">\r\n            <div class=\"table-wrapper\">\r\n                <chq-mat-table [config]=\"tableConfigCompany\" [tableData]=\"tableDataCompany\" [sortChanged]=\"handleSortChangeCompany\"\r\n                [pageChanged]=\"pageChangedCompany\" [cellClicked]=\"handleCellClickCompany\" [i18n]=\"i18n\"></chq-mat-table>\r\n            </div>\r\n            <div class=\"pagination-wrapper\" *ngIf=\"tableDataCompany?.length > 0 && (paginationCompany.count > pagination.pageSize)\">\r\n                <chq-paginator #paginatorCompany (paginationChange)=\"handlePaginationChangeCompany($event)\"\r\n                    [pagination]=\"paginationCompany\">\r\n                </chq-paginator>\r\n            </div>      \r\n        </div>\r\n    </div>\r\n    <div class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/addenda-repair.png\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { Sort } from '@angular/material/sort';\r\nimport { Subscription, firstValueFrom } from 'rxjs';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { ChqWidgetsDropdownModel } from 'src/app/model/chq-widgets-dropdown-model';\r\nimport { ChqWidgetsInputModel, IControlValue } from 'src/app/model/chq-widgets-input-model';\r\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\r\nimport { ChqDropdownComponent } from 'src/app/widgets/chq-dropdown/chq-dropdown.component';\r\nimport { CellClickedCallback, SortChangedCallback, TableCellData, TableConfig, TableRowData } from 'src/app/widgets/chq-mat-table/chq-mat-table.component';\r\nimport { ApiPagination, PaginateInfo, defaultPagination } from 'src/app/widgets/chq-paginator/chq-paginator.component';\r\nimport { CustomerService } from 'src/app/services/customer/customer.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CustomerCompanyTableConfig, CustomerTableConfig } from 'src/app/config/display/customer-table-config';\r\nimport { customerListMenus, menuItem } from 'src/app/model/menu';\r\nimport { CaseService } from 'src/app/services/case/case.service';\r\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\r\nimport { XaCurrencyPipe } from 'src/app/helper/pipe/xa-currency/xa-currency.pipe';\r\nimport { CalendarService } from 'src/app/services/calendar/calendar.service';\r\n\r\nconst ACTIVE_PATHS = {\r\n  COMPANY: 'company',\r\n  PERSONAL: 'individual'\r\n}\r\n\r\n@Component({\r\n  selector: 'add-customer-table',\r\n  templateUrl: './customer-table.component.html',\r\n  styleUrls: [ './customer-table.component.scss' ],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class CustomerTableComponent implements OnInit {\r\n\r\n  // Personal Customer list variables\r\n  public pageChanged: boolean = false;\r\n  public tableConfig: TableConfig;\r\n  public pagination: ApiPagination = defaultPagination;\r\n  public static currentPage: number = 1;\r\n  private readonly configData: any = CustomerTableConfig;\r\n  public tableData: any;\r\n  public textToSearch: string = '';\r\n\r\n  // Filter variable\r\n  @ViewChild('companyName') companyName: ChqDropdownComponent;\r\n  @ViewChild('workProvider') workProvider: ChqDropdownComponent;\r\n  public input: any = { personName: false, companyName: false };\r\n\r\n  // Tabs Menu\r\n  public customerListMenus = customerListMenus;\r\n  public activeTab: string = ''\r\n  public activeTabOptions = ACTIVE_PATHS\r\n\r\n  // Company Customer list variables\r\n  public pageChangedCompany: boolean = false;\r\n  public tableConfigCompany: TableConfig;\r\n  public paginationCompany: ApiPagination = defaultPagination;\r\n  public static currentPageCompnay: number = 1;\r\n  private readonly configDataCompany: any = CustomerCompanyTableConfig;\r\n  public tableDataCompany: any;\r\n  public workProviderFromBooking: Array<string> = [];\r\n  public selectedCompanyForFilter = [] \r\n\r\n  // Extra Variables\r\n  public dueAmountPersonClass = '';\r\n  public dueAmountCompanyClass = '';\r\n  public totalDueAmountCompany: any = 0;\r\n  public totalDueAmountPerson:any = 0;\r\n  public showTotalDueAmountCompany = false;\r\n  public showTotalDueAmountPerson = false;\r\n  public userDetail;\r\n  private subscription: Subscription;\r\n  public applyButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'apply',\r\n    type: 'disabled',\r\n    icon: '',\r\n    onclick: this.applyFilter.bind(this)\r\n  }\r\n  public resetButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'reset_all',\r\n    type: 'outline',\r\n    icon: '',\r\n    onclick: this.reSetFilter.bind(this)\r\n  }\r\n\r\n  // Company Filter\r\n  public dropdownModelFilter: ChqWidgetsDropdownModel = {\r\n    options: [ ],\r\n    placeHolder: 'select_type',\r\n    label: 'select_type',\r\n    name: 'filterDropdown',\r\n    displayValue: 'label',\r\n    selectedOption: { label: '' }\r\n  };\r\n\r\n  public dropdownModelCompany: ChqWidgetsDropdownModel = {\r\n    options: [],\r\n    placeHolder: 'company_name',\r\n    label: 'company_name',\r\n    name: 'companyDropdown',\r\n    displayValue: 'companyName',\r\n    keyFieldName: 'CompanyId',\r\n    selectedOption: [],\r\n    isMultiSelect: true\r\n  };\r\n\r\n  //PERSONAL Filters\r\n  public dropdownModelFilterPerson: ChqWidgetsDropdownModel = {\r\n    options: [ { label: 'Retail - Individual' } ],\r\n    placeHolder: 'select_type',\r\n    label: 'select_type',\r\n    name: 'filterDropdownPerson',\r\n    displayValue: 'label',\r\n    selectedOption: { label: '' }\r\n  };\r\n\r\n  public nameTextBox: ChqWidgetsInputModel = {\r\n    placeHolder: 'customer_name',\r\n    label: 'customer_name',\r\n    name: 'name',\r\n    type: 'text',\r\n    value: '',\r\n    required: false\r\n  }\r\n\r\n  i18n: i18nInfo;\r\n\r\n  /**\r\n   * constructor\r\n   * @param monitorService \r\n   * @param commonService \r\n   * @param tableDataSer \r\n   */\r\n  constructor(\r\n    private monitorService: MonitorService,\r\n    private commonService: CommonService,\r\n    private tableDataSer: CustomerService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private caseService: CaseService,\r\n    private xaCurrencyPipe: XaCurrencyPipe,\r\n    private calendarService: CalendarService,\r\n  ) {\r\n    this.i18n = this.commonService.geti18nInfo();\r\n  }\r\n\r\n  /**\r\n   * on init\r\n   */\r\n  ngOnInit(): void {\r\n    this.monitorService.logEvent('ngOnInit', [ 'CustomerTableComponent', 'addenda-repair' ]);\r\n    this.tableConfig = this.configData;\r\n    this.tableConfigCompany = this.configDataCompany\r\n\r\n    this.route.params.subscribe(async (params) => {\r\n      this.activeTab = params['userType'];\r\n      if (this.activeTab === ACTIVE_PATHS.PERSONAL) {\r\n        this.pagination = {\r\n          ...this.pagination, ...{\r\n            count: 0,\r\n            currentPage: CustomerTableComponent.currentPage,\r\n            orderBy: 'CreatedDate',\r\n            sortDirection: 'desc'\r\n          }\r\n        };\r\n\r\n        const paginationInfo: PaginateInfo = {\r\n          currentPage: CustomerTableComponent.currentPage,\r\n          offset: this.pagination.pageSize * (CustomerTableComponent.currentPage - 1),\r\n          pageSize: this.pagination.pageSize\r\n        }\r\n        this.handlePaginationChange(paginationInfo);\r\n        this.getTotalDueAmountPerson();\r\n      } else {\r\n        this.paginationCompany = {\r\n          ...this.paginationCompany, ...{\r\n            count: 0,\r\n            currentPage: CustomerTableComponent.currentPageCompnay,\r\n            orderBy: 'CreatedDate',\r\n            sortDirection: 'desc'\r\n          }\r\n        };\r\n        this.commonService.showLoading()\r\n        const responseB = await firstValueFrom(this.tableDataSer.getCompanyWorkProviders('$apply=groupby((CompanyOrgType))'));\r\n        if (responseB && responseB.length > 0) {\r\n          this.workProviderFromBooking = responseB.map(ele => ele.CompanyOrgType)\r\n        }\r\n        this.getCompanyCustomers();\r\n        this.getTotalDueAmountCompany()\r\n        if (!this.dropdownModelFilter.observable) {\r\n          this.dropdownModelFilter = {\r\n            ...this.dropdownModelFilter,\r\n            observable: this.caseService.getProviders(),\r\n            onObservableLoad: this.onObservableLoadWorkProviderData.bind(this)\r\n          }\r\n          this.workProvider.dropdownModel.observable = this.caseService.getProviders();\r\n          this.workProvider.getObservable();\r\n        }\r\n      }\r\n    });\r\n    this.subscription = this.commonService.userProfileData.subscribe((res) => {\r\n      this.userDetail = res?.data;\r\n    })\r\n  }\r\n\r\n  /**\r\n    @returns {void} ngOnDestroy for GenerateInvoicesComponent\r\n  */\r\n  ngOnDestroy(): void {\r\n    this.subscription.unsubscribe();\r\n  }\r\n\r\n  /**\r\n    Retrieves a list of customers for a company.\r\n    @returns {Promise} A promise that resolves with the list of customers.\r\n  */\r\n  public async getCompanyCustomers(): Promise<any> {\r\n    this.commonService.showLoading()\r\n    let queryParams = '';\r\n    if(this.selectedCompanyForFilter?.length > 0) {\r\n      queryParams = `$filter=(${this.selectedCompanyForFilter.map((x) => { return `ContactId eq ${x.CompanyId}` }).join(' or ')})`;\r\n    }\r\n    return firstValueFrom(this.tableDataSer.getCompanyCustomers(this.paginationCompany, queryParams)).then((response) => {\r\n      const result = response.value;\r\n      result.map((ele) => {\r\n        let dueAmountClass = '';\r\n        ele.AmountDue = ele.Amount - ele.AmountReceived;\r\n        if (ele.Amount && ele.AmountDue !== undefined) {\r\n          const dueAmountPrecent = (ele.AmountDue * 100) / ele.Amount\r\n          if (dueAmountPrecent >= 30) dueAmountClass = 'color-xa-dark-red';\r\n          if (dueAmountPrecent <= 10 && dueAmountPrecent > 0) dueAmountClass = 'col-xa-orange2';\r\n          if (dueAmountPrecent == 0) dueAmountClass = 'color-xa-repair-header';\r\n        }\r\n        ele.FormattedTotalAmount = ele.Amount ? this.xaCurrencyPipe.transform(ele.Amount, this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) : '-'\r\n        ele.FormattedPaidAmount = ele.AmountReceived ? this.xaCurrencyPipe.transform(ele.AmountReceived, this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) : '-'\r\n        ele.FormattedDueAmount = ele.Amount ?\r\n          '<span class=\"' + dueAmountClass + '\">' + this.xaCurrencyPipe.transform(ele.AmountDue, this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) : '-' + '</span>'\r\n        ele.FormattedCompanyName = ele.CompanyName ? `<span class=\"company-name\">${ele.CompanyName}${ele.LicenseNumber ? '-<i>' + ele.LicenseNumber + '</i>': ''}</span>` : ''  \r\n      })\r\n      this.tableDataCompany = result;\r\n      this.paginationCompany = { ...this.paginationCompany, count: response['@odata.count'] || 0 };\r\n      this.commonService.hideLoading();\r\n    }).catch((err) => {\r\n      this.monitorService.logException(err, SeverityLevel.Error);\r\n      this.commonService.hideLoading();\r\n    });\r\n  }\r\n\r\n\r\n  /**\r\n    Retrieves customer data from a table data service and sets it to the table data property.\r\n    If an error occurs, the apply button type is set to primary and the loading spinner is hidden.\r\n    @returns {Promise} A promise that resolves to the customer data or rejects with an error.\r\n  */\r\n  public async getCustomers(): Promise<any> { // individual customer list\r\n    const selectedFilter = this.dropdownModelFilterPerson.selectedOption?.label;\r\n    let queryParams = '';\r\n    switch (selectedFilter?.toLowerCase()) {\r\n    case 'retail - individual':\r\n      if (this.textToSearch != '') {\r\n        // To Fix typescript error convert the value to string by appending ''\r\n        const empName = this.textToSearch + '';\r\n        queryParams = `$filter=(contains(tolower(FirstName),'${empName.toLowerCase()}')) or (contains(tolower(LastName),'${empName.toLowerCase()}'))`;\r\n      }\r\n      break;\r\n    default:\r\n      break;\r\n    }\r\n\r\n    this.commonService.showLoading();\r\n    return firstValueFrom(this.tableDataSer.getCustomers(this.pagination, queryParams)).then((response) => {\r\n      const result = response.value;\r\n      result.map((ele) => {\r\n        let dueAmountClass = '';\r\n        ele.AmountDue = ele.Amount - ele.AmountReceived;\r\n        if (ele.Amount && ele.AmountDue !== undefined) {\r\n          const dueAmountPrecent = (ele.AmountDue * 100) / ele.Amount\r\n          if (dueAmountPrecent >= 30) dueAmountClass = 'color-xa-dark-red';\r\n          if (dueAmountPrecent <= 10 && dueAmountPrecent > 0) dueAmountClass = 'col-xa-orange2';\r\n          if (dueAmountPrecent == 0) dueAmountClass = 'color-xa-repair-header';\r\n        }\r\n        ele.FormattedTotalAmount = ele.Amount ? this.xaCurrencyPipe.transform(ele.Amount, this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) : '-'\r\n        ele.FormattedPaidAmount = ele.AmountReceived ? this.xaCurrencyPipe.transform(ele.AmountReceived, this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) : '-'\r\n        ele.FormattedDueAmount = ele.Amount && ele.AmountDue !== undefined ?\r\n          '<span class=\"' + dueAmountClass + '\">' + this.xaCurrencyPipe.transform(ele.AmountDue, this.i18n.currencySymbol, this.i18n.digitsInfo, this.i18n.locale, this.i18n.position) + '</span>' : '-'\r\n      })\r\n      this.tableData = result;\r\n      this.pagination = { ...this.pagination, count: response['@odata.count'] || 0 };\r\n      this.commonService.hideLoading();\r\n    }).catch((err) => {\r\n      this.monitorService.logException(err, SeverityLevel.Error);\r\n      this.commonService.hideLoading();\r\n    });\r\n  }\r\n\r\n  /**\r\n    @returns {Promise} A promise that resolves to the customer data or rejects with an error.\r\n  */\r\n  public async getTotalDueAmountCompany(): Promise<any> {\r\n    this.showTotalDueAmountCompany = false\r\n    let query = '$apply=';\r\n    if(this.selectedCompanyForFilter?.length > 0) {\r\n      query += `filter(${this.selectedCompanyForFilter.map((x) => { return `ContactId eq ${x.CompanyId}` }).join(' or ')})/`;\r\n    }\r\n    query += 'aggregate(Amount with sum as TotalAmount, AmountReceived with sum as TotalAmountReceived)'\r\n    return firstValueFrom(this.tableDataSer.getTotalDueAmountCompany(query)).then((response: any) => {\r\n      if(response && response[0]) {\r\n        this.showTotalDueAmountCompany = true\r\n        this.dueAmountCompanyClass = ''\r\n        this.totalDueAmountCompany = response[0].TotalAmount ? response[0].TotalAmount - response[0].TotalAmountReceived : '-';\r\n        if(response[0].TotalAmount) {\r\n          const dueAmountPrecent = (this.totalDueAmountCompany * 100) / response[0].TotalAmount;\r\n          if (dueAmountPrecent >= 30) this.dueAmountCompanyClass = 'color-xa-dark-red';\r\n          if (dueAmountPrecent <= 10 && dueAmountPrecent > 0) this.dueAmountCompanyClass = 'col-xa-orange2';\r\n          if (dueAmountPrecent == 0) this.dueAmountCompanyClass = 'color-xa-repair-header';\r\n        }\r\n      }\r\n    }).catch((err) => {\r\n      this.showTotalDueAmountCompany = true\r\n      this.monitorService.logException(err, SeverityLevel.Error);\r\n    });\r\n  }\r\n\r\n  /**\r\n    @returns {Promise} A promise that resolves to the customer data or rejects with an error.\r\n  */\r\n  public async getTotalDueAmountPerson(): Promise<any> {\r\n    this.showTotalDueAmountPerson = false\r\n    let query = '$apply=';\r\n    const selectedFilter = this.dropdownModelFilterPerson.selectedOption?.label;\r\n    switch (selectedFilter?.toLowerCase()) {\r\n    case 'retail - individual':\r\n      if (this.textToSearch != '') {\r\n        // To Fix typescript error convert the value to string by appending ''\r\n        const empName = this.textToSearch + '';\r\n        query += `filter(contains(tolower(FirstName),'${empName.toLowerCase()}') or contains(tolower(LastName),'${empName.toLowerCase()}'))/`;\r\n      }\r\n      break;\r\n    default:\r\n      break;\r\n    }\r\n\r\n    query += 'aggregate(Amount with sum as TotalAmount, AmountReceived with sum as TotalAmountReceived)'\r\n    return firstValueFrom(this.tableDataSer.getTotalDueAmountPerson(query)).then((response: any) => {\r\n      if(response && response[0]) {\r\n        this.showTotalDueAmountPerson = true;\r\n        this.dueAmountPersonClass = ''\r\n        this.totalDueAmountPerson = response[0].TotalAmount ? response[0].TotalAmount - response[0].TotalAmountReceived : '-';\r\n        if(response[0].TotalAmount) {\r\n          const dueAmountPrecent = (this.totalDueAmountPerson * 100) / response[0].TotalAmount;\r\n          if (dueAmountPrecent >= 30) this.dueAmountPersonClass = 'color-xa-dark-red';\r\n          if (dueAmountPrecent <= 10 && dueAmountPrecent > 0) this.dueAmountPersonClass = 'col-xa-orange2';\r\n          if (dueAmountPrecent == 0) this.dueAmountPersonClass = 'color-xa-repair-header';\r\n        }\r\n      }\r\n    }).catch((err) => {\r\n      this.showTotalDueAmountPerson = true\r\n      this.monitorService.logException(err, SeverityLevel.Error);\r\n    });\r\n  }\r\n\r\n  /**\r\n    Handles a change in the sorting of the customer data.\r\n    @param {Sort} sort - The new sorting criteria.\r\n    @returns {void}\r\n  */\r\n  handleSortChange: SortChangedCallback = (sort: Sort): void => {\r\n    if (sort) {\r\n      this.pagination = { ...this.pagination, ...{ orderBy: sort.active, sortDirection: sort.direction } };\r\n      this.getCustomers()\r\n    }\r\n  }\r\n\r\n  /**\r\n    Handles a change in the sorting of company customers.\r\n    @param {Sort} sort - The new sorting criteria.\r\n    @returns {void}\r\n  */\r\n  handleSortChangeCompany: SortChangedCallback = (sort: Sort): void => {\r\n    if (sort) {\r\n      this.paginationCompany = { ...this.paginationCompany, ...{ orderBy: sort.active, sortDirection: sort.direction } };\r\n      this.getCompanyCustomers()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * page change\r\n   * @param event \r\n   */\r\n  handlePaginationChange(event: PaginateInfo): void {\r\n    const pagination: ApiPagination = {\r\n      pageSize: event.pageSize,\r\n      offset: event.offset,\r\n      currentPage: event.currentPage\r\n    };\r\n\r\n    this.pagination.currentPage = event.currentPage;\r\n    this.pagination = { ...this.pagination, ...pagination };\r\n\r\n    this.pageChanged = true;\r\n    this.getCustomers();\r\n  }\r\n\r\n\r\n  /**\r\n   * page change\r\n   * @param event \r\n   */\r\n  handlePaginationChangeCompany(event: PaginateInfo): void {\r\n    const pagination: ApiPagination = {\r\n      pageSize: event.pageSize,\r\n      offset: event.offset,\r\n      currentPage: event.currentPage\r\n    };\r\n\r\n    this.paginationCompany.currentPage = event.currentPage;\r\n    this.paginationCompany = { ...this.paginationCompany, ...pagination };\r\n\r\n    this.pageChangedCompany = true;\r\n    this.getCompanyCustomers();\r\n  }\r\n\r\n  /**\r\n   * selected any filter in the dropdown\r\n   * @param $event \r\n   */\r\n  public selectFilter($event: any): void {\r\n    this.monitorService.logEvent('selectFilter', [ 'CustomerTableComponent', 'addenda-repair', {\r\n      $event\r\n    } ]);\r\n    if ($event?.name == 'filterDropdown') {\r\n      const query = `?$filter=( OrgId eq ${this.userDetail?.organizationDetail?.id} and CompanyOrgType eq '${$event.value.label}' and IsIndividual eq false)`;\r\n      this.dropdownModelFilter.selectedOption = $event.value;\r\n      this.hideShowDropdown('companyName');\r\n      this.dropdownModelCompany = {\r\n        ...this.dropdownModelCompany, \r\n        selectedOption: [],\r\n        options: [],\r\n        displayValue: 'label', \r\n        observable: this.calendarService.getCustomer(query),\r\n        onObservableLoad: this.onObservableLoadCompanyData.bind(this)  \r\n      }\r\n      setTimeout(() => {\r\n        this.companyName?.getObservable()\r\n      }, 100)\r\n      this.updateApplyButtonState()\r\n    } else if ($event.name == 'filterDropdownPerson') {\r\n      this.dropdownModelFilterPerson.selectedOption = $event.value\r\n      switch ($event.value[this.dropdownModelFilterPerson.displayValue]?.toLowerCase()) {\r\n      case 'retail - individual':\r\n        this.hideShowDropdown('personName');\r\n        this.nameTextBox.value = ''\r\n        break;\r\n      default:\r\n        this.hideShowDropdown('');\r\n        break;\r\n      }\r\n    } else if ($event?.name == 'companyDropdown') {\r\n      this.dropdownModelCompany.selectedOption = $event.value;\r\n      this.updateApplyButtonState()\r\n    } \r\n  }\r\n\r\n\r\n  /**\r\n   * \r\n   * @param event \r\n   */\r\n  public updateInput(event: IControlValue): void {\r\n    if (event.name == 'name') {\r\n      this.nameTextBox.value = event.value;\r\n      this.updateApplyButtonState()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param event \r\n   */\r\n  public updateApplyButtonState(): void {\r\n    let state: 'disabled' | 'secondary' = 'disabled';\r\n    if (this.activeTab === this.activeTabOptions.PERSONAL) {\r\n      if (this.nameTextBox.value && this.nameTextBox.value.toString().length >= 3) {\r\n        state = 'secondary'\r\n      }\r\n    } else if (this.activeTab === this.activeTabOptions.COMPANY) {\r\n      if (this.dropdownModelCompany.selectedOption?.length > 0 && this.input.companyName) {\r\n        state = 'secondary'\r\n      }\r\n    }\r\n    this.applyButtonModel.type = state\r\n  }\r\n\r\n  /**\r\n   * hide show dropdown\r\n  */\r\n  private hideShowDropdown(key: string): void {\r\n    this.input[key] = true;\r\n    Object.keys(this.input).forEach(\r\n      (value) => {\r\n        if (value != key) {\r\n          this.input[value] = false;\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  /**\r\n    Handles a cell click event.\r\n    @param {TableRowData} row - The row data.\r\n    @param {Partial} column - The column data.\r\n    @returns {void}\r\n  */\r\n  handleCellClick: CellClickedCallback = (row: TableRowData, column: Partial<TableCellData>): void => {\r\n    if(column.id === 'ContactId') {\r\n      const customerId = row.find(ele => ele.id === column.id)?.result?.value;\r\n      if(customerId) {\r\n        const customerDetails = this.tableData.find(ele => ele.ContactId === customerId)\r\n        if(customerDetails) this.commonService.customerDetails.next(customerDetails);\r\n        if(customerId) this.router.navigate([ `/repair/customers/individual/${customerId}/${customerDetails.Id}/repair-order` ])\r\n      }\r\n      \r\n    }\r\n  };\r\n\r\n  /**\r\n    Handles a cell click event for a company column.\r\n    @param {TableRowData} row - The row data for the clicked cell.\r\n    @param {Partial} column - The column data for the clicked cell.\r\n    @returns {void}\r\n  */\r\n  handleCellClickCompany: CellClickedCallback = (row: TableRowData, column: Partial<TableCellData>): void => {\r\n    if(column.id === 'ContactId') {\r\n      const companyId = row.find(ele => ele.id === column.id)?.result?.value\r\n      if(companyId) {\r\n        const customerDetails = this.tableDataCompany.find(ele => ele.ContactId === companyId)\r\n        if(customerDetails) this.commonService.customerDetails.next(customerDetails);\r\n        if(companyId) this.router.navigate([ `/repair/customers/company/${companyId}/${customerDetails.Id}/repair-order` ])\r\n      }\r\n      \r\n    }\r\n  };\r\n\r\n  /**\r\n    Navigates to the specified menu item's URL using the Angular Router.\r\n    @param {menuItem} item - The menu item to navigate to.\r\n    @returns {void}\r\n  */\r\n  navigate(item: menuItem): void {\r\n    const url = item.url;\r\n    this.router.navigate([ url ]);\r\n    if(this.dropdownModelFilter?.selectedOption) {\r\n      this.input.companyName = false\r\n      this.dropdownModelFilter = { ...this.dropdownModelFilter, selectedOption: {} }\r\n    }\r\n    if(this.dropdownModelCompany?.selectedOption) {\r\n      this.dropdownModelCompany = { ...this.dropdownModelCompany, selectedOption: [] }\r\n    }\r\n    if(this.dropdownModelFilterPerson?.selectedOption) {\r\n      this.input.personName = false;\r\n      this.dropdownModelFilterPerson = { ...this.dropdownModelFilterPerson, selectedOption: {} }\r\n    }\r\n    if(this.nameTextBox?.value) {\r\n      this.nameTextBox = { ...this.nameTextBox, value: '' }\r\n    }\r\n  }\r\n\r\n  /**\r\n    Applies a filter based on the active tab selected by the user.\r\n    If the active tab is \"COMPANY\", it calls the \"getCompanyCustomers\" function.\r\n    If the active tab is \"PERSONAL\", it calls the \"getCustomers\" function.\r\n    @returns {void}\r\n  */\r\n  applyFilter(): void {\r\n    if (this.activeTab === this.activeTabOptions.COMPANY) {\r\n      this.paginationCompany = { ...this.paginationCompany, currentPage: 1 }\r\n      this.selectedCompanyForFilter = [ ...this.dropdownModelCompany.selectedOption ]\r\n      this.getCompanyCustomers();\r\n      this.getTotalDueAmountCompany();\r\n    } else if (this.activeTab === this.activeTabOptions.PERSONAL) {\r\n      this.pagination = { ...this.pagination, currentPage: 1 }\r\n      this.textToSearch = this.nameTextBox.value + ''\r\n      this.getCustomers()\r\n      this.getTotalDueAmountPerson()\r\n    }\r\n  }\r\n  /**\r\n    Reset a filter based on the active tab selected by the user.\r\n    If the active tab is \"COMPANY\", it calls the \"getCompanyCustomers\" function.\r\n    If the active tab is \"PERSONAL\", it calls the \"getCustomers\" function.\r\n    @returns {void}\r\n  */\r\n  reSetFilter(): void {\r\n    if (this.activeTab === this.activeTabOptions.COMPANY) {\r\n      this.dropdownModelCompany = { ...this.dropdownModelCompany, selectedOption: [] }\r\n      this.dropdownModelFilter = { ...this.dropdownModelFilter, selectedOption: {} }\r\n      this.paginationCompany = { ...this.paginationCompany, currentPage: 1 }\r\n      this.input.companyName = false;\r\n      this.selectedCompanyForFilter = []\r\n      this.updateApplyButtonState()\r\n      this.getCompanyCustomers()\r\n      this.getTotalDueAmountCompany();\r\n    } else if (this.activeTab === this.activeTabOptions.PERSONAL) {\r\n      this.nameTextBox = { ...this.nameTextBox, value: '' }\r\n      this.pagination = { ...this.pagination, currentPage: 1 }\r\n      this.dropdownModelFilterPerson = { ...this.dropdownModelFilterPerson, selectedOption: {} }\r\n      this.input.personName = false;\r\n      this.textToSearch = ''\r\n      this.getCustomers()\r\n      this.getTotalDueAmountPerson()\r\n    }\r\n    this.updateApplyButtonState();\r\n  }\r\n\r\n  /**\r\n    @param {any} items - The compnay items to update the form model with.\r\n    @returns {void}\r\n  */\r\n  onObservableLoadCompanyData(items: any): void { \r\n    if (items && items.length > 0) {\r\n      items.forEach((item, i) => {\r\n        items[i] = { \r\n          ...items[i], \r\n          label: `${item.CompanyName}${item.LicenseNumber ? '-' + item.LicenseNumber : ''}`, \r\n          html: `<span class=\"company-name-dropdown\">${item.CompanyName}${item.LicenseNumber? '-<i>' + item.LicenseNumber + '</i>': ''}</span>`, \r\n        }\r\n      });\r\n      this.dropdownModelCompany = { ...this.dropdownModelCompany, options: items, selectedOption: items }\r\n      this.updateApplyButtonState()\r\n    }\r\n  }\r\n\r\n  /**\r\n    @param {any} items - The compnay items to update the form model with.\r\n    @returns {void}\r\n  */\r\n  onObservableLoadWorkProviderData(items: any): void { \r\n    if (items && items.length > 0) {\r\n      const filteredItems = items.filter((item, i) => {\r\n        return this.workProviderFromBooking.indexOf(item.label) !== -1 ? true : false\r\n      });\r\n      this.workProvider.dropdownOptions = filteredItems;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VersionControlResolver } from 'src/app/resolvers/versionControl.resolver';\r\nimport { Route, RouterModule } from '@angular/router';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { IconsModule } from 'src/app/icons.module';\r\nimport { WidgetsModule } from 'src/app/widgets/chq-widgets.module';\r\nimport { CustomerTableComponent } from './customer-list/customer-table.component';\r\nimport { CustomerDetailsComponent } from './customer-details/customer-details.component';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\nconst route: Route[] = [\r\n  {\r\n    path: ':userType',\r\n    component: CustomerTableComponent,\r\n    resolve: { version: VersionControlResolver }\r\n  },\r\n  {\r\n    path: ':userType/:contactId/:id/:orderType',\r\n    component: CustomerDetailsComponent,\r\n    resolve: { version: VersionControlResolver }\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [ CustomerTableComponent, CustomerDetailsComponent ],\r\n  imports: [\r\n    CommonModule,\r\n    MatIconModule,\r\n    IconsModule,\r\n    RouterModule.forChild(route),\r\n    MatMenuModule,\r\n    WidgetsModule,\r\n    MatExpansionModule,\r\n    TranslateModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class CustomerTableModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\n\r\nimport { catchError, map, Observable, of } from 'rxjs';\r\nimport { CommonService } from '../services/common/common.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VersionControlResolver implements Resolve<Observable<any>> {\r\n  /**\r\n   * contructor\r\n   * @param commonService \r\n   */\r\n  constructor(private commonService: CommonService) { }\r\n  /**\r\n   * resolve the \r\n   * @returns \r\n   */\r\n  resolve(): Observable<any> {\r\n    this.commonService.showLoading();\r\n    return this.commonService.checkVersion().pipe(\r\n      map((res) => {\r\n        this.commonService.hideLoading();\r\n        const localVersion = localStorage.getItem('appVersion');\r\n        const appVersion = res.buildRevision;\r\n        if (localVersion && localVersion != appVersion) {\r\n          localStorage.setItem('appVersion', appVersion);\r\n          setTimeout(() => {\r\n            location.reload();\r\n          }, 10);\r\n          return of('new version available');\r\n        } else {\r\n          localStorage.setItem('appVersion', appVersion);\r\n          return of('new version is not available');\r\n        }\r\n      }),\r\n      catchError(() => {\r\n        this.commonService.hideLoading();\r\n        return of('data not available at this time');\r\n      })\r\n    )\r\n  }\r\n}","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { ApiPagination } from 'src/app/widgets/chq-paginator/chq-paginator.component';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CustomerService {\r\n  /**\r\n   * constructor\r\n   * @param http \r\n   */\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  /**\r\n   * \r\n   * @param getCustomers  \r\n   * @returns observable\r\n   * fake data have to remove once api is implemented\r\n   */\r\n  public getCustomers(pagination: ApiPagination, queryParams: string = null): Observable<any> {\r\n    const skip = (pagination.currentPage - 1) * pagination.pageSize;\r\n    queryParams = (!queryParams) ? `$top=${pagination.pageSize}&$skip=${skip}` : `$top=${pagination.pageSize}&$skip=${skip}&${queryParams}`\r\n    const orderBy = `&$orderby=${pagination.orderBy} ${pagination.sortDirection}`\r\n    const url = `${environment.caseMgmtUrl}/odata/customerinvoice?${queryParams}${orderBy}&count=true`;\r\n    return this.http.get<any>(url);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param   getCompanyCustomers\r\n   * @returns observable\r\n   * fake data have to remove once api is implemented\r\n   */\r\n  public getCompanyCustomers(pagination: ApiPagination, queryParams=''): Observable<any> {\r\n    const skip = (pagination.currentPage - 1) * pagination.pageSize;\r\n    queryParams = (!queryParams) ? `$top=${pagination.pageSize}&$skip=${skip}` : `$top=${pagination.pageSize}&$skip=${skip}&${queryParams}`\r\n    const orderBy = `&$orderby=${pagination.orderBy} ${pagination.sortDirection}`\r\n    const url = `${environment.caseMgmtUrl}/odata/companyinvoice?${queryParams}${orderBy}&count=true`;\r\n    return this.http.get<any>(url);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param   getCompanyCustomers\r\n   * @returns observable\r\n   * fake data have to remove once api is implemented\r\n   */\r\n  public getCompanyWorkProviders(queryParams=''): Observable<any> {\r\n    const url = `${environment.caseMgmtUrl}/odata/companyinvoice?${queryParams}`;\r\n    return this.http.get<any>(url);\r\n  }\r\n\r\n\r\n  /**\r\n    Retrieves repair orders from a mock data source.\r\n    @param {ApiPagination} pagination - The pagination object containing the page number and page size.\r\n    @param {string} [queryParams] - Optional query parameters to filter the results.\r\n    @returns {Observable} - An observable that emits the retrieved repair orders.\r\n  */\r\n  public getReapirOrders(customerId: string, userType:string, pagination: ApiPagination): Observable<any> {\r\n    const skip = (pagination.currentPage - 1) * pagination.pageSize;\r\n    const queryParams = `$top=${pagination.pageSize}&$skip=${skip}`\r\n    const orderBy = `&$orderby=${pagination.orderBy} ${pagination.sortDirection}`\r\n    let filter = ''\r\n    if(userType === 'company') {\r\n      filter = `&$filter=(companyId eq ${customerId})&companyIndividualType=1`\r\n    } else {\r\n      filter = `&$filter=(contactId eq ${customerId})&companyIndividualType=2`\r\n    }\r\n    // const filter = ''\r\n    const url = `${environment.caseMgmtUrl}/odata/repairorder?${queryParams}${orderBy}${filter}&count=true`;\r\n    return this.http.get<any>(url);\r\n  }\r\n\r\n  /**\r\n    Retrieves a list of cases based on the provided pagination and query parameters.\r\n    @param {ApiPagination} pagination - An object containing information about the pagination to be applied to the results.\r\n    @param {string} [queryParams] - An optional string containing any additional query parameters to be included in the request.\r\n    @returns {Observable} - An Observable that emits the retrieved list of cases.\r\n  */\r\n  public getCases(customerId: string, userType:string, pagination: ApiPagination): Observable<any> {\r\n    const skip = (pagination.currentPage - 1) * pagination.pageSize;\r\n    const queryParams = `$top=${pagination.pageSize}&$skip=${skip}`\r\n    const orderBy = `&$orderby=${pagination.orderBy} ${pagination.sortDirection}`\r\n    let filter = '';\r\n    if(userType === 'company') {\r\n      filter = `&$filter=(companyId eq ${customerId})&companyIndividualType=1`\r\n    } else {\r\n      filter = `&$filter=(contactId eq ${customerId})&companyIndividualType=2`\r\n    }\r\n    const url = `${environment.caseMgmtUrl}/odata/repairestimation?${queryParams}${orderBy}${filter}&count=true`;\r\n    return this.http.get<any>(url);\r\n  }\r\n  \r\n  /**\r\n    Retrieves total due amount compnay, provided query parameters.\r\n    @param {string} [queryParams] - An optional string containing any additional query parameters to be included in the request.\r\n    @returns {Observable} - An Observable that emits the retrieved list of cases.\r\n  */\r\n  public getTotalDueAmountCompany(queryParams = ''): Observable<any> {\r\n    return this.http.get<any>(`${environment.caseMgmtUrl}/odata/companyinvoice?${queryParams}`);\r\n  }\r\n\r\n  /**\r\n    Retrieves total due amount compnay, provided query parameters.\r\n    @param {string} [queryParams] - An optional string containing any additional query parameters to be included in the request.\r\n    @returns {Observable} - An Observable that emits the retrieved list of cases.\r\n  */\r\n  public getTotalDueAmountPerson(queryParams = ''): Observable<any> {\r\n    return this.http.get<any>(`${environment.caseMgmtUrl}/odata/customerinvoice?${queryParams}`);\r\n  }\r\n\r\n  /**\r\n    Retrieves company details\r\n    @returns {Observable} - An Observable that emits the retrieved list of cases.\r\n  */\r\n  public getCompanyDetails(companyId: any): Observable<any> {\r\n    return this.http.get<any>(`${environment.caseMgmtUrl}/api/companyinvoice/${companyId}`);\r\n  }\r\n\r\n  /**\r\n    Retrieves Customer details\r\n    @returns {Observable} - An Observable that emits the retrieved list of cases.\r\n  */\r\n  public getCustomerDetails(customerId: any): Observable<any> {\r\n    return this.http.get<any>(`${environment.caseMgmtUrl}/api/customerinvoice/${customerId}`);\r\n  }\r\n}\r\n"]}