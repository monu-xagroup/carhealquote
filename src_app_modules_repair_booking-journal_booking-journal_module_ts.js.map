{"version":3,"file":"src_app_modules_repair_booking-journal_booking-journal_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAuE;AAEL;AACZ;AACA;AAC2D;AAC/C;AACU;AACpB;AACL;AACM;AAC0B;AACpB;AACuB;AACA;AACA;;;AAEtF,MAAMqB,WAAW,GAAY,CAC3B;EACEC,IAAI,EAAE,EAAE;EACRC,SAAS,EAAEL,+FAAuB;EAClCM,OAAO,EAAE;IAAEC,OAAO,EAAET,6FAAsBA;EAAA;CAC3C,CACF;AA8BK,MAAOU,oBAAoB;EAAA;qBAApBA,oBAAoB;EAAA;EAAA;UAApBA;EAAoB;EAAA;eALpB,CACTxB,sDAAQ,EACRD,0DAAY,CACb;IAAA0B,UAnBC3B,0DAAY,EACZG,wDAAW,EACXC,gEAAmB,EACnBU,6DAAW,EACXT,mEAAqB,CAACgB,WAAW,CAAC,EAClCb,kEAAiB,EACjBE,iEAAgB,EAChBH,kEAAiB,EACjBE,mEAAkB,EAClBE,6EAAkB,EAClBM,yEAAa,EACbX,iEAAe,EACfM,sFAAe,EACfG,mEAAc,EACdF,kEAAU;EAAA;;;sHAODa,oBAAoB;IAAAG,eA1B7BX,+FAAuB,EACvBE,+FAAuB,EACvBD,+FAAuB;IAAAQ,UAGvB3B,0DAAY,EACZG,wDAAW,EACXC,gEAAmB,EACnBU,6DAAW,8DAEXN,kEAAiB,EACjBE,iEAAgB,EAChBH,kEAAiB,EACjBE,mEAAkB,EAClBE,6EAAkB,EAClBM,yEAAa,EACbX,iEAAe,EACfM,sFAAe,EACfG,mEAAc,EACdF,kEAAU;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;AC3C2C;AACgB;;;;;;;;;;AAWnE,MAAOM,uBAAuB;EA2DlCa,YACSC,SAAgD,EACvBC,IAAS,EACjCC,WAAwB,EACxBC,aAA4B;IAH7B,cAAS,GAATH,SAAS;IACgB,SAAI,GAAJC,IAAI;IAC5B,gBAAW,GAAXC,WAAW;IACX,kBAAa,GAAbC,aAAa;IA7DhB,gBAAW,GAAG,IAAI,CAACD,WAAW,CAACE,KAAK,CAAC;MAC1CC,IAAI,EAAE,CAAE,EAAE,EAAER,+DAAmB,CAAE;MACjCU,KAAK,EAAE,CAAE,EAAE,EAAEV,+DAAmB,CAAE;MAClCW,OAAO,EAAE,CAAE,EAAE,EAAEX,+DAAmB,CAAE;MACpCY,OAAO,EAAE,CAAE,EAAE,EAAEZ,+DAAmB;KACnC,CAAC;IAEF,iBAAY,GAA2B,CACrC;MACEa,WAAW,EAAE,MAAM;MACnBC,IAAI,EAAE,MAAM;MACZC,KAAK,EAAE,MAAM;MACbC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,OAAO;MACbC,OAAO,EAAE,CACP;QAAEH,KAAK,EAAE,WAAW;QAAEC,KAAK,EAAE,WAAW;QAAEG,OAAO,EAAE;MAAK,CAAE,EAC1D;QAAEJ,KAAK,EAAE,QAAQ;QAAEC,KAAK,EAAE,QAAQ;QAAEG,OAAO,EAAE;MAAK,CAAE;KAEvD,EACD;MACEN,WAAW,EAAE,eAAe;MAC5BE,KAAK,EAAE,eAAe;MACtBD,IAAI,EAAE,OAAO;MACbE,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,MAAM;MACZG,MAAM,EAAE;KACT,EACD;MACEP,WAAW,EAAE,SAAS;MACtBC,IAAI,EAAE,SAAS;MACfC,KAAK,EAAE,SAAS;MAChBC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE;KACP,EACD;MACEJ,WAAW,EAAE,SAAS;MACtBC,IAAI,EAAE,SAAS;MACfC,KAAK,EAAE,SAAS;MAChBC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE;KACP,CACF;IAEM,qBAAgB,GAA0B;MAC/CF,KAAK,EAAE,gBAAgB;MACvBE,IAAI,EAAE,SAAS;MACfI,IAAI,EAAE,YAAY;MAClBC,SAAS,EAAE;KACZ;IAEM,eAAU,GAA0B;MACzCP,KAAK,EAAE,MAAM;MACbE,IAAI,EAAE,IAAI,CAACM,WAAW,CAACC,KAAK,GAAG,SAAS,GAAG,UAAU;MACrDH,IAAI,EAAE,MAAM;MACZC,SAAS,EAAE;KACZ;EAOG;EAEJG,YAAY,CAACC,MAAqB;IAChC,IAAI,CAACH,WAAW,CAACI,GAAG,CAACD,MAAM,CAACZ,IAAI,CAAC,CAACc,QAAQ,CAACF,MAAM,CAACV,KAAK,CAAC;EAC1D;EAEAa,QAAQ;IACNC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,WAAW,CAAC;EAC/B;EAAC;qBAxEUlC,uBAAuB,uMA6DxBY,qEAAe;EAAA;EAAA;UA7DdZ,uBAAuB;IAAA2C;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCfpCC,4DAAAA,aAAuD;QAG3CA,oDAAAA,GACJ;;QAAAA,0DAAAA,EAAM;QACNA,4DAAAA,aAAoB;QAEZA,uDAAAA,kBAA6E;QACjFA,0DAAAA,EAAS;QAIjBA,4DAAAA,4BAA2C;QAKHA,oDAAAA,IAAiC;;QAAAA,0DAAAA,EAAQ;QAGrEA,4DAAAA,cAAiB;QAEkBA,oDAAAA,IAAwB;;QAAAA,0DAAAA,EAAQ;QAC3DA,4DAAAA,qBAAiF;QAAvCA,wDAAAA;UAAA,OAAiBC,wBAAoB;QAAA,EAAC;QAACD,0DAAAA,EAAY;QAGrGA,4DAAAA,cAAiB;QAEiCA,wDAAAA;UAAA,OAAiBC,wBAAoB;QAAA,EAAC;QAACD,0DAAAA,EAAY;QAGrGA,4DAAAA,cAAiB;QAEiCA,wDAAAA;UAAA,OAAiBC,wBAAoB;QAAA,EAAC;QAACD,0DAAAA,EAAY;QAGrGA,4DAAAA,cAAiB;QAGsBA,oDAAAA,IAA2B;;QAAAA,0DAAAA,EAAQ;QAC9DA,4DAAAA,gCACkC;QAA9BA,wDAAAA;UAAA;QAAA,EAA6B;QAACA,0DAAAA,EAAuB;QAM7EA,4DAAAA,eAAoB;QAC6BA,wDAAAA;UAAA,OAASC,cAAU;QAAA,EAAC;QAACD,0DAAAA,EAAa;QAC/EA,4DAAAA,sBAA4D;QAArBA,wDAAAA;UAAA,OAASC,cAAU;QAAA,EAAC;QAACD,0DAAAA,EAAa;;;QA9CzEA,uDAAAA,GACJ;QADIA,gEAAAA,MAAAA,yDAAAA,2BACJ;QAGkBA,uDAAAA,GAAmB;QAAnBA,wDAAAA,oBAAmB;QAOJA,uDAAAA,GAAyB;QAAzBA,wDAAAA,8BAAyB;QAGtBA,uDAAAA,GAAiC;QAAjCA,+DAAAA,CAAAA,yDAAAA,0BAAiC;QAK1BA,uDAAAA,GAAwB;QAAxBA,+DAAAA,CAAAA,yDAAAA,iBAAwB;QACxCA,uDAAAA,GAA8B;QAA9BA,wDAAAA,mCAA8B;QAK9BA,uDAAAA,GAA8B;QAA9BA,wDAAAA,mCAA8B;QAK9BA,uDAAAA,GAA8B;QAA9BA,wDAAAA,mCAA8B;QAMVA,uDAAAA,GAA2B;QAA3BA,+DAAAA,CAAAA,yDAAAA,oBAA2B;QAChCA,uDAAAA,GAAc;QAAdA,wDAAAA,eAAc;QAQxCA,uDAAAA,GAAgC;QAAhCA,wDAAAA,qCAAgC;QAChCA,uDAAAA,GAA0B;QAA1BA,wDAAAA,+BAA0B;;;;;;;;;;;;;;;;;;;;;;;;;AC9CK;;;AAMjD,MAAOnD,sBAAsB;EACjC;;;;EAIAgB,YAAoBI,aAA4B;IAA5B,kBAAa,GAAbA,aAAa;EAAmB;EACpD;;;;EAIAZ,OAAO;IACL,IAAI,CAACY,aAAa,CAACoC,WAAW,EAAE;IAChC,OAAO,IAAI,CAACpC,aAAa,CAACqC,YAAY,EAAE,CAACC,IAAI,CAC3CJ,yCAAG,CAAEK,GAAG,IAAI;MACV,IAAI,CAACvC,aAAa,CAACwC,WAAW,EAAE;MAChC,MAAMC,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;MACvD,MAAMC,UAAU,GAAGL,GAAG,CAACM,aAAa;MACpC,IAAIJ,YAAY,IAAIA,YAAY,IAAIG,UAAU,EAAE;QAC9CF,YAAY,CAACI,OAAO,CAAC,YAAY,EAAEF,UAAU,CAAC;QAC9CG,UAAU,CAAC,MAAK;UACdC,QAAQ,CAACC,MAAM,EAAE;QACnB,CAAC,EAAE,EAAE,CAAC;QACN,OAAOd,wCAAE,CAAC,uBAAuB,CAAC;OACnC,MAAM;QACLO,YAAY,CAACI,OAAO,CAAC,YAAY,EAAEF,UAAU,CAAC;QAC9C,OAAOT,wCAAE,CAAC,8BAA8B,CAAC;;IAE7C,CAAC,CAAC,EACFF,gDAAU,CAAC,MAAK;MACd,IAAI,CAACjC,aAAa,CAACwC,WAAW,EAAE;MAChC,OAAOL,wCAAE,CAAC,iCAAiC,CAAC;IAC9C,CAAC,CAAC,CACH;EACH;EAAC;qBAjCUvD,sBAAsB;EAAA;EAAA;WAAtBA,sBAAsB;IAAAsE,SAAtBtE,sBAAsB;IAAAuE,YAFrB;EAAM","sources":["./src/app/modules/repair/booking-journal/booking-journal.module.ts","./src/app/modules/repair/booking-journal/booking-message/booking-message.component.ts","./src/app/modules/repair/booking-journal/booking-message/booking-message.component.html","./src/app/resolvers/versionControl.resolver.ts"],"sourcesContent":["import { CommonModule, CurrencyPipe, DatePipe } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Route, RouterModule } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { DxDraggableModule, DxSchedulerModule, DxScrollViewModule, DxTemplateModule, } from 'devextreme-angular';\r\nimport { DxoScrollingModule } from 'devextreme-angular/ui/nested';\r\nimport { DirectiveModule } from 'src/app/helper/directive/directive.module';\r\nimport { PipeModule } from 'src/app/helper/pipe.module';\r\nimport { IconsModule } from 'src/app/icons.module';\r\nimport { MaterialModule } from 'src/app/material.module';\r\nimport { VersionControlResolver } from 'src/app/resolvers/versionControl.resolver';\r\nimport { WidgetsModule } from 'src/app/widgets/widgets.module';\r\nimport { BookingJournalComponent } from './booking-journal/booking-journal.component';\r\nimport { BookingMessageComponent } from './booking-message/booking-message.component';\r\nimport { BookingPreviewComponent } from './booking-preview/booking-preview.component';\r\n\r\nconst casesRoutes: Route[] = [\r\n  {\r\n    path: '',\r\n    component: BookingJournalComponent,\r\n    resolve: { version: VersionControlResolver }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BookingJournalComponent,\r\n    BookingPreviewComponent,\r\n    BookingMessageComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IconsModule,\r\n    RouterModule.forChild(casesRoutes),\r\n    DxSchedulerModule,\r\n    DxTemplateModule,\r\n    DxDraggableModule,\r\n    DxScrollViewModule,\r\n    DxoScrollingModule,\r\n    WidgetsModule,\r\n    TranslateModule,\r\n    DirectiveModule,\r\n    MaterialModule,\r\n    PipeModule\r\n  ],\r\n  providers: [\r\n    DatePipe,\r\n    CurrencyPipe\r\n  ]\r\n})\r\nexport class BookingJournalModule { }\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable require-jsdoc */\r\nimport { Component, Inject } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { ChqWidgetsInputModel, IControlValue } from 'src/app/model/chq-widgets-input-model';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'chr-booking-message',\r\n  templateUrl: './booking-message.component.html',\r\n  styleUrls: [ './booking-message.component.scss' ]\r\n})\r\nexport class BookingMessageComponent {\r\n\r\n  public messageForm = this.formBuilder.group({\r\n    Type: [ '', Validators.required ],\r\n    Email: [ '', Validators.required ],\r\n    Subject: [ '', Validators.required ],\r\n    Message: [ '', Validators.required ]\r\n  });\r\n\r\n  messageModal: ChqWidgetsInputModel[] = [\r\n    {\r\n      placeHolder: 'Type',\r\n      name: 'Type',\r\n      label: 'type',\r\n      value: '',\r\n      type: 'radio',\r\n      options: [\r\n        { label: 'Insurance', value: 'Insurance', checked: false },\r\n        { label: 'Driver', value: 'Driver', checked: false }\r\n      ]\r\n    },\r\n    {\r\n      placeHolder: 'Email Address',\r\n      label: 'email_address',\r\n      name: 'Email',\r\n      value: '',\r\n      type: 'text',\r\n      suffix: 'CC BCC'\r\n    },\r\n    {\r\n      placeHolder: 'Subject',\r\n      name: 'Subject',\r\n      label: 'subject',\r\n      value: '',\r\n      type: 'text'\r\n    },\r\n    {\r\n      placeHolder: 'Message',\r\n      name: 'Message',\r\n      label: 'message',\r\n      value: '',\r\n      type: 'textarea'\r\n    }\r\n  ];\r\n\r\n  public attachmentButton: ChqWidgetsButtonModel = {\r\n    label: 'add_attachment',\r\n    type: 'outline',\r\n    icon: 'attachment',\r\n    iconColor: 'black'\r\n  }\r\n\r\n  public sendButton: ChqWidgetsButtonModel = {\r\n    label: 'send',\r\n    type: this.messageForm.valid ? 'primary' : 'disabled',\r\n    icon: 'send',\r\n    iconColor: 'white'\r\n  }\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<BookingMessageComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    private formBuilder: FormBuilder,\r\n    private commonService: CommonService\r\n  ) { }\r\n\r\n  onFormUpdate(output: IControlValue): void {\r\n    this.messageForm.get(output.name).setValue(output.value);\r\n  }\r\n\r\n  onSubmit(): void {\r\n    console.log(this.messageForm);\r\n  }\r\n}","<div class=\"booking-message-dialog dialog-with-header\">\r\n    <div class=\"header\">\r\n        <div class=\"title\">\r\n            {{ 'send_email' | translate }}\r\n        </div>\r\n        <div class=\"action\">\r\n            <button>\r\n                <mat-icon [svgIcon]=\"'cross'\" color=\"white\" [mat-dialog-close]=\"\"></mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n    <mat-dialog-content class=\"mat-typography\">\r\n        <div class=\"booking-message-wrapper\">\r\n            <form class=\"form-container\" [formGroup]=\"messageForm\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <label class=\"info\">{{ 'email_message' | translate }}</label>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <label class=\"radio-label\">{{ 'type' | translate }}</label>\r\n                        <chq-input [inputModel]=\"messageModal[0]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-12 email\">\r\n                        <chq-input [inputModel]=\"messageModal[1]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <chq-input [inputModel]=\"messageModal[2]\" (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <div class=\"input-wrapper input-text\">\r\n                            <label class=\"input-label\">{{ 'message' | translate }}</label>\r\n                            <chq-rich-text-editor [height]=\"200\" [initialValue]=\"\"\r\n                                (currentValue)=\"$event.value\"></chq-rich-text-editor>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div class=\"footer\">\r\n            <chq-button [buttonModel]=\"attachmentButton\" (click)=\"onSubmit()\"></chq-button>\r\n            <chq-button [buttonModel]=\"sendButton\" (click)=\"onSubmit()\"></chq-button>\r\n        </div>\r\n    </mat-dialog-content>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\n\r\nimport { catchError, map, Observable, of } from 'rxjs';\r\nimport { CommonService } from '../services/common/common.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VersionControlResolver implements Resolve<Observable<any>> {\r\n  /**\r\n   * contructor\r\n   * @param commonService \r\n   */\r\n  constructor(private commonService: CommonService) { }\r\n  /**\r\n   * resolve the \r\n   * @returns \r\n   */\r\n  resolve(): Observable<any> {\r\n    this.commonService.showLoading();\r\n    return this.commonService.checkVersion().pipe(\r\n      map((res) => {\r\n        this.commonService.hideLoading();\r\n        const localVersion = localStorage.getItem('appVersion');\r\n        const appVersion = res.buildRevision;\r\n        if (localVersion && localVersion != appVersion) {\r\n          localStorage.setItem('appVersion', appVersion);\r\n          setTimeout(() => {\r\n            location.reload();\r\n          }, 10);\r\n          return of('new version available');\r\n        } else {\r\n          localStorage.setItem('appVersion', appVersion);\r\n          return of('new version is not available');\r\n        }\r\n      }),\r\n      catchError(() => {\r\n        this.commonService.hideLoading();\r\n        return of('data not available at this time');\r\n      })\r\n    )\r\n  }\r\n}"],"names":["CommonModule","CurrencyPipe","DatePipe","FormsModule","ReactiveFormsModule","RouterModule","TranslateModule","DxDraggableModule","DxSchedulerModule","DxScrollViewModule","DxTemplateModule","DxoScrollingModule","DirectiveModule","PipeModule","IconsModule","MaterialModule","VersionControlResolver","WidgetsModule","BookingJournalComponent","BookingMessageComponent","BookingPreviewComponent","casesRoutes","path","component","resolve","version","BookingJournalModule","imports","forChild","declarations","Validators","MAT_DIALOG_DATA","constructor","dialogRef","data","formBuilder","commonService","group","Type","required","Email","Subject","Message","placeHolder","name","label","value","type","options","checked","suffix","icon","iconColor","messageForm","valid","onFormUpdate","output","get","setValue","onSubmit","console","log","selectors","decls","vars","consts","template","i0","ctx","catchError","map","of","showLoading","checkVersion","pipe","res","hideLoading","localVersion","localStorage","getItem","appVersion","buildRevision","setItem","setTimeout","location","reload","factory","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}