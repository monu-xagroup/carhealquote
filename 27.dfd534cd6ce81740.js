"use strict";(self.webpackChunkcar_heal_quote=self.webpackChunkcar_heal_quote||[]).push([[27],{88784:(T,x,i)=>{i.d(x,{T:()=>C});var _=i(36895),n=i(81390),m=i(4859),u=i(97392),t=i(44144),M=i(23267),y=i(3848),P=i(83683),E=i(9655),v=i(94650);let C=(()=>{class f{}return f.\u0275fac=function(w){return new(w||f)},f.\u0275mod=v.oAB({type:f}),f.\u0275inj=v.cJS({imports:[_.ez,n.Bz,m.ot,u.Ps,t.c,E.H,M.SJ,y.Nh,P.g0,n.Bz]}),f})()},54135:(T,x,i)=>{i.d(x,{U:()=>n});var _=i(94650);let n=(()=>{class m{}return m.\u0275fac=function(t){return new(t||m)},m.\u0275cmp=_.Xpm({type:m,selectors:[["no-access-error"]],decls:3,vars:0,consts:[[1,"main-container"],[1,""],["src","assets/img/no-access.png"]],template:function(t,M){1&t&&(_.TgZ(0,"div",0)(1,"div",1),_._UZ(2,"img",2),_.qZA()())},styles:[".main-container[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;align-items:center;justify-content:center}"]}),m})()},65504:(T,x,i)=>{i.d(x,{u:()=>D});var _=i(36895),n=i(94650),m=i(97392),u=i(23267),t=i(81390),M=i(89383),y=i(9655),P=i(71764),v=i(25268),f=i(92340),b=i(25015),w=i(39300),I=i(81364),A=i(7274),k=i(36978),Z=i(48262);const R=["sidenav"];function U(r,g){if(1&r&&(n.TgZ(0,"div",30)(1,"span",31),n._uU(2),n.qZA()()),2&r){const e=n.oxw().$implicit,l=n.oxw(3);n.xp6(2),n.AsE(" Repair Estimate ",l.currencySymbol," ",e.oldValue," ")}}function L(r,g){if(1&r&&(n.TgZ(0,"p"),n._uU(1),n.qZA()),2&r){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==e?null:e.newValue," ")}}function K(r,g){if(1&r){const e=n.EpF();n.TgZ(0,"div",32)(1,"div",33)(2,"div",34),n.NdJ("click",function(){n.CHM(e);const d=n.oxw().$implicit,h=n.oxw(3);return n.KtG(h.downloadPdfHistory(d.referenceId))}),n._UZ(3,"span",35),n.TgZ(4,"span"),n._uU(5,"Repair Estimate Report"),n.qZA()()()()}}function q(r,g){if(1&r){const e=n.EpF();n.TgZ(0,"span",36),n.NdJ("click",function(){n.CHM(e);const d=n.oxw().$implicit,h=n.oxw(3);return n.KtG(h.showImageDialog(d.blobUrls,d.name))}),n._uU(1,"View Image"),n.qZA()}}function J(r,g){if(1&r){const e=n.EpF();n.TgZ(0,"span",36),n.NdJ("click",function(){n.CHM(e);const d=n.oxw().$implicit,h=n.oxw(3);return n.KtG(h.showCommentDialog(d.comment,null==d||null==d.caseStatus?null:d.caseStatus.name))}),n._uU(1,"View Comment"),n.qZA()}}function B(r,g){if(1&r){const e=n.EpF();n.TgZ(0,"chq-button",37),n.NdJ("click",function(){n.CHM(e);const d=n.oxw().$implicit,h=n.oxw(3);return n.KtG(h.showCommentDialog(null,null==d?null:d.name,d.messageContent))}),n.qZA()}if(2&r){const e=n.oxw(4);n.Q6J("buttonModel",e.viewMessage)}}function H(r,g){if(1&r&&(n.TgZ(0,"a",38),n._uU(1,"View Attachment"),n.qZA()),2&r){const e=n.oxw().$implicit;n.Q6J("href",e.blobUrls,n.LSH)}}function a(r,g){if(1&r&&(n.TgZ(0,"div",14)(1,"div",15),n._UZ(2,"span"),n.qZA(),n.TgZ(3,"div",16)(4,"div",17)(5,"div",18)(6,"div",19)(7,"span",20),n._uU(8),n.ALo(9,"translate"),n.qZA()(),n.TgZ(10,"div",21)(11,"h5"),n._uU(12),n.qZA()(),n.YNc(13,U,3,2,"div",22),n.TgZ(14,"p"),n._uU(15),n.qZA(),n.TgZ(16,"h5"),n._uU(17),n.ALo(18,"date"),n.qZA(),n.YNc(19,L,2,1,"p",23),n.TgZ(20,"div",24),n.YNc(21,K,6,0,"div",25),n.qZA(),n.TgZ(22,"div",26),n.YNc(23,q,2,0,"span",27),n.YNc(24,J,2,0,"span",27),n.qZA()(),n.YNc(25,B,1,1,"chq-button",28),n.YNc(26,H,2,1,"a",29),n.qZA()()()),2&r){const e=g.$implicit;n.xp6(2),n.ekj("bg-blue","Repair"===(null==e?null:e.addendaSystem))("bg-yellow","Case"===(null==e?null:e.addendaSystem)),n.xp6(1),n.ekj("border-repair","Repair"===(null==e?null:e.addendaSystem))("border-quote","Case"===(null==e?null:e.addendaSystem)),n.xp6(4),n.Q6J("ngClass",e.caseStatus.name),n.xp6(1),n.Oqu(n.lcZ(9,20,e.caseStatus.description)),n.xp6(4),n.Oqu(e.name),n.xp6(1),n.Q6J("ngIf",e.name.toLowerCase().indexOf("repair")>-1&&e.referenceId>0),n.xp6(2),n.Oqu(null==e?null:e.userName),n.xp6(2),n.Oqu(n.xi3(18,22,e.actionedOn,"hh:mm a")),n.xp6(2),n.Q6J("ngIf",null!==e.newValue&&-1===e.name.toLowerCase().indexOf("repair estim")),n.xp6(2),n.Q6J("ngIf",e.name.toLowerCase().indexOf("repair")>-1&&e.referenceId>0),n.xp6(2),n.Q6J("ngIf",(-1!==(null==e.name?null:e.name.toLowerCase().indexOf("photo"))||-1!==(null==e.name?null:e.name.toLowerCase().indexOf("document")))&&null!==e.blobUrls),n.xp6(1),n.Q6J("ngIf",e.comment),n.xp6(1),n.Q6J("ngIf",e.messageContent),n.xp6(1),n.Q6J("ngIf",-1!==(null==e.name?null:e.name.toLowerCase().indexOf("invoice paid amount"))&&e.blobUrls)}}function p(r,g){if(1&r&&(n.TgZ(0,"div",10)(1,"div",11)(2,"div",12),n._uU(3),n.qZA()(),n.YNc(4,a,27,25,"div",13),n.qZA()),2&r){const e=g.$implicit;n.xp6(3),n.hij(" ",e.auditDate," "),n.xp6(1),n.Q6J("ngForOf",e.auditTrailResponseDetails)}}function o(r,g){if(1&r&&(n.TgZ(0,"aside",7)(1,"div",8),n.YNc(2,p,5,2,"div",9),n.qZA()()),2&r){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.history)}}const c=function(){return{right:"25rem",transition:"right 0.3s ease-in"}},s=function(){return{right:"0"}};P.extend(v);let D=(()=>{class r{constructor(e,l,d,h){this.router=e,this.route=l,this.commonService=d,this.dialog=h,this.toggleExpand=new n.vpe,this.history=[],this.isMenuOpen=!1,this.isLoading=!1,this.currencySymbol="",this.viewMessage={label:"View message",icon:"show",type:"outline"},this.router.events.pipe((0,w.h)(O=>O instanceof t.OD)).subscribe({next:O=>{-1!==this.router.url.indexOf("?")&&-1!==this.router.url.indexOf("history=open")&&(this.isMenuOpen=!0,this.toggleExpand.emit(this.isMenuOpen))}}),this.route.params.subscribe({next:O=>{-1!==this.router.url.indexOf("?")&&-1!==this.router.url.indexOf("history=open")&&(this.isMenuOpen=!0,this.toggleExpand.emit(this.isMenuOpen))}}),this.currencySymbol=this.commonService.getCurrencySymbol()}close(){this.isMenuOpen=!this.isMenuOpen,this.toggleExpand.emit(this.isMenuOpen)}getStatusClasses(e){switch(e){case"Draft":return"status-draft";case"Pending Approval":return"status-pending";case"Upload photos":return"status-upload";case"Repair estimate":return"status-repair-estimate";default:return""}}downloadPdfHistory(e){this.commonService.showLoading(),this.commonService.blobObservable1(`${f.N.caseMgmtUrl}/api/casehistory/report/${e}`).subscribe({next:l=>{window.open(l.fileURL,"_blank"),this.commonService.hideLoading()},error:()=>{this.commonService.hideLoading()}})}showImageDialog(e,l){const d=[];e.forEach(O=>{let N="",W=O;(-1!==l.indexOf("photo")||-1!==l.indexOf("document"))&&(N=O.substring(0,O.indexOf("|")).trim(),W=O.substring(O.indexOf("|")+1)),d.push({image:W,thumbImage:W,title:N})}),this.dialog.open(b.z,{data:{imageGallery:!0,gallery:d}})}showCommentDialog(e,l,d){this.dialog.open(b.z,{data:{comment:e,status:l,email:d}})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(t.F0),n.Y36(t.gz),n.Y36(I.v),n.Y36(A.uw))},r.\u0275cmp=n.Xpm({type:r,selectors:[["history"]],viewQuery:function(e,l){if(1&e&&n.Gf(R,5),2&e){let d;n.iGM(d=n.CRH())&&(l.sidenav=d.first)}},inputs:{history:"history",isMenuOpen:"isMenuOpen",isLoading:"isLoading"},outputs:{toggleExpand:"toggleExpand"},standalone:!0,features:[n.jDz],decls:11,vars:12,consts:[[1,"toggle-button",3,"ngStyle","click"],[1,"btn-wrapper"],[1,"history-sidenav",3,"hasBackdrop","backdropClick"],["mode","over","position","end","fixedInViewport","true","disableClose","",3,"opened","keydown.escape"],["sidenav",""],[3,"showLoading"],["class","history-slide-panel",4,"ngIf"],[1,"history-slide-panel"],[1,"history-items"],["class","history-block",4,"ngFor","ngForOf"],[1,"history-block"],[1,"history-date"],[1,"date-pill"],["class","history-block-container",4,"ngFor","ngForOf"],[1,"history-block-container"],[1,"vertical-line"],[1,"history-details-wrapper"],[1,"history-details"],[1,"history-info"],[1,"action-status-pill"],[3,"ngClass"],[1,"history-info-title"],["class","repair-pdf-text",4,"ngIf"],[4,"ngIf"],[1,"sub-content-pdf"],["class","data-history",4,"ngIf"],[1,"view-btn-container"],["class","view-image",3,"click",4,"ngIf"],[3,"buttonModel","click",4,"ngIf"],["class","view-attachment","target","_blank",3,"href",4,"ngIf"],[1,"repair-pdf-text"],[1,"data-history-span"],[1,"data-history"],[1,"data-history-content"],[1,"content-file",3,"click"],[1,"folder-icon"],[1,"view-image",3,"click"],[3,"buttonModel","click"],["target","_blank",1,"view-attachment",3,"href"]],template:function(e,l){1&e&&(n.TgZ(0,"div",0),n.NdJ("click",function(){return l.close()}),n.TgZ(1,"div",1)(2,"mat-icon"),n._uU(3),n.qZA(),n.TgZ(4,"span"),n._uU(5,"History"),n.qZA()()(),n.TgZ(6,"mat-sidenav-container",2),n.NdJ("backdropClick",function(){return l.close()}),n.TgZ(7,"mat-sidenav",3,4),n.NdJ("keydown.escape",function(){return l.close()}),n._UZ(9,"chq-customloader",5),n.YNc(10,o,3,1,"aside",6),n.qZA()()),2&e&&(n.Q6J("ngStyle",l.isMenuOpen?n.DdM(10,c):n.DdM(11,s)),n.xp6(3),n.Oqu(l.isMenuOpen?"keyboard_arrow_down":"keyboard_arrow_up"),n.xp6(3),n.Q6J("hasBackdrop",!0),n.xp6(1),n.ekj("menu-open",l.isMenuOpen)("menu-close",!l.isMenuOpen),n.Q6J("opened",l.isMenuOpen),n.xp6(2),n.Q6J("showLoading",l.isLoading),n.xp6(1),n.Q6J("ngIf",!l.isLoading))},dependencies:[y.H,k.E,Z.h,M.aw,M.X$,_.ez,_.mk,_.sg,_.O5,_.PC,_.uU,u.SJ,u.JX,u.TM,m.Ps,m.Hw],styles:[".history-slide-panel[_ngcontent-%COMP%]{display:flex;justify-content:start;width:100%;overflow:scroll;background:#fff}.history-slide-panel[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]{padding:2.24856rem .01269rem .00144rem .73731rem;flex-direction:column;justify-content:flex-end;align-items:center}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]{display:flex;flex-direction:column}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-date[_ngcontent-%COMP%]{display:flex}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-date[_ngcontent-%COMP%]   .date-pill[_ngcontent-%COMP%]{display:flex;padding:.3875rem .5rem;justify-content:center;align-items:center;gap:.375rem;border-radius:.875rem;border:2px solid rgba(26,34,51,.2);background:#fff;color:#3b82f6;font-size:.6rem;font-weight:700}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-block-container[_ngcontent-%COMP%]{display:flex}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-block-container[_ngcontent-%COMP%]   .action-status-pill[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;gap:.625rem;margin-bottom:.75rem}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-block-container[_ngcontent-%COMP%]   .action-status-pill[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.5rem;font-weight:600;border-radius:.625rem;padding:.28rem .7rem}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:.625rem;border:none;padding:.625rem 1.375rem;margin:10px 0 10px -22px;width:17.25rem}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .vertical-line[_ngcontent-%COMP%]{display:flex;width:4.6rem;justify-content:center}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .vertical-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:.125rem;height:100%;background:#1b03a3}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:.4375rem;border-radius:.625rem}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]{font-size:.75rem!important;font-weight:700}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]   .history-info-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap-reverse;gap:.5rem}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.75rem}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]   .repair-pdf-text[_ngcontent-%COMP%]   .data-history-span[_ngcontent-%COMP%]{font-size:12px;color:var(--xa-dark-gray);font-weight:700}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]   .sub-content-pdf[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]   .sub-content-pdf[_ngcontent-%COMP%]   .data-history[_ngcontent-%COMP%]   .data-history-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:700;margin-top:.5rem}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]   .sub-content-pdf[_ngcontent-%COMP%]   .data-history[_ngcontent-%COMP%]   .data-history-content[_ngcontent-%COMP%]   .data-history-span[_ngcontent-%COMP%]{font-weight:700}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]   .sub-content-pdf[_ngcontent-%COMP%]   .data-history[_ngcontent-%COMP%]   .data-history-content[_ngcontent-%COMP%]   .content-file[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;display:flex;flex-direction:row;align-items:center;padding:4px 8px;gap:10px;max-width:186px;min-width:186px;border:1px solid rgba(26,34,51,.2);filter:drop-shadow(0px 1px 3px rgba(96,108,128,.05));border-radius:5px;flex:none;order:0;flex-grow:0}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]   .sub-content-pdf[_ngcontent-%COMP%]   .data-history[_ngcontent-%COMP%]   .data-history-content[_ngcontent-%COMP%]   .content-file[_ngcontent-%COMP%]   .folder-icon[_ngcontent-%COMP%]{background:url(/assets/icons/pdf.svg) no-repeat;height:20px;width:20px}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]   .sub-content-pdf[_ngcontent-%COMP%]   .data-history[_ngcontent-%COMP%]   .data-history-content[_ngcontent-%COMP%]   .content-file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]   .view-btn-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.history-slide-panel[_ngcontent-%COMP%]   .history-items[_ngcontent-%COMP%]   .history-block[_ngcontent-%COMP%]   .history-details[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]   .view-btn-container[_ngcontent-%COMP%]   .view-image[_ngcontent-%COMP%]{color:#3b82f6;font-weight:500;cursor:pointer;text-decoration:underline}.menu-close[_ngcontent-%COMP%]{width:.9px!important;transform:none!important;visibility:visible!important;display:block!important}.menu-open[_ngcontent-%COMP%]{width:25rem!important;transition:width .3s ease-in}.toggle-button[_ngcontent-%COMP%]{position:absolute;transform:translateZ(0);top:38%;right:0;cursor:pointer;-webkit-user-select:none;user-select:none;background:var(--xa-white);z-index:999;border-radius:.375rem}.toggle-button[_ngcontent-%COMP%]   .btn-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:2.74794rem;height:5.33056rem;writing-mode:tb-rl;transform:rotate(-180deg);background-color:#fff;border-radius:.375rem;border-bottom-left-radius:0;border-top-left-radius:0;padding-top:15px;padding-bottom:15px}.toggle-button[_ngcontent-%COMP%]   .btn-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500}.disable-scroll[_ngcontent-%COMP%]{overflow:hidden!important}  .history-sidenav.mat-drawer-container{background-color:transparent;z-index:503!important}  .history-sidenav.mat-drawer-container .mat-drawer-backdrop{position:fixed}.border-repair[_ngcontent-%COMP%]{background-color:#1b03a30d}.bg-blue[_ngcontent-%COMP%]{background:rgba(26,34,51,.2)!important}.border-quote[_ngcontent-%COMP%]{background-color:#d3cd2833}.bg-yellow[_ngcontent-%COMP%]{background:#d3cd28!important}.bg-grey[_ngcontent-%COMP%]{background:rgba(26,34,51,.05)}.RepairEstimation[_ngcontent-%COMP%]{background-color:var(--xa-repair-estimate);color:var(--xa-black-medium)}.UploadDocuments[_ngcontent-%COMP%]{background-color:var(--xa-upload-document);color:var(--xa-white)}.AddPhotos[_ngcontent-%COMP%], .UploadPhotos[_ngcontent-%COMP%]{background-color:var(--xa-upload-photo);color:var(--xa-white)}.VehicleDetails[_ngcontent-%COMP%]{background-color:var(--xa-vehicle-detail);color:var(--xa-white)}.Approved[_ngcontent-%COMP%]{background-color:var(--xa-green);color:var(--xa-black)}.Rejected[_ngcontent-%COMP%]{background-color:var(--xa-red);color:var(--xa-white)}.Closed[_ngcontent-%COMP%], .Complete[_ngcontent-%COMP%]{background-color:var(--xa-blue);color:var(--xa-white)}.Draft[_ngcontent-%COMP%]{background-color:var(--xa-draft);color:var(--xa-white)}.PendingApproval[_ngcontent-%COMP%]{background-color:var(--xa-orange);color:var(--xa-black)}.ReadytoInvoice[_ngcontent-%COMP%]{background-color:#93bce1;color:var(--xa-black)}.RepairInProgress[_ngcontent-%COMP%]{background-color:#4301fe;color:var(--xa-white)}.Hold[_ngcontent-%COMP%]{background-color:#ce6dd0;color:var(--xa-white)}.Invoiced[_ngcontent-%COMP%]{background-color:#b463ee;color:var(--xa-white)}.view-attachment[_ngcontent-%COMP%]{color:#3b82f6;font-weight:500;font-size:.75rem!important}"]}),r})()},44466:(T,x,i)=>{i.d(x,{m:()=>v});var _=i(36895),n=i(9655),m=i(97392),u=i(98889),t=i(88784),M=i(25852),y=i(89383),P=i(20363),E=i(94650);let v=(()=>{class C{}return C.\u0275fac=function(b){return new(b||C)},C.\u0275mod=E.oAB({type:C}),C.\u0275inj=E.cJS({providers:[u.I],imports:[_.ez,m.Ps,M.p,n.H,t.T,y.aw,P.Z]}),C})()},25015:(T,x,i)=>{i.d(x,{z:()=>B});var _=i(24006),n=i(7274),m=i(68675),u=i(11520),t=i(94650),M=i(12484),y=i(36895),P=i(97392),E=i(41867),v=i(36978),C=i(48262),f=i(89383);const b=["nav"];function w(a,p){1&a&&(t.TgZ(0,"div",17),t._uU(1," Please enter comment "),t.qZA())}const I=function(a){return{"invalid-label":a}};function A(a,p){if(1&a){const o=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"div",6),t._uU(3),t.qZA(),t.TgZ(4,"div",7)(5,"mat-icon",8),t.NdJ("click",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.cancelDialog())}),t.qZA()()(),t.TgZ(6,"div",9),t._uU(7),t.qZA(),t.TgZ(8,"div",10)(9,"form",11)(10,"label",12),t._uU(11,"Comments"),t.qZA(),t._UZ(12,"textarea",13),t.YNc(13,w,2,0,"div",14),t.qZA()(),t.TgZ(14,"div",15)(15,"chq-button",16),t.NdJ("click",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.processCase())}),t.qZA()()()}if(2&a){const o=t.oxw();t.xp6(3),t.hij(" ",o.data.status," "),t.xp6(2),t.Q6J("svgIcon","cross"),t.xp6(2),t.hij(" ",o.data.info," "),t.xp6(2),t.Q6J("formGroup",o.commentForm),t.xp6(1),t.Q6J("ngClass",t.VKq(7,I,(o.formControl.dirty||o.formControl.touched)&&o.formControl.errors)),t.xp6(3),t.Q6J("ngIf",(o.formControl.dirty||o.formControl.touched)&&o.formControl.errors),t.xp6(2),t.Q6J("buttonModel",o.data.buttonModel)}}function k(a,p){if(1&a){const o=t.EpF();t.TgZ(0,"div",30)(1,"mat-icon",31),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.prevImageClick())}),t.qZA()()}}function Z(a,p){if(1&a){const o=t.EpF();t.TgZ(0,"div",32)(1,"mat-icon",33),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.nextImageClick())}),t.qZA()()}}function R(a,p){if(1&a){const o=t.EpF();t.TgZ(0,"div",34)(1,"mat-icon",31),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.prevImageClick())}),t.qZA()()}}function U(a,p){if(1&a){const o=t.EpF();t.TgZ(0,"div",35)(1,"mat-icon",33),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.nextImageClick())}),t.qZA()()}}const L=function(){return{width:"75px",height:"75px"}};function K(a,p){if(1&a){const o=t.EpF();t.TgZ(0,"div",18)(1,"div",5)(2,"div",7)(3,"mat-icon",8),t.NdJ("click",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.cancelDialog())}),t.qZA()()(),t.TgZ(4,"div",19),t.YNc(5,k,2,0,"div",20),t.TgZ(6,"img",21),t.NdJ("error",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.updateLoading())})("load",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.updateLoading())}),t.qZA(),t._UZ(7,"chq-customloader",22),t.YNc(8,Z,2,0,"div",23),t.qZA(),t.TgZ(9,"div",24),t.YNc(10,R,2,0,"div",25),t.TgZ(11,"ng-image-slider",26,27),t.NdJ("imageClick",function(s){t.CHM(o);const D=t.oxw();return t.KtG(D.showImage(s))}),t.qZA(),t.YNc(13,U,2,0,"div",28),t.qZA(),t.TgZ(14,"div",29)(15,"span"),t._uU(16),t.qZA()()()}if(2&a){const o=t.oxw();t.xp6(3),t.Q6J("svgIcon","cross"),t.xp6(2),t.Q6J("ngIf",o.thumbnails.length>1),t.xp6(1),t.Q6J("src",o.currentImage,t.LSH),t.xp6(1),t.Q6J("showLoading",o.showLoading),t.xp6(1),t.Q6J("ngIf",o.thumbnails.length>1),t.xp6(2),t.Q6J("ngIf",o.thumbnails.length>1),t.xp6(1),t.Q6J("images",o.thumbnails)("infinite",!1)("autoSlide",1)("imageSize",t.DdM(15,L))("imagePopup",!1)("showArrow",!1),t.xp6(2),t.Q6J("ngIf",o.thumbnails.length>1),t.xp6(3),t.AsE("",o.index,"/",o.totalImages,"")}}function q(a,p){if(1&a){const o=t.EpF();t.TgZ(0,"div",36)(1,"div",37)(2,"div",7)(3,"mat-icon",8),t.NdJ("click",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.cancelDialog())}),t.qZA()()(),t.TgZ(4,"div",38)(5,"div",39),t._uU(6),t.qZA(),t.TgZ(7,"div",40),t._uU(8),t.qZA()()()}if(2&a){const o=t.oxw();t.xp6(3),t.Q6J("svgIcon","cross"),t.xp6(3),t.hij(" ",o.data.status," "),t.xp6(2),t.hij(" ",o.comments," ")}}function J(a,p){if(1&a){const o=t.EpF();t.TgZ(0,"div",41)(1,"div",37)(2,"div",7)(3,"mat-icon",8),t.NdJ("click",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.cancelDialog())}),t.qZA()()(),t.TgZ(4,"div",42),t._uU(5),t.qZA(),t.TgZ(6,"div",43)(7,"p")(8,"strong"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"p")(13,"strong"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._uU(16),t.qZA(),t._UZ(17,"div",44),t.qZA()()}if(2&a){const o=t.oxw();t.xp6(3),t.Q6J("svgIcon","cross"),t.xp6(2),t.Oqu(null==o.data?null:o.data.status),t.xp6(4),t.hij("",t.lcZ(10,7,"to"),":"),t.xp6(2),t.hij(" ",o.emailContent.To,""),t.xp6(3),t.hij("",t.lcZ(15,9,"subject"),":"),t.xp6(2),t.hij(" ",o.emailContent.Subject,""),t.xp6(1),t.Q6J("innerHTML",o.emailContent.Content,t.oJD)}}let B=(()=>{class a{constructor(o,c,s,D,r){this.dialogRef=o,this.data=c,this.changeDedectionRef=s,this.monitorService=D,this.formBuilder=r,this.thumbnails=[],this.index=1,this.showComment=!1,this.showLoading=!0,this.showEmail=!1}ngOnInit(){this.monitorService.logEvent("ngOnInit",["ChqRepairDialogComponent","addenda-quote"]),this.data?.email&&(this.showEmail=!0,this.emailContent=JSON.parse(this.data?.email)),this.data?.imageGallery?this.getImages():this.data?.comment?(this.showComment=!0,this.comments=this.data?.comment):(this.commentForm=this.formBuilder.group({comment:["",[_.kI.required,a=>a.value&&""===a.value.trim()?{noEmptySpaces:!0}:null]]}),this.data&&this.data.buttonModel&&(this.data.buttonModel.type=this.commentForm.invalid?"disabled":"Approve Case"===this.data.buttonModel.label?"success":"Reject Case"===this.data.buttonModel.label?"red":"primary"),this.commentForm.get("comment").valueChanges.pipe((0,m.O)(null),(0,u.G)()).subscribe(([o,c])=>{this.data.buttonModel.type=c?.trim()?"Approve Case"===this.data.buttonModel.label?"success":"Reject Case"===this.data.buttonModel.label?"red":"primary":"disabled"}))}ngAfterContentChecked(){this.changeDedectionRef.detectChanges()}cancelDialog(){this.monitorService.logEvent("cancelDialog",["ChqRepairDialogComponent","addenda-quote"]),this.dialogRef.close()}processCase(){this.commentForm.invalid||this.dialogRef.close({data:this.commentForm.controls.comment.value})}getImages(){this.thumbnails=this.data.gallery,this.totalImages=this.thumbnails.length,this.showLoading=!0,this.currentImage=this.thumbnails[0].thumbImage}showImage(o){this.index=o+1,this.showLoading=!0,this.currentImage=this.thumbnails[o].thumbImage}prevImageClick(){this.index>1&&(this.index=this.index-1,this.slider.prev(),this.showLoading=!0,this.currentImage=this.thumbnails[this.index-1].thumbImage)}nextImageClick(){this.index<this.slider.totalImages&&(this.index=this.index+1,this.slider.next(),this.showLoading=!0,this.currentImage=this.thumbnails[this.index-1].thumbImage)}get formControl(){return this.commentForm.controls.comment}updateLoading(){this.showLoading=!this.showLoading}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(n.so),t.Y36(n.WI),t.Y36(t.sBO),t.Y36(M.M),t.Y36(_.qu))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-chq-repair-dialog"]],viewQuery:function(o,c){if(1&o&&t.Gf(b,5),2&o){let s;t.iGM(s=t.CRH())&&(c.slider=s.first)}},decls:4,vars:4,consts:[["class","repair dialog-container",4,"ngIf"],["class","dialog-container-image",4,"ngIf"],["class","dialog-container dialog-container-comment",4,"ngIf"],["class","dialog-container dialog-container-email",4,"ngIf"],[1,"repair","dialog-container"],[1,"heading"],[1,"heading-content"],[1,"close-icon"],[3,"svgIcon","click"],[1,"info"],[1,"content"],[3,"formGroup"],[3,"ngClass"],["rows","8","formControlName","comment","maxlength","500","placeholder","",1,"input-wrapper"],["class","invalid",4,"ngIf"],[1,"button"],[3,"buttonModel","click"],[1,"invalid"],[1,"dialog-container-image"],[1,"image-content"],["class","navigation prev-button",4,"ngIf"],[3,"src","error","load"],[3,"showLoading"],["class","navigation next-button",4,"ngIf"],[1,"slider"],["class","prev-button",4,"ngIf"],["slideImage","1",3,"images","infinite","autoSlide","imageSize","imagePopup","showArrow","imageClick"],["nav",""],["class","next-button",4,"ngIf"],[1,"footer"],[1,"navigation","prev-button"],["aria-hidden","false","aria-label","Example chevron left icon","fontIcon","chevron_left",3,"click"],[1,"navigation","next-button"],["aria-hidden","false","aria-label","Example chevron right icon","fontIcon","chevron_right",3,"click"],[1,"prev-button"],[1,"next-button"],[1,"dialog-container","dialog-container-comment"],[1,"heading","heading-comment"],[1,"comment-content"],[1,"comment-status"],[1,"comment"],[1,"dialog-container","dialog-container-email"],[1,"email-status"],[1,"email-content"],[3,"innerHTML"]],template:function(o,c){1&o&&(t.YNc(0,A,16,9,"div",0),t.YNc(1,K,17,16,"div",1),t.YNc(2,q,9,3,"div",2),t.YNc(3,J,18,11,"div",3)),2&o&&(t.Q6J("ngIf",!(null!=c.data&&c.data.imageGallery||c.showComment||c.showEmail)),t.xp6(1),t.Q6J("ngIf",null==c.data?null:c.data.imageGallery),t.xp6(1),t.Q6J("ngIf",c.showComment),t.xp6(1),t.Q6J("ngIf",c.showEmail))},dependencies:[y.mk,y.O5,P.Hw,_._Y,_.Fj,_.JJ,_.JL,_.nD,_.sg,_.u,E.sN,v.E,C.h,f.X$],styles:[".repair.dialog-container{display:flex;flex-direction:column;justify-content:flex-start;padding:30px;gap:36px}.repair.dialog-container .heading{display:flex;flex-direction:row;justify-content:space-between}.repair.dialog-container .heading .heading-content{display:flex;font-weight:700;font-size:20px;line-height:25px;align-items:center}.repair.dialog-container .heading-comment{justify-content:flex-end}.repair.dialog-container .info{font-weight:500;font-size:12px;line-height:14px;color:#000}.repair.dialog-container .content{position:relative}.repair.dialog-container .content label{height:14px;font-weight:400;font-size:10px;line-height:14px;text-transform:uppercase;color:var(--xa-dark-gray);flex:none;order:0;flex-grow:0;position:absolute;z-index:2;top:-6px;left:12px;padding:0 4px;background:var(--xa-white)}.repair.dialog-container .button{display:flex;justify-content:flex-end}.repair.dialog-container textarea{border-radius:8px;width:100%;box-sizing:border-box;padding:10px}.dialog-container-image{padding:20px;min-width:724px;max-width:724px;height:558px}.dialog-container-image .image-content{padding:20px;height:345px;display:flex;justify-content:center;align-items:center}.dialog-container-image .image-content img{height:100%}.dialog-container-image .slider{margin-top:19px;display:flex;flex-direction:row;justify-content:space-evenly}.dialog-container-image .slider .prev-button,.dialog-container-image .slider .next-button{display:flex;flex-direction:column;justify-content:space-around}.dialog-container-image .slider .prev-button img,.dialog-container-image .slider .next-button img{height:25px}.dialog-container-image .slider ng-image-slider{width:100%;margin:0 20px}.dialog-container-image .slider .ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:75px!important;margin-left:5px!important;margin-right:0!important}.dialog-container-image .slider .selected-image{border:1px solid #EAB308}.dialog-container-image .footer{margin-top:20px;display:flex;justify-content:center}.dialog-container-image .footer span{text-align:center}.dialog-container-comment{min-width:450px;max-width:450px;padding:32px 20px;overflow-x:hidden}.dialog-container-comment .comment-content{font-weight:500;font-size:14px;max-height:200px}.dialog-container-comment .comment-content .comment-status{margin-bottom:10px;font-size:16px}.dialog-container-comment .comment-content .comment{overflow-y:auto;overflow-x:hidden;white-space:pre-line}.dialog-container-email{min-width:450px;max-width:450px;padding:32px 20px;overflow-x:hidden}.dialog-container-email .email-status{margin-bottom:10px;font-size:1rem;font-weight:700;padding:.625rem 1.375rem;border-bottom:1px solid var(--xa-dp-light-gray)}.dialog-container-email .email-content{font-weight:500;font-size:.75rem;max-height:500px;border-radius:.625rem;padding:.625rem 1.375rem;background-color:#1b03a30d}.dialog-container .heading .close-icon,.dialog-container-image .heading .close-icon{justify-content:flex-end;display:flex}.dialog-container .heading .close-icon mat-icon,.dialog-container-image .heading .close-icon mat-icon{height:36px!important;width:36px!important;background:black;border-radius:50%;text-align:center}.dialog-container .heading .close-icon mat-icon svg,.dialog-container-image .heading .close-icon mat-icon svg{height:16px;width:16px;vertical-align:middle;position:relative;top:7px}.dialog-container .heading .close-icon mat-icon svg path,.dialog-container-image .heading .close-icon mat-icon svg path{fill:#fff}@media (orientation: portrait){.dialog-container-image{min-width:570px;max-width:570px}}.invalid{margin-top:6px;font-style:normal;font-weight:400;font-size:12px;line-height:18px;color:var(--xa-red);flex:none;order:2;align-self:stretch;flex-grow:0}.invalid-label{color:var(--xa-red)!important}.input-wrapper.ng-touched.ng-invalid{border:1px solid var(--xa-red);color:var(--xa-red);outline:0}.navigation{position:absolute;top:calc(50% - 55px)}.navigation.prev-button{left:0}.navigation.next-button{right:0}.navigation .mat-icon{font-size:50px!important;height:50px!important;width:50px!important}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div .caption{padding:2px!important;background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,.6),rgba(0,0,0,.7),rgba(0,0,0,.8),rgba(0,0,0,.9))!important;font-size:10px}.email-content td{border-radius:5px!important;padding:5px!important}.email-content a{color:#fff!important;text-decoration:none!important;pointer-events:none!important}\n"],encapsulation:2}),a})()}}]);