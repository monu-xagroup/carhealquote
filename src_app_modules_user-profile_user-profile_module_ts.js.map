{"version":3,"file":"src_app_modules_user-profile_user-profile_module_ts.js","mappings":"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","sources":["./src/app/modules/user-profile/user-profile.component.ts","./src/app/modules/user-profile/user-profile.component.html","./src/app/modules/user-profile/user-profile.module.ts","./src/app/resolvers/versionControl.resolver.ts"],"sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { EditMobileDialogComponent } from 'src/app/dialogs/edit-mobile-dialog/edit-mobile-dialog.component';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { menuItem, menuItems } from 'src/app/model/menu';\r\nimport { AuthService } from 'src/app/services/auth/auth.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { CoreService } from 'src/app/services/core/core.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\n\r\nexport interface Organization {\r\n  name: string;\r\n  cityName: string;\r\n  countryName: string;\r\n}\r\n\r\nexport interface Manager {\r\n  firstName: string;\r\n  lastName: string;\r\n  userProfileImageBlobUrl?: string;\r\n  avatarText?: string;\r\n}\r\n\r\nexport interface Role {\r\n  description: string;\r\n  automotiveServiceName: string;\r\n  name: string;\r\n}\r\n\r\nexport interface User {\r\n  userProfileImageBlobUrl?: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  countryCode: string;\r\n  phoneNumber: string;\r\n  email: string;\r\n  function: string;\r\n  organizationDetail: Organization;\r\n  managerDetail: Manager;\r\n  roleDetail: Role[];\r\n}\r\n\r\n@Component({\r\n  selector: 'user-profile',\r\n  templateUrl: './user-profile.component.html',\r\n  styleUrls: [ './user-profile.component.scss' ]\r\n})\r\nexport class UserProfileComponent implements OnInit{\r\n  public resetButtonModel: ChqWidgetsButtonModel = {\r\n    label: '',\r\n    type: 'primary'\r\n  }\r\n  public editMobileNumber: ChqWidgetsButtonModel = {\r\n    label: '',\r\n    type: 'outline'\r\n  }\r\n  @ViewChild('uploader') uploader: ElementRef;\r\n  avatarText: string;\r\n  userDetail: User;\r\n  hasAvatar:boolean=true;\r\n  showResetPassword = true;\r\n  isExternal: boolean = false;\r\n  menuItems: menuItem[] = menuItems;\r\n\r\n  /**\r\n   * constructor\r\n   * @param commonService\r\n   */\r\n  constructor(\r\n    private commonService: CommonService,\r\n    private coreService: CoreService,\r\n    private authService: AuthService,\r\n    private monitorService: MonitorService,\r\n    private dialog: MatDialog\r\n  ) {\r\n    this.commonService.reloadUser.subscribe((reload) => {\r\n      if (reload) {\r\n        this.getProfile();\r\n      }\r\n    });\r\n  }\r\n  /**\r\n   * on init\r\n   */\r\n  ngOnInit(): void {\r\n    this.monitorService.logEvent('ngOnInit', [ 'ChqUserProfileComponent', 'addenda-quote' ]);\r\n\r\n    this.commonService.userProfileData.subscribe({\r\n      next: (res: any) => {\r\n        if (res) {\r\n          const automotiveServices = res?.data?.userPermission?.automotiveServices;\r\n          const permissionList = automotiveServices?.find(x => x.automotiveServiceName.toLowerCase() === 'carheal quote')?.permissions;\r\n          const quoteMenus = this.menuItems?.find(x => x.name === 'quote')?.childMenu;\r\n          if (quoteMenus && quoteMenus?.length > 0 && permissionList && permissionList?.length > 0) {\r\n            this.showResetPassword = this.commonService.hasPermission('allowPasswordReset', permissionList);          \r\n            this.isExternal = this.commonService.hasPermission('case.external', permissionList);\r\n          }\r\n          \r\n        }\r\n      }\r\n    });\r\n\r\n    this.resetButtonModel = {\r\n      label: 'Reset Password',\r\n      type: 'primary',\r\n      icon: 'refresh',\r\n      onclick: this.resetPassword.bind(this)\r\n    }\r\n    this.editMobileNumber = {\r\n      label: 'Edit mobile number',\r\n      type: 'outline',\r\n      icon: 'edit',\r\n      onclick: this.changePhoneNumber.bind(this)\r\n    }\r\n    if (this.commonService.userProfileLoading) {\r\n      this.commonService.showLoading();\r\n      this.commonService.userProfileData.subscribe({\r\n        next: (res: any) => {\r\n          if (res) {\r\n            this.handleUserProfileData(res);\r\n            this.commonService.hideLoading();\r\n          }\r\n          \r\n        },\r\n        error: () => {\r\n          this.getProfile();\r\n        }\r\n      });\r\n    } else {\r\n      this.getProfile();\r\n    }\r\n  \r\n  }\r\n\r\n  /**\r\n   * handle user profile data\r\n   */\r\n  async handleUserProfileData(res:any):Promise<void> {\r\n    if (res?.data.userProfileImageBlobUrl) {\r\n      this.commonService.avatar.next({\r\n        image: res?.data.userProfileImageBlobUrl\r\n      });\r\n    }           \r\n    this.userDetail = res.data;\r\n    if (!this.userDetail.phoneNumber) {\r\n      this.editMobileNumber.type = 'disabled-outline';\r\n    }\r\n    if (this.userDetail?.managerDetail) {\r\n      const avatarText = `${this.userDetail?.managerDetail?.firstName.charAt(0)}${this.userDetail?.managerDetail?.lastName.charAt(0)}`;\r\n      this.userDetail.managerDetail.avatarText = avatarText;\r\n    }\r\n    this.avatarText = `${this.userDetail?.firstName.charAt(0)}${this.userDetail?.lastName.charAt(0)}`;\r\n  }\r\n\r\n  /**\r\n   * open change phonenumber dialog\r\n   */\r\n  changePhoneNumber():void {\r\n    this.monitorService.logEvent('changePhoneNumber', [ 'ChqUserProfileComponent', 'addenda-quote' ]);\r\n\r\n    const dialogRef = this.dialog.open(EditMobileDialogComponent, {\r\n      data:\r\n        this.userDetail,\r\n      autoFocus: false \r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe();\r\n  }\r\n\r\n  /**\r\n   * get user profile info\r\n   */\r\n  getProfile(): void {\r\n    this.commonService.showLoading();\r\n    this.monitorService.logEvent('getProfile', [ 'ChqUserProfileComponent', 'addenda-quote' ]);\r\n    this.coreService.getUserProfile().subscribe({\r\n      next: async (res) => {\r\n        if (res?.data.userProfileImageBlobUrl) {\r\n          this.commonService.avatar.next({\r\n            image: res?.data.userProfileImageBlobUrl\r\n          });\r\n        }           \r\n        this.userDetail = res.data;\r\n        if (!this.userDetail.phoneNumber) {\r\n          this.editMobileNumber.type = 'disabled-outline';\r\n        }\r\n        if (this.userDetail?.managerDetail) {\r\n          const avatarText = `${this.userDetail?.managerDetail?.firstName.charAt(0)}${this.userDetail?.managerDetail?.lastName.charAt(0)}`;\r\n          this.userDetail.managerDetail.avatarText = avatarText;\r\n        }\r\n        this.avatarText = `${this.userDetail?.firstName.charAt(0)}${this.userDetail?.lastName.charAt(0)}`;\r\n        this.commonService.hideLoading();        \r\n        this.commonService.userProfileData.next(res);\r\n      },\r\n      error: () => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n  \r\n\r\n  /** \r\n   * open labour rate popup\r\n   */\r\n  openOtpPopup(): void {\r\n    this.monitorService.logEvent('openOtpPopup', [ 'ChqUserProfileComponent', 'addenda-quote' ]);\r\n\r\n    const dialogRef = this.dialog.open(EditMobileDialogComponent, {\r\n      data:\r\n        { 'phoneNumber': '', 'isPhoneNumberAddition': true },\r\n      autoFocus: false \r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe();\r\n  }\r\n\r\n  /**\r\n   * handles reset button click\r\n   * returns void\r\n   */\r\n  public resetPassword(): void {\r\n    this.monitorService.logEvent('resetPassword', [ 'ChqUserProfileComponent', 'addenda-quote' ]);\r\n    window.location.href = this.authService.resetPasswordRoute();\r\n  }\r\n\r\n  /**\r\n   * handle file upload\r\n   * @param event \r\n   */\r\n  handleUpload(event: any): void {\r\n    const currentFile = event.target.files || event.srcElement.files;\r\n    this.monitorService.logEvent('handleUpload', [ 'ChqUserProfileComponent', 'addenda-quote', {\r\n      event\r\n    } ]);\r\n    if (currentFile !== null && currentFile !== '' && currentFile.length > 0) {\r\n      if (!this.checkFileSize(currentFile[0])) {\r\n        const message = 'Image size is above the allowed 5MB limit, try again with a smaller image';\r\n        this.commonService.showToast(0, message);\r\n        this.uploader.nativeElement.value = null;\r\n        return;\r\n      }\r\n      if (!this.isValidImageFile(currentFile[0].name)) {\r\n        const message = 'Uploaded file type is not supported';\r\n        this.commonService.showToast(0, message);\r\n        this.uploader.nativeElement.value = null;\r\n        return;\r\n      }\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(currentFile[0]);\r\n      reader.onload = (_event: any): void => {\r\n        this.uploadImage(reader.result, currentFile[0].name, currentFile[0]);\r\n      }\r\n    } else {\r\n      this.uploader.nativeElement.value = null;\r\n      return;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * checks file size\r\n   * @param blob \r\n   * @returns boolean\r\n   */\r\n  checkFileSize(img: Blob): boolean {\r\n    this.monitorService.logEvent('checkFileSize', [ 'ChqUserProfileComponent', 'addenda-quote', {\r\n      fileSize: img.size\r\n    } ]);\r\n    if (img.size > this.commonService.maxileSize) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * checkx filename\r\n   * @param filename \r\n   * @returns \r\n   */\r\n  public isValidImageFile(filename: string): boolean {\r\n    const regex: RegExp = new RegExp('^.*\\\\.[a-zA-Z]+$', 'gm');\r\n    this.monitorService.logEvent('isValidImageFile', [ 'ChqUserProfileComponent', 'addenda-quote', {\r\n      fileName: filename\r\n    } ]);\r\n    if (regex.test(filename)) {\r\n      const extension = filename.split('.').pop();\r\n      return this.commonService.allowExtension.includes(extension?.toLowerCase());\r\n    }\r\n    return false;\r\n\r\n  }\r\n\r\n  /**\r\n   * upload image to server\r\n   * @param image \r\n   * @param fileName \r\n   * @param file \r\n   */\r\n  uploadImage(image: string | ArrayBuffer, fileName: string, file: File): void {\r\n    this.monitorService.logEvent('uploadImage', [ 'ChqNewPhotosComponent', 'addenda-quote', {\r\n      fileName: fileName\r\n    } ]);\r\n    this.commonService.showLoading();\r\n    this.coreService.uploadProfileImage(file).subscribe({\r\n      next: async (res) => {\r\n        if (res) {         \r\n          this.userDetail.userProfileImageBlobUrl = res?.data.userImageBlobUrl;\r\n          this.hasAvatar = true;\r\n          this.commonService.avatar.next({\r\n            image: res?.data.userImageBlobUrl\r\n          });\r\n        }\r\n        this.uploader.nativeElement.value = null;\r\n        this.commonService.hideLoading();\r\n      },\r\n      error: () => {\r\n        this.uploader.nativeElement.value = null;\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * delete dialog\r\n   */\r\n  delete(): void {\r\n    this.monitorService.logEvent('delete', [ 'ChqNewPhotosComponent', 'addenda-quote' ]);\r\n    this.commonService.openDeleteDialog()\r\n      .afterClosed().subscribe((data) => {\r\n        if (data) {\r\n          this.deleteProfilePic();\r\n        } \r\n      });\r\n  }\r\n\r\n  /**\r\n * delete profile picutre\r\n */\r\n  deleteProfilePic(): void {\r\n    this.monitorService.logEvent('deleteProfilePic', [ 'ChqNewPhotosComponent', 'addenda-quote' ]);\r\n    this.commonService.showLoading();\r\n    this.coreService.deleteUserProfile().subscribe({\r\n      next: async (res) => {\r\n        this.userDetail.userProfileImageBlobUrl = null;\r\n        this.commonService.avatar.next({\r\n          image: null,\r\n          avatar: this.avatarText\r\n        });\r\n        this.commonService.hideLoading();\r\n      },\r\n      error: () => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n\r\n","<div class=\"main\">\r\n    <section class=\"user-container\">\r\n        <div class=\"user-info\">\r\n           \r\n            <div class=\"user-profile\">\r\n                <div class=\"user-profile-image\">\r\n                    <img [src]=\"userDetail?.userProfileImageBlobUrl\" (error)=\"hasAvatar=false;\" *ngIf=\"(userDetail?.userProfileImageBlobUrl && hasAvatar) else text\"/>\r\n                    <ng-template #text>\r\n                        <h4>{{avatarText}}</h4>\r\n                    </ng-template>\r\n                </div>\r\n                <input hidden  type=\"file\" #uploader (change)=\"handleUpload($event)\" accept=\"image/png, image/jpg, image/jpeg\">\r\n                <div class=\"edit-profile-picture\" [ngClass]=\"{'centered-edit': !userDetail?.userProfileImageBlobUrl}\">\r\n                    <mat-icon [svgIcon]=\"'edit'\" aria-hidden=\"false\" aria-label=\"edit icon\" (click)=\"uploader.click()\"></mat-icon>\r\n                </div>\r\n                <div class=\"delete-profile-picture\"  *ngIf=\"userDetail?.userProfileImageBlobUrl\">\r\n                    <mat-icon [svgIcon]=\"'delete'\" aria-hidden=\"false\" aria-label=\"delete icon\" (click)=\"delete()\"></mat-icon>\r\n                </div>\r\n            </div>\r\n            <div class=\"user-desc\">\r\n                <h3>{{userDetail?.firstName}} {{userDetail?.lastName}}</h3>  \r\n                <div class=\"role-container fx-row\">\r\n                    <div class=\"role fx-col\" *ngFor=\"let role of userDetail?.roleDetail\">\r\n                        <label class=\"user-post\">{{role.name}} : </label>\r\n                        <img *ngIf=\"role.automotiveServiceName === 'Carheal Quote'\" src=\"assets/img/addenda-quote.png\"/>\r\n                        <img *ngIf=\"role.automotiveServiceName === 'Addenda Repair'\" src=\"assets/img/addenda-repair.png\"/>\r\n                    </div>\r\n                </div>       \r\n                                \r\n                <div class=\"user-contact\">\r\n                    <div class=\"contact-item no-gap\" *ngIf=\"userDetail?.phoneNumber && userDetail?.phoneNumber!=='0'\">\r\n                        <mat-icon [svgIcon]=\"'call'\" aria-hidden=\"false\" aria-label=\"call icon\"></mat-icon>\r\n                        <label><span *ngIf=\"userDetail?.countryCode\">{{userDetail?.countryCode}}-</span>{{userDetail?.phoneNumber?.replace(userDetail?.countryCode,'')}}</label>\r\n                        <mat-icon class=\"icon-left\" [svgIcon]=\"'checked'\" aria-hidden=\"false\" aria-label=\"call icon\"></mat-icon>\r\n                        <label class=\"verify\" >{{'verified' | translate}}</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"organisation-info\">\r\n            <div class=\"organisation\" *ngIf=\"userDetail?.organizationDetail\">\r\n                <label>{{'organization' | translate | uppercase}}</label>\r\n                <h5>\r\n                    <span *ngIf=\"userDetail?.organizationDetail?.name\">{{userDetail?.organizationDetail?.name}}</span>\r\n                    <span *ngIf=\"userDetail?.organizationDetail?.cityName\">, {{userDetail?.organizationDetail?.cityName}}</span>\r\n                    <span *ngIf=\"userDetail?.organizationDetail?.countryName\">, {{userDetail?.organizationDetail?.countryName}}</span>\r\n                </h5>\r\n            </div>\r\n            <div class=\"manager\" *ngIf=\"userDetail?.managerDetail\">\r\n                <div class=\"manager-post\">\r\n                    <label>{{'direct_manager' | translate}}</label>\r\n                    <h5>{{userDetail?.managerDetail?.firstName}} {{userDetail?.managerDetail?.lastName}}</h5>\r\n                </div>\r\n                <div class=\"manager-profile\">\r\n                    <img [src]=\"userDetail?.managerDetail?.userProfileImageBlobUrl\" *ngIf=\"userDetail?.managerDetail?.userProfileImageBlobUrl else text\"/>\r\n                    <ng-template #text>\r\n                        <label>{{userDetail?.managerDetail?.avatarText}}</label>\r\n                    </ng-template>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section class=\"detail-container\">\r\n        <div *ngIf=\"showResetPassword\" class=\"div-row\">\r\n            <h5> {{'personal_details' | translate}}</h5>\r\n            <div class=\"contact-item new-call-button no-gap\" (click)=\"resetPassword();\">\r\n                <mat-icon [svgIcon]=\"'refresh'\" aria-hidden=\"false\" aria-label=\"call icon\"></mat-icon>\r\n                <label>{{'reset_password' | translate}}</label>\r\n            </div>\r\n        </div>\r\n       \r\n        <div class=\"detail-info\">\r\n            <div class=\"info-item first\">\r\n                <label class=\"title\">{{'first_name' | translate}}</label>\r\n                <label class=\"value\">{{userDetail?.firstName}}</label>\r\n            </div>\r\n            <div class=\"info-item second\">\r\n                <label class=\"title\">{{'last_name' | translate}}</label>\r\n                <label class=\"value\">{{userDetail?.lastName}}</label>\r\n            </div>\r\n            <div class=\"info-item third\">\r\n                <label class=\"title\">{{'mobile_number' | translate}}</label>\r\n                <div class=\"contact-item new-call-button no-gap\" *ngIf=\"!userDetail?.phoneNumber || userDetail?.phoneNumber ==='0'\" (click)=\"openOtpPopup();\">\r\n                    <mat-icon [svgIcon]=\"'plus-active'\" class=\"plus-icon\" aria-hidden=\"false\" aria-label=\"call icon\"></mat-icon>\r\n                    <label>{{'add_mobile_number' | translate}}</label>\r\n                </div>\r\n                <label *ngIf=\"userDetail?.phoneNumber && userDetail?.phoneNumber !=='0'\"  class=\"value\"><span *ngIf=\"userDetail?.countryCode\">{{userDetail?.countryCode}}-</span><span>{{userDetail?.phoneNumber?.replace(userDetail?.countryCode,'')}}</span>  <mat-icon [svgIcon]=\"'edit'\" (click)=\"changePhoneNumber()\" class=\"edit-icon\" aria-hidden=\"false\" aria-label=\"call icon\"></mat-icon></label>\r\n            </div>\r\n            <div class=\"info-item fourth\" *ngIf=\"!isExternal\">\r\n                <label class=\"title\">{{'email' | translate}}</label>\r\n                <label class=\"value\">{{userDetail?.email}}</label>\r\n            </div>\r\n        </div>\r\n    </section>\r\n\r\n    <div class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/addenda.png\" />\r\n            </div>\r\n        </div>\r\n      </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { UserProfileComponent } from './user-profile.component';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { IconsModule } from 'src/app/icons.module';\r\nimport { Route, RouterModule } from '@angular/router';\r\nimport { WidgetsModule } from 'src/app/widgets/widgets.module';\r\nimport { VersionControlResolver } from 'src/app/resolvers/versionControl.resolver';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nconst routes: Route[] = [\r\n  { \r\n    path: '', \r\n    component: UserProfileComponent,\r\n    resolve: { version: VersionControlResolver }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UserProfileComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    MatIconModule,\r\n    IconsModule,\r\n    RouterModule.forChild(routes),\r\n    WidgetsModule,\r\n    TranslateModule\r\n  ]\r\n})\r\nexport class UserProfileModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\n\r\nimport { catchError, map, Observable, of } from 'rxjs';\r\nimport { CommonService } from '../services/common/common.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VersionControlResolver implements Resolve<Observable<any>> {\r\n  /**\r\n   * contructor\r\n   * @param commonService \r\n   */\r\n  constructor(private commonService: CommonService) { }\r\n  /**\r\n   * resolve the \r\n   * @returns \r\n   */\r\n  resolve(): Observable<any> {\r\n    this.commonService.showLoading();\r\n    return this.commonService.checkVersion().pipe(\r\n      map((res) => {\r\n        this.commonService.hideLoading();\r\n        const localVersion = localStorage.getItem('appVersion');\r\n        const appVersion = res.buildRevision;\r\n        if (localVersion && localVersion != appVersion) {\r\n          localStorage.setItem('appVersion', appVersion);\r\n          setTimeout(() => {\r\n            location.reload();\r\n          }, 10);\r\n          return of('new version available');\r\n        } else {\r\n          localStorage.setItem('appVersion', appVersion);\r\n          return of('new version is not available');\r\n        }\r\n      }),\r\n      catchError(() => {\r\n        this.commonService.hideLoading();\r\n        return of('data not available at this time');\r\n      })\r\n    )\r\n  }\r\n}"],"names":["EditMobileDialogComponent","menuItems","i0","UserProfileComponent","constructor","commonService","coreService","authService","monitorService","dialog","label","type","reloadUser","subscribe","reload","getProfile","ngOnInit","logEvent","userProfileData","next","res","automotiveServices","data","userPermission","permissionList","find","x","automotiveServiceName","toLowerCase","permissions","quoteMenus","name","childMenu","length","showResetPassword","hasPermission","isExternal","resetButtonModel","icon","onclick","resetPassword","bind","editMobileNumber","changePhoneNumber","userProfileLoading","showLoading","handleUserProfileData","hideLoading","error","userProfileImageBlobUrl","avatar","image","userDetail","phoneNumber","managerDetail","avatarText","firstName","charAt","lastName","dialogRef","open","autoFocus","afterClosed","getUserProfile","openOtpPopup","window","location","href","resetPasswordRoute","handleUpload","event","currentFile","target","files","srcElement","checkFileSize","message","showToast","uploader","nativeElement","value","isValidImageFile","reader","FileReader","readAsDataURL","onload","_event","uploadImage","result","img","fileSize","size","maxileSize","filename","regex","RegExp","fileName","test","extension","split","pop","allowExtension","includes","file","uploadProfileImage","userImageBlobUrl","hasAvatar","delete","openDeleteDialog","deleteProfilePic","deleteUserProfile","selectors","viewQuery","ctx","CommonModule","MatIconModule","IconsModule","RouterModule","WidgetsModule","VersionControlResolver","TranslateModule","routes","path","component","resolve","version","UserProfileModule","forChild","declarations","imports","catchError","map","of","checkVersion","pipe","localVersion","localStorage","getItem","appVersion","buildRevision","setItem","setTimeout","factory","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}