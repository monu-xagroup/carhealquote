!function(){"use strict";function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return e(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */n=function(){return e};var t,e={},o=Object.prototype,a=o.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function d(t,e,n,o){var a=e&&e.prototype instanceof v?e:v,r=Object.create(a.prototype),s=new _(o||[]);return i(r,"_invoke",{value:P(t,n,s)}),r}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var m="suspendedStart",g="executing",h="completed",f={};function v(){}function y(){}function b(){}var C={};u(C,s,function(){return this});var x=Object.getPrototypeOf,w=x&&x(x(M([])));w&&w!==o&&a.call(w,s)&&(C=w);var A=b.prototype=v.prototype=Object.create(C);function T(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){function n(o,i,r,s){var c=p(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&a.call(u,"__await")?e.resolve(u.__await).then(function(t){n("next",t,r,s)},function(t){n("throw",t,r,s)}):e.resolve(u).then(function(t){l.value=t,r(l)},function(t){return n("throw",t,r,s)})}s(c.arg)}var o;i(this,"_invoke",{value:function(t,a){function i(){return new e(function(e,o){n(t,a,e,o)})}return o=o?o.then(i,i):i()}})}function P(e,n,o){var a=m;return function(i,r){if(a===g)throw new Error("Generator is already running");if(a===h){if("throw"===i)throw r;return{value:t,done:!0}}for(o.method=i,o.arg=r;;){var s=o.delegate;if(s){var c=D(s,o);if(c){if(c===f)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===m)throw a=h,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=g;var l=p(e,n,o);if("normal"===l.type){if(a=o.done?h:"suspendedYield",l.arg===f)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(a=h,o.method="throw",o.arg=l.arg)}}}function D(e,n){var o=n.method,a=e.iterator[o];if(a===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,D(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f;var i=p(a,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var r=i.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function Z(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(Z,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(a.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,l,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},T(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,n,o,a,i){void 0===i&&(i=Promise);var r=new O(d(t,n,o,a),i);return e.isGeneratorFunction(n)?r:r.next().then(function(t){return t.done?t.value:r.next()})},T(A),u(A,l,"Generator"),u(A,s,function(){return this}),u(A,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=M,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(o,a){return s.type="throw",s.arg=e,n.next=o,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],s=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var c=a.call(r,"catchLoc"),l=a.call(r,"finallyLoc");if(c&&l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=t,r.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var a=o.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:M(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),f}},e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(a=o.key,i=void 0,"symbol"==typeof(i=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(a,"string"))?i:String(i)),o)}var a,i}function i(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkcar_heal_quote=self.webpackChunkcar_heal_quote||[]).push([[301],{75301:function(e,a,r){r.r(a),r.d(a,{CustomerTableModule:function(){return bt}});var s=r(38583),c=r(74743),l=r(55278),u=r(76627),d=r(79317),p=r(25852),m=r(89993),g=r(97582),h=r(57445),f=r(7772),v={columns:[{id:"ContactId",sortable:!0,header:{text:"id",tooltip:""},selector:{field:"ContactId"},widget:{type:"text"},cellStyle:"text-decoration: underline; color: var(--xa-primary);"},{id:"CreatedDate",sortable:!0,header:{text:"creation_date",tooltip:""},selector:{field:"CreatedDate"},widget:{type:"dateTime"}},{id:"FirstName",sortable:!0,selector:{field:"FirstName"},header:{text:"first_name",tooltip:""},widget:{type:"text"}},{id:"LastName",sortable:!0,selector:{field:"LastName"},header:{text:"last_name",tooltip:""},widget:{type:"text"}},{id:"MobileNumber",sortable:!0,selector:{field:"MobileNumber"},header:{text:"mobile_number",tooltip:""},widget:{type:"text"}},{id:"Email",sortable:!0,selector:{field:"Email"},header:{text:"email_address",tooltip:""},widget:{type:"text"}},{id:"Amount",sortable:!0,selector:{field:"FormattedTotalAmount"},cellStyle:"justify-content:center;",header:{text:"total_amount_invoiced",tooltip:""},widget:{type:"text"}},{id:"AmountReceived",sortable:!0,cellStyle:"justify-content:center;",selector:{field:"FormattedPaidAmount"},header:{text:"paid_amount",tooltip:""},widget:{type:"text"}},{id:"AmountDue",sortable:!0,cellStyle:"justify-content:center;",selector:{field:"FormattedDueAmount"},header:{text:"due_amount",tooltip:""},widget:{type:"html"}}]},y={columns:[{id:"ContactId",sortable:!0,header:{text:"id",tooltip:""},selector:{field:"ContactId"},widget:{type:"text"},cellStyle:"text-decoration: underline; color: var(--xa-primary);"},{id:"CreatedDate",sortable:!0,header:{text:"creation_date",tooltip:""},selector:{field:"CreatedDate"},widget:{type:"dateTime"}},{id:"CompanyName",sortable:!0,selector:{field:"FormattedCompanyName"},header:{text:"company_name",tooltip:""},widget:{type:"html"}},{id:"Amount",sortable:!0,selector:{field:"FormattedTotalAmount"},header:{text:"total_amount_invoiced",tooltip:""},widget:{type:"text"},cellStyle:"justify-content:center;"},{id:"AmountReceived",sortable:!0,selector:{field:"FormattedPaidAmount"},header:{text:"paid_amount",tooltip:""},widget:{type:"text"},cellStyle:"justify-content:center;"},{id:"AmountDue",sortable:!0,selector:{field:"FormattedDueAmount"},header:{text:"due_amount",tooltip:""},widget:{type:"html"},cellStyle:"justify-content:center;"}]},b=r(38588),C=r(7408),x=r(37716),w=r(95016),A=r(4893),T=r(92340),O=r(91841),P=function(){var t=function(){function t(e){o(this,t),this.http=e}return i(t,[{key:"getCustomers",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(t.currentPage-1)*t.pageSize;return this.http.get("".concat(T.N.caseMgmtUrl,"/odata/customerinvoice?").concat(e=e?"$top=".concat(t.pageSize,"&$skip=").concat(n,"&").concat(e):"$top=".concat(t.pageSize,"&$skip=").concat(n),"&$orderby=").concat(t.orderBy," ").concat(t.sortDirection,"&count=true"))}},{key:"getCompanyCustomers",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(t.currentPage-1)*t.pageSize;return this.http.get("".concat(T.N.caseMgmtUrl,"/odata/companyinvoice?").concat(e=e?"$top=".concat(t.pageSize,"&$skip=").concat(n,"&").concat(e):"$top=".concat(t.pageSize,"&$skip=").concat(n),"&$orderby=").concat(t.orderBy," ").concat(t.sortDirection,"&count=true"))}},{key:"getCompanyWorkProviders",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.http.get("".concat(T.N.caseMgmtUrl,"/odata/companyinvoice?").concat(t))}},{key:"getReapirOrders",value:function(t,e,n){var o;return o="company"===e?"&$filter=(companyId eq ".concat(t,")&companyIndividualType=1"):"&$filter=(contactId eq ".concat(t,")&companyIndividualType=2"),this.http.get("".concat(T.N.caseMgmtUrl,"/odata/repairorder?$top=").concat(n.pageSize,"&$skip=").concat((n.currentPage-1)*n.pageSize,"&$orderby=").concat(n.orderBy," ").concat(n.sortDirection).concat(o,"&count=true"))}},{key:"getCases",value:function(t,e,n){var o;return o="company"===e?"&$filter=(companyId eq ".concat(t,")&companyIndividualType=1"):"&$filter=(contactId eq ".concat(t,")&companyIndividualType=2"),this.http.get("".concat(T.N.caseMgmtUrl,"/odata/repairestimation?$top=").concat(n.pageSize,"&$skip=").concat((n.currentPage-1)*n.pageSize,"&$orderby=").concat(n.orderBy," ").concat(n.sortDirection).concat(o,"&count=true"))}},{key:"getTotalDueAmountCompany",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.http.get("".concat(T.N.caseMgmtUrl,"/odata/companyinvoice?").concat(t))}},{key:"getTotalDueAmountPerson",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.http.get("".concat(T.N.caseMgmtUrl,"/odata/customerinvoice?").concat(t))}},{key:"getCompanyDetails",value:function(t){return this.http.get("".concat(T.N.caseMgmtUrl,"/api/companyinvoice/").concat(t))}},{key:"getCustomerDetails",value:function(t){return this.http.get("".concat(T.N.caseMgmtUrl,"/api/customerinvoice/").concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(x.LFG(O.eN))},t.\u0275prov=x.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),D=r(38709),Z=r(93077),S=r(56785),_=r(77782),M=r(8851),q=r(36978),k=r(67017),I=r(63298),j=r(29790),N=["companyName"],L=["workProvider"];function F(t,e){if(1&t){var n=x.EpF();x.TgZ(0,"chq-dropdown",17,18),x.NdJ("selected",function(t){return x.CHM(n),x.oxw(2).selectFilter(t)}),x.qZA()}if(2&t){var o=x.oxw(2);x.Q6J("dropdownModel",o.dropdownModelCompany)}}function E(t,e){if(1&t){var n=x.EpF();x.TgZ(0,"div",12),x.TgZ(1,"chq-dropdown",13,14),x.NdJ("selected",function(t){return x.CHM(n),x.oxw().selectFilter(t)}),x.qZA(),x.YNc(3,F,2,1,"chq-dropdown",15),x._UZ(4,"chq-button",16),x._UZ(5,"chq-button",16),x.qZA()}if(2&t){var o=x.oxw();x.xp6(1),x.Q6J("dropdownModel",o.dropdownModelFilter),x.xp6(2),x.Q6J("ngIf",o.input.companyName),x.xp6(1),x.Q6J("buttonModel",o.applyButtonModel),x.xp6(1),x.Q6J("buttonModel",o.resetButtonModel)}}function R(t,e){if(1&t){var n=x.EpF();x.TgZ(0,"chq-input",22),x.NdJ("controlOutput",function(t){return x.CHM(n),x.oxw(2).updateInput(t)}),x.qZA()}if(2&t){var o=x.oxw(2);x.Q6J("inputModel",o.nameTextBox)}}function U(t,e){if(1&t){var n=x.EpF();x.TgZ(0,"div",12),x.TgZ(1,"chq-dropdown",19,20),x.NdJ("selected",function(t){return x.CHM(n),x.oxw().selectFilter(t)}),x.qZA(),x.YNc(3,R,1,1,"chq-input",21),x._UZ(4,"chq-button",16),x._UZ(5,"chq-button",16),x.qZA()}if(2&t){var o=x.oxw();x.xp6(1),x.Q6J("dropdownModel",o.dropdownModelFilterPerson),x.xp6(2),x.Q6J("ngIf",o.input.personName),x.xp6(1),x.Q6J("buttonModel",o.applyButtonModel),x.xp6(1),x.Q6J("buttonModel",o.resetButtonModel)}}var J=function(t,e,n,o,a){return[t,e,n,o,a]};function Y(t,e){if(1&t&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"xaCurrency"),x.qZA()),2&t){var n=x.oxw(2);x.Tol(n.dueAmountPersonClass),x.xp6(1),x.Oqu(x.G7q(2,4,x.qbA(10,J,n.totalDueAmountPerson,n.i18n.currencySymbol,n.i18n.digitsInfo,n.i18n.locale,n.i18n.position)))}}function z(t,e){if(1&t&&(x.TgZ(0,"span"),x._uU(1),x.qZA()),2&t){var n=x.oxw(2);x.xp6(1),x.Oqu(n.totalDueAmountPerson)}}function B(t,e){if(1&t&&(x.TgZ(0,"div",23),x.TgZ(1,"span"),x._uU(2),x.ALo(3,"translate"),x.YNc(4,Y,3,16,"span",24),x.YNc(5,z,2,1,"span",25),x.qZA(),x.qZA()),2&t){var n=x.oxw();x.xp6(2),x.hij("",x.lcZ(3,3,"total_due_amount"),": "),x.xp6(2),x.Q6J("ngIf","-"!==n.totalDueAmountPerson),x.xp6(1),x.Q6J("ngIf","-"===n.totalDueAmountPerson)}}function Q(t,e){if(1&t&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"xaCurrency"),x.qZA()),2&t){var n=x.oxw(2);x.Tol(n.dueAmountCompanyClass),x.xp6(1),x.Oqu(x.G7q(2,4,x.qbA(10,J,n.totalDueAmountCompany,n.i18n.currencySymbol,n.i18n.digitsInfo,n.i18n.locale,n.i18n.position)))}}function G(t,e){if(1&t&&(x.TgZ(0,"span"),x._uU(1),x.qZA()),2&t){var n=x.oxw(2);x.xp6(1),x.Oqu(n.totalDueAmountCompany)}}function $(t,e){if(1&t&&(x.TgZ(0,"div",23),x.TgZ(1,"span"),x._uU(2),x.ALo(3,"translate"),x.YNc(4,Q,3,16,"span",24),x.YNc(5,G,2,1,"span",25),x.qZA(),x.qZA()),2&t){var n=x.oxw();x.xp6(2),x.hij("",x.lcZ(3,3,"total_due_amount"),": "),x.xp6(2),x.Q6J("ngIf","-"!==n.totalDueAmountCompany),x.xp6(1),x.Q6J("ngIf","-"===n.totalDueAmountCompany)}}function H(t,e){if(1&t){var n=x.EpF();x.TgZ(0,"div",30),x.TgZ(1,"chq-paginator",31,32),x.NdJ("paginationChange",function(t){return x.CHM(n),x.oxw(2).handlePaginationChange(t)}),x.qZA(),x.qZA()}if(2&t){var o=x.oxw(2);x.xp6(1),x.Q6J("pagination",o.pagination)}}function V(t,e){if(1&t&&(x.TgZ(0,"div",26),x.TgZ(1,"div",27),x._UZ(2,"chq-mat-table",28),x.qZA(),x.YNc(3,H,3,1,"div",29),x.qZA()),2&t){var n=x.oxw();x.xp6(2),x.Q6J("config",n.tableConfig)("tableData",n.tableData)("sortChanged",n.handleSortChange)("pageChanged",n.pageChanged)("cellClicked",n.handleCellClick)("i18n",n.i18n),x.xp6(1),x.Q6J("ngIf",(null==n.tableData?null:n.tableData.length)>0&&n.pagination.count>n.pagination.pageSize)}}function K(t,e){if(1&t){var n=x.EpF();x.TgZ(0,"div",30),x.TgZ(1,"chq-paginator",31,33),x.NdJ("paginationChange",function(t){return x.CHM(n),x.oxw(2).handlePaginationChangeCompany(t)}),x.qZA(),x.qZA()}if(2&t){var o=x.oxw(2);x.xp6(1),x.Q6J("pagination",o.paginationCompany)}}function W(t,e){if(1&t&&(x.TgZ(0,"div",26),x.TgZ(1,"div",27),x._UZ(2,"chq-mat-table",28),x.qZA(),x.YNc(3,K,3,1,"div",29),x.qZA()),2&t){var n=x.oxw();x.xp6(2),x.Q6J("config",n.tableConfigCompany)("tableData",n.tableDataCompany)("sortChanged",n.handleSortChangeCompany)("pageChanged",n.pageChangedCompany)("cellClicked",n.handleCellClickCompany)("i18n",n.i18n),x.xp6(1),x.Q6J("ngIf",(null==n.tableDataCompany?null:n.tableDataCompany.length)>0&&n.paginationCompany.count>n.pagination.pageSize)}}var X={COMPANY:"company",PERSONAL:"individual"},tt=function(){var e=function(){function e(t,n,a,i,r,s,c,l){var u=this;o(this,e),this.monitorService=t,this.commonService=n,this.tableDataSer=a,this.router=i,this.route=r,this.caseService=s,this.xaCurrencyPipe=c,this.calendarService=l,this.pageChanged=!1,this.pagination=f.G,this.configData=v,this.textToSearch="",this.input={personName:!1,companyName:!1},this.customerListMenus=b.JU,this.activeTab="",this.activeTabOptions=X,this.pageChangedCompany=!1,this.paginationCompany=f.G,this.configDataCompany=y,this.workProviderFromBooking=[],this.selectedCompanyForFilter=[],this.dueAmountPersonClass="",this.dueAmountCompanyClass="",this.totalDueAmountCompany=0,this.totalDueAmountPerson=0,this.showTotalDueAmountCompany=!1,this.showTotalDueAmountPerson=!1,this.applyButtonModel={label:"apply",type:"disabled",icon:"",onclick:this.applyFilter.bind(this)},this.resetButtonModel={label:"reset_all",type:"outline",icon:"",onclick:this.reSetFilter.bind(this)},this.dropdownModelFilter={options:[],placeHolder:"select_type",label:"select_type",name:"filterDropdown",displayValue:"label",selectedOption:{label:""}},this.dropdownModelCompany={options:[],placeHolder:"company_name",label:"company_name",name:"companyDropdown",displayValue:"companyName",keyFieldName:"CompanyId",selectedOption:[],isMultiSelect:!0},this.dropdownModelFilterPerson={options:[{label:"Retail - Individual"}],placeHolder:"select_type",label:"select_type",name:"filterDropdownPerson",displayValue:"label",selectedOption:{label:""}},this.nameTextBox={placeHolder:"customer_name",label:"customer_name",name:"name",type:"text",value:"",required:!1},this.handleSortChange=function(t){t&&(u.pagination=Object.assign(Object.assign({},u.pagination),{orderBy:t.active,sortDirection:t.direction}),u.getCustomers())},this.handleSortChangeCompany=function(t){t&&(u.paginationCompany=Object.assign(Object.assign({},u.paginationCompany),{orderBy:t.active,sortDirection:t.direction}),u.getCompanyCustomers())},this.handleCellClick=function(t,e){var n,o;if("ContactId"===e.id){var a=null===(o=null===(n=t.find(function(t){return t.id===e.id}))||void 0===n?void 0:n.result)||void 0===o?void 0:o.value;if(a){var i=u.tableData.find(function(t){return t.ContactId===a});i&&u.commonService.customerDetails.next(i),a&&u.router.navigate(["/repair/customers/individual/".concat(a,"/").concat(i.Id,"/repair-order")])}}},this.handleCellClickCompany=function(t,e){var n,o;if("ContactId"===e.id){var a=null===(o=null===(n=t.find(function(t){return t.id===e.id}))||void 0===n?void 0:n.result)||void 0===o?void 0:o.value;if(a){var i=u.tableDataCompany.find(function(t){return t.ContactId===a});i&&u.commonService.customerDetails.next(i),a&&u.router.navigate(["/repair/customers/company/".concat(a,"/").concat(i.Id,"/repair-order")])}}},this.i18n=this.commonService.geti18nInfo()}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.monitorService.logEvent("ngOnInit",["CustomerTableComponent","addenda-repair"]),this.tableConfig=this.configData,this.tableConfigCompany=this.configDataCompany,this.route.params.subscribe(function(o){return(0,g.mG)(t,void 0,void 0,n().mark(function t(){var a;return n().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.activeTab=o.userType,this.activeTab!==X.PERSONAL){t.next=4;break}this.pagination=Object.assign(Object.assign({},this.pagination),{count:0,currentPage:e.currentPage,orderBy:"CreatedDate",sortDirection:"desc"}),this.handlePaginationChange({currentPage:e.currentPage,offset:this.pagination.pageSize*(e.currentPage-1),pageSize:this.pagination.pageSize}),this.getTotalDueAmountPerson(),t.next=9;break;case 4:return this.paginationCompany=Object.assign(Object.assign({},this.paginationCompany),{count:0,currentPage:e.currentPageCompnay,orderBy:"CreatedDate",sortDirection:"desc"}),this.commonService.showLoading(),t.next=7,(0,h.z)(this.tableDataSer.getCompanyWorkProviders("$apply=groupby((CompanyOrgType))"));case 7:(a=t.sent)&&a.length>0&&(this.workProviderFromBooking=a.map(function(t){return t.CompanyOrgType})),this.getCompanyCustomers(),this.getTotalDueAmountCompany(),this.dropdownModelFilter.observable||(this.dropdownModelFilter=Object.assign(Object.assign({},this.dropdownModelFilter),{observable:this.caseService.getProviders(),onObservableLoad:this.onObservableLoadWorkProviderData.bind(this)}),this.workProvider.dropdownModel.observable=this.caseService.getProviders(),this.workProvider.getObservable());case 9:case"end":return t.stop()}},t,this)}))}),this.subscription=this.commonService.userProfileData.subscribe(function(e){t.userDetail=null==e?void 0:e.data})}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"getCompanyCustomers",value:function(){var t;return(0,g.mG)(this,void 0,void 0,n().mark(function e(){var o,a=this;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.commonService.showLoading(),o="",e.abrupt("return",((null===(t=this.selectedCompanyForFilter)||void 0===t?void 0:t.length)>0&&(o="$filter=(".concat(this.selectedCompanyForFilter.map(function(t){return"ContactId eq ".concat(t.CompanyId)}).join(" or "),")")),(0,h.z)(this.tableDataSer.getCompanyCustomers(this.paginationCompany,o)).then(function(t){var e=t.value;e.map(function(t){var e="";if(t.AmountDue=t.Amount-t.AmountReceived,t.Amount&&void 0!==t.AmountDue){var n=100*t.AmountDue/t.Amount;n>=30&&(e="color-xa-dark-red"),n<=10&&n>0&&(e="col-xa-orange2"),0==n&&(e="color-xa-repair-header")}t.FormattedTotalAmount=t.Amount?a.xaCurrencyPipe.transform(t.Amount,a.i18n.currencySymbol,a.i18n.digitsInfo,a.i18n.locale,a.i18n.position):"-",t.FormattedPaidAmount=t.AmountReceived?a.xaCurrencyPipe.transform(t.AmountReceived,a.i18n.currencySymbol,a.i18n.digitsInfo,a.i18n.locale,a.i18n.position):"-",t.FormattedDueAmount=t.Amount?'<span class="'+e+'">'+a.xaCurrencyPipe.transform(t.AmountDue,a.i18n.currencySymbol,a.i18n.digitsInfo,a.i18n.locale,a.i18n.position):"-</span>",t.FormattedCompanyName=t.CompanyName?'<span class="company-name">'.concat(t.CompanyName).concat(t.LicenseNumber?"-<i>"+t.LicenseNumber+"</i>":"","</span>"):""}),a.tableDataCompany=e,a.paginationCompany=Object.assign(Object.assign({},a.paginationCompany),{count:t["@odata.count"]||0}),a.commonService.hideLoading()}).catch(function(t){a.monitorService.logException(t,C._.Error),a.commonService.hideLoading()})));case 3:case"end":return e.stop()}},e,this)}))}},{key:"getCustomers",value:function(){var t;return(0,g.mG)(this,void 0,void 0,n().mark(function e(){var o,a,i,r=this;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=null===(t=this.dropdownModelFilterPerson.selectedOption)||void 0===t?void 0:t.label,a="","retail - individual"===(null==o?void 0:o.toLowerCase())&&""!=this.textToSearch&&(i=this.textToSearch+"",a="$filter=(contains(tolower(FirstName),'".concat(i.toLowerCase(),"')) or (contains(tolower(LastName),'").concat(i.toLowerCase(),"'))")),e.abrupt("return",(this.commonService.showLoading(),(0,h.z)(this.tableDataSer.getCustomers(this.pagination,a)).then(function(t){var e=t.value;e.map(function(t){var e="";if(t.AmountDue=t.Amount-t.AmountReceived,t.Amount&&void 0!==t.AmountDue){var n=100*t.AmountDue/t.Amount;n>=30&&(e="color-xa-dark-red"),n<=10&&n>0&&(e="col-xa-orange2"),0==n&&(e="color-xa-repair-header")}t.FormattedTotalAmount=t.Amount?r.xaCurrencyPipe.transform(t.Amount,r.i18n.currencySymbol,r.i18n.digitsInfo,r.i18n.locale,r.i18n.position):"-",t.FormattedPaidAmount=t.AmountReceived?r.xaCurrencyPipe.transform(t.AmountReceived,r.i18n.currencySymbol,r.i18n.digitsInfo,r.i18n.locale,r.i18n.position):"-",t.FormattedDueAmount=t.Amount&&void 0!==t.AmountDue?'<span class="'+e+'">'+r.xaCurrencyPipe.transform(t.AmountDue,r.i18n.currencySymbol,r.i18n.digitsInfo,r.i18n.locale,r.i18n.position)+"</span>":"-"}),r.tableData=e,r.pagination=Object.assign(Object.assign({},r.pagination),{count:t["@odata.count"]||0}),r.commonService.hideLoading()}).catch(function(t){r.monitorService.logException(t,C._.Error),r.commonService.hideLoading()})));case 4:case"end":return e.stop()}},e,this)}))}},{key:"getTotalDueAmountCompany",value:function(){var t;return(0,g.mG)(this,void 0,void 0,n().mark(function e(){var o,a=this;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.showTotalDueAmountCompany=!1,o="$apply=",e.abrupt("return",((null===(t=this.selectedCompanyForFilter)||void 0===t?void 0:t.length)>0&&(o+="filter(".concat(this.selectedCompanyForFilter.map(function(t){return"ContactId eq ".concat(t.CompanyId)}).join(" or "),")/")),o+="aggregate(Amount with sum as TotalAmount, AmountReceived with sum as TotalAmountReceived)",(0,h.z)(this.tableDataSer.getTotalDueAmountCompany(o)).then(function(t){if(t&&t[0]&&(a.showTotalDueAmountCompany=!0,a.dueAmountCompanyClass="",a.totalDueAmountCompany=t[0].TotalAmount?t[0].TotalAmount-t[0].TotalAmountReceived:"-",t[0].TotalAmount)){var e=100*a.totalDueAmountCompany/t[0].TotalAmount;e>=30&&(a.dueAmountCompanyClass="color-xa-dark-red"),e<=10&&e>0&&(a.dueAmountCompanyClass="col-xa-orange2"),0==e&&(a.dueAmountCompanyClass="color-xa-repair-header")}}).catch(function(t){a.showTotalDueAmountCompany=!0,a.monitorService.logException(t,C._.Error)})));case 3:case"end":return e.stop()}},e,this)}))}},{key:"getTotalDueAmountPerson",value:function(){var t;return(0,g.mG)(this,void 0,void 0,n().mark(function e(){var o,a,i,r=this;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.showTotalDueAmountPerson=!1,o="$apply=","retail - individual"===(null==(a=null===(t=this.dropdownModelFilterPerson.selectedOption)||void 0===t?void 0:t.label)?void 0:a.toLowerCase())&&""!=this.textToSearch&&(i=this.textToSearch+"",o+="filter(contains(tolower(FirstName),'".concat(i.toLowerCase(),"') or contains(tolower(LastName),'").concat(i.toLowerCase(),"'))/")),e.abrupt("return",(o+="aggregate(Amount with sum as TotalAmount, AmountReceived with sum as TotalAmountReceived)",(0,h.z)(this.tableDataSer.getTotalDueAmountPerson(o)).then(function(t){if(t&&t[0]&&(r.showTotalDueAmountPerson=!0,r.dueAmountPersonClass="",r.totalDueAmountPerson=t[0].TotalAmount?t[0].TotalAmount-t[0].TotalAmountReceived:"-",t[0].TotalAmount)){var e=100*r.totalDueAmountPerson/t[0].TotalAmount;e>=30&&(r.dueAmountPersonClass="color-xa-dark-red"),e<=10&&e>0&&(r.dueAmountPersonClass="col-xa-orange2"),0==e&&(r.dueAmountPersonClass="color-xa-repair-header")}}).catch(function(t){r.showTotalDueAmountPerson=!0,r.monitorService.logException(t,C._.Error)})));case 5:case"end":return e.stop()}},e,this)}))}},{key:"handlePaginationChange",value:function(t){var e={pageSize:t.pageSize,offset:t.offset,currentPage:t.currentPage};this.pagination.currentPage=t.currentPage,this.pagination=Object.assign(Object.assign({},this.pagination),e),this.pageChanged=!0,this.getCustomers()}},{key:"handlePaginationChangeCompany",value:function(t){var e={pageSize:t.pageSize,offset:t.offset,currentPage:t.currentPage};this.paginationCompany.currentPage=t.currentPage,this.paginationCompany=Object.assign(Object.assign({},this.paginationCompany),e),this.pageChangedCompany=!0,this.getCompanyCustomers()}},{key:"selectFilter",value:function(t){var e,n,o,a=this;if(this.monitorService.logEvent("selectFilter",["CustomerTableComponent","addenda-repair",{$event:t}]),"filterDropdown"==(null==t?void 0:t.name)){var i="?$filter=( OrgId eq ".concat(null===(n=null===(e=this.userDetail)||void 0===e?void 0:e.organizationDetail)||void 0===n?void 0:n.id," and CompanyOrgType eq '").concat(t.value.label,"' and IsIndividual eq false)");this.dropdownModelFilter.selectedOption=t.value,this.hideShowDropdown("companyName"),this.dropdownModelCompany=Object.assign(Object.assign({},this.dropdownModelCompany),{selectedOption:[],options:[],displayValue:"label",observable:this.calendarService.getCustomer(i),onObservableLoad:this.onObservableLoadCompanyData.bind(this)}),setTimeout(function(){var t;null===(t=a.companyName)||void 0===t||t.getObservable()},100),this.updateApplyButtonState()}else"filterDropdownPerson"==t.name?"retail - individual"===(this.dropdownModelFilterPerson.selectedOption=t.value,null===(o=t.value[this.dropdownModelFilterPerson.displayValue])||void 0===o?void 0:o.toLowerCase())?(this.hideShowDropdown("personName"),this.nameTextBox.value=""):this.hideShowDropdown(""):"companyDropdown"==(null==t?void 0:t.name)&&(this.dropdownModelCompany.selectedOption=t.value,this.updateApplyButtonState())}},{key:"updateInput",value:function(t){"name"==t.name&&(this.nameTextBox.value=t.value,this.updateApplyButtonState())}},{key:"updateApplyButtonState",value:function(){var t,e="disabled";this.activeTab===this.activeTabOptions.PERSONAL?this.nameTextBox.value&&this.nameTextBox.value.toString().length>=3&&(e="secondary"):this.activeTab===this.activeTabOptions.COMPANY&&(null===(t=this.dropdownModelCompany.selectedOption)||void 0===t?void 0:t.length)>0&&this.input.companyName&&(e="secondary"),this.applyButtonModel.type=e}},{key:"hideShowDropdown",value:function(t){var e=this;this.input[t]=!0,Object.keys(this.input).forEach(function(n){n!=t&&(e.input[n]=!1)})}},{key:"navigate",value:function(t){var e,n,o,a;this.router.navigate([t.url]),(null===(e=this.dropdownModelFilter)||void 0===e?void 0:e.selectedOption)&&(this.input.companyName=!1,this.dropdownModelFilter=Object.assign(Object.assign({},this.dropdownModelFilter),{selectedOption:{}})),(null===(n=this.dropdownModelCompany)||void 0===n?void 0:n.selectedOption)&&(this.dropdownModelCompany=Object.assign(Object.assign({},this.dropdownModelCompany),{selectedOption:[]})),(null===(o=this.dropdownModelFilterPerson)||void 0===o?void 0:o.selectedOption)&&(this.input.personName=!1,this.dropdownModelFilterPerson=Object.assign(Object.assign({},this.dropdownModelFilterPerson),{selectedOption:{}})),(null===(a=this.nameTextBox)||void 0===a?void 0:a.value)&&(this.nameTextBox=Object.assign(Object.assign({},this.nameTextBox),{value:""}))}},{key:"applyFilter",value:function(){this.activeTab===this.activeTabOptions.COMPANY?(this.paginationCompany=Object.assign(Object.assign({},this.paginationCompany),{currentPage:1}),this.selectedCompanyForFilter=t(this.dropdownModelCompany.selectedOption),this.getCompanyCustomers(),this.getTotalDueAmountCompany()):this.activeTab===this.activeTabOptions.PERSONAL&&(this.pagination=Object.assign(Object.assign({},this.pagination),{currentPage:1}),this.textToSearch=this.nameTextBox.value+"",this.getCustomers(),this.getTotalDueAmountPerson())}},{key:"reSetFilter",value:function(){this.activeTab===this.activeTabOptions.COMPANY?(this.dropdownModelCompany=Object.assign(Object.assign({},this.dropdownModelCompany),{selectedOption:[]}),this.dropdownModelFilter=Object.assign(Object.assign({},this.dropdownModelFilter),{selectedOption:{}}),this.paginationCompany=Object.assign(Object.assign({},this.paginationCompany),{currentPage:1}),this.input.companyName=!1,this.selectedCompanyForFilter=[],this.updateApplyButtonState(),this.getCompanyCustomers(),this.getTotalDueAmountCompany()):this.activeTab===this.activeTabOptions.PERSONAL&&(this.nameTextBox=Object.assign(Object.assign({},this.nameTextBox),{value:""}),this.pagination=Object.assign(Object.assign({},this.pagination),{currentPage:1}),this.dropdownModelFilterPerson=Object.assign(Object.assign({},this.dropdownModelFilterPerson),{selectedOption:{}}),this.input.personName=!1,this.textToSearch="",this.getCustomers(),this.getTotalDueAmountPerson()),this.updateApplyButtonState()}},{key:"onObservableLoadCompanyData",value:function(t){t&&t.length>0&&(t.forEach(function(e,n){t[n]=Object.assign(Object.assign({},t[n]),{label:"".concat(e.CompanyName).concat(e.LicenseNumber?"-"+e.LicenseNumber:""),html:'<span class="company-name-dropdown">'.concat(e.CompanyName).concat(e.LicenseNumber?"-<i>"+e.LicenseNumber+"</i>":"","</span>")})}),this.dropdownModelCompany=Object.assign(Object.assign({},this.dropdownModelCompany),{options:t,selectedOption:t}),this.updateApplyButtonState())}},{key:"onObservableLoadWorkProviderData",value:function(t){var e=this;if(t&&t.length>0){var n=t.filter(function(t,n){return-1!==e.workProviderFromBooking.indexOf(t.label)});this.workProvider.dropdownOptions=n}}}]),e}();return e.currentPage=1,e.currentPageCompnay=1,e.\u0275fac=function(t){return new(t||e)(x.Y36(w.M),x.Y36(A.v),x.Y36(P),x.Y36(l.F0),x.Y36(l.gz),x.Y36(D.n),x.Y36(Z.j),x.Y36(S.o))},e.\u0275cmp=x.Xpm({type:e,selectors:[["add-customer-table"]],viewQuery:function(t,e){var n;(1&t&&(x.Gf(N,5),x.Gf(L,5)),2&t)&&(x.iGM(n=x.CRH())&&(e.companyName=n.first),x.iGM(n=x.CRH())&&(e.workProvider=n.first))},decls:15,vars:8,consts:[[1,"main-customer-list","customer-list","fx-col"],[1,"header-container","fx-0"],[3,"mode","menuItems","menuItemClick"],["class","filter",4,"ngIf"],[1,"pending-amount","fx-0"],["class","total-due-amount",4,"ngIf"],[1,"table-section","fx-1"],["class","table-container",4,"ngIf"],[1,"footer-full-wrapper"],[1,"footer-image-wrapper"],[1,"image-wrapper"],["src","assets/img/addenda-repair.png"],[1,"filter"],[1,"company-filter-dropdown",3,"dropdownModel","selected"],["workProvider",""],["class","bodyShop-filter-dropdown",3,"dropdownModel","selected",4,"ngIf"],[3,"buttonModel"],[1,"bodyShop-filter-dropdown",3,"dropdownModel","selected"],["companyName",""],[1,"person-filter-dropdown",3,"dropdownModel","selected"],["filterPerson",""],[3,"inputModel","controlOutput",4,"ngIf"],[3,"inputModel","controlOutput"],[1,"total-due-amount"],[3,"class",4,"ngIf"],[4,"ngIf"],[1,"table-container"],[1,"table-wrapper"],[3,"config","tableData","sortChanged","pageChanged","cellClicked","i18n"],["class","pagination-wrapper",4,"ngIf"],[1,"pagination-wrapper"],[3,"pagination","paginationChange"],["paginator",""],["paginatorCompany",""]],template:function(t,e){1&t&&(x.TgZ(0,"div",0),x.TgZ(1,"div",1),x.TgZ(2,"chq-tabs",2),x.NdJ("menuItemClick",function(t){return e.navigate(t)}),x.qZA(),x.YNc(3,E,6,4,"div",3),x.YNc(4,U,6,4,"div",3),x.qZA(),x.TgZ(5,"div",4),x.YNc(6,B,6,5,"div",5),x.YNc(7,$,6,5,"div",5),x.qZA(),x.TgZ(8,"div",6),x.YNc(9,V,4,7,"div",7),x.YNc(10,W,4,7,"div",7),x.qZA(),x.TgZ(11,"div",8),x.TgZ(12,"div",9),x.TgZ(13,"div",10),x._UZ(14,"img",11),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&t&&(x.xp6(2),x.Q6J("mode","button")("menuItems",e.customerListMenus),x.xp6(1),x.Q6J("ngIf",e.activeTab===e.activeTabOptions.COMPANY),x.xp6(1),x.Q6J("ngIf",e.activeTab===e.activeTabOptions.PERSONAL),x.xp6(2),x.Q6J("ngIf",e.activeTab===e.activeTabOptions.PERSONAL&&(null==e.tableData?null:e.tableData.length)>0&&e.showTotalDueAmountPerson),x.xp6(1),x.Q6J("ngIf",e.activeTab===e.activeTabOptions.COMPANY&&(null==e.tableDataCompany?null:e.tableDataCompany.length)>0&&e.showTotalDueAmountCompany),x.xp6(2),x.Q6J("ngIf",e.activeTab===e.activeTabOptions.PERSONAL),x.xp6(1),x.Q6J("ngIf",e.activeTab===e.activeTabOptions.COMPANY))},directives:[_.K,s.O5,M.I,q.E,k.D,I.B,f.l],pipes:[j.X$,Z.j],styles:[".main-customer-list{height:calc(100vh - (5px + 1.5vw) - (5px + 1.5vw + 58px + 1.6vw) - 76px)}.main-customer-list .header-container{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:20px}.main-customer-list .header-container .header-content{font-weight:600;font-size:14px;line-height:20px}.main-customer-list .header-container .filter{display:flex;align-items:flex-end}.main-customer-list .header-container .filter chq-dropdown,.main-customer-list .header-container .filter chq-input{position:relative;width:150px;margin-left:16px;margin-top:4px}.main-customer-list .header-container .filter chq-button{margin-left:16px}.main-customer-list .header-container .filter chq-dropdown.user-dropdown{width:200px}.main-customer-list .header-container .filter chq-dropdown.person-filter-dropdown,.main-customer-list .header-container .filter chq-dropdown.retail-company-filter-dropdown,.main-customer-list .header-container .filter chq-dropdown.bodyShop-filter-dropdown,.main-customer-list .header-container .filter chq-dropdown.dealerShip-filter-dropdown{width:200px}.main-customer-list .header-container .filter chq-dropdown.company-filter-dropdown{width:170px}.main-customer-list .delete-container{display:flex;justify-content:flex-end;margin-top:30px;margin-bottom:25px}.main-customer-list .delete-container chq-button{width:180px;height:30px}.main-customer-list .table-section{overflow-y:auto}.main-customer-list .cdk-column-status mat-icon{height:17px;width:17px}.main-customer-list .total-due-amount{padding-bottom:18px;display:flex;justify-content:end;font-family:Inter;font-size:18px;font-style:normal;font-weight:500;line-height:24px;color:var(--xa-dark-gray)}.main-customer-list .pagination-wrapper{margin-top:15px}.main-customer-list .company-name i,.main-customer-list .company-name-dropdown i{font-weight:600}.mat-sort-header-arrow{margin:-2px!important}.customer-list .input-wrapper{position:inherit!important;top:0!important}@media (orientation: portrait){mat-cell{word-break:break-word}.mat-sort-header-arrow{margin:0!important}}::-webkit-scrollbar:horizontal{height:5px}.table-wrapper{box-shadow:0 0 4px rgba(0,0,0,.1)}\n"],encapsulation:2}),e}(),et={columns:[{id:"Id",sortable:!0,header:{text:"booking_id",tooltip:""},selector:{field:"RepairNumber"},widget:{type:"text"},cellStyle:"text-decoration: underline; color: var(--xa-primary);"},{id:"CreatedDate",sortable:!0,header:{text:"creation_date",tooltip:""},selector:{field:"CreatedDate"},widget:{type:"dateTime"}},{id:"VehicleMake",sortable:!0,header:{text:"vehicle_make",tooltip:""},selector:{field:"VehicleMake"},widget:{type:"text"}},{id:"VehicleModel",sortable:!0,header:{text:"vehicle_model",tooltip:""},selector:{field:"VehicleModel"},widget:{type:"text"}},{id:"LicensePlateNumber",sortable:!0,header:{text:"license_plate",tooltip:""},selector:{field:"LicensePlateNumber"},widget:{type:"text"}},{id:"BookingType",sortable:!0,header:{text:"booking_type",tooltip:""},selector:{field:"BookingType"},widget:{type:"text"}},{id:"RepairType",sortable:!0,header:{text:"repair_type",tooltip:""},selector:{field:"RepairType"},widget:{type:"text"}},{id:"TotalInvoiceAmount",sortable:!0,header:{text:"total_amount_invoiced",tooltip:""},selector:{field:"FormattedTotalAmount"},widget:{type:"text"}},{id:"PaidAmount",sortable:!0,header:{text:"paid_amount",tooltip:""},selector:{field:"FormattedPaidAmount"},widget:{type:"text"}},{id:"AmountDue",sortable:!0,header:{text:"due_amount",tooltip:""},selector:{field:"FormattedDueAmount"},widget:{type:"text"}},{id:"Status",sortable:!0,header:{text:"status",tooltip:""},selector:{field:"Status"},widget:{type:"text"}}]},nt={columns:[{id:"Id",sortable:!0,header:{text:"estimate_id",tooltip:""},selector:{field:"EstimateNumber"},widget:{type:"text"},cellStyle:"text-decoration: underline; color: var(--xa-primary);"},{id:"CreatedDate",sortable:!0,header:{text:"creation_date",tooltip:""},selector:{field:"CreatedDate"},widget:{type:"dateTime"}},{id:"VehicleMake",sortable:!0,header:{text:"vehicle_make",tooltip:""},selector:{field:"VehicleMake"},widget:{type:"text"}},{id:"VehicleModel",sortable:!0,header:{text:"vehicle_model",tooltip:""},selector:{field:"VehicleModel"},widget:{type:"text"}},{id:"LicensePlateNumber",sortable:!0,header:{text:"license_plate",tooltip:""},selector:{field:"LicensePlateNumber"},widget:{type:"text"}},{id:"TotalEstimateAmount ",sortable:!0,header:{text:"total_estimate_amount",tooltip:""},selector:{field:"FormattedTotalEstimateAmount"},widget:{type:"text"}},{id:"EstimationStatus",sortable:!0,header:{text:"estimation_status",tooltip:""},selector:{field:"EstimationStatus"},widget:{type:"text"}}]},ot=r(93620),at=r(90171);function it(t,e){if(1&t){var n=x.EpF();x.TgZ(0,"chq-tabs",13),x.NdJ("menuItemClick",function(t){return x.CHM(n),x.oxw().navigate(t)}),x.qZA()}if(2&t){var o=x.oxw();x.Q6J("mode","button")("menuItems",o.customerDetailsMenus)}}var rt=function(t,e,n,o,a){return[t,e,n,o,a]};function st(t,e){if(1&t){var n=x.EpF();x.TgZ(0,"mat-accordion"),x.TgZ(1,"mat-expansion-panel",15),x.NdJ("opened",function(){return x.CHM(n),x.oxw(2).panelOpenState=!0})("closed",function(){return x.CHM(n),x.oxw(2).panelOpenState=!1}),x.TgZ(2,"mat-expansion-panel-header"),x.TgZ(3,"mat-panel-title"),x.TgZ(4,"h4"),x._uU(5),x.qZA(),x.TgZ(6,"p",16),x.TgZ(7,"label"),x._uU(8),x.ALo(9,"translate"),x.qZA(),x._uU(10),x.qZA(),x.qZA(),x.qZA(),x.TgZ(11,"div"),x.TgZ(12,"p",17),x.TgZ(13,"label"),x._uU(14),x.ALo(15,"translate"),x.qZA(),x._uU(16),x.ALo(17,"date"),x.qZA(),x.TgZ(18,"p",17),x.TgZ(19,"label"),x._uU(20),x.ALo(21,"translate"),x.qZA(),x._uU(22),x.ALo(23,"xaCurrency"),x.qZA(),x.TgZ(24,"p",17),x.TgZ(25,"label"),x._uU(26),x.ALo(27,"translate"),x.qZA(),x._uU(28),x.ALo(29,"xaCurrency"),x.qZA(),x.TgZ(30,"p",17),x.TgZ(31,"label"),x._uU(32),x.ALo(33,"translate"),x.qZA(),x._uU(34),x.ALo(35,"xaCurrency"),x.qZA(),x.TgZ(36,"p",17),x.TgZ(37,"label"),x._uU(38),x.ALo(39,"translate"),x.qZA(),x._uU(40),x.qZA(),x.TgZ(41,"p",17),x.TgZ(42,"label"),x._uU(43),x.ALo(44,"translate"),x.qZA(),x._uU(45),x.qZA(),x.TgZ(46,"p",17),x.TgZ(47,"label"),x._uU(48),x.ALo(49,"translate"),x.qZA(),x._uU(50),x.qZA(),x.qZA(),x.qZA(),x.qZA()}if(2&t){var o=x.oxw(2);x.xp6(5),x.Oqu(null==o.userDetails?null:o.userDetails.companyName),x.xp6(3),x.hij("",x.lcZ(9,17,"contact_id"),":"),x.xp6(2),x.hij(" ",null==o.userDetails?null:o.userDetails.contactId," "),x.xp6(4),x.hij("",x.lcZ(15,19,"creation_date"),":"),x.xp6(2),x.hij(" ",x.xi3(17,21,null==o.userDetails?null:o.userDetails.createdDate,"dd/MM/YYYY hh:mm:ss"),""),x.xp6(4),x.hij("",x.lcZ(21,24,"total_invoiced"),":"),x.xp6(2),x.hij(" ",x.G7q(23,26,x.qbA(54,rt,null==o.userDetails?null:o.userDetails.amount,o.i18n.currencySymbol,o.i18n.digitsInfo,o.i18n.locale,o.i18n.position)),""),x.xp6(4),x.hij("",x.lcZ(27,32,"paid_amount"),":"),x.xp6(2),x.hij(" ",x.G7q(29,34,x.qbA(60,rt,null==o.userDetails?null:o.userDetails.amountReceived,o.i18n.currencySymbol,o.i18n.digitsInfo,o.i18n.locale,o.i18n.position)),""),x.xp6(4),x.hij("",x.lcZ(33,40,"due_amount"),":"),x.xp6(2),x.hij(" ",x.G7q(35,42,x.qbA(66,rt,null==o.userDetails?null:o.userDetails.amountDue,o.i18n.currencySymbol,o.i18n.digitsInfo,o.i18n.locale,o.i18n.position)),""),x.xp6(4),x.hij("",x.lcZ(39,48,"contact_name"),":"),x.xp6(2),x.hij(" ",null==o.userDetails?null:o.userDetails.contactName,""),x.xp6(3),x.hij("",x.lcZ(44,50,"contact_phone"),":"),x.xp6(2),x.hij(" ",null==o.userDetails?null:o.userDetails.contactPhoneNumber,""),x.xp6(3),x.hij("",x.lcZ(49,52,"contact_email"),":"),x.xp6(2),x.hij(" ",null==o.userDetails?null:o.userDetails.contactEmail,"")}}function ct(t,e){if(1&t){var n=x.EpF();x.TgZ(0,"mat-accordion"),x.TgZ(1,"mat-expansion-panel",15),x.NdJ("opened",function(){return x.CHM(n),x.oxw(2).panelOpenState=!0})("closed",function(){return x.CHM(n),x.oxw(2).panelOpenState=!1}),x.TgZ(2,"mat-expansion-panel-header"),x.TgZ(3,"mat-panel-title"),x.TgZ(4,"h4"),x._uU(5),x.qZA(),x.TgZ(6,"p",16),x.TgZ(7,"label"),x._uU(8),x.ALo(9,"translate"),x.qZA(),x._uU(10),x.qZA(),x.qZA(),x.qZA(),x.TgZ(11,"div"),x.TgZ(12,"p",17),x.TgZ(13,"label"),x._uU(14),x.ALo(15,"translate"),x.qZA(),x._uU(16),x.qZA(),x.TgZ(17,"p",17),x.TgZ(18,"label"),x._uU(19),x.ALo(20,"translate"),x.qZA(),x._uU(21),x.qZA(),x.qZA(),x.qZA(),x.qZA()}if(2&t){var o=x.oxw(2);x.xp6(5),x.AsE("",null==o.userDetails?null:o.userDetails.firstName," ",null==o.userDetails?null:o.userDetails.lastName,""),x.xp6(3),x.hij("",x.lcZ(9,8,"contact_id"),":"),x.xp6(2),x.hij(" ",null==o.userDetails?null:o.userDetails.contactId,""),x.xp6(4),x.hij("",x.lcZ(15,10,"email"),":"),x.xp6(2),x.hij(" ",o.userDetails.email,""),x.xp6(3),x.hij("",x.lcZ(20,12,"phone_number"),":"),x.xp6(2),x.hij(" ",o.userDetails.mobileNumber,"")}}function lt(t,e){if(1&t&&(x.TgZ(0,"div",14),x.YNc(1,st,51,72,"mat-accordion",8),x.YNc(2,ct,22,14,"mat-accordion",8),x.qZA()),2&t){var n=x.oxw();x.xp6(1),x.Q6J("ngIf","company"===n.userType),x.xp6(1),x.Q6J("ngIf","individual"===n.userType)}}function ut(t,e){if(1&t){var n=x.EpF();x.TgZ(0,"div",22),x.TgZ(1,"chq-paginator",23,24),x.NdJ("paginationChange",function(t){return x.CHM(n),x.oxw(2).handlePaginationChangeReapir(t)}),x.qZA(),x.qZA()}if(2&t){var o=x.oxw(2);x.xp6(1),x.Q6J("pagination",o.paginationRepair)}}function dt(t,e){if(1&t&&(x.TgZ(0,"section"),x.TgZ(1,"div",18),x.TgZ(2,"div",19),x._UZ(3,"chq-mat-table",20),x.qZA(),x.YNc(4,ut,3,1,"div",21),x.qZA(),x.qZA()),2&t){var n=x.oxw();x.xp6(3),x.Q6J("config",n.tableConfigRepair)("tableData",n.tableDataRepair)("cellClicked",n.handleCellClickRepair)("sortChanged",n.handleSortChangeRepair)("pageChanged",n.pageChangedRepair)("i18n",n.i18n),x.xp6(1),x.Q6J("ngIf",(null==n.tableDataRepair?null:n.tableDataRepair.length)>0&&n.paginationRepair.count>n.paginationRepair.pageSize)}}function pt(t,e){if(1&t){var n=x.EpF();x.TgZ(0,"div",22),x.TgZ(1,"chq-paginator",23,24),x.NdJ("paginationChange",function(t){return x.CHM(n),x.oxw(2).handlePaginationChangeCase(t)}),x.qZA(),x.qZA()}if(2&t){var o=x.oxw(2);x.xp6(1),x.Q6J("pagination",o.paginationCase)}}function mt(t,e){if(1&t&&(x.TgZ(0,"section"),x.TgZ(1,"div",18),x.TgZ(2,"div",19),x._UZ(3,"chq-mat-table",20),x.qZA(),x.YNc(4,pt,3,1,"div",21),x.qZA(),x.qZA()),2&t){var n=x.oxw();x.xp6(3),x.Q6J("config",n.tableConfigCase)("tableData",n.tableDataCase)("cellClicked",n.handleCellClickCase)("sortChanged",n.handleSortChangeCase)("pageChanged",n.pageChangedCase)("i18n",n.i18n),x.xp6(1),x.Q6J("ngIf",(null==n.tableDataCase?null:n.tableDataCase.length)>0&&n.paginationCase.count>n.paginationCase.pageSize)}}var gt={repair:"repair-order",cases:"estimates"},ht=ot.D,ft=function(){var t=function(){function t(e,n,a,i,r,s){var c=this;o(this,t),this.monitorService=e,this.customerService=n,this.route=a,this.commonService=i,this.router=r,this.xaCurrencyPipe=s,this.panelOpenState=!1,this.pageChangedRepair=!1,this.paginationRepair=f.G,this.totalCountRepair=0,this.configDataRepair=et,this.pageChangedCase=!1,this.paginationCase=f.G,this.totalCountCase=0,this.configDataCase=nt,this.userDetails={},this.customerId="",this.uniqueId="",this.userType="",this.haveQuotePermissions=!1,this.userDetailsLoading=!1,this.customerDetailsMenus=b.yx,this.activeTab="",this.tabOptions=gt,this.handleCellClickRepair=function(t,e){var n,o;if("Id"===e.id){var a=null===(o=null===(n=t.find(function(t){return t.id===e.id}))||void 0===n?void 0:n.result)||void 0===o?void 0:o.value;if(a){var i=c.tableDataRepair.find(function(t){return t.RepairNumber===a});if(i){var r=ot.o[i.Status.toLowerCase()]||ot.o.others;c.router.navigate([r.replace("{{repairGUID}}",i.RepairGuid)])}}}},this.handleCellClickCase=function(t,e){var n,o;if("Id"===e.id){var a=null===(o=null===(n=t.find(function(t){return t.id===e.id}))||void 0===n?void 0:n.result)||void 0===o?void 0:o.value;if(a){var i=c.tableDataCase.find(function(t){return t.EstimateNumber===a});if(i){var r=ht[i.EstimationStatus.toLowerCase()]||ht.others;c.router.navigate([r.replace("{{caseGUID}}",i.CaseGuid)])}}}},this.handleSortChangeRepair=function(t){t&&(c.paginationRepair=Object.assign(Object.assign({},c.paginationRepair),{orderBy:t.active,sortDirection:t.direction}),c.getRepairOrders())},this.handleSortChangeCase=function(t){t&&(c.paginationCase=Object.assign(Object.assign({},c.paginationCase),{orderBy:t.active,sortDirection:t.direction}),c.getCases())},this.i18n=this.commonService.geti18nInfo()}return i(t,[{key:"ngOnInit",value:function(){return(0,g.mG)(this,void 0,void 0,n().mark(function e(){var o=this;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.monitorService.logEvent("ngOnInit",["CustomerDetailsComponent","addenda-repair"]),this.commonService.userProfileData.subscribe(function(t){var e,n,a=(null===(n=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.userPermission)||void 0===n?void 0:n.automotiveServices)||[];o.haveQuotePermissions=a.find(function(t){return"Carheal Quote"===t.automotiveServiceName})}),this.route.params.subscribe(function(e){o.customerId=e.contactId,o.uniqueId=e.id,o.userType=e.userType,o.activeTab=e.orderType,o.tableConfigRepair=o.configDataRepair,o.tableConfigCase=o.configDataCase,o.paginationRepair=Object.assign(Object.assign({},o.paginationRepair),{count:o.totalCountRepair,currentPage:t.currentPageRepair,orderBy:"CreatedDate",sortDirection:"desc"}),o.paginationCase=Object.assign(Object.assign({},o.paginationCase),{count:o.totalCountCase,currentPage:t.currentPageCase,orderBy:"CreatedDate",sortDirection:"desc"}),o.activeTab===gt.repair?o.getRepairOrders():o.getCases(),o.getUserDetails()});case 1:case"end":return e.stop()}},e,this)}))}},{key:"getUserDetails",value:function(){return(0,g.mG)(this,void 0,void 0,n().mark(function t(){var e=this;return n().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","company"===this.userType?(this.userDetailsLoading=!0,(0,h.z)(this.customerService.getCompanyDetails(this.customerId)).then(function(t){(null==t?void 0:t.data)&&(e.userDetails=t.data,e.userDetails.amount||(e.userDetails.amount=0),e.userDetails.amountReceived||(e.userDetails.amountReceived=0),e.userDetails.amountDue||(e.userDetails.amountDue=0),e.userDetailsLoading=!1)}).catch(function(t){e.monitorService.logException(t,C._.Error)})):(this.userDetailsLoading=!0,(0,h.z)(this.customerService.getCustomerDetails(this.uniqueId)).then(function(t){(null==t?void 0:t.data)&&(e.userDetails=t.data,e.userDetailsLoading=!1)}).catch(function(t){e.monitorService.logException(t,C._.Error)})));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getRepairOrders",value:function(){return(0,g.mG)(this,void 0,void 0,n().mark(function t(){var e=this;return n().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(this.commonService.showLoading(),(0,h.z)(this.customerService.getReapirOrders(this.customerId,this.userType,this.paginationRepair)).then(function(t){var n=t.value;n.map(function(t){t.AmountDue=t.TotalInvoiceAmount-t.PaidAmount,t.FormattedTotalAmount=t.TotalInvoiceAmount?e.xaCurrencyPipe.transform(t.TotalInvoiceAmount,e.i18n.currencySymbol,e.i18n.digitsInfo,e.i18n.locale,e.i18n.position):"-",t.FormattedPaidAmount=t.PaidAmount?e.xaCurrencyPipe.transform(t.PaidAmount,e.i18n.currencySymbol,e.i18n.digitsInfo,e.i18n.locale,e.i18n.position):"-",t.FormattedDueAmount=t.TotalInvoiceAmount?e.xaCurrencyPipe.transform(t.AmountDue,e.i18n.currencySymbol,e.i18n.digitsInfo,e.i18n.locale,e.i18n.position):"-"}),e.tableDataRepair=n,e.paginationRepair=Object.assign(Object.assign({},e.paginationRepair),{count:t["@odata.count"]||0}),e.commonService.hideLoading()}).catch(function(t){e.monitorService.logException(t,C._.Error),e.commonService.hideLoading()})));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getCases",value:function(){return(0,g.mG)(this,void 0,void 0,n().mark(function t(){var e=this;return n().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(this.commonService.showLoading(),(0,h.z)(this.customerService.getCases(this.customerId,this.userType,this.paginationCase)).then(function(t){var n=t.value;n.map(function(t){t.FormattedTotalEstimateAmount=t.TotalEstimateAmount?e.xaCurrencyPipe.transform(t.TotalEstimateAmount,e.i18n.currencySymbol,e.i18n.digitsInfo,e.i18n.locale,e.i18n.position):"-"}),e.tableDataCase=n,e.paginationCase=Object.assign(Object.assign({},e.paginationCase),{count:t["@odata.count"]||0}),e.commonService.hideLoading()}).catch(function(t){e.monitorService.logException(t,C._.Error),e.commonService.hideLoading()})));case 1:case"end":return t.stop()}},t,this)}))}},{key:"handlePaginationChangeReapir",value:function(t){var e={pageSize:t.pageSize,offset:t.offset,currentPage:t.currentPage};this.paginationRepair.currentPage=t.currentPage,this.paginationRepair=Object.assign(Object.assign({},this.paginationRepair),e),this.pageChangedRepair=!0,this.getRepairOrders()}},{key:"handlePaginationChangeCase",value:function(t){var e={pageSize:t.pageSize,offset:t.offset,currentPage:t.currentPage};this.paginationCase.currentPage=t.currentPage,this.paginationCase=Object.assign(Object.assign({},this.paginationCase),e),this.pageChangedCase=!0,this.getCases()}},{key:"navigate",value:function(t){this.userType&&this.customerId&&this.router.navigate([t.url.replace("{userType}",this.userType).replace("{customerId}",this.customerId).replace("{id}",this.uniqueId)])}},{key:"handleBackClick",value:function(){this.router.navigate(["/repair/customers/{userType}".replace("{userType}",this.userType)])}}]),t}();return t.currentPageRepair=1,t.currentPageCase=1,t.\u0275fac=function(e){return new(e||t)(x.Y36(w.M),x.Y36(P),x.Y36(l.gz),x.Y36(A.v),x.Y36(l.F0),x.Y36(Z.j))},t.\u0275cmp=x.Xpm({type:t,selectors:[["customer-details"]],decls:19,vars:11,consts:[[1,"main-customer-details","fx-col"],[1,"header","d-flex","align-center","position-relative","fx-0"],[1,""],[1,"back-section","d-flex","align-center",3,"click"],[1,"cross",3,"svgIcon"],[3,"mode","menuItems","menuItemClick",4,"ngIf"],["class","user-details",4,"ngIf"],[1,"table-section","fx-1"],[4,"ngIf"],[1,"footer-full-wrapper"],[1,"footer-image-wrapper"],[1,"image-wrapper"],["src","assets/img/addenda-repair.png"],[3,"mode","menuItems","menuItemClick"],[1,"user-details"],[3,"opened","closed"],[1,"sub-heading"],[1,"expanded-sub-heading"],[1,"table-container"],[1,"table-wrapper"],[3,"config","tableData","cellClicked","sortChanged","pageChanged","i18n"],["class","pagination-wrapper",4,"ngIf"],[1,"pagination-wrapper"],[3,"pagination","paginationChange"],["paginator",""]],template:function(t,e){1&t&&(x.TgZ(0,"div",0),x.TgZ(1,"section",1),x.TgZ(2,"div",2),x.TgZ(3,"div",3),x.NdJ("click",function(){return e.handleBackClick()}),x._UZ(4,"mat-icon",4),x.TgZ(5,"span"),x._uU(6),x.ALo(7,"translate"),x.ALo(8,"translate"),x.qZA(),x.qZA(),x.YNc(9,it,1,2,"chq-tabs",5),x.qZA(),x.YNc(10,lt,3,2,"div",6),x.qZA(),x.TgZ(11,"div",7),x.YNc(12,dt,5,7,"section",8),x.YNc(13,mt,5,7,"section",8),x.qZA(),x.TgZ(14,"footer"),x.TgZ(15,"div",9),x.TgZ(16,"div",10),x.TgZ(17,"div",11),x._UZ(18,"img",12),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&t&&(x.xp6(4),x.Q6J("svgIcon","left-arrow"),x.xp6(2),x.AsE("",x.lcZ(7,7,"back")," / ",x.lcZ(8,9,e.userType)," "),x.xp6(3),x.Q6J("ngIf",e.haveQuotePermissions),x.xp6(1),x.Q6J("ngIf",e.userDetails&&!e.userDetailsLoading),x.xp6(2),x.Q6J("ngIf",e.activeTab===e.tabOptions.repair),x.xp6(1),x.Q6J("ngIf",e.activeTab===e.tabOptions.cases))},directives:[u.Hw,s.O5,_.K,at.pp,at.ib,at.yz,at.yK,I.B,f.l],pipes:[j.X$,s.uU,Z.j],styles:[".main-customer-details[_ngcontent-%COMP%]{height:calc(100vh - (5px + 1.5vw) - (5px + 1.5vw + 58px + 1.6vw) - 76px)}.main-customer-details[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]{overflow-y:auto}.main-customer-details[_ngcontent-%COMP%]   .border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid var(--xa-gray)}.main-customer-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:40px;min-height:64px}.main-customer-details[_ngcontent-%COMP%]   .pagination-wrapper[_ngcontent-%COMP%]{margin-top:15px}.main-customer-details[_ngcontent-%COMP%]   .back-section[_ngcontent-%COMP%]{margin-bottom:17px;text-transform:capitalize;cursor:pointer}.main-customer-details[_ngcontent-%COMP%]   .back-section[_ngcontent-%COMP%]     mat-icon{margin-left:5px}.main-customer-details[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{width:32%;position:absolute;right:0;top:9px;z-index:1}.main-customer-details[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700}.main-customer-details[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:9px;color:var(--xa-black-medium);margin-bottom:0;margin-top:5px}.main-customer-details[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .sub-heading[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--xa-black);opacity:.6}.main-customer-details[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .expanded-sub-heading[_ngcontent-%COMP%]{font-weight:400;font-size:10px;color:var(--xa-black-medium);margin-bottom:0;margin-top:8px}.main-customer-details[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .expanded-sub-heading[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--xa-black);opacity:.6}.main-customer-details[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.main-customer-details[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{padding:8px 20px}.main-customer-details[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{border-radius:11px}.main-customer-details[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .mat-expansion-panel-body[_ngcontent-%COMP%]{padding:0 20px 16px}.main-customer-details[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]     .mat-expansion-indicator:after{color:var(--xa-black)}.main-customer-details[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]{background:var(--xa-bold-gray)}.main-customer-details[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .mat-expanded[_ngcontent-%COMP%]{background:var(--xa-white)}"]}),t}(),vt=r(44466),yt=[{path:":userType",component:tt,resolve:{version:c.n}},{path:":userType/:contactId/:id/:orderType",component:ft,resolve:{version:c.n}}],bt=function(){var t=i(function t(){o(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=x.oAB({type:t}),t.\u0275inj=x.cJS({imports:[[s.ez,u.Ps,p.p,l.Bz.forChild(yt),d.Tx,m.H,at.To,j.aw,vt.m]]}),t}()},74743:function(t,e,n){n.d(e,{n:function(){return u}});var a=n(27969),r=n(84945),s=n(33568),c=n(37716),l=n(4893),u=function(){var t=function(){function t(e){o(this,t),this.commonService=e}return i(t,[{key:"resolve",value:function(){var t=this;return this.commonService.showLoading(),this.commonService.checkVersion().pipe((0,a.U)(function(e){t.commonService.hideLoading();var n=localStorage.getItem("appVersion"),o=e.buildRevision;return n&&n!=o?(localStorage.setItem("appVersion",o),setTimeout(function(){location.reload()},10),(0,r.of)("new version available")):(localStorage.setItem("appVersion",o),(0,r.of)("new version is not available"))}),(0,s.K)(function(){return t.commonService.hideLoading(),(0,r.of)("data not available at this time")}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.LFG(l.v))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();