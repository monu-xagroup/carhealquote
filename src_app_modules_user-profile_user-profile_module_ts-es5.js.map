{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAMoBA,0EAAkJ;UAAjGA;YAAAA;YAAA;YAAA,2BAAmB,KAAK;UAAA,EAAE;UAA3EA,4DAAkJ;;;;UAA7IA,0MAA2C;;;;;UAE5CA,qEAAI;UAAAA,uDAAc;UAAAA,4DAAK;;;;UAAnBA,0DAAc;UAAdA,kFAAc;;;;;;UAO1BA,0EAAiF;UAC7EA,+EAA+F;UAAnBA;YAAAA;YAAA;YAAA;UAAA,EAAkB;UAACA,4DAAW;UAC9GA,4DAAM;;;UADQA,0DAAoB;UAApBA,6EAAoB;;;;;UAQ1BA,qEAAgG;;;;;UAChGA,qEAAkG;;;;;UAHtGA,0EAAqE;UACjEA,4EAAyB;UAAAA,uDAAgB;UAAAA,4DAAQ;UACjDA,wHAAgG;UAChGA,wHAAkG;UACtGA,4DAAM;;;;UAHuBA,0DAAgB;UAAhBA,0FAAgB;UACnCA,0DAAoD;UAApDA,oHAAoD;UACpDA,0DAAqD;UAArDA,qHAAqD;;;;;UAOpDA,uEAAsC;UAAAA,uDAA4B;UAAAA,4DAAO;;;;UAAnCA,0DAA4B;UAA5BA,6IAA4B;;;;;UAF7EA,0EAAkG;UAC9FA,0EAAmF;UACnFA,wEAAO;UAAAA,0HAAyE;UAAAA,uDAAgE;UAAAA,4DAAQ;UACxJA,0EAAwG;UACxGA,4EAAuB;UAAAA,uDAA0B;;UAAAA,4DAAQ;UAC7DA,4DAAM;;;;UAJQA,0DAAkB;UAAlBA,2EAAkB;UACdA,0DAA6B;UAA7BA,kIAA6B;UAAqCA,0DAAgE;UAAhEA,8PAAgE;UACpHA,0DAAqB;UAArBA,8EAAqB;UAC1BA,0DAA0B;UAA1BA,4IAA0B;;;;;UASrDA,uEAAmD;UAAAA,uDAAwC;UAAAA,4DAAO;;;;UAA/CA,0DAAwC;UAAxCA,sMAAwC;;;;;UAC3FA,uEAAuD;UAAAA,uDAA8C;UAAAA,4DAAO;;;;UAArDA,0DAA8C;UAA9CA,qNAA8C;;;;;UACrGA,uEAA0D;UAAAA,uDAAiD;UAAAA,4DAAO;;;;UAAxDA,0DAAiD;UAAjDA,wNAAiD;;;;;UALnHA,0EAAiE;UAC7DA,wEAAO;UAAAA,uDAA0C;;;UAAAA,4DAAQ;UACzDA,qEAAI;UACAA,0HAAkG;UAClGA,0HAA4G;UAC5GA,0HAAkH;UACtHA,4DAAK;UACTA,4DAAM;;;;UANKA,0DAA0C;UAA1CA,iNAA0C;UAEtCA,0DAA0C;UAA1CA,oMAA0C;UAC1CA,0DAA8C;UAA9CA,wMAA8C;UAC9CA,0DAAiD;UAAjDA,2MAAiD;;;;;UASxDA,qEAAsI;;;;UAAjIA,4QAA0D;;;;;UAE3DA,wEAAO;UAAAA,uDAAyC;UAAAA,4DAAQ;;;;UAAjDA,0DAAyC;UAAzCA,kMAAyC;;;;;UAR5DA,0EAAuD;UACnDA,0EAA0B;UACtBA,wEAAO;UAAAA,uDAAgC;;UAAAA,4DAAQ;UAC/CA,qEAAI;UAAAA,uDAAgF;UAAAA,4DAAK;UAC7FA,4DAAM;UACNA,0EAA6B;UACzBA,wHAAsI;UACtIA,mNAEc;UAClBA,4DAAM;UACVA,4DAAM;;;;;UATSA,0DAAgC;UAAhCA,kJAAgC;UACnCA,0DAAgF;UAAhFA,0UAAgF;UAGnBA,0DAAyD;UAAzDA,6MAAyD;;;;;;UA4B9HA,0EAA8I;UAA1BA;YAAAA;YAAA;YAAA;UAAA,EAAyB;UACzIA,0EAAqG;UACrGA,wEAAO;UAAAA,uDAAmC;;UAAAA,4DAAQ;UACtDA,4DAAM;;;UAFQA,0DAAkB;UAAlBA,2EAAkB;UACrBA,0DAAmC;UAAnCA,qJAAmC;;;;;UAE0CA,uEAAsC;UAAAA,uDAA4B;UAAAA,4DAAO;;;;UAAnCA,0DAA4B;UAA5BA,6IAA4B;;;;;;UAA1JA,4EAAwF;UAAAA,4HAAyE;UAAAA,uEAAM;UAAAA,uDAAgE;UAAAA,4DAAO;UAAEA,+EAAwH;UAA3FA;YAAAA;YAAA;YAAA;UAAA,EAA6B;UAA8DA,4DAAW;UAAAA,4DAAQ;;;;UAA5RA,0DAA6B;UAA7BA,oIAA6B;UAA2CA,0DAAgE;UAAhEA,mQAAgE;UAAmBA,0DAAkB;UAAlBA,2EAAkB;;;;;;;;UCxC/QC,qBAAoB;QAa/B;;;;QAIA,+BACUC,aAA4B,EAC5BC,WAAwB,EACxBC,WAAwB,EACxBC,cAA8B,EAC9BC,MAAiB;UAAA;UAAAC;UAJjB,kBAAa,GAAbL,aAAa;UACb,gBAAW,GAAXC,WAAW;UACX,gBAAW,GAAXC,WAAW;UACX,mBAAc,GAAdC,cAAc;UACd,WAAM,GAANC,MAAM;UArBT,qBAAgB,GAA0B;YAC/CE,KAAK,EAAE,EAAE;YACTC,IAAI,EAAE;WACP;UACM,qBAAgB,GAA0B;YAC/CD,KAAK,EAAE,EAAE;YACTC,IAAI,EAAE;WACP;UAID,cAAS,GAAS,IAAI;UAYpB,IAAI,CAACP,aAAa,CAACQ,UAAU,CAACC,SAAS,CAAC,UAACC,MAAM,EAAI;YACjD,IAAIA,MAAM,EAAE;cACVC,KAAI,CAACC,UAAU,EAAE;;UAErB,CAAC,CAAC;QACJ;QACA;;;QAAAC;UAAAC;UAAAC,OAGA,oBAAQ;YAAA;YACN,IAAI,CAACZ,cAAc,CAACa,QAAQ,CAAC,UAAU,EAAE,CAAE,yBAAyB,EAAE,eAAe,CAAE,CAAC;YAExF,IAAI,CAACC,gBAAgB,GAAG;cACtBX,KAAK,EAAE,gBAAgB;cACvBC,IAAI,EAAE,SAAS;cACfW,IAAI,EAAE,SAAS;cACfC,OAAO,EAAE,IAAI,CAACC,aAAa,CAACC,IAAI,CAAC,IAAI;aACtC;YACD,IAAI,CAACC,gBAAgB,GAAG;cACtBhB,KAAK,EAAE,oBAAoB;cAC3BC,IAAI,EAAE,SAAS;cACfW,IAAI,EAAE,MAAM;cACZC,OAAO,EAAE,IAAI,CAACI,iBAAiB,CAACF,IAAI,CAAC,IAAI;aAC1C;YACD,IAAI,IAAI,CAACrB,aAAa,CAACwB,kBAAkB,EAAE;cACzC,IAAI,CAACxB,aAAa,CAACyB,WAAW,EAAE;cAChC,IAAI,CAACzB,aAAa,CAAC0B,eAAe,CAACjB,SAAS,CAAC;gBAC3CkB,IAAI,EAAE,cAACC,GAAQ,EAAI;kBACjB,IAAIA,GAAG,EAAE;oBACPC,MAAI,CAACC,qBAAqB,CAACF,GAAG,CAAC;oBAC/BC,MAAI,CAAC7B,aAAa,CAAC+B,WAAW,EAAE;;gBAGpC,CAAC;gBACDC,KAAK,EAAE,iBAAK;kBACVH,MAAI,CAACjB,UAAU,EAAE;gBACnB;eACD,CAAC;aACH,MAAM;cACL,IAAI,CAACA,UAAU,EAAE;;UAGrB;UAEA;;;QAAA;UAAAE;UAAAC,OAGM,+BAAsBa,GAAO;;;;;;;oBACjC,IAAIA,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEK,IAAI,CAACC,uBAAuB,EAAE;sBACrC,IAAI,CAAClC,aAAa,CAACmC,MAAM,CAACR,IAAI,CAAC;wBAC7BS,KAAK,EAAER,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEK,IAAI,CAACC;uBAClB,CAAC;;oBAEJ,IAAI,CAACG,UAAU,GAAGT,GAAG,CAACK,IAAI;oBAC1B,IAAI,CAAC,IAAI,CAACI,UAAU,CAACC,WAAW,EAAE;sBAChC,IAAI,CAAChB,gBAAgB,CAACf,IAAI,GAAG,kBAAkB;;oBAEjD,IAAI,UAAI,CAAC8B,UAAU,0CAAEE,aAAa,EAAE;sBAC5BC,UAAU,aAAM,gBAAI,CAACH,UAAU,0CAAEE,aAAa,0CAAEE,SAAS,CAACC,MAAM,CAAC,CAAC,CAAC,SAAG,gBAAI,CAACL,UAAU,0CAAEE,aAAa,0CAAEI,QAAQ,CAACD,MAAM,CAAC,CAAC,CAAC;sBAC9H,IAAI,CAACL,UAAU,CAACE,aAAa,CAACC,UAAU,GAAGA,UAAU;;oBAEvD,IAAI,CAACA,UAAU,aAAM,UAAI,CAACH,UAAU,0CAAEI,SAAS,CAACC,MAAM,CAAC,CAAC,CAAC,SAAG,UAAI,CAACL,UAAU,0CAAEM,QAAQ,CAACD,MAAM,CAAC,CAAC,CAAC,CAAE;kBAAC;kBAAA;oBAAA;gBAAA;cAAA;YAAA;;UAGpG;;;QAAA;UAAA5B;UAAAC,OAGA,6BAAiB;YACf,IAAI,CAACZ,cAAc,CAACa,QAAQ,CAAC,mBAAmB,EAAE,CAAE,yBAAyB,EAAE,eAAe,CAAE,CAAC;YAEjG,IAAM4B,SAAS,GAAG,IAAI,CAACxC,MAAM,CAACyC,IAAI,CAACC,sHAAyB,EAAE;cAC5Db,IAAI,EACF,IAAI,CAACI,UAAU;cACjBU,SAAS,EAAE;aACZ,CAAC;YAEFH,SAAS,CAACI,WAAW,EAAE,CAACvC,SAAS,EAAE;UACrC;UAEA;;;QAAA;UAAAK;UAAAC,OAGA,sBAAU;YAAA;YACR,IAAI,CAACf,aAAa,CAACyB,WAAW,EAAE;YAChC,IAAI,CAACtB,cAAc,CAACa,QAAQ,CAAC,YAAY,EAAE,CAAE,yBAAyB,EAAE,eAAe,CAAE,CAAC;YAC1F,IAAI,CAACf,WAAW,CAACgD,cAAc,EAAE,CAACxC,SAAS,CAAC;cAC1CkB,IAAI,EAAE,cAAOC,GAAG;gBAAA,OAAK;kBAAA;kBAAA;oBAAA;sBAAA;wBACnB,IAAIA,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEK,IAAI,CAACC,uBAAuB,EAAE;0BACrC,IAAI,CAAClC,aAAa,CAACmC,MAAM,CAACR,IAAI,CAAC;4BAC7BS,KAAK,EAAER,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEK,IAAI,CAACC;2BAClB,CAAC;;wBAEJ,IAAI,CAACG,UAAU,GAAGT,GAAG,CAACK,IAAI;wBAC1B,IAAI,CAAC,IAAI,CAACI,UAAU,CAACC,WAAW,EAAE;0BAChC,IAAI,CAAChB,gBAAgB,CAACf,IAAI,GAAG,kBAAkB;;wBAEjD,IAAI,UAAI,CAAC8B,UAAU,0CAAEE,aAAa,EAAE;0BAC5BC,UAAU,aAAM,gBAAI,CAACH,UAAU,0CAAEE,aAAa,0CAAEE,SAAS,CAACC,MAAM,CAAC,CAAC,CAAC,SAAG,gBAAI,CAACL,UAAU,0CAAEE,aAAa,0CAAEI,QAAQ,CAACD,MAAM,CAAC,CAAC,CAAC;0BAC9H,IAAI,CAACL,UAAU,CAACE,aAAa,CAACC,UAAU,GAAGA,UAAU;;wBAEvD,IAAI,CAACA,UAAU,aAAM,UAAI,CAACH,UAAU,0CAAEI,SAAS,CAACC,MAAM,CAAC,CAAC,CAAC,SAAG,UAAI,CAACL,UAAU,0CAAEM,QAAQ,CAACD,MAAM,CAAC,CAAC,CAAC,CAAE;wBACjG,IAAI,CAAC1C,aAAa,CAAC+B,WAAW,EAAE;wBAChC,IAAI,CAAC/B,aAAa,CAAC0B,eAAe,CAACC,IAAI,CAACC,GAAG,CAAC;sBAAC;sBAAA;wBAAA;oBAAA;kBAAA;gBAAA,CAC9C;cAAA;cACDI,KAAK,EAAE,iBAAK;gBACVkB,MAAI,CAAClD,aAAa,CAAC+B,WAAW,EAAE;cAClC;aACD,CAAC;UACJ;UAGA;;;QAAA;UAAAjB;UAAAC,OAGA,wBAAY;YACV,IAAI,CAACZ,cAAc,CAACa,QAAQ,CAAC,cAAc,EAAE,CAAE,yBAAyB,EAAE,eAAe,CAAE,CAAC;YAE5F,IAAM4B,SAAS,GAAG,IAAI,CAACxC,MAAM,CAACyC,IAAI,CAACC,sHAAyB,EAAE;cAC5Db,IAAI,EACF;gBAAE,aAAa,EAAE,EAAE;gBAAE,uBAAuB,EAAE;cAAI,CAAE;cACtDc,SAAS,EAAE;aACZ,CAAC;YAEFH,SAAS,CAACI,WAAW,EAAE,CAACvC,SAAS,EAAE;UACrC;UAEA;;;;QAAA;UAAAK;UAAAC,OAIO,yBAAa;YAClB,IAAI,CAACZ,cAAc,CAACa,QAAQ,CAAC,eAAe,EAAE,CAAE,yBAAyB,EAAE,eAAe,CAAE,CAAC;YAC7FmC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,IAAI,CAACnD,WAAW,CAACoD,kBAAkB,EAAE;UAC9D;UAEA;;;;QAAA;UAAAxC;UAAAC,OAIA,sBAAawC,KAAU;YAAA;YACrB,IAAMC,WAAW,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,IAAIH,KAAK,CAACI,UAAU,CAACD,KAAK;YAChE,IAAI,CAACvD,cAAc,CAACa,QAAQ,CAAC,cAAc,EAAE,CAAE,yBAAyB,EAAE,eAAe,EAAE;cACzFuC,KAAK,EAALA;aACD,CAAE,CAAC;YACJ,IAAIC,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAK,EAAE,IAAIA,WAAW,CAACI,MAAM,GAAG,CAAC,EAAE;cACxE,IAAI,CAAC,IAAI,CAACC,aAAa,CAACL,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE;gBACvC,IAAMM,OAAO,GAAG,2EAA2E;gBAC3F,IAAI,CAAC9D,aAAa,CAAC+D,SAAS,CAAC,CAAC,EAAED,OAAO,CAAC;gBACxC,IAAI,CAACE,QAAQ,CAACC,aAAa,CAAClD,KAAK,GAAG,IAAI;gBACxC;;cAEF,IAAI,CAAC,IAAI,CAACmD,gBAAgB,CAACV,WAAW,CAAC,CAAC,CAAC,CAACW,IAAI,CAAC,EAAE;gBAC/C,IAAML,QAAO,GAAG,qCAAqC;gBACrD,IAAI,CAAC9D,aAAa,CAAC+D,SAAS,CAAC,CAAC,EAAED,QAAO,CAAC;gBACxC,IAAI,CAACE,QAAQ,CAACC,aAAa,CAAClD,KAAK,GAAG,IAAI;gBACxC;;cAEF,IAAMqD,MAAM,GAAG,IAAIC,UAAU,EAAE;cAC/BD,MAAM,CAACE,aAAa,CAACd,WAAW,CAAC,CAAC,CAAC,CAAC;cACpCY,MAAM,CAACG,MAAM,GAAG,UAACC,MAAW,EAAU;gBACpCC,MAAI,CAACC,WAAW,CAACN,MAAM,CAACO,MAAM,EAAEnB,WAAW,CAAC,CAAC,CAAC,CAACW,IAAI,EAAEX,WAAW,CAAC,CAAC,CAAC,CAAC;cACtE,CAAC;aACF,MAAM;cACL,IAAI,CAACQ,QAAQ,CAACC,aAAa,CAAClD,KAAK,GAAG,IAAI;cACxC;;UAEJ;UAEA;;;;;QAAA;UAAAD;UAAAC,OAKA,uBAAc6D,GAAS;YACrB,IAAI,CAACzE,cAAc,CAACa,QAAQ,CAAC,eAAe,EAAE,CAAE,yBAAyB,EAAE,eAAe,EAAE;cAC1F6D,QAAQ,EAAED,GAAG,CAACE;aACf,CAAE,CAAC;YACJ,IAAIF,GAAG,CAACE,IAAI,GAAG,IAAI,CAAC9E,aAAa,CAAC+E,UAAU,EAAE;cAC5C,OAAO,KAAK;;YAEd,OAAO,IAAI;UACb;UAEA;;;;;QAAA;UAAAjE;UAAAC,OAKO,0BAAiBiE,QAAgB;YACtC,IAAMC,KAAK,GAAW,IAAIC,MAAM,CAAC,kBAAkB,EAAE,IAAI,CAAC;YAC1D,IAAI,CAAC/E,cAAc,CAACa,QAAQ,CAAC,kBAAkB,EAAE,CAAE,yBAAyB,EAAE,eAAe,EAAE;cAC7FmE,QAAQ,EAAEH;aACX,CAAE,CAAC;YACJ,IAAIC,KAAK,CAACG,IAAI,CAACJ,QAAQ,CAAC,EAAE;cACxB,IAAMK,SAAS,GAAGL,QAAQ,CAACM,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,EAAE;cAC3C,OAAO,IAAI,CAACvF,aAAa,CAACwF,cAAc,CAACC,QAAQ,CAACJ,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEK,WAAW,EAAE,CAAC;;YAE7E,OAAO,KAAK;UAEd;UAEA;;;;;;QAAA;UAAA5E;UAAAC,OAMA,qBAAYqB,KAA2B,EAAE+C,QAAgB,EAAEQ,IAAU;YAAA;YACnE,IAAI,CAACxF,cAAc,CAACa,QAAQ,CAAC,aAAa,EAAE,CAAE,uBAAuB,EAAE,eAAe,EAAE;cACtFmE,QAAQ,EAAEA;aACX,CAAE,CAAC;YACJ,IAAI,CAACnF,aAAa,CAACyB,WAAW,EAAE;YAChC,IAAI,CAACxB,WAAW,CAAC2F,kBAAkB,CAACD,IAAI,CAAC,CAAClF,SAAS,CAAC;cAClDkB,IAAI,EAAE,cAAOC,GAAG;gBAAA,OAAK;kBAAA;oBAAA;sBAAA;wBACnB,IAAIA,GAAG,EAAE;0BACP,IAAI,CAACS,UAAU,CAACH,uBAAuB,GAAGN,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEK,IAAI,CAAC4D,gBAAgB;0BACpE,IAAI,CAACC,SAAS,GAAG,IAAI;0BACrB,IAAI,CAAC9F,aAAa,CAACmC,MAAM,CAACR,IAAI,CAAC;4BAC7BS,KAAK,EAAER,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEK,IAAI,CAAC4D;2BAClB,CAAC;;wBAEJ,IAAI,CAAC7B,QAAQ,CAACC,aAAa,CAAClD,KAAK,GAAG,IAAI;wBACxC,IAAI,CAACf,aAAa,CAAC+B,WAAW,EAAE;sBAAC;sBAAA;wBAAA;oBAAA;kBAAA;gBAAA,CAClC;cAAA;cACDC,KAAK,EAAE,iBAAK;gBACV+D,MAAI,CAAC/B,QAAQ,CAACC,aAAa,CAAClD,KAAK,GAAG,IAAI;gBACxCgF,MAAI,CAAC/F,aAAa,CAAC+B,WAAW,EAAE;cAClC;aACD,CAAC;UACJ;UAEA;;;QAAA;UAAAjB;UAAAC,OAGA,mBAAM;YAAA;YACJ,IAAI,CAACZ,cAAc,CAACa,QAAQ,CAAC,QAAQ,EAAE,CAAE,uBAAuB,EAAE,eAAe,CAAE,CAAC;YACpF,IAAI,CAAChB,aAAa,CAACgG,gBAAgB,EAAE,CAClChD,WAAW,EAAE,CAACvC,SAAS,CAAC,UAACwB,IAAI,EAAI;cAChC,IAAIA,IAAI,EAAE;gBACRgE,MAAI,CAACC,gBAAgB,EAAE;;YAE3B,CAAC,CAAC;UACN;UAEA;;;QAAA;UAAApF;UAAAC,OAGA,4BAAgB;YAAA;YACd,IAAI,CAACZ,cAAc,CAACa,QAAQ,CAAC,kBAAkB,EAAE,CAAE,uBAAuB,EAAE,eAAe,CAAE,CAAC;YAC9F,IAAI,CAAChB,aAAa,CAACyB,WAAW,EAAE;YAChC,IAAI,CAACxB,WAAW,CAACkG,iBAAiB,EAAE,CAAC1F,SAAS,CAAC;cAC7CkB,IAAI,EAAE,cAAOC,GAAG;gBAAA,OAAK;kBAAA;oBAAA;sBAAA;wBACnB,IAAI,CAACS,UAAU,CAACH,uBAAuB,GAAG,IAAI;wBAC9C,IAAI,CAAClC,aAAa,CAACmC,MAAM,CAACR,IAAI,CAAC;0BAC7BS,KAAK,EAAE,IAAI;0BACXD,MAAM,EAAE,IAAI,CAACK;yBACd,CAAC;wBACF,IAAI,CAACxC,aAAa,CAAC+B,WAAW,EAAE;sBAAC;sBAAA;wBAAA;oBAAA;kBAAA;gBAAA,CAClC;cAAA;cACDC,KAAK,EAAE,iBAAK;gBACVoE,MAAI,CAACpG,aAAa,CAAC+B,WAAW,EAAE;cAClC;aACD,CAAC;UACJ;QAAC;QAAA;MAAA;;yBA/RUhC,qBAAoB;MAAA;;cAApBA,qBAAoB;QAAAsG;QAAAC;UAAA;;;;;;;;;;;;;;YD9CjCxG,yEAAkB;YACdA,6EAAgC;YAC5BA,yEAAuB;YAEnBA,yEAA0B;YACtBA,yEAAgC;YAC5BA,gHAAkJ;YAClJA,4MAEc;YAClBA,4DAAM;YACNA,8EAA+G;YAA1EA;cAAA,OAAUyG,wBAAoB;YAAA,EAAC;YAApEzG,4DAA+G;YAC/GA,0EAAsG;YAClGA,gFAAmG;YAA3BA;cAAAA;cAAA;cAAA,OAAS0G,WAAgB;YAAA,EAAC;YAAC1G,4DAAW;YAClHA,4DAAM;YACNA,mHAEM;YACVA,4DAAM;YACNA,2EAAuB;YACnBA,sEAAI;YAAAA,wDAAkD;YAAAA,4DAAK;YAC3DA,2EAAmC;YAC/BA,mHAIM;YACVA,4DAAM;YAENA,2EAA0B;YACtBA,mHAKM;YACVA,4DAAM;YACVA,4DAAM;YACVA,4DAAM;YACNA,2EAA+B;YAC3BA,mHAOM;YACNA,oHAWM;YACVA,4DAAM;YACVA,4DAAU;YACVA,+EAAkC;YAC9BA,2EAAqB;YACjBA,sEAAI;YAACA,wDAAkC;;YAAAA,4DAAK;YAC5CA,2EAA4E;YAA3BA;cAAA,OAASyG,mBAAe;YAAA,EAAE;YACvEzG,2EAAsF;YACtFA,yEAAO;YAAAA,wDAAgC;;YAAAA,4DAAQ;YACnDA,4DAAM;YACVA,4DAAM;YAENA,2EAAyB;YACrBA,2EAA6B;YACzBA,6EAAqB;YAAAA,wDAA4B;;YAAAA,4DAAQ;YACzDA,6EAAqB;YAAAA,wDAAyB;YAAAA,4DAAQ;YAC1DA,4DAAM;YACNA,2EAA8B;YAC1BA,6EAAqB;YAAAA,wDAA2B;;YAAAA,4DAAQ;YACxDA,6EAAqB;YAAAA,wDAAwB;YAAAA,4DAAQ;YACzDA,4DAAM;YACNA,2EAA6B;YACzBA,6EAAqB;YAAAA,wDAA+B;;YAAAA,4DAAQ;YAC5DA,mHAGM;YACNA,uHAA2X;YAC/XA,4DAAM;YACNA,2EAA8B;YAC1BA,6EAAqB;YAAAA,wDAAuB;;YAAAA,4DAAQ;YACpDA,6EAAqB;YAAAA,wDAAqB;YAAAA,4DAAQ;YACtDA,4DAAM;YACVA,4DAAM;YACVA,4DAAU;YAEVA,2EAAiC;YAC7BA,2EAAkC;YAC9BA,2EAA2B;YACvBA,sEAAoC;YACxCA,4DAAM;YACVA,4DAAM;YACRA,4DAAM;YACZA,4DAAM;;;;YAhG2FA,0DAAyD;YAAzDA,2JAAyD;YAMxGA,0DAAmE;YAAnEA,sNAAmE;YACvFA,0DAAkB;YAAlBA,2EAAkB;YAEMA,0DAAyC;YAAzCA,wIAAyC;YAK3EA,0DAAkD;YAAlDA,gMAAkD;YAERA,0DAAyB;YAAzBA,8HAAyB;YAQjCA,0DAA8D;YAA9DA,sMAA8D;YAU7EA,0DAAoC;YAApCA,mIAAoC;YAQzCA,0DAA+B;YAA/BA,8HAA+B;YAgBhDA,0DAAkC;YAAlCA,gKAAkC;YAEzBA,0DAAqB;YAArBA,8EAAqB;YACxBA,0DAAgC;YAAhCA,oJAAgC;YAMlBA,0DAA4B;YAA5BA,gJAA4B;YAC5BA,0DAAyB;YAAzBA,yHAAyB;YAGzBA,0DAA2B;YAA3BA,+IAA2B;YAC3BA,0DAAwB;YAAxBA,wHAAwB;YAGxBA,0DAA+B;YAA/BA,mJAA+B;YACFA,0DAAgE;YAAhEA,uMAAgE;YAI1GA,0DAA+D;YAA/DA,sMAA+D;YAGlDA,0DAAuB;YAAvBA,2IAAuB;YACvBA,0DAAqB;YAArBA,qHAAqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MEhF1D,IAAM2G,MAAM,GAAY,CACtB;QACEC,IAAI,EAAE,EAAE;QACRC,SAAS,EAAEC,yEAAoB;QAC/BC,OAAO,EAAE;UAAEC,OAAO,EAAEC;QAAsB;OAC3C,CACF;MAAC,IAeWC,kBAAiB;QAAA3G;MAAA;;yBAAjB2G,kBAAiB;MAAA;;cAAjBA;MAAiB;;kBATnB,CACPC,yDAAY,EACZC,iEAAa,EACbC,6DAAW,EACXC,kEAAqB,CAACX,MAAM,CAAC,EAC7BY,6EAAa,EACbC,gEAAe,CAChB;MAAA;;4HAEUN,kBAAiB;UAAAO,eAX1BX,yEAAoB;UAAAY,UAGpBP,yDAAY,EACZC,iEAAa,EACbC,6DAAW,6DAEXE,6EAAa,EACbC,gEAAe;QAAA;MAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCnBNG,uBAAsB;QACjC;;;;QAIA,iCAAoBzH,aAA4B;UAAAK;UAA5B,kBAAa,GAAbL,aAAa;QAAmB;QACpD;;;;QAAAa;UAAAC;UAAAC,OAIA,mBAAO;YAAA;YACL,IAAI,CAACf,aAAa,CAACyB,WAAW,EAAE;YAChC,OAAO,IAAI,CAACzB,aAAa,CAAC0H,YAAY,EAAE,CAACC,IAAI,CAC3C,2CAAI,UAAC/F,GAAG,EAAI;cACVgG,MAAI,CAAC5H,aAAa,CAAC+B,WAAW,EAAE;cAChC,IAAM8F,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;cACvD,IAAMC,UAAU,GAAGpG,GAAG,CAACqG,aAAa;cACpC,IAAIJ,YAAY,IAAIA,YAAY,IAAIG,UAAU,EAAE;gBAC9CF,YAAY,CAACI,OAAO,CAAC,YAAY,EAAEF,UAAU,CAAC;gBAC9CG,UAAU,CAAC,YAAK;kBACd/E,QAAQ,CAAC1C,MAAM,EAAE;gBACnB,CAAC,EAAE,EAAE,CAAC;gBACN,OAAO,0CAAG,uBAAuB,CAAC;eACnC,MAAM;gBACLoH,YAAY,CAACI,OAAO,CAAC,YAAY,EAAEF,UAAU,CAAC;gBAC9C,OAAO,0CAAG,8BAA8B,CAAC;;YAE7C,CAAC,CAAC,EACF,kDAAW,YAAK;cACdJ,MAAI,CAAC5H,aAAa,CAAC+B,WAAW,EAAE;cAChC,OAAO,0CAAG,iCAAiC,CAAC;YAC9C,CAAC,CAAC,CACH;UACH;QAAC;QAAA;MAAA;;yBAjCU0F,uBAAsB;MAAA;;eAAtBA,uBAAsB;QAAAW,SAAtBX,uBAAsB;QAAAY,YAFrB;MAAM;;;;;","names":["_angular_core__WEBPACK_IMPORTED_MODULE_5__","UserProfileComponent","commonService","coreService","authService","monitorService","dialog","_classCallCheck","label","type","reloadUser","subscribe","reload","_this","getProfile","_createClass","key","value","logEvent","resetButtonModel","icon","onclick","resetPassword","bind","editMobileNumber","changePhoneNumber","userProfileLoading","showLoading","userProfileData","next","res","_this2","handleUserProfileData","hideLoading","error","data","userProfileImageBlobUrl","avatar","image","userDetail","phoneNumber","managerDetail","avatarText","firstName","charAt","lastName","dialogRef","open","src_app_dialogs_edit_mobile_dialog_edit_mobile_dialog_component__WEBPACK_IMPORTED_MODULE_0__","autoFocus","afterClosed","getUserProfile","_this3","window","location","href","resetPasswordRoute","event","currentFile","target","files","srcElement","length","checkFileSize","message","showToast","uploader","nativeElement","isValidImageFile","name","reader","FileReader","readAsDataURL","onload","_event","_this4","uploadImage","result","img","fileSize","size","maxileSize","filename","regex","RegExp","fileName","test","extension","split","pop","allowExtension","includes","toLowerCase","file","uploadProfileImage","userImageBlobUrl","hasAvatar","_this5","openDeleteDialog","_this6","deleteProfilePic","deleteUserProfile","_this7","selectors","viewQuery","ctx","_r3","routes","path","component","_user_profile_component__WEBPACK_IMPORTED_MODULE_0__","resolve","version","src_app_resolvers_versionControl_resolver__WEBPACK_IMPORTED_MODULE_3__","UserProfileModule","_angular_common__WEBPACK_IMPORTED_MODULE_5__","_angular_material_icon__WEBPACK_IMPORTED_MODULE_6__","src_app_icons_module__WEBPACK_IMPORTED_MODULE_1__","_angular_router__WEBPACK_IMPORTED_MODULE_7__","src_app_widgets_chq_widgets_module__WEBPACK_IMPORTED_MODULE_2__","_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__","declarations","imports","VersionControlResolver","checkVersion","pipe","_this8","localVersion","localStorage","getItem","appVersion","buildRevision","setItem","setTimeout","factory","providedIn"],"sources":["webpack:///src/app/modules/user-profile/user-profile.component.html","webpack:///src/app/modules/user-profile/user-profile.component.ts","webpack:///src/app/modules/user-profile/user-profile.module.ts","webpack:///src/app/resolvers/versionControl.resolver.ts"],"sourcesContent":["<div class=\"main\">\n    <section class=\"user-container\">\n        <div class=\"user-info\">\n           \n            <div class=\"user-profile\">\n                <div class=\"user-profile-image\">\n                    <img [src]=\"userDetail?.userProfileImageBlobUrl\" (error)=\"hasAvatar=false;\" *ngIf=\"(userDetail?.userProfileImageBlobUrl && hasAvatar) else text\"/>\n                    <ng-template #text>\n                        <h4>{{avatarText}}</h4>\n                    </ng-template>\n                </div>\n                <input hidden  type=\"file\" #uploader (change)=\"handleUpload($event)\" accept=\"image/png, image/jpg, image/jpeg\">\n                <div class=\"edit-profile-picture\" [ngClass]=\"{'centered-edit': !userDetail?.userProfileImageBlobUrl}\">\n                    <mat-icon [svgIcon]=\"'edit'\" aria-hidden=\"false\" aria-label=\"edit icon\" (click)=\"uploader.click()\"></mat-icon>\n                </div>\n                <div class=\"delete-profile-picture\"  *ngIf=\"userDetail?.userProfileImageBlobUrl\">\n                    <mat-icon [svgIcon]=\"'delete'\" aria-hidden=\"false\" aria-label=\"delete icon\" (click)=\"delete()\"></mat-icon>\n                </div>\n            </div>\n            <div class=\"user-desc\">\n                <h3>{{userDetail?.firstName}} {{userDetail?.lastName}}</h3>  \n                <div class=\"role-container fx-row\">\n                    <div class=\"role fx-col\" *ngFor=\"let role of userDetail?.roleDetail\">\n                        <label class=\"user-post\">{{role.name}} : </label>\n                        <img *ngIf=\"role.automotiveServiceName === 'Carheal Quote'\" src=\"assets/img/addenda-quote.png\"/>\n                        <img *ngIf=\"role.automotiveServiceName === 'Addenda Repair'\" src=\"assets/img/addenda-repair.png\"/>\n                    </div>\n                </div>       \n                                \n                <div class=\"user-contact\">\n                    <div class=\"contact-item no-gap\" *ngIf=\"userDetail?.phoneNumber && userDetail?.phoneNumber!=='0'\">\n                        <mat-icon [svgIcon]=\"'call'\" aria-hidden=\"false\" aria-label=\"call icon\"></mat-icon>\n                        <label><span *ngIf=\"userDetail?.countryCode\">{{userDetail?.countryCode}}-</span>{{userDetail?.phoneNumber?.replace(userDetail?.countryCode,'')}}</label>\n                        <mat-icon class=\"icon-left\" [svgIcon]=\"'checked'\" aria-hidden=\"false\" aria-label=\"call icon\"></mat-icon>\n                        <label class=\"verify\" >{{'verified' | translate}}</label>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"organisation-info\">\n            <div class=\"organisation\" *ngIf=\"userDetail?.organizationDetail\">\n                <label>{{'organization' | translate | uppercase}}</label>\n                <h5>\n                    <span *ngIf=\"userDetail?.organizationDetail?.name\">{{userDetail?.organizationDetail?.name}}</span>\n                    <span *ngIf=\"userDetail?.organizationDetail?.cityName\">, {{userDetail?.organizationDetail?.cityName}}</span>\n                    <span *ngIf=\"userDetail?.organizationDetail?.countryName\">, {{userDetail?.organizationDetail?.countryName}}</span>\n                </h5>\n            </div>\n            <div class=\"manager\" *ngIf=\"userDetail?.managerDetail\">\n                <div class=\"manager-post\">\n                    <label>{{'direct_manager' | translate}}</label>\n                    <h5>{{userDetail?.managerDetail?.firstName}} {{userDetail?.managerDetail?.lastName}}</h5>\n                </div>\n                <div class=\"manager-profile\">\n                    <img [src]=\"userDetail?.managerDetail?.userProfileImageBlobUrl\" *ngIf=\"userDetail?.managerDetail?.userProfileImageBlobUrl else text\"/>\n                    <ng-template #text>\n                        <label>{{userDetail?.managerDetail?.avatarText}}</label>\n                    </ng-template>\n                </div>\n            </div>\n        </div>\n    </section>\n    <section class=\"detail-container\">\n        <div class=\"div-row\">\n            <h5> {{'personal_details' | translate}}</h5>\n            <div class=\"contact-item new-call-button no-gap\" (click)=\"resetPassword();\">\n                <mat-icon [svgIcon]=\"'refresh'\" aria-hidden=\"false\" aria-label=\"call icon\"></mat-icon>\n                <label>{{'reset_password' | translate}}</label>\n            </div>\n        </div>\n       \n        <div class=\"detail-info\">\n            <div class=\"info-item first\">\n                <label class=\"title\">{{'first_name' | translate}}</label>\n                <label class=\"value\">{{userDetail?.firstName}}</label>\n            </div>\n            <div class=\"info-item second\">\n                <label class=\"title\">{{'last_name' | translate}}</label>\n                <label class=\"value\">{{userDetail?.lastName}}</label>\n            </div>\n            <div class=\"info-item third\">\n                <label class=\"title\">{{'mobile_number' | translate}}</label>\n                <div class=\"contact-item new-call-button no-gap\" *ngIf=\"!userDetail?.phoneNumber || userDetail?.phoneNumber ==='0'\" (click)=\"openOtpPopup();\">\n                    <mat-icon [svgIcon]=\"'plus'\" class=\"plus-icon\" aria-hidden=\"false\" aria-label=\"call icon\"></mat-icon>\n                    <label>{{'add_mobile_number' | translate}}</label>\n                </div>\n                <label *ngIf=\"userDetail?.phoneNumber && userDetail?.phoneNumber !=='0'\"  class=\"value\"><span *ngIf=\"userDetail?.countryCode\">{{userDetail?.countryCode}}-</span><span>{{userDetail?.phoneNumber?.replace(userDetail?.countryCode,'')}}</span>  <mat-icon [svgIcon]=\"'edit'\" (click)=\"changePhoneNumber()\" class=\"edit-icon\" aria-hidden=\"false\" aria-label=\"call icon\"></mat-icon></label>\n            </div>\n            <div class=\"info-item fourth\">\n                <label class=\"title\">{{'email' | translate}}</label>\n                <label class=\"value\">{{userDetail?.email}}</label>\n            </div>\n        </div>\n    </section>\n\n    <div class=\"footer-full-wrapper\">\n        <div class=\"footer-image-wrapper\">\n            <div class=\"image-wrapper\">\n                <img src=\"assets/img/addenda.png\" />\n            </div>\n        </div>\n      </div>\n</div>","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { EditMobileDialogComponent } from 'src/app/dialogs/edit-mobile-dialog/edit-mobile-dialog.component';\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { CommonService } from 'src/app/services/common/common.service';\nimport { CoreService } from 'src/app/services/core/core.service.service';\nimport { MonitorService } from 'src/app/services/monitor-service/monitor.service';\n\nexport interface Organization {\n  name: string;\n  cityName: string;\n  countryName: string;\n}\n\nexport interface Manager {\n  firstName: string;\n  lastName: string;\n  userProfileImageBlobUrl?: string;\n  avatarText?: string;\n}\n\nexport interface Role {\n  description: string;\n  automotiveServiceName: string;\n  name: string;\n}\n\nexport interface User {\n  userProfileImageBlobUrl?: string;\n  firstName: string;\n  lastName: string;\n  countryCode: string;\n  phoneNumber: string;\n  email: string;\n  function: string;\n  organizationDetail: Organization;\n  managerDetail: Manager;\n  roleDetail: Role[];\n}\n\n@Component({\n  selector: 'user-profile',\n  templateUrl: './user-profile.component.html',\n  styleUrls: [ './user-profile.component.scss' ]\n})\nexport class UserProfileComponent implements OnInit{\n  public resetButtonModel: ChqWidgetsButtonModel = {\n    label: '',\n    type: 'primary'\n  }\n  public editMobileNumber: ChqWidgetsButtonModel = {\n    label: '',\n    type: 'outline'\n  }\n  @ViewChild('uploader') uploader: ElementRef;\n  avatarText: string;\n  userDetail: User;\n  hasAvatar:boolean=true;\n  /**\n   * constructor\n   * @param commonService\n   */\n  constructor(\n    private commonService: CommonService,\n    private coreService: CoreService,\n    private authService: AuthService,\n    private monitorService: MonitorService,\n    private dialog: MatDialog\n  ) {\n    this.commonService.reloadUser.subscribe((reload) => {\n      if (reload) {\n        this.getProfile();\n      }\n    });\n  }\n  /**\n   * on init\n   */\n  ngOnInit(): void {\n    this.monitorService.logEvent('ngOnInit', [ 'ChqUserProfileComponent', 'addenda-quote' ]);\n\n    this.resetButtonModel = {\n      label: 'Reset Password',\n      type: 'primary',\n      icon: 'refresh',\n      onclick: this.resetPassword.bind(this)\n    }\n    this.editMobileNumber = {\n      label: 'Edit mobile number',\n      type: 'outline',\n      icon: 'edit',\n      onclick: this.changePhoneNumber.bind(this)\n    }\n    if (this.commonService.userProfileLoading) {\n      this.commonService.showLoading();\n      this.commonService.userProfileData.subscribe({\n        next: (res: any) => {\n          if (res) {\n            this.handleUserProfileData(res);\n            this.commonService.hideLoading();\n          }\n          \n        },\n        error: () => {\n          this.getProfile();\n        }\n      });\n    } else {\n      this.getProfile();\n    }\n  \n  }\n\n  /**\n   * handle user profile data\n   */\n  async handleUserProfileData(res:any):Promise<void> {\n    if (res?.data.userProfileImageBlobUrl) {\n      this.commonService.avatar.next({\n        image: res?.data.userProfileImageBlobUrl\n      });\n    }           \n    this.userDetail = res.data;\n    if (!this.userDetail.phoneNumber) {\n      this.editMobileNumber.type = 'disabled-outline';\n    }\n    if (this.userDetail?.managerDetail) {\n      const avatarText = `${this.userDetail?.managerDetail?.firstName.charAt(0)}${this.userDetail?.managerDetail?.lastName.charAt(0)}`;\n      this.userDetail.managerDetail.avatarText = avatarText;\n    }\n    this.avatarText = `${this.userDetail?.firstName.charAt(0)}${this.userDetail?.lastName.charAt(0)}`;\n  }\n\n  /**\n   * open change phonenumber dialog\n   */\n  changePhoneNumber():void {\n    this.monitorService.logEvent('changePhoneNumber', [ 'ChqUserProfileComponent', 'addenda-quote' ]);\n\n    const dialogRef = this.dialog.open(EditMobileDialogComponent, {\n      data:\n        this.userDetail,\n      autoFocus: false \n    });\n\n    dialogRef.afterClosed().subscribe();\n  }\n\n  /**\n   * get user profile info\n   */\n  getProfile(): void {\n    this.commonService.showLoading();\n    this.monitorService.logEvent('getProfile', [ 'ChqUserProfileComponent', 'addenda-quote' ]);\n    this.coreService.getUserProfile().subscribe({\n      next: async (res) => {\n        if (res?.data.userProfileImageBlobUrl) {\n          this.commonService.avatar.next({\n            image: res?.data.userProfileImageBlobUrl\n          });\n        }           \n        this.userDetail = res.data;\n        if (!this.userDetail.phoneNumber) {\n          this.editMobileNumber.type = 'disabled-outline';\n        }\n        if (this.userDetail?.managerDetail) {\n          const avatarText = `${this.userDetail?.managerDetail?.firstName.charAt(0)}${this.userDetail?.managerDetail?.lastName.charAt(0)}`;\n          this.userDetail.managerDetail.avatarText = avatarText;\n        }\n        this.avatarText = `${this.userDetail?.firstName.charAt(0)}${this.userDetail?.lastName.charAt(0)}`;\n        this.commonService.hideLoading();        \n        this.commonService.userProfileData.next(res);\n      },\n      error: () => {\n        this.commonService.hideLoading();\n      }\n    })\n  }\n  \n\n  /** \n   * open labour rate popup\n   */\n  openOtpPopup(): void {\n    this.monitorService.logEvent('openOtpPopup', [ 'ChqUserProfileComponent', 'addenda-quote' ]);\n\n    const dialogRef = this.dialog.open(EditMobileDialogComponent, {\n      data:\n        { 'phoneNumber': '', 'isPhoneNumberAddition': true },\n      autoFocus: false \n    });\n\n    dialogRef.afterClosed().subscribe();\n  }\n\n  /**\n   * handles reset button click\n   * returns void\n   */\n  public resetPassword(): void {\n    this.monitorService.logEvent('resetPassword', [ 'ChqUserProfileComponent', 'addenda-quote' ]);\n    window.location.href = this.authService.resetPasswordRoute();\n  }\n\n  /**\n   * handle file upload\n   * @param event \n   */\n  handleUpload(event: any): void {\n    const currentFile = event.target.files || event.srcElement.files;\n    this.monitorService.logEvent('handleUpload', [ 'ChqUserProfileComponent', 'addenda-quote', {\n      event\n    } ]);\n    if (currentFile !== null && currentFile !== '' && currentFile.length > 0) {\n      if (!this.checkFileSize(currentFile[0])) {\n        const message = 'Image size is above the allowed 5MB limit, try again with a smaller image';\n        this.commonService.showToast(0, message);\n        this.uploader.nativeElement.value = null;\n        return;\n      }\n      if (!this.isValidImageFile(currentFile[0].name)) {\n        const message = 'Uploaded file type is not supported';\n        this.commonService.showToast(0, message);\n        this.uploader.nativeElement.value = null;\n        return;\n      }\n      const reader = new FileReader();\n      reader.readAsDataURL(currentFile[0]);\n      reader.onload = (_event: any): void => {\n        this.uploadImage(reader.result, currentFile[0].name, currentFile[0]);\n      }\n    } else {\n      this.uploader.nativeElement.value = null;\n      return;\n    }\n  }\n\n  /**\n   * checks file size\n   * @param blob \n   * @returns boolean\n   */\n  checkFileSize(img: Blob): boolean {\n    this.monitorService.logEvent('checkFileSize', [ 'ChqUserProfileComponent', 'addenda-quote', {\n      fileSize: img.size\n    } ]);\n    if (img.size > this.commonService.maxileSize) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * checkx filename\n   * @param filename \n   * @returns \n   */\n  public isValidImageFile(filename: string): boolean {\n    const regex: RegExp = new RegExp('^.*\\\\.[a-zA-Z]+$', 'gm');\n    this.monitorService.logEvent('isValidImageFile', [ 'ChqUserProfileComponent', 'addenda-quote', {\n      fileName: filename\n    } ]);\n    if (regex.test(filename)) {\n      const extension = filename.split('.').pop();\n      return this.commonService.allowExtension.includes(extension?.toLowerCase());\n    }\n    return false;\n\n  }\n\n  /**\n   * upload image to server\n   * @param image \n   * @param fileName \n   * @param file \n   */\n  uploadImage(image: string | ArrayBuffer, fileName: string, file: File): void {\n    this.monitorService.logEvent('uploadImage', [ 'ChqNewPhotosComponent', 'addenda-quote', {\n      fileName: fileName\n    } ]);\n    this.commonService.showLoading();\n    this.coreService.uploadProfileImage(file).subscribe({\n      next: async (res) => {\n        if (res) {         \n          this.userDetail.userProfileImageBlobUrl = res?.data.userImageBlobUrl;\n          this.hasAvatar = true;\n          this.commonService.avatar.next({\n            image: res?.data.userImageBlobUrl\n          });\n        }\n        this.uploader.nativeElement.value = null;\n        this.commonService.hideLoading();\n      },\n      error: () => {\n        this.uploader.nativeElement.value = null;\n        this.commonService.hideLoading();\n      }\n    })\n  }\n\n  /**\n   * delete dialog\n   */\n  delete(): void {\n    this.monitorService.logEvent('delete', [ 'ChqNewPhotosComponent', 'addenda-quote' ]);\n    this.commonService.openDeleteDialog()\n      .afterClosed().subscribe((data) => {\n        if (data) {\n          this.deleteProfilePic();\n        } \n      });\n  }\n\n  /**\n * delete profile picutre\n */\n  deleteProfilePic(): void {\n    this.monitorService.logEvent('deleteProfilePic', [ 'ChqNewPhotosComponent', 'addenda-quote' ]);\n    this.commonService.showLoading();\n    this.coreService.deleteUserProfile().subscribe({\n      next: async (res) => {\n        this.userDetail.userProfileImageBlobUrl = null;\n        this.commonService.avatar.next({\n          image: null,\n          avatar: this.avatarText\n        });\n        this.commonService.hideLoading();\n      },\n      error: () => {\n        this.commonService.hideLoading();\n      }\n    })\n  }\n}\n\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UserProfileComponent } from './user-profile.component';\nimport { MatIconModule } from '@angular/material/icon';\nimport { IconsModule } from 'src/app/icons.module';\nimport { Route, RouterModule } from '@angular/router';\nimport { WidgetsModule } from 'src/app/widgets/chq-widgets.module';\nimport { VersionControlResolver } from 'src/app/resolvers/versionControl.resolver';\nimport { TranslateModule } from '@ngx-translate/core';\n\nconst routes: Route[] = [\n  { \n    path: '', \n    component: UserProfileComponent,\n    resolve: { version: VersionControlResolver }\n  }\n];\n\n@NgModule({\n  declarations: [\n    UserProfileComponent\n  ],\n  imports: [\n    CommonModule,\n    MatIconModule,\n    IconsModule,\n    RouterModule.forChild(routes),\n    WidgetsModule,\n    TranslateModule\n  ]\n})\nexport class UserProfileModule { }\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\n\nimport { catchError, map, Observable, of } from 'rxjs';\nimport { CommonService } from '../services/common/common.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VersionControlResolver implements Resolve<Observable<any>> {\n  /**\n   * contructor\n   * @param commonService \n   */\n  constructor(private commonService: CommonService) { }\n  /**\n   * resolve the \n   * @returns \n   */\n  resolve(): Observable<any> {\n    this.commonService.showLoading();\n    return this.commonService.checkVersion().pipe(\n      map((res) => {\n        this.commonService.hideLoading();\n        const localVersion = localStorage.getItem('appVersion');\n        const appVersion = res.buildRevision;\n        if (localVersion && localVersion != appVersion) {\n          localStorage.setItem('appVersion', appVersion);\n          setTimeout(() => {\n            location.reload();\n          }, 10);\n          return of('new version available');\n        } else {\n          localStorage.setItem('appVersion', appVersion);\n          return of('new version is not available');\n        }\n      }),\n      catchError(() => {\n        this.commonService.hideLoading();\n        return of('data not available at this time');\n      })\n    )\n  }\n}"]}