{"version":3,"file":"src_app_modules_repair_add-customers_customers_module_ts.js","mappings":"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","sources":["./src/app/dialogs/invoice-summary/invoice-summary.component.ts","./src/app/dialogs/invoice-summary/invoice-summary.component.html","./src/app/dialogs/schedule-pickup-date-popup/schedule-pickup-date-popup.component.ts","./src/app/dialogs/schedule-pickup-date-popup/schedule-pickup-date-popup.component.html","./src/app/dialogs/send-invoice/send-invoice.component.ts","./src/app/dialogs/send-invoice/send-invoice.component.html","./src/app/helper/form/vehicle-form.helper.ts","./src/app/model/chq-widgets-input-model.ts","./src/app/modules/repair/add-customers/booking/estimate/estimate/estimate.component.ts","./src/app/modules/repair/add-customers/booking/estimate/estimate/estimate.component.html","./src/app/modules/repair/add-customers/booking/personal-info/add-booking/add-booking.component.ts","./src/app/modules/repair/add-customers/booking/personal-info/add-booking/add-booking.component.html","./src/app/modules/repair/add-customers/booking/personal-info/no-show/no-show.component.ts","./src/app/modules/repair/add-customers/booking/personal-info/no-show/no-show.component.html","./src/app/modules/repair/add-customers/booking/personal-info/personal-info.component.ts","./src/app/modules/repair/add-customers/booking/personal-info/personal-info.component.html","./src/app/modules/repair/add-customers/booking/repair-add-photos/add-photos.component.ts","./src/app/modules/repair/add-customers/booking/repair-add-photos/add-photos.component.html","./src/app/modules/repair/add-customers/booking/repair-new-documents/repair-new-documents/repair-new-documents.component.ts","./src/app/modules/repair/add-customers/booking/repair-new-documents/repair-new-documents/repair-new-documents.component.html","./src/app/modules/repair/add-customers/customers.module.ts","./src/app/modules/repair/add-customers/repair/generate-invoices/generate-invoices.component.ts","./src/app/modules/repair/add-customers/repair/generate-invoices/generate-invoices.component.html","./src/app/modules/repair/add-customers/repair/invoices/invoices.component.ts","./src/app/modules/repair/add-customers/repair/invoices/invoices.component.html","./src/app/modules/repair/add-customers/repair/parts/repair-parts.component.ts","./src/app/modules/repair/add-customers/repair/parts/repair-parts.component.html","./src/app/modules/repair/add-customers/repair/repair-stages/repair-photos/repair-photos.component.ts","./src/app/modules/repair/add-customers/repair/repair-stages/repair-photos/repair-photos.component.html","./src/app/modules/repair/add-customers/repair/repair-stages/repair-stages-table/repair-stages-table.component.ts","./src/app/modules/repair/add-customers/repair/repair-stages/repair-stages-table/repair-stages-table.component.html","./src/app/modules/repair/add-customers/repair/repair-stages/repair-stages.component.ts","./src/app/modules/repair/add-customers/repair/repair-stages/repair-stages.component.html","./src/app/resolvers/versionControl.resolver.ts","./node_modules/bezier-easing/src/index.js","./node_modules/rxjs/dist/esm/internal/observable/interval.js","./node_modules/rxjs/dist/esm/internal/operators/expand.js","./node_modules/rxjs/dist/esm/internal/operators/pluck.js","./node_modules/@angular/cdk/fesm2020/drag-drop.mjs","./node_modules/angular-cd-timer/fesm2020/angular-cd-timer.mjs","./node_modules/ngx-scrollbar/fesm2020/ngx-scrollbar-smooth-scroll.mjs","./node_modules/ngx-scrollbar/fesm2020/ngx-scrollbar.mjs"],"sourcesContent":["import { KeyValue } from '@angular/common';\r\nimport { Component, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\r\n\r\n@Component({\r\n  selector: 'app-invoice-summary',\r\n  templateUrl: './invoice-summary.component.html',\r\n  styleUrls: [ './invoice-summary.component.scss' ],\r\n})\r\nexport class InvoiceSummaryComponent {\r\n  /**\r\n    @returns {void} constructor for InvoiceSummaryComponent\r\n  */\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public summaryDialogData:any,\r\n    private commonService:CommonService,\r\n    public dialogRef: MatDialogRef<InvoiceSummaryComponent>\r\n  ) {\r\n    this.i18n = this.commonService.geti18nInfo();\r\n    this.digitInfo = this.commonService.getDigitsInfo()\r\n    this.locale = this.commonService.getLocale()\r\n    this.currencySymbol = this.commonService.getCurrencySymbol()\r\n  }\r\n  i18n: i18nInfo;\r\n  digitInfo = ''\r\n  locale = '';\r\n  currencySymbol = '';\r\n\r\n  /**  \r\n    Order by \r\n  */\r\n  valueAscOrder(a: KeyValue<string, string>, b: KeyValue<string, string>): number{\r\n    const sortOrder = { 'part': '1', 'labour': '2', 'paint': '3' }\r\n    return sortOrder[a.key?.toLowerCase()].localeCompare(sortOrder[b.key?.toLowerCase()]);\r\n  }\r\n\r\n  /**\r\n    @returns {void} function to close Summary popup\r\n  */\r\n  onClose(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","<section class=\"invoice-wrapper\">\r\n  <div class=\"summary-container\">\r\n    <div class=\"invoice-title\">\r\n      <h3>{{'invoices_summary' | translate}}</h3>\r\n      <div class=\"close-icon\">\r\n        <mat-icon [svgIcon]=\"'cross'\" class=\"cross\" (click)=\"onClose();\"></mat-icon>\r\n      </div>\r\n    </div>\r\n    <div class=\"invoice-detail\">\r\n      <!-- ********Work Provider Invoice******** -->\r\n      <div class=\"invoice-col\" [ngClass]=\"{'full-flex': summaryDialogData.summaryData?.length === 1 }\"\r\n        *ngFor=\"let data of summaryDialogData.summaryData; let i = index\">\r\n        <h5 *ngIf=\"data?.title\">{{data?.title | translate}}</h5>\r\n\r\n        <div class=\"invoices-table-container\" *ngIf=\"data?.title\">\r\n\r\n          <div class=\"table-parent\" *ngFor=\"let item of data.invoiceList | keyvalue: valueAscOrder; let i = index\">\r\n            <span class=\"expand-container\">\r\n              <h6 class=\"small-heading\">{{item.key.toString().toLowerCase() | translate}}</h6>\r\n            </span>\r\n            <ng-container>\r\n              <table width=\"100%\">\r\n                <thead>\r\n                  <tr>\r\n                    <td>{{ \"description\" | translate }}</td>\r\n                    <td>{{ \"price_unit\" | translate }}({{ currencySymbol }})</td>\r\n                    <td class=\"last-td\">{{ \"total_price\" | translate }}({{ currencySymbol }})</td>\r\n                  </tr>\r\n                </thead>\r\n                <tbody\r\n                  *ngFor=\"let row of data.invoiceList[item.key.toString()] | orderBy: 'serviceSubtype': 'asc' ;let i = index;\">\r\n                  <tr class=\"sub-heading\"\r\n                    *ngIf=\"item.key.toString() === 'Paint' && ( i === 0 || (i > 0 && row.serviceSubType !== data.invoiceList[item.key.toString()][i-1].serviceSubType))\">\r\n                    <td colspan=\"5\">\r\n                      <h6 class=\"small-heading\">{{ row?.serviceSubType === 'PaintLabour' ? 'Paint Labour': 'Paint\r\n                        Material'}}</h6>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>{{ row.description }}</td>\r\n                    <td>\r\n                      {{ row.cost | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}\r\n                    </td>\r\n                    <td class=\"last-td\">\r\n                      {{ row.total | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n\r\n              <div *ngIf=\"item.key.toString() === 'Part'\">\r\n                <!-- Invoice rows  -->\r\n                <div *ngIf=\"summaryDialogData.showParts\" class=\"invoice-row border-b\">\r\n                  <span>{{'subtotal' | translate}}</span> <span>{{data.partsSubTotal |\r\n                    xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n                </div>\r\n                <div *ngIf=\"summaryDialogData.showParts\" class=\"invoice-row border-b\">\r\n                  <span>{{'sundry_parts' | translate}}</span> <span>{{data.sundryParts |\r\n                    xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n                </div>\r\n                <div *ngIf=\"summaryDialogData.showParts\" class=\"invoice-row border-b\">\r\n                  <span>{{'total_before_discount' | translate}}</span> <span>{{data.partsTotalBeforeDiscount |\r\n                    xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n                </div>\r\n                <div *ngIf=\"summaryDialogData.showParts\" class=\"invoice-row\">\r\n                  <span>{{'discount_on_parts' | translate}}</span> <span>{{data.partsTotalDiscountPercentage }}%</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div *ngIf=\"item.key.toString() === 'Paint'\">\r\n                <div *ngIf=\"summaryDialogData.showPaint\" class=\"invoice-row border-b\">\r\n                  <span>{{'paint_labour_time' | translate}}</span> <span>{{data.paintLabourTimeHour}}hrs</span>\r\n                </div>\r\n                <div *ngIf=\"summaryDialogData.showPaint\" class=\"invoice-row border-b\">\r\n                  <span>{{'paint_labour_subtotal' | translate}}</span> <span> {{data.paintLabourSubTotal |\r\n                    xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n                </div>\r\n                <div *ngIf=\"summaryDialogData.showPaint\" class=\"invoice-row border-b\">\r\n                  <span>{{'paint_labour_discount' | translate}}</span>\r\n                  <span>{{data.paintLabourDiscountPercentage}}%</span>\r\n                </div>\r\n\r\n                <div *ngIf=\"summaryDialogData.showPaint\" class=\"total-invoice-row no-border total-border\">\r\n                  <span>{{'labour_total' | translate}}</span> <span> {{data.paintLabourTotal |\r\n                    xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n                </div>\r\n\r\n                <!-- Invoice rows  -->\r\n                <div *ngIf=\"summaryDialogData.showPaint\" class=\"invoice-row border-b\">\r\n                  <span>{{'material_subtotal' | translate}}</span> <span>{{data.paintMaterialSubTotal |\r\n                    xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n                </div>\r\n                <div *ngIf=\"summaryDialogData.showPaint\" class=\"invoice-row border-b\">\r\n                  <span>{{'material_discount' | translate}}</span> <span>{{data.paintMateriaDiscountPercentage}}%</span>\r\n                </div>\r\n\r\n                <!-- Labour Row -->\r\n                <div *ngIf=\"summaryDialogData.showPaint\" class=\"total-invoice-row no-border\">\r\n                  <span>{{'material_total' | translate}}</span> <span>{{data.paintMaterialTotal |\r\n                    xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div *ngIf=\"item.key.toString() === 'Labour'\">\r\n                <!-- Invoice rows  -->\r\n                <div *ngIf=\"summaryDialogData.showLabour\" class=\"invoice-row border-b\">\r\n                  <span>{{'labour_amount_subtotal' | translate}}</span> <span> {{data.labourHourSubTotal |\r\n                    xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n                </div>\r\n                <div *ngIf=\"summaryDialogData.showLabour\" class=\"invoice-row border-b\">\r\n                  <span>{{'labour_hours' | translate}}</span> <span>{{data.labourTimeHours}} hrs</span>\r\n                </div>\r\n                <div *ngIf=\"summaryDialogData.showLabour\" class=\"invoice-row border-b\">\r\n                  <span>{{'labour_discount' | translate}}</span> <span>{{data.labourTotalDiscountPercentage | number :\r\n                    digitInfo : locale }}%</span>\r\n                </div>\r\n              </div>\r\n              <table width=\"100%\">\r\n                <tfoot>\r\n                  <tr>\r\n                    <td>{{ (item.key.toString() === 'Paint'? 'total_paint_cost': ( item.key.toString() === \"Labour\" ?\r\n                      \"total_labour_cost\" : \"total_parts_cost\")) | translate }}</td>\r\n                    <td align=\"right\">\r\n                      {{ (item.key.toString() === 'Paint'? (( data.paintLabourTotal + data.paintMaterialTotal)) : (\r\n                      item.key.toString() === \"Labour\" ? data.labourTotal : data.partsTotal)) |\r\n                      xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}\r\n                    </td>\r\n                  </tr>\r\n                </tfoot>\r\n              </table>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"total-box\">\r\n            <span>{{'total_cost' | translate}}</span> <span>{{data.paintLabourTotal + data.paintMaterialTotal +\r\n              data.labourTotal + data.partsTotal |\r\n              xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport * as dayjs from 'dayjs';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\n\r\n@Component({\r\n  selector: 'app-schedule-pickup-date-popup',\r\n  templateUrl: './schedule-pickup-date-popup.component.html',\r\n  styleUrls: [ './schedule-pickup-date-popup.component.scss' ]\r\n})\r\nexport class SchedulePickupDatePopupComponent implements OnInit {\r\n\r\n  public InputModelDateTime = {\r\n    placeHolder: 'pickup_date',\r\n    label: 'pick_up_date_time',\r\n    name: '',\r\n    type: 'datetime',\r\n    maxDate: dayjs().add(6, 'month').toDate(),\r\n    minDate: dayjs().subtract(1, 'minute').toDate(),\r\n    value: null,\r\n    error: false,\r\n    errorMessage: '',\r\n  }\r\n\r\n  public confirmButton: ChqWidgetsButtonModel = {\r\n    label: 'save',\r\n    type: 'disabled',\r\n    onclick: this.continue.bind(this)\r\n  }\r\n\r\n  public PickUpDate = null;\r\n\r\n  /**\r\n   * constructor\r\n   * @param dialogRef \r\n   * @param data \r\n   * @param changeDedectionRef \r\n   */\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<SchedulePickupDatePopupComponent>,\r\n    private monitorService:MonitorService,\r\n    private commonService:CommonService\r\n\r\n  ) {}\r\n\r\n  /**\r\n   * ngOnInit\r\n   */\r\n  ngOnInit(): void {\r\n    this.monitorService.logEvent('ngOnInit', [ 'SchedulePickupDatePopupComponent', 'addenda-repair' ]);\r\n    if(this.data.pickupDate !== null){\r\n      this.PickUpDate = this.data.pickupDate;\r\n      if(this.data.pickupDate.indexOf('Z') === -1){\r\n        this.PickUpDate = this.PickUpDate + 'Z';\r\n      }\r\n      \r\n      if(this.data.callSource === 'schedule') {\r\n        if(new Date(this.PickUpDate) > new Date()){         \r\n          this.confirmButton = { ...this.confirmButton, type: 'primary' };\r\n        }\r\n      } else {\r\n        if(new Date(this.PickUpDate) < new Date()){\r\n          this.confirmButton = { ...this.confirmButton, type: 'primary' };\r\n        }\r\n      }\r\n      \r\n    }\r\n    if(this.data.callSource === 'pickedUp') {\r\n      \r\n      this.InputModelDateTime.maxDate = dayjs().add(1, 'minute').toDate();\r\n      this.InputModelDateTime.minDate = dayjs().subtract(6, 'month').toDate();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * close\r\n   */\r\n  close():void{\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  /**\r\n   * continue\r\n   * \r\n   */\r\n  continue(): void {\r\n    this.monitorService.logEvent('continue', [ 'SchedulePickupDatePopupComponent', 'addenda-repair' ]);\r\n    this.dialogRef.close({ 'PickUpDate': this.PickUpDate });\r\n  }\r\n\r\n  /**\r\n   * updateInput\r\n   * \r\n   */\r\n  updateInput({ value }): void {\r\n    this.InputModelDateTime.error=false;\r\n    if(this.data.callSource === 'pickedUp'){\r\n      if(new Date(value) > new Date()){\r\n        if(dayjs(new Date(value)).format('YYYY-MM-DD hh:mm') == dayjs().format('YYYY-MM-DD hh:mm')){\r\n          this.InputModelDateTime.error=false;\r\n          this.PickUpDate = new Date(value.toString());\r\n          this.confirmButton = { ...this.confirmButton, type: 'primary' };\r\n          return;\r\n        }\r\n        this.InputModelDateTime.error=true;\r\n        this.InputModelDateTime.errorMessage='pick_up_date_cannot_set_as_future_date';\r\n        this.confirmButton = { ...this.confirmButton, type: 'disabled' };\r\n        return;\r\n      }\r\n    } else{\r\n      if(new Date(value) < new Date()){\r\n        if(dayjs(new Date(value)).format('YYYY-MM-DD hh:mm') == dayjs().format('YYYY-MM-DD hh:mm')){\r\n          this.InputModelDateTime.error=false;\r\n          this.PickUpDate = new Date(value.toString());\r\n          this.confirmButton = { ...this.confirmButton, type: 'primary' };\r\n          return;\r\n        }\r\n        this.InputModelDateTime.error=true;\r\n        this.InputModelDateTime.errorMessage='Pick_up_date_cannot_set_as_past_date';\r\n        this.confirmButton = { ...this.confirmButton, type: 'disabled' };\r\n        return;\r\n      }\r\n    }\r\n    this.PickUpDate = new Date(value.toString());\r\n    this.confirmButton = { ...this.confirmButton, type: 'primary' };\r\n  }\r\n\r\n}\r\n","<div class=\"message-container\">\r\n    <div class=\"header\">\r\n        <span class=\"header-text\">{{(data.callSource ==='pickedUp'?'picked_up_date_and_time':'schedule_pick_up') | translate}}</span>\r\n        <div class=\"close-icon\">\r\n            <mat-icon [svgIcon]=\"'cross'\" (click)=\"close();\"></mat-icon>\r\n        </div>\r\n    </div>\r\n    <div class=\"content\">\r\n        <label class=\"input-label uppercase text-muted\">{{ InputModelDateTime.label | translate }}</label>\r\n        <dx-date-box [value]=\"PickUpDate\" [acceptCustomValue]=\"false\"\r\n        type=\"datetime\" [invalidDateMessage]=\"''\" [max]=\"InputModelDateTime.maxDate\"\r\n        [min]=\"InputModelDateTime.minDate\" [validationError]=\"false\" [validationMessageMode]=\"'none'\"\r\n        (onValueChanged)=\"updateInput($event)\"\r\n      >\r\n      </dx-date-box>\r\n      <span *ngIf=\"InputModelDateTime.error\" class=\"pickupDate-error input-label text-muted\">{{InputModelDateTime.errorMessage | translate}}</span>\r\n    </div>\r\n    <div class=\"footer form-data-footer\">\r\n        <chq-button [buttonModel]=\"confirmButton\" class=\"right\"></chq-button>\r\n    </div>\r\n</div>","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { ValidatorFn, Validators, ValidationErrors } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport * as dayjs from 'dayjs';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { validateEmails } from 'src/app/modules/quote/chq-new-cases/chq-new-customer/chq-new-customer-form-data-helper';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { InvoiceService } from 'src/app/services/invoice/invoice.service';\r\nimport { MessagesService } from 'src/app/services/message/message.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\n\r\n\r\nexport interface EmailRequest{\r\n  subject:string;\r\n  email:string[];\r\n  message:string;\r\n  type?:string;\r\n  objectId?:string;\r\n  files?:any,\r\n  domainId?:any\r\n}\r\n\r\nexport interface EmailRequestBody{\r\n  subject:string;\r\n  toEmails:string[];\r\n  messageContent:string;\r\n  communicationTypeIds?:number[];\r\n  templateKey?:string;\r\n  invoiceType:number;\r\n  attachments?:any\r\n}\r\n\r\n@Component({\r\n  selector: 'app-send-invoice',\r\n  templateUrl: './send-invoice.component.html',\r\n  styleUrls: [ './send-invoice.component.scss' ]\r\n})\r\nexport class SendInvoiceComponent implements OnInit {\r\n\r\n  public sendButton: ChqWidgetsButtonModel;\r\n  public showCC = false;\r\n  public fileName='Invoice';\r\n  private templateKey = '';\r\n  public emailRequest:EmailRequest = {\r\n    subject: '',\r\n    email: [],\r\n    message: '',\r\n  }\r\n\r\n  private repairDetails:any;\r\n  public templateSubject:any;\r\n  public templateBody:any;\r\n  private blobUrl:string;\r\n\r\n\r\n  public emailForm = {\r\n    email: {\r\n      label: 'email_address',\r\n      name: 'email',\r\n      placeHolder: 'email_address',\r\n      value: '',\r\n      type: 'text',\r\n      validation: {\r\n        name: 'email',\r\n        validationFunction: ():ValidatorFn => {\r\n          return Validators.compose([ Validators.required,\r\n            validateEmails('^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,4}$') ])\r\n        },\r\n        validationMessage: (error: ValidationErrors):string => {\r\n          if (error['required']) {\r\n            return 'email_required'\r\n          }\r\n\r\n          if(error['invalidEmailNumber']){\r\n            return 'email_invalid_number';\r\n          }\r\n\r\n          if (error['invalidEmail']) {\r\n            return 'email_valid'\r\n          }\r\n          return '';\r\n        }\r\n      }\r\n    },\r\n    cc: {\r\n      label: 'CC',\r\n      name: 'cc',\r\n      placeHolder: 'CC',\r\n      value: '',\r\n      type: 'text',\r\n      validation: {\r\n        name: 'email',\r\n        validationFunction: ():ValidatorFn => {\r\n          return Validators.compose([ Validators.required, validateEmails('^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,4}$') ])\r\n        },\r\n        validationMessage: (error: ValidationErrors):string => {\r\n          if (error['required']) {\r\n            return 'email_required'\r\n          }\r\n\r\n          if(error['invalidEmailNumber']){\r\n            return 'email_invalid_number';\r\n          }\r\n\r\n          if (error['invalidEmail']) {\r\n            return 'email_valid'\r\n          }\r\n\r\n          if (error['pattern'] || error['email']) {\r\n            return 'email_valid'\r\n          }\r\n          return '';\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * constructor\r\n   * @param dialogRef\r\n   * @param data\r\n   */\r\n  constructor(public dialogRef: MatDialogRef<SendInvoiceComponent>,\r\n      private monitorService:MonitorService,\r\n      private messagingService:MessagesService,\r\n      private commonService: CommonService,\r\n      private invoiceService: InvoiceService,\r\n      private sanitizer: DomSanitizer,\r\n      @Inject(MAT_DIALOG_DATA) public data: any) {\r\n  }\r\n\r\n  /**\r\n   * download pdf\r\n   */\r\n  downloadPDF(repairId: string):void{\r\n    const invoiceGUID = this.data.invoiceId;\r\n    let reportParam: object;\r\n    if(this.data.dueDate) {\r\n      reportParam = { \r\n        'parameters': [\r\n          {\r\n            'name': 'dueDate',\r\n            'value': dayjs(this.data.dueDate).format('YYYY-MM-DD')\r\n          }\r\n        ]\r\n      }\r\n    } else {\r\n      reportParam = { \r\n        'parameters': []\r\n      }\r\n    }\r\n    this.invoiceService.invoicePDF(repairId, invoiceGUID, reportParam).subscribe({\r\n      next: (resp) =>{\r\n        if(resp){\r\n          this.blobUrl = resp?.data?.url;\r\n          const fileName = this.blobUrl.substring(this.blobUrl.lastIndexOf('/') + 1, this.blobUrl.length);\r\n          const fileSplited = fileName?.split('?')[0];\r\n          this.fileName = fileSplited;\r\n        }\r\n        this.commonService.hideLoading();\r\n      }, error: () =>{\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * on data update\r\n   */\r\n  onFormUpdate($event):void{\r\n    if($event.isValid){\r\n      this.emailRequest[$event.name] = $event.name === 'email'? ($event.value?.split(',') || []) : $event.value;\r\n\r\n      if(this.emailRequest.email && this.emailRequest.email.length > 0){\r\n        this.sendButton = { ...this.sendButton, type: 'primary' };\r\n      }else{\r\n        this.sendButton = { ...this.sendButton, type: 'disabled' };\r\n      }  \r\n      return;\r\n    }else{\r\n      this.sendButton = { ...this.sendButton, type: 'disabled' };\r\n      this.emailRequest[$event.name] = false;\r\n      return;\r\n    }\r\n    \r\n  }\r\n\r\n  /**\r\n   * handle close\r\n   */\r\n  cancel():void{\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  /**\r\n   * handle send\r\n   */\r\n  send():void{\r\n    // Send logic\r\n    const emailRequestBody:EmailRequestBody = {\r\n      toEmails: this.emailRequest.email,\r\n      communicationTypeIds: [ 2 ],\r\n      templateKey: this.templateKey,\r\n      invoiceType: this.data.isWorkProvider ? 1: 2,\r\n      subject: btoa(this.templateSubject.changingThisBreaksApplicationSecurity),\r\n      messageContent: btoa(this.templateBody.changingThisBreaksApplicationSecurity),\r\n      attachments: [ {\r\n        'name': this.fileName,\r\n        'blobUrl': this.blobUrl\r\n      } ]\r\n    };\r\n    this.commonService.showLoading();\r\n    this.messagingService.setMessage(emailRequestBody, this.data.repairId).subscribe({\r\n      next: (resp)=>{\r\n        this.commonService.showInfoToast(1000, 'email_sent');\r\n        this.commonService.hideLoading();\r\n        this.dialogRef.close();\r\n      },\r\n      error: ()=>{\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * replace tags\r\n   */\r\n  tagsReplacers(value:string):SafeHtml{\r\n    if(value){\r\n      return this.sanitizer.bypassSecurityTrustHtml(value.replace(/{{firstName}}/i, (this.data.isWorkProvider ? this.data.workProviderValue: this.data.customerValue) || '')\r\n        .replace(/{{lastName}}/i, '')\r\n        .replace(/{{make}}/i, this.repairDetails.vehicle.vehicleMake)\r\n        .replace(/{{model}}/i, this.repairDetails.vehicle.vehicleModel)\r\n        .replace('{{licensenumber}}', this.repairDetails.vehicle.licensePlateNumber)\r\n        .replace('{{pickupdate}}', '')\r\n        .replace('{RepairId}', this.repairDetails.repairNumber)\r\n        .replace('{{License Plate}}', this.repairDetails.vehicle.licensePlateNumber)\r\n        .replace('{{orgname}} Team.', `<div style='margin-top:-12px;'>${this.repairDetails.organizationDetail?.nameOfOrganization || '--'} Team.</div>`)\r\n        .replace('{{orgcontactnumber}}', this.repairDetails.organizationDetail?.phoneNumber || '--')\r\n      )\r\n    }\r\n    return '';\r\n  }\r\n\r\n  /**\r\n   * ng on init\r\n   */\r\n  ngOnInit(): void {\r\n    this.sendButton = {\r\n      label: 'send',\r\n      type: 'disabled',\r\n      icon: 'send',\r\n      onclick: this.send.bind(this)\r\n    }\r\n    this.commonService.showLoading();\r\n    this.messagingService.getMessageTemplate(this.data.repairId, this.data.domainId, 3).subscribe({\r\n      next: (resp)=>{\r\n        if(resp){\r\n          if(resp[0]?.data){\r\n            this.repairDetails = resp[0].data;\r\n            const email = this.repairDetails.organizationDetail?.partnerships ? this.repairDetails.organizationDetail?.partnerships[0]?.email:'';\r\n            let retailEmail = '';\r\n            if (!this.data.isWorkProvider) {\r\n              retailEmail = this.repairDetails.customer?.email;\r\n            }\r\n            \r\n            this.data.isWorkProvider ? this.emailRequest.email = [ email ] : this.emailRequest.email = [ retailEmail ] ;\r\n            this.emailForm.email = { ...this.emailForm.email, value: this.emailRequest.email[0] };\r\n            this.downloadPDF(this.data.repairId);\r\n            if(resp[1]?.data){\r\n              const emailData = resp[1]?.data;\r\n              this.templateSubject = emailData.subject;\r\n              this.templateBody = emailData.body;\r\n              this.templateKey = resp[1].data.templateKey;\r\n              this.templateBody = this.tagsReplacers(this.templateBody);\r\n              this.templateSubject = this.tagsReplacers(this.templateSubject);\r\n            }\r\n          }\r\n          \r\n        }\r\n      }\r\n    })\r\n\r\n    if(this.emailRequest.email && this.emailRequest.email.length > 0){\r\n      this.sendButton = { ...this.sendButton, type: 'primary' };\r\n    }else{\r\n      this.sendButton = { ...this.sendButton, type: 'disabled' };\r\n    }\r\n\r\n  }\r\n}\r\n","<div class=\"dialog-container\">\r\n  <div class=\"header\">\r\n    <h3>{{ \"send_email\" | translate }}</h3>\r\n    <div class=\"close-icon\">\r\n      <mat-icon [svgIcon]=\"'cross'\" (click)=\"cancel()\"></mat-icon>\r\n    </div>\r\n  </div>\r\n  <div mat-dialog-content class=\"email-dialog-body\">\r\n    <div class=\"form-container\">\r\n      <div class=\"input-wrapper\">\r\n        <div class=\"div-wrapper\">\r\n          <chq-input\r\n            [ngClass]=\"{'cc-email': !showCC}\"\r\n            [inputModel]=\"emailForm.email\"\r\n            (controlOutput)=\"onFormUpdate($event)\"\r\n          >\r\n          </chq-input>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"subject-wrapper content-wrapper\">\r\n        <label>{{ \"subject\" | translate }}</label>\r\n        <div class=\"status\" [innerHtml]=\"templateSubject\">\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"message-wrapper content-wrapper\">\r\n        <label>{{ \"message\" | translate }}</label>\r\n        <div class=\"message-container\" [innerHtml]=\"templateBody\">\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"attachment-wrapper content-wrapper\">\r\n        <label>{{ \"attachments\" | translate }}</label>\r\n        <div class=\"attachment-container\">\r\n          <div class=\"attachment-item\">\r\n            <div>{{fileName}}</div>\r\n            <img src=\"../../../assets/img/pdf.png\" alt=\"\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"btn-container\">\r\n    <chq-button [buttonModel]=\"sendButton\" class=\"right\"></chq-button>\r\n  </div>\r\n</div>\r\n","import { AbstractControl, ValidationErrors, ValidatorFn, Validators } from '@angular/forms';\r\nimport { AddVehicleForm } from 'src/app/model/chq-new-case-form.model';\r\nimport { CustomValidationResult } from 'src/app/model/chq-validation-model';\r\nimport { ChqWidgetsHeaderModel } from 'src/app/model/chq-widgets-header-model';\r\n\r\nexport const newVehicleForm = (): AddVehicleForm => {\r\n  const model = {\r\n    vin: {\r\n      placeHolder: 'Search VIN',\r\n      name: 'vin',\r\n      label: 'Vin Number',\r\n      type: 'text',\r\n      value: 0,\r\n      icon: 'search',\r\n      maxLength: 17,\r\n      validation: {\r\n        name: 'vin',\r\n        validationFunction: (): ValidatorFn => {\r\n          return Validators.compose([ Validators.minLength(17), Validators.pattern('^[a-hA-Hj-nJ-NpPr-zR-Z0-9]+$') ])\r\n        },\r\n        validationMessage: (error: ValidationErrors): string => {\r\n          if (error['pattern']) {\r\n            return 'Invalid characters'\r\n          }\r\n          if (error['minlength']) {\r\n            return 'Vin should have 17 characters'\r\n          }\r\n          return '';\r\n        }\r\n      }\r\n    },\r\n    make: {\r\n      placeHolder: 'Make',\r\n      name: 'make',\r\n      label: 'Make',\r\n      options: [ {} ],\r\n      displayValue: 'name',\r\n      fieldValue: 'name',\r\n      type: 'select',\r\n      value: 0,\r\n      validation: {\r\n        name: 'make',\r\n        validationFunction: (): ValidatorFn => {\r\n          return Validators.compose([ Validators.required ])\r\n        },\r\n        validationMessage: (error: ValidationErrors): string => {\r\n          if (error['required']) {\r\n            return 'Please select make'\r\n          }\r\n          return '';\r\n        }\r\n      },\r\n    },\r\n    model: {\r\n      placeHolder: 'Model',\r\n      name: 'model',\r\n      label: 'Model',\r\n      options: [ {} ],\r\n      displayValue: 'modelDescription',\r\n      fieldValue: 'modelDescription',\r\n      type: 'select',\r\n      value: 0,\r\n      validation: {\r\n        name: 'model',\r\n        validationFunction: (): ValidatorFn => {\r\n          return Validators.compose([ Validators.required ])\r\n        },\r\n        validationMessage: (error: ValidationErrors): string => {\r\n          if (error['required']) {\r\n            return 'Please select model'\r\n          }\r\n          return '';\r\n        }\r\n      }\r\n    },\r\n    year: {\r\n      placeHolder: 'Import Interval',\r\n      label: 'Import Interval',\r\n      name: 'year',\r\n      //selectedOption: '',\r\n      options: [ {} ],\r\n      displayValue: 'name',\r\n      fieldValue: 'name',\r\n      type: 'select',\r\n      value: 0,\r\n      validation: {\r\n        name: 'year',\r\n        validationFunction: (): ValidatorFn => {\r\n          return Validators.compose([ Validators.required ])\r\n        },\r\n        validationMessage: (error: ValidationErrors): string => {\r\n          if (error['required']) {\r\n            return 'Please select year'\r\n          }\r\n          return '';\r\n        }\r\n      }\r\n    },\r\n    licensePlate: {\r\n      placeHolder: 'License Plate',\r\n      label: 'License Plate',\r\n      name: 'licensePlate',\r\n      value: 0,\r\n      type: 'text',\r\n      maxLength: 12,\r\n      validation: {\r\n        name: 'licensePlate',\r\n        validationFunction: (): ValidatorFn => {\r\n          return Validators.compose([ Validators.required, Validators.maxLength(12), Validators.pattern('^[a-zA-Z0-9]*$'), licensePlateValidator() ])\r\n        },\r\n        validationMessage: (error: ValidationErrors): string => {\r\n          if (error['required']) {\r\n            return 'Please enter license plate'\r\n          }\r\n          if (error['maxlength']) {\r\n            return 'License plate should have not more than 12 characters'\r\n          }\r\n          if (error['pattern']) {\r\n            return 'Only alphanumberic characters are allowed'\r\n          }\r\n          if (error['invalidLicensePlate']) {\r\n            return 'License plate should not be 0'\r\n          }\r\n          return '';\r\n        }\r\n      }\r\n    },\r\n    carMilege: {\r\n      placeHolder: 'Car Mileage',\r\n      label: 'Car Mileage',\r\n      name: 'carMilege',\r\n      value: 0,\r\n      type: 'text',\r\n      maxLength: 7,\r\n      validation: {\r\n        name: 'carMilege',\r\n        validationFunction: (): ValidatorFn => {\r\n          return Validators.compose([ Validators.required, Validators.maxLength(7), Validators.pattern('^[0-9]*$') ])\r\n        },\r\n        validationMessage: (error: ValidationErrors): string => {\r\n          if (error['required']) {\r\n            return 'Please enter car mileage'\r\n          }\r\n          if (error['maxlength']) {\r\n            return 'Car mileage should have not more than 7 characters'\r\n          }\r\n          if (error['pattern']) {\r\n            return 'Only numeric characters are allowed'\r\n          }\r\n          if (error['invalidCarMileage']) {\r\n            return 'Car mileage should be greater than 0'\r\n          }\r\n          return '';\r\n        }\r\n      }\r\n    },\r\n    registrationDate: {\r\n      placeHolder: 'Registration date',\r\n      label: 'Registration date',\r\n      name: 'registrationDate',\r\n      value: '',\r\n      type: 'date',\r\n      maxDate: new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() - 1),\r\n      minDate: new Date('1980-01-01'),\r\n      validation: {\r\n        name: 'registrationDate',\r\n        validationFunction: (): ValidatorFn => {\r\n          return Validators.compose([ Validators.required ])\r\n        },\r\n        validationMessage: (error: ValidationErrors): string => {\r\n          if (error['required']) {\r\n            return 'Please enter date'\r\n          }\r\n          return '';\r\n        }\r\n      }\r\n    },\r\n    manufacturingDate: {\r\n      placeHolder: 'Manufacturing  date',\r\n      label: 'Manufacturing  date',\r\n      name: 'manufacturingDate',\r\n      value: '',\r\n      type: 'date',\r\n      maxDate: new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() - 1),\r\n      minDate: new Date('1980-01-01'),\r\n      validation: {\r\n        name: 'manufacturingDate',\r\n        validationFunction: (): ValidatorFn => {\r\n          return Validators.compose([ Validators.required ])\r\n        },\r\n        validationMessage: (error: ValidationErrors): string => {\r\n          if (error['required']) {\r\n            return 'Please enter date'\r\n          }\r\n          return '';\r\n        }\r\n      }\r\n    },\r\n  }\r\n  return model;\r\n};\r\n\r\nexport const newVehicleHeader: ChqWidgetsHeaderModel = {\r\n  title: 'Add vehicle',\r\n  step: 2,\r\n  description: 'Add your customers vehicle below',\r\n  stepName: 'Step Two',\r\n};\r\n\r\n/**\r\n *\r\n * @returns\r\n */\r\nexport function carMileageValidator(): ValidatorFn {\r\n  const result: CustomValidationResult = { 'invalidCarMileage': false };\r\n  return (control: AbstractControl): ValidationErrors | null => {\r\n    if (control.value && control.value < 1) {\r\n      result['invalidCarMileage'] = true;\r\n      return result;\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * License plate Validator\r\n * @returns\r\n */\r\nexport function licensePlateValidator(): ValidatorFn {\r\n  const result: CustomValidationResult = { 'invalidLicensePlate': false };\r\n  return (control: AbstractControl): ValidationErrors | null => {\r\n    if (control.value === '0') {\r\n      result['invalidLicensePlate'] = true;\r\n      return result;\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","import { Observable } from 'rxjs';\r\nimport { ValidationModel } from './chq-validation-model';\r\nimport { FormControl } from '@angular/forms';\r\n\r\nexport interface IControlValue {\r\n  name: string;\r\n  value: any;\r\n  keyFieldValue?: any;\r\n  type?: string,\r\n  validationMessage?: string,\r\n  isValid?: boolean\r\n}\r\n\r\nexport interface ChqWidgetsInputModel<T = any> {\r\n  placeHolder: string;\r\n  label: string;\r\n  value: any;\r\n  type: string;\r\n  options?: any[];\r\n  displayValue?: string;\r\n  fieldValue?: string;\r\n  selectedOption?: any;\r\n  idField?: any;\r\n  mode?: string;\r\n  isMultiSelect?: boolean,\r\n  showSelectedOption?: boolean,\r\n  name: string;\r\n  observable?: Observable<T>,\r\n  validation?: ValidationModel,\r\n  icon?: string;\r\n  preIcon?: string;\r\n  iconColor?: string;\r\n  maxLength?: number;\r\n  minDate?: Date;\r\n  maxDate?: Date;\r\n  setUntouched?: boolean;\r\n  showImageFlag?: boolean;\r\n  errorWhenEmpty?: boolean;\r\n  required?: boolean;\r\n  customMessage?: string;\r\n  onObservableLoad?: (item: any) => void;\r\n  formControl?: FormControl,\r\n  onIconClick?:(val:any)=>void;\r\n  disabled?: boolean,\r\n  textModeIcon?: string\r\n  suffix?: string\r\n  interval?: number,\r\n  hideLabel?:boolean,\r\n  pattern?: RegExp;\r\n  cssClass?: string;\r\n  rows?: number;\r\n  readonly?: boolean;\r\n  hintIcon?: string;\r\n  hintText?: string;\r\n  prependText?: string;\r\n}\r\n\r\nexport enum RepairJobTimerStatus\r\n{\r\n    Start = 'Start',\r\n    Pause = 'Pause',\r\n    Stop = 'Stop'\r\n}\r\n\r\nexport enum RepairTaskStatus\r\n{\r\n    NotStarted = 'NotStarted',\r\n    Completed = 'Completed'\r\n}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BehaviorSubject, Subscription, firstValueFrom } from 'rxjs';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\nimport { RepairEstimateService } from 'src/app/services/repair-estimate/repair-estimate.service';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { RepairEstimateOperationComponent } from 'src/app/dialogs/repair-estimate-operation/repair-estimate-operation.component'\r\nimport { RepairEstimateOperationService } from 'src/app/services/repair-estimate-operation/repair-estimate-operation.service';\r\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\r\nimport { GtMotiveEstimationDialogComponent } from 'src/app/dialogs/gt-motive-estimation-dialog/gt-motive-estimation-dialog.component';\r\nimport { Modules } from 'src/app/model/chq-upload-model';\r\nimport { RequestApprovalDialogComponent } from 'src/app/dialogs/request-approval-dialog/request-approval-dialog.component';\r\nimport { MessagesService } from 'src/app/services/message/message.service';\r\nimport { ChqWidgetsDropdownModel } from 'src/app/model/chq-widgets-dropdown-model';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { CalendarService } from 'src/app/services/calendar/calendar.service';\r\nimport { EstimateApprovalComponent } from 'src/app/dialogs/estimate-approval/estimate-approval.component';\r\nimport { NotifyService } from 'src/app/services/notify/notify.service';\r\n\r\nimport { MediaCollectionService } from 'src/app/services/media-collection/media-collection.service';\r\nimport { InspectionService } from 'src/app/services/inspection/inspection.service';\r\nimport { RepairTemplateKey } from 'src/app/config/constants/app.constants';\r\n\r\n\r\n@Component({\r\n  selector: 'estimate',\r\n  templateUrl: './estimate.component.html',\r\n  styleUrls: [ './estimate.component.scss' ]\r\n})\r\n\r\nexport class EstimateComponent implements OnInit, OnDestroy {\r\n  private subscription: Subscription;\r\n  public editEstimateModel: ChqWidgetsButtonModel = {\r\n    label: 'edit_estimate',\r\n    type: 'outline',\r\n    icon: 'edit'\r\n  };\r\n\r\n  public requestStatusModel: ChqWidgetsButtonModel = {\r\n    label: 'self_approval',\r\n    type: 'outline',\r\n    icon: 'clock-new'\r\n  };\r\n\r\n  public addOperationModel: ChqWidgetsButtonModel = {\r\n    label: 'add_operation',\r\n    type: 'outline',\r\n    icon: 'plus-active'\r\n  }\r\n\r\n  public bookInModel: ChqWidgetsButtonModel = {\r\n    label: 'book_in',\r\n    type: 'primary',\r\n    icon: ''\r\n  }\r\n\r\n  public saveEditedModel: ChqWidgetsButtonModel = {\r\n    label: 'done',\r\n    type: 'primary',\r\n    icon: ''\r\n  }\r\n\r\n  public cancelButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Cancel Booking',\r\n    type: 'outline-danger',\r\n    onclick: this.cancelBooking.bind(this)\r\n  }\r\n\r\n  public showData: boolean = false;\r\n  public editEstimate: boolean = false;\r\n  private domainId: number;\r\n  public estimateResponse: any;\r\n  public caseGuid: string = '';\r\n  public repairStatus: string = '';\r\n  public communications: number[] = [];\r\n  public inspectionId: number;\r\n  public vehicleId: number;\r\n  public showInSmallDevice: boolean;\r\n  private email: string = '';\r\n  public repairGuid: string = '';\r\n  public repairId: string = '';\r\n  public estimateSource: string = '';\r\n  public vehicleObj: any;\r\n  private repairNumber: string = '';\r\n  private claimNumber: string = '';\r\n  private organizationEmail: string = '';\r\n  private organizationPhone: string = '';\r\n  private organizationCountryCode: string = '';\r\n  private organizationName: string = '';\r\n  public defaultSelectedReport = '';\r\n  public dropdownModelFilter: ChqWidgetsDropdownModel = {\r\n    options: [\r\n    ],\r\n    placeHolder: this.translationService.instant('options'),\r\n    label: '',\r\n    appearance: 'button',\r\n    placeHolderIcon: 'settings',\r\n    name: 'option',\r\n    displayValue: 'label',\r\n    selectedOption: {}\r\n  };\r\n  i18n: i18nInfo;\r\n  communicationChannels = [\r\n    {},\r\n    { dropdownItemIcon: 'whatsapp', color: 'var(xa-white) !important;', label: this.translationService.instant('whatsapp') },\r\n    { dropdownItemIcon: 'email', color: 'var(xa-white) !important;', label: this.translationService.instant('email') },\r\n    { dropdownItemIcon: 'sms', color: 'var(xa-white) !important;', label: this.translationService.instant('sms') }\r\n  ]\r\n  public dropdownApprovalModelFilter: ChqWidgetsDropdownModel = {\r\n    options: [\r\n      { dropdownItemIcon: 'whatsapp', color: 'var(xa-white) !important;', label: this.translationService.instant('whatsapp') },\r\n      { dropdownItemIcon: 'email', color: 'var(xa-white) !important;', label: this.translationService.instant('email') },\r\n      { dropdownItemIcon: 'sms', color: 'var(xa-white) !important;', label: this.translationService.instant('sms') }\r\n    ],\r\n    placeHolder: 'request_approval',\r\n    label: '',\r\n    hideDropdownIcon: true,\r\n    appearance: 'button',\r\n    placeHolderIcon: 'send',\r\n    name: 'option',\r\n    displayValue: 'label',\r\n    selectedOption: {}\r\n  };\r\n\r\n  userPermission: any = {};\r\n  repairTypesArray: Array<string> = [];\r\n  afterOperation: boolean = false;\r\n  isRepairCreatedFromCase: boolean = false;\r\n\r\n  invoiceStatus: string = '';\r\n  collectionId:number;\r\n  mediaCollectionGuid:number;\r\n\r\n  //dropdownoptions\r\n  dropdownOptions = [];\r\n  showFooterBtn = true;\r\n  /**\r\n   * show delete\r\n   */\r\n  get showDelete(): boolean {\r\n    if (this.repairId && this.repairStatus?.toLowerCase() === 'draft') {\r\n      return true;\r\n    } else if (this.repairId && this.caseGuid && this.isRepairCreatedFromCase == true && this.repairStatus?.toLowerCase() == 'repairestimation') {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n    Constructor for the component.\r\n    @param {CommonService} commonService - The CommonService instance.\r\n    @param {RepairEstimateService} repairEstimateService - The RepairEstimateService instance.\r\n    @param {ActivatedRoute} route - The ActivatedRoute instance.\r\n    @param {MatDialog} dialog - The MatDialog instance.\r\n    @param {BookingService} bookingService - The BookingService instance.\r\n    @param {RepairEstimateOperationService} repairEstimateOperationService - The RepairEstimateOperationService instance.\r\n    @param {MonitorService} monitorService - The MonitorService instance.\r\n    @param {Router} router - The Router instance.\r\n  */\r\n  constructor(\r\n    public commonService: CommonService,\r\n    private repairEstimateService: RepairEstimateService,\r\n    private route: ActivatedRoute,\r\n    public dialog: MatDialog,\r\n    private bookingService: BookingService,\r\n    private translationService: TranslateService,\r\n    private repairEstimateOperationService: RepairEstimateOperationService,\r\n    private monitorService: MonitorService,\r\n    private messageService: MessagesService,\r\n    private calendarService: CalendarService,\r\n    private router: Router,\r\n    private mediaService:MediaCollectionService,\r\n    private inspectionService:InspectionService,\r\n    private notifyService: NotifyService,) {\r\n    if (this.commonService.accessRight.closed) {\r\n      this.commonService.accessRight = new BehaviorSubject<boolean>(true);\r\n    }\r\n\r\n    if (this.commonService.activeItem.closed) {\r\n      this.commonService.activeItem = new BehaviorSubject<string>('Booking');\r\n    } else {\r\n      this.commonService.activeItem.next('Booking');\r\n    }\r\n\r\n    this.commonService.userProfileData.subscribe((res) => {\r\n      if (res && res.data) {\r\n        const { userPermission, email } = res.data;\r\n        this.email = email;\r\n        this.userPermission = userPermission || {};\r\n      }\r\n    });\r\n    this.i18n = this.commonService.geti18nInfo();\r\n    this.route.parent?.params?.subscribe((data) => {\r\n      if (this.repairGuid != '' && this.repairGuid !== data['id'] && data['id'] !== '0') {\r\n        // Run all functions that are in ngOnInit so that it reflects all details of new repair\r\n        this.monitorService.logEvent('ngOnInit', [ 'EstimateComponent', 'addenda-repair' ]);\r\n        this.commonService.updatePage('/repair/customers/0', 'add-customer');\r\n        this.repairGuid = this.route.parent?.snapshot.paramMap.get('id');\r\n\r\n        this.getBookingRepairDetails();\r\n      }\r\n      setTimeout(()=>{\r\n        if(this.router.url.indexOf('parts')!==-1){\r\n          const element = document.querySelector('chq-tabs .active') as HTMLElement;\r\n          element.click();\r\n        }\r\n      }, 300);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * handleSelectedOption\r\n   */\r\n  handleSelectedOption($event: any): void {\r\n    this.showRequestApprovalDialog($event?.value?.label);\r\n  }\r\n  /**\r\n   * Get MediaTemplate\r\n   */\r\n  getMediaTemplate(): void {\r\n    this.mediaService.getMediaTemplate().subscribe((data)=> {\r\n      if(data?.data?.length > 0) {\r\n        const { id, collectionGuid } = data.data[0];\r\n        this.collectionId = id;\r\n        this.mediaCollectionGuid = collectionGuid;\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  /**\r\n   * go to gtEstimate\r\n   */\r\n  redirectToGtEstimate(): void {\r\n    this.commonService.showLoading();\r\n    this.monitorService.logEvent('redirectToGtEstimate', [ 'ChqRepairEstimateComponent', 'addenda-quote', {\r\n      caseId: this.caseGuid,\r\n      status\r\n    } ]);\r\n    if (this.route.snapshot.queryParams['send'] && this.route.snapshot.queryParams['send'] == 'true') {\r\n      this.router.navigate(\r\n        [],\r\n        {\r\n          relativeTo: this.route,\r\n          queryParams: { send: 'false' },\r\n          queryParamsHandling: 'merge'\r\n        });\r\n    }\r\n    this.repairEstimateService.createEstimateFromRepair(this.repairGuid).subscribe({\r\n      next: (resp: any) => {\r\n        if (resp) {\r\n          location.href = resp.data.url;\r\n          sessionStorage.setItem('update', '1');\r\n          sessionStorage.setItem('current-url', this.router.url.toString());\r\n          sessionStorage.setItem('initial-repair-types', JSON.stringify(this.repairTypesArray));\r\n        }\r\n      },\r\n      complete: () => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * show email dialog\r\n   *\r\n   */\r\n  async showRequestApprovalDialog(channel: string): Promise<any> {\r\n    this.commonService.showLoading();\r\n    const res = await firstValueFrom(this.inspectionService.getRepairCommunicationMedia(1, this.repairGuid, this.domainId, 4, this.collectionId, +this.repairId, this.inspectionId));\r\n    this.commonService.hideLoading();\r\n    const subjectText = `<strong class='text-black-medium'>Request approval: </strong> Repair ID: <strong class='text-black-medium'>${this.repairNumber}</strong> for <strong class='text-black-medium'>${this.vehicleObj.vehicleMake} </strong>\r\n    <strong class='text-black-medium'>${this.vehicleObj.vehicleModel}  </strong>\r\n    <strong class='text-black-medium'>${this.vehicleObj.licensePlateNumber}</strong>\r\n    ${this.claimNumber ? ` Claim Number: <strong class='text-black-medium'> / ${this.claimNumber} </strong>` : ''}`;\r\n    let title = 'send_message';\r\n    let emailSubject = '';\r\n    let body = '';\r\n\r\n    if(channel?.toLowerCase() === 'email') {\r\n      title = 'send_email';\r\n      emailSubject = subjectText;\r\n      body = res[1].data.body\r\n        .replace('{{firstname}} {{lastname}}', this.organizationName)\r\n        .replace('{{fullname}}', this.organizationName)\r\n        .replace('{{make}}', res[0].data.vehicle?.vehicleMake)\r\n        .replace('{{model}}', res[0].data.vehicle?.vehicleModel)\r\n        .replace('{{licensenumber}}', res[0].data.vehicle?.licensePlateNumber)\r\n        .replace('{{message}}', '')\r\n        .replace('{{orgname}}', res[0].data.organizationDetail?.nameOfOrganization)\r\n        .replace('{{orgcontactnumber}}', res[0].data.organizationDetail?.phoneNumber)\r\n        .replace('{{claimnumber}}', res[0].data.customer?.claimNumber)\r\n        .replace('{{zip-file-url}}', '<span class=\"email-body-download-link-color d-none\">Download Documents</span>');\r\n    }else if(channel?.toLowerCase() === 'whatsapp') {\r\n      body = res[1].data.whatsAppBody\r\n        .replace('{{firstname}} {{lastname}}', this.organizationName)\r\n        .replace('{{make}}', res[0].data.vehicle?.vehicleMake)\r\n        .replace('{{model}}', res[0].data.vehicle?.vehicleModel)\r\n        .replace('{{licensenumber}}', res[0].data.vehicle?.licensePlateNumber)\r\n        .replace('{{message}}', '')\r\n        .replace('{{orgname}}', res[0].data.organizationDetail?.nameOfOrganization)\r\n        .replace('{{orgcontactnumber}}', res[0].data.organizationDetail?.phoneNumber)\r\n        .replace('{{approvalurl}}', 'Approve/Reject');\r\n      if(res[0].data.customer?.claimNumber) {\r\n        body = body.replace('{{claimnumber}}', res[0].data.customer?.claimNumber);\r\n      } else {\r\n        body = body.replace('/{{claimnumber}}', '');\r\n      }\r\n    } else if(channel?.toLowerCase() === 'sms') {\r\n      body = res[1].data.smsBody\r\n        .replace('{{estimateurl}}', '')\r\n        .replace('{{approvalurl}}', '');\r\n    } else if(channel.toLocaleLowerCase().indexOf('send to insurance') !==-1) {\r\n      title = 'Send To Insurance Company';\r\n      channel = 'send_to_insurance_company'\r\n    }\r\n    const estimateReport = this.estimateResponse?.estimateDocumentTypes.map((el)=> {\r\n      return { key: el.key, value: el?.label ?? el.value }\r\n    })\r\n    const dialogRef = this.dialog.open(RequestApprovalDialogComponent, {\r\n      data: {\r\n        title: title,\r\n        email: this.organizationEmail,\r\n        emailSubject: emailSubject,\r\n        channel: channel?.toLowerCase(),\r\n        body: body,\r\n        code: this.organizationCountryCode,\r\n        phone: this.organizationPhone,\r\n        estimateDocumentTypes: estimateReport,\r\n        mediaData: res,\r\n        inspectionId: this.inspectionId,\r\n        mediaCollectionGuid: this.mediaCollectionGuid,\r\n        estimateType: this.estimateResponse?.externalSource,\r\n        repairGuid: this.repairGuid,\r\n        templateKey: RepairTemplateKey\r\n\r\n      },\r\n      backdropClass: 'confirmation-popup-backdrop',\r\n      maxHeight: '90vh',\r\n      minWidth: '629px',\r\n      width: channel?.toLowerCase() === 'email' ?'53.9375rem':'629px',\r\n      autoFocus: false\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe({\r\n      next: (response: any) => {\r\n        if(response) {\r\n          this.commonService.showLoading();\r\n          this.messageService.sendApprovalMessage(response, this.repairGuid).subscribe({\r\n            next: () => {\r\n              const emailMessage = this.translationService.instant('request_approval_msg');\r\n              this.commonService.showInfoToast(1000, emailMessage);\r\n              this.commonService.hideLoading();\r\n              this.getBookingRepairDetails();\r\n            },\r\n            error: () => {\r\n              this.commonService.hideLoading();\r\n            }\r\n          })\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * valid statuses\r\n   */\r\n  get isValidCurrentStatus(): boolean {\r\n    return [ 'readytoinvoice' ].includes(this.repairStatus.toLowerCase());\r\n  }\r\n\r\n  /**\r\n   * show confirmation popup to navigate to gt estimate if all the estimate charges are 0\r\n   */\r\n  showConfirmationPopup(): void {\r\n    const dialogRef = this.dialog.open(GtMotiveEstimationDialogComponent, {\r\n      disableClose: true,\r\n      data: {\r\n        message: 'msg_estimate_zero'\r\n      },\r\n      backdropClass: 'confirmation-popup-backdrop',\r\n      autoFocus: false\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe({\r\n      next: (response: any) => {\r\n        console.log(response);\r\n        if (response) {\r\n          this.redirectToGtEstimate();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * get manual estimate\r\n   */\r\n  getManualEstimationDetail(message?: string): void {\r\n    if (this.vehicleId && this.inspectionId) {\r\n      this.monitorService.logEvent('getManualEstimationDetail', [ 'EstimateComponent', 'addenda-repair' ], {\r\n        repairGuid: this.repairGuid,\r\n        inspectionId: this.inspectionId,\r\n        vehicleId: this.vehicleId\r\n      });\r\n      this.repairEstimateService.getRepairEstimate(this.repairGuid, this.inspectionId, this.vehicleId).subscribe({\r\n        next: (response) => {\r\n          this.showData = true;\r\n          this.estimateResponse = response || {};\r\n          this.dropdownOptions = response?.estimateDocumentTypes;\r\n          if(this.dropdownOptions && this.dropdownOptions.length > 0){\r\n            this.dropdownOptions.forEach((opt)=>{\r\n              const keyValue = opt.key;\r\n              opt.label = opt.value;\r\n              opt.value = keyValue;\r\n              opt.icon = {\r\n                name: 'document-search',\r\n                type: 'svg'\r\n              }\r\n            });\r\n            this.defaultSelectedReport = this.dropdownOptions[0].value;\r\n          }\r\n\r\n          this.i18n = this.commonService.geti18nInfo();\r\n          //this.estimateResponse.currencyCode = this.i18n.currencySymbol;\r\n          // this.estimateResponse.currencyCode = this.estimateResponse?.currencyCode || this.i18n.currencySymbol;\r\n          // this.estimateSource = this.estimateResponse?.source || ''\r\n          this.commonService.isRefreshRepairEstimateDetails.next(null)\r\n          this.editEstimate = false\r\n          this.commonService.hideLoading();\r\n          this.toggleOptions()\r\n          if (message) this.commonService.showInfoToast(5000, message)\r\n        },\r\n        error: (err: any) => {\r\n          this.commonService.hideLoading();\r\n          this.monitorService.logException(err, SeverityLevel.Error);\r\n        }\r\n      })\r\n    } else {\r\n      this.commonService.hideLoading();\r\n      this.displayMissingInspectionMessage(this.repairGuid)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * estimate\r\n   */\r\n  getEstimationDetail(msg: string): void {\r\n    if (this.estimateSource === 'GTMotive') {\r\n      this.getGTEstimationDetail();\r\n    } else {\r\n      this.getManualEstimationDetail();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get estimation detail\r\n   */\r\n  getGTEstimationDetail(): void {\r\n    if (this.vehicleId && this.inspectionId) {\r\n      this.monitorService.logEvent('getGTEstimationDetail', [ 'EstimateComponent', 'addenda-repair' ], {\r\n        repairGuid: this.repairGuid,\r\n        caseGuid: this.caseGuid,\r\n        inspectionId: this.inspectionId,\r\n        vehicleId: this.vehicleId\r\n      });\r\n      this.repairEstimateService.getEstimate(this.caseGuid, this.inspectionId, this.vehicleId, this.domainId).subscribe({\r\n        next: (response) => {\r\n          this.estimateResponse = response?.data || {};\r\n          if (this.estimateResponse?.estimateCharges?.length == 0) {\r\n            this.showConfirmationPopup();\r\n            this.commonService.hideLoading();\r\n            return;\r\n          } else {\r\n            this.showData = true;\r\n          }\r\n          this.i18n = this.commonService.getDefaulti18nInfo();\r\n          this.editEstimate = false;\r\n          this.toggleOptions();\r\n          this.commonService.hideLoading();\r\n        },\r\n        error: (err: any) => {\r\n          this.commonService.hideLoading();\r\n          this.monitorService.logException(err, SeverityLevel.Error);\r\n        }\r\n      });\r\n    } else {\r\n      this.commonService.hideLoading();\r\n      this.displayMissingInspectionMessage(this.repairGuid)\r\n    }\r\n  }\r\n\r\n  /**\r\n    Retrieves the details of an estimation.\r\n    @returns {void}\r\n  */\r\n  getEstimateFromCaseAndRepair(orgName: string): void {\r\n    if (this.vehicleId && this.inspectionId) {\r\n      this.monitorService.logEvent('getEstimateFromCaseAndRepair', [ 'EstimateComponent', 'addenda-repair' ], {\r\n        repairGuid: this.repairGuid,\r\n        inspectionId: this.inspectionId,\r\n        vehicleId: this.vehicleId\r\n      });\r\n      const isUpdate = sessionStorage.getItem('update') || '0';\r\n      if (this.route.snapshot.queryParams['send']) {\r\n        const previousUrl = sessionStorage.getItem('current-url') || '';\r\n        if (previousUrl.indexOf('mode=edit') != -1) {\r\n          this.router.navigate(\r\n            [],\r\n            {\r\n              relativeTo: this.route,\r\n              queryParams: { mode: 'edit' },\r\n              queryParamsHandling: 'merge'\r\n            });\r\n        }\r\n      }\r\n\r\n      if (isUpdate === '0') {\r\n        this.getEstimationDetail(orgName);\r\n      } else if (isUpdate === '1' && this.route.snapshot.queryParams['send'] && this.route.snapshot.queryParams['send'] == 'true') {\r\n        this.repairEstimateService.readUpdateEstimate(this.caseGuid, this.inspectionId,\r\n          this.vehicleId, 'put', this.domainId)\r\n          .subscribe({\r\n            next: () => {\r\n              //get call\r\n              sessionStorage.setItem('update', '0');\r\n\r\n              this.getEstimationDetail(orgName);\r\n\r\n              this.router.navigate(\r\n                [],\r\n                {\r\n                  relativeTo: this.route,\r\n                  queryParams: { send: 'false' },\r\n                  queryParamsHandling: 'merge'\r\n                });\r\n\r\n              if (sessionStorage['initial-repair-types'] != '') {\r\n                this.afterOperation = true;\r\n                this.getBookingRepairDetails();\r\n              }\r\n              this.commonService.hideLoading();\r\n            }\r\n          });\r\n      } else {\r\n        this.getEstimationDetail(orgName);\r\n      }\r\n    } else {\r\n      this.commonService.hideLoading();\r\n      this.displayMissingInspectionMessage(this.repairGuid)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * show repair type update message\r\n   */\r\n  showRepairTypeUpdateMessage(existingRepairTypes: any, initialRepairTypes: any[]): void {\r\n\r\n    const currentRepairServiceTypes: any[] = existingRepairTypes;\r\n    const currentRepairTypesArray = [];\r\n    currentRepairServiceTypes?.forEach((serviceType) => {\r\n      if (typeof serviceType == 'object') {\r\n        currentRepairTypesArray.push(serviceType.repairServiceType);\r\n      } else {\r\n        currentRepairTypesArray.push(serviceType);\r\n      }\r\n\r\n    });\r\n\r\n    if (currentRepairTypesArray.length > 0) {\r\n      const newRepairTypes: any = currentRepairTypesArray.filter(q => !initialRepairTypes.includes(q));\r\n\r\n      if (newRepairTypes.length > 0) {\r\n        this.commonService.showNotification(`Repair Type was updated: Added ${newRepairTypes.join(',')}`);\r\n        this.repairTypesArray = [ ...this.repairTypesArray, ...newRepairTypes ];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n    Displays a confirmation message to the user asking them to add their vehicle before adding an estimate.\r\n    @param {string} repairGuid - The ID of the booking to add an estimate for.\r\n    @returns {void}\r\n  */\r\n  displayMissingInspectionMessage(repairGuid: string): void {\r\n    this.commonService.openAlertDialog('Notification', 'Please add your vehicle in order to add estimate.').afterClosed().subscribe({\r\n      next: (result: boolean) => {\r\n        if (result) {\r\n          this.router.navigate([ `repair/booking/${repairGuid}` ]);\r\n        }\r\n      },\r\n      error: () => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  /**\r\n    Retrieves the repair details for a given repair GUID.\r\n    @returns {void}\r\n  */\r\n  getBookingRepairDetails(): void {\r\n    this.commonService.showLoading();\r\n    this.monitorService.logEvent('getBookingRepairDetails', [ 'EstimateComponent', 'addenda-repair' ], {\r\n      repairGuid: this.repairGuid\r\n    });\r\n    this.bookingService.getRepairDetailByGuid(this.repairGuid).subscribe({\r\n      next: async (result: any) => {\r\n        if (result?.data) {\r\n          this.commonService.repairDetails.next(result.data);\r\n          this.commonService.bookingId.next(result.data.repairNumber);\r\n          this.repairNumber = result.data.repairNumber;\r\n          this.repairId = result.data.id;\r\n          this.repairStatus = result.data.status;\r\n          this.invoiceStatus = result.data.invoiceStatus;\r\n          this.inspectionId = result.data.vehicle?.inspectionId;\r\n          this.vehicleId = result.data.vehicle?.vehicleId\r\n          this.caseGuid = result.data.quoteId;\r\n          this.domainId = result.data.domainId;\r\n          this.vehicleObj = result.data.vehicle;\r\n          this.claimNumber = result.data?.customer?.claimNumber;\r\n          this.estimateSource = result.data.estimateSource || '';\r\n          this.organizationEmail = result.data?.organizationDetail?.partnerships ? result.data?.organizationDetail?.partnerships[0]?.email:'';\r\n          this.organizationPhone = result.data?.organizationDetail?.partnerships ? result.data?.organizationDetail?.partnerships[0]?.phoneNumber?.replace(result.data?.organizationDetail?.partnerships[0]?.countryCode, ''):'';\r\n          this.organizationCountryCode = result.data?.organizationDetail?.partnerships ? result.data?.organizationDetail?.partnerships[0]?.countryCode:'';\r\n          this.organizationName = result.data?.organizationDetail?.partnerships ? result.data?.organizationDetail?.partnerships[0]?.companyName:'';\r\n          this.isRepairCreatedFromCase = result.data.isRepairCreatedFromCase;\r\n\r\n          if(!this.vehicleId) {\r\n            this.commonService.hideLoading();\r\n            this.displayMissingInspectionMessage(this.repairGuid);\r\n            return;\r\n          }\r\n\r\n          if (result.data?.repairServiceTypes && result.data?.repairServiceTypes.length > 0) {\r\n            if (!this.afterOperation) {\r\n              this.getInitialRepairTypes(result.data.repairServiceTypes);\r\n            } else {\r\n\r\n              if (this.estimateSource != 'GTMotive') {\r\n                this.showRepairTypeUpdateMessage(result.data.repairServiceTypes, this.repairTypesArray);\r\n\r\n              } else {\r\n                this.repairTypesArray = [];\r\n                this.getInitialRepairTypes(result.data.repairServiceTypes);\r\n                if(sessionStorage['initial-repair-types'] != '') {\r\n                  this.showRepairTypeUpdateMessage(this.repairTypesArray, JSON.parse(sessionStorage['initial-repair-types']));\r\n                }\r\n                sessionStorage.setItem('initial-repair-types', '');\r\n              }\r\n            }\r\n          }\r\n\r\n          let communications = [];\r\n          if (result.data?.communicationTypeIds && result.data?.communicationTypeIds.length > 0) {\r\n            result.data?.communicationTypeIds.forEach((element) => {\r\n              if(this.communicationChannels[element] && communications.indexOf(this.communicationChannels[element]) === -1 ) communications.push(this.communicationChannels[element]);\r\n            });\r\n          }\r\n          communications.sort((a, b) => a.label.localeCompare(b.label));\r\n          if(result.data.source === 'Claim'){\r\n            communications = [\r\n              { dropdownItemIcon: 'send', color: 'var(xa-white) !important;', label: this.translationService.instant('send_to_insurance_company') },\r\n              ...communications\r\n            ];\r\n          }\r\n          this.communications = result.data?.communicationTypeIds;\r\n\r\n          this.dropdownApprovalModelFilter = { ...this.dropdownApprovalModelFilter, options: communications };\r\n\r\n          if (result.data.customer && result.data.customer?.companyOrgType === 'Retail') {\r\n            if (!result.data.customer?.isCompany) {\r\n              this.organizationEmail = result.data.customer?.email;\r\n              this.organizationPhone = result.data.customer?.mobileNumber;\r\n              this.organizationCountryCode = result.data.customer?.countryCode;\r\n              this.organizationName = `${result.data.customer?.firstName} ${result.data.customer?.lastName}`;\r\n            }\r\n          }\r\n\r\n          // If Source does not exists then needs to check orgs packages if GT estimate is enabled or not\r\n          // if yes redirect to GTEstimate else show create manual estimate options\r\n          if (!this.estimateSource && this.checkGTEstimatePermission()) {\r\n            this.redirectToGtEstimate();\r\n          } else {\r\n            this.getEstimateFromCaseAndRepair(result.data?.organizationDetail?.nameOfOrganization || '');\r\n          }\r\n\r\n          this.toggleOptions()\r\n        } else {\r\n          this.commonService.hideLoading();\r\n        }\r\n        this.getMediaTemplate();\r\n      },\r\n      error: (err: any) => {\r\n        this.commonService.hideLoading();\r\n        this.monitorService.logException(err, SeverityLevel.Error);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * check gtEstimate permission\r\n   */\r\n  checkGTEstimatePermission(): boolean {\r\n    const { orgPackages = [] } = this.userPermission;\r\n    const repairEstimatePackage = orgPackages.filter((orgPackage: any) => {\r\n      return orgPackage.automotiveServiceName === 'Repair Estimate';\r\n    });\r\n\r\n    if (repairEstimatePackage && repairEstimatePackage.length > 0) {\r\n      const { permissions } = repairEstimatePackage[0];\r\n      const gtEstimatePermission = permissions.filter((perm: any) => {\r\n        return perm.permissionName === 'gt.estimate' || perm.permissionName === 'gt.estimate.vinquery';\r\n      });\r\n      if (gtEstimatePermission && gtEstimatePermission.length > 0) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n\r\n  /**\r\n    Lifecycle hook that is called after the component is initialized.\r\n    It updates the page title and retrieves booking repair details.\r\n  */\r\n  ngOnInit(): void {\r\n    this.monitorService.logEvent('ngOnInit', [ 'EstimateComponent', 'addenda-repair' ]);\r\n    this.commonService.updatePage('/repair/customers/0', 'add-customer');\r\n    this.repairGuid = this.route.parent?.snapshot.paramMap.get('id');\r\n    this.getBookingRepairDetails();\r\n    this.subscription = this.commonService.isRefreshRepairEstimateDetails.subscribe({\r\n      next: (data: any) => {\r\n        if(data) {\r\n          if(this.estimateSource !== 'GTMotive' && this.vehicleId && this.inspectionId) {\r\n            this.getManualEstimationDetail();\r\n          }\r\n        }\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n  * tooggle options\r\n  */\r\n  toggleOptions(): void {\r\n    if (this.dropdownModelFilter.options) {\r\n      if (this.estimateSource !== 'GTMotive' && this.repairStatus?.toLowerCase() !== 'PendingApproval'.toLowerCase() && this.repairStatus?.toLowerCase() !== 'readytoinvoice') {\r\n        const already = this.dropdownModelFilter.options?.find(ele => ele.value == 'addOperation')\r\n        if (!already) {\r\n          this.dropdownModelFilter = {\r\n            ...this.dropdownModelFilter, options: [\r\n              ...this.dropdownModelFilter.options, { 'label': this.translationService.instant('add_operation'), 'dropdownItemIcon': 'plus-active', 'value': 'addOperation' } ]\r\n          }\r\n        }\r\n      } else {\r\n        const alreadyIndex = this.dropdownModelFilter.options?.findIndex(ele => ele.value == 'addOperation');\r\n        const options = [ ...this.dropdownModelFilter.options ];\r\n        if (alreadyIndex !== -1) {\r\n          options.splice(alreadyIndex, 1)\r\n        }\r\n\r\n        this.dropdownModelFilter = { ...this.dropdownModelFilter, options: [ ...options ] }\r\n      }\r\n\r\n      if (this.estimateResponse?.estimateCharges?.length > 0 && this.repairStatus?.toLowerCase() !== 'PendingApproval'.toLowerCase() && this.repairStatus?.toLowerCase() !== 'readytoinvoice') {\r\n        const already = this.dropdownModelFilter.options?.find(ele => ele.value == 'editOperation')\r\n        if (!already) {\r\n          this.dropdownModelFilter = {\r\n            ...this.dropdownModelFilter, options: [\r\n              ...this.dropdownModelFilter.options, { 'label': this.translationService.instant('edit_estimate'), 'dropdownItemIcon': 'edit', 'value': 'editOperation' } ]\r\n          }\r\n        }\r\n      } else {\r\n        const alreadyIndex = this.dropdownModelFilter.options?.findIndex(ele => ele.value == 'editOperation');\r\n        const options = [ ...this.dropdownModelFilter.options ];\r\n        if (alreadyIndex !== -1) {\r\n          options.splice(alreadyIndex, 1)\r\n        }\r\n\r\n        this.dropdownModelFilter = { ...this.dropdownModelFilter, options: [ ...options ] }\r\n      }\r\n\r\n      if (this.estimateResponse?.estimateCharges?.length > 0 && this.repairStatus?.toLowerCase() !== 'readytoinvoice') {\r\n        const already = this.dropdownModelFilter.options?.find(ele => ele.value == 'requestStatus')\r\n        if (!already) {\r\n          this.dropdownModelFilter = {\r\n            ...this.dropdownModelFilter, options: [\r\n              ...this.dropdownModelFilter.options, { 'label': this.translationService.instant('self_approval'), 'dropdownItemIcon': 'clock-new', 'value': 'requestStatus' } ]\r\n          }\r\n        }\r\n      } else {\r\n        const alreadyIndex = this.dropdownModelFilter.options?.findIndex(ele => ele.value == 'requestStatus');\r\n        const options = [ ...this.dropdownModelFilter.options ];\r\n        if (alreadyIndex !== -1) {\r\n          options.splice(alreadyIndex, 1)\r\n        }\r\n\r\n        this.dropdownModelFilter = { ...this.dropdownModelFilter, options: [ ...options ] }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n    changeCaseStatusDialog\r\n  */\r\n  changeCaseStatusDialog(model: any): void {\r\n    if (model.value.value === 'addOperation') {\r\n      this.openOperationPopup()\r\n    } else if (model.value.value === 'editOperation') {\r\n      this.handleEditEstimate()\r\n    } else if (model.value.value === 'requestStatus') {\r\n      this.handleRequestStatus()\r\n    }\r\n  }\r\n\r\n  /**\r\n    Opens a dialog box for the repair estimate operation component with the specified data and panel class.\r\n    @returns {void}\r\n  */\r\n  openOperationPopup(): void {\r\n    //return if the initial permission was manual and later change to GT\r\n    if (this.checkGTEstimatePermission()) {\r\n      this.commonService.showToast(0, 'msg_gt_permission');\r\n      return;\r\n    }\r\n\r\n    const dialogRef = this.dialog.open(RepairEstimateOperationComponent, {\r\n      data: {\r\n        repairId: this.repairGuid\r\n      },\r\n      width: '85vw',\r\n      height: '90vh',\r\n      panelClass: 'operation-panel',\r\n      autoFocus: false\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe({\r\n      next: (response: any) => {\r\n        if (response) {\r\n          const statuses = [ 'draft', 'uploaddocuments', 'uploadphotos' ]\r\n          if (statuses.includes(this.repairStatus?.toLowerCase())) {\r\n            this.repairStatus = 'RepairEstimation';\r\n          }\r\n          this.afterOperation = true;\r\n\r\n          this.getBookingRepairDetails();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n    Sets the value of the editEstimate property to true.\r\n    @returns {void}\r\n  */\r\n  handleEditEstimate(): void {\r\n    if (this.estimateSource === 'GTMotive') {\r\n      if (this.caseGuid && this.commonService.quotePermission) {\r\n        this.commonService.showChangeWarningMessage(this.redirectToGtEstimate.bind(this), Modules.quote);\r\n      } else {\r\n        this.redirectToGtEstimate();\r\n      }\r\n      //this.redirectToGtEstimate();\r\n      return;\r\n    } else {\r\n\r\n      //return if the initial permission was manual and later change to GT\r\n      if (this.checkGTEstimatePermission()) {\r\n        this.commonService.showToast(0, 'msg_gt_permission');\r\n        return;\r\n      }\r\n      //\r\n      this.editEstimate = true;\r\n    }\r\n  }\r\n\r\n  /**\r\n    Handles the saving of an edited estimate.\r\n    Sets the editEstimate property to false.\r\n  */\r\n  handleSaveEditedEstimate(): void {\r\n    this.editEstimate = false;\r\n  }\r\n\r\n  /**\r\n    Asynchronously handles the editing of a repair operation.\r\n    @async\r\n    @function handleEditRepairOperation\r\n    @param {string} repairOperationGuid - The GUID of the repair operation to be edited.\r\n    @returns {Promise} - A promise that resolves when the operation is complete.\r\n    @throws {Error} - If an error occurs during the operation.\r\n  */\r\n  async handleEditRepairOperation(repairOperationGuid: string): Promise<void> {\r\n    try {\r\n      this.commonService.showLoading();\r\n      this.monitorService.logEvent('getRepairEstimateOperationDetails', [ 'EstimateComponent', 'addenda-repair' ]);\r\n      const operationDeatils = await this.getRepairEstimateOperationDetails(repairOperationGuid);\r\n      this.commonService.hideLoading();\r\n      if (operationDeatils?.data) {\r\n        // Convert the keys to so first letter is uppercase\r\n        const entries = Object.entries(operationDeatils.data);\r\n        const capsEntries = entries.map(entry => [ entry[0][0].toUpperCase() + entry[0].slice(1), entry[1] ]);\r\n        const capsPopulations = Object.fromEntries(capsEntries);\r\n        const dialogRef = this.dialog.open(RepairEstimateOperationComponent, {\r\n          data: {\r\n            repairId: this.repairGuid,\r\n            operationDetails: capsPopulations\r\n          },\r\n          width: '85vw',\r\n          height: '90vh',\r\n          panelClass: 'operation-panel',\r\n          autoFocus: false\r\n        });\r\n\r\n        dialogRef.afterClosed().subscribe({\r\n          next: (response: any) => {\r\n            if (response) {\r\n              this.getEstimateFromCaseAndRepair('')\r\n            }\r\n          }\r\n        });\r\n      }\r\n    } catch (error) {\r\n      this.commonService.hideLoading();\r\n      this.monitorService.logException(error, SeverityLevel.Error);\r\n    }\r\n  }\r\n\r\n  /**\r\n    Retrieves details of a repair estimate operation with the given GUID.\r\n    @async\r\n    @param {string} repairOperationGuid - The GUID of the repair estimate operation to retrieve details for.\r\n    @returns {Promise} - A Promise that resolves with the details of the repair estimate operation.\r\n  */\r\n  public async getRepairEstimateOperationDetails(repairOperationGuid: string): Promise<any> {\r\n    return firstValueFrom(this.repairEstimateOperationService.getRepairEstimateOperationDetails(repairOperationGuid))\r\n  }\r\n\r\n  /**\r\n    Handles the click event on an icon.\r\n    @param {object} output - The output object containing the ID and action of the icon.\r\n  */\r\n  handleIconClicked(output): void {\r\n    const { id, action } = output\r\n    if (action === 'edit') this.handleEditRepairOperation(id)\r\n\r\n    if (action === 'delete') {\r\n      if (this.caseGuid) {\r\n        this.commonService.showChangeWarningMessage(this.handleDeleteRepairOperation.bind(this, id), Modules.quote);\r\n      } else {\r\n        this.handleDeleteRepairOperation(id);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n    Deletes a repair operation with the given ID.\r\n    @param {string} id - The ID of the repair operation to be deleted.\r\n    @returns {void}\r\n  */\r\n  handleDeleteRepairOperation(id: string): void {\r\n    this.commonService.openDeleteDialog()\r\n      .afterClosed().subscribe((data) => {\r\n        if (data) {\r\n          this.monitorService.logEvent('getBookingRepairDetails', [ 'EstimateComponent', 'addenda-repair' ], {\r\n            repairGuid: this.repairGuid,\r\n            id: id\r\n          });\r\n          this.commonService.showLoading();\r\n          firstValueFrom(this.repairEstimateOperationService.deleteRepairEstimateOperation(this.repairGuid, id)).then((response) => {\r\n            let deleteTextMessage = '';\r\n            if (response?.message) deleteTextMessage = response.message;\r\n            this.getManualEstimationDetail(deleteTextMessage);\r\n          }).catch(() => {\r\n            this.commonService.hideLoading();\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   * downloadPdf()\r\n  */\r\n  public downloadPdf(reportType:string): void {\r\n\r\n    const apiCall = 'getXADownloadUrl';\r\n    this.monitorService.logEvent('downloadPdf', [ 'RepairEstimateComponent', 'addenda-repair', {\r\n      caseId: this.caseGuid\r\n    } ]);\r\n    if(reportType.toLowerCase() === 'repairestimatereport'){\r\n      this.commonService.showLoading();\r\n      this.repairEstimateService[apiCall](this.caseGuid, new Date().toString()).subscribe({\r\n        next: (result: any) => {\r\n          window.open(result.data.url, '_blank');\r\n          this.commonService.hideLoading();\r\n        },\r\n        error: () => {\r\n          this.commonService.hideLoading();\r\n        }\r\n      });\r\n    }else {\r\n      const apiSpecificCall = 'getSpecificDownloadUrl';\r\n      this.commonService.showLoading();\r\n      this.repairEstimateService[apiSpecificCall](this.caseGuid, reportType, new Date().toString()).subscribe({\r\n        next: (result: any) => {\r\n          window.open(result.data.url, '_blank');\r\n          this.commonService.hideLoading();\r\n        },\r\n        error: () => {\r\n          this.commonService.hideLoading();\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param repairServiceTypes\r\n   */\r\n  private getInitialRepairTypes(repairServiceTypes: any): void {\r\n    repairServiceTypes.forEach((serviceType) => {\r\n      this.repairTypesArray.push(serviceType.repairServiceType);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Cancel booking\r\n   */\r\n  cancelBooking(): void {\r\n    this.commonService.openDeleteDialog()\r\n      .afterClosed().subscribe((data) => {\r\n        if (data) {\r\n          this.commonService.showLoading();\r\n          this.calendarService.deleteRepair(this.repairGuid).subscribe({\r\n            next: () => {\r\n              this.commonService.hideLoading();\r\n              this.router.navigate([ '/repair/booking-journal' ]);\r\n            }\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   * handle request status\r\n   */\r\n  handleRequestStatus(): void {\r\n    //todo\r\n    const dialogRef = this.dialog.open(EstimateApprovalComponent, {\r\n      width: '629px',\r\n      maxWidth: '629px',\r\n      autoFocus: false,\r\n      data: this.repairGuid\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe({\r\n      next: (res: any) => {\r\n        //todo\r\n        if(res) {\r\n          this.getBookingRepairDetails();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * on destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    this.commonService.accessRight.unsubscribe();\r\n    this.subscription.unsubscribe();\r\n    this.monitorService.logEvent('ngOnDestroy', [ 'EstimateComponent', 'addenda-repair' ]);\r\n  }\r\n\r\n  /**\r\n   * check if repair is invoiced or not\r\n   * @returns\r\n   */\r\n  repairNotInvoiced(): boolean {\r\n    if(this.repairStatus?.toLowerCase() === 'invoiced'\r\n    || this.repairStatus?.toLowerCase() === 'paid'\r\n    || this.repairStatus?.toLowerCase() === 'closed'\r\n    || this.repairStatus?.toLowerCase() === 'complete'\r\n    || this.repairStatus?.toLowerCase() === 'readytoinvoice'\r\n    || this.invoiceStatus?.toLowerCase() === 'readytoinvoice'\r\n    || this.invoiceStatus?.toLowerCase() === 'invoiced') {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n}\r\n","<div *ngIf=\"showData\" class=\"repair-estimate-step\">\r\n    <chq-estimate-details [estimateResponse]=\"estimateResponse\" [editEstimate]=\"editEstimate\" (showFooterBtn)=\"showFooterBtn = $event\"\r\n        [estimateSource]=\"estimateSource\" [repairStatus]='repairStatus' serviceType=\"repair\" (iconClicked)=\"handleIconClicked($event)\"\r\n        (downloadPdf)=\"downloadPdf($event);\" [selected]=\"defaultSelectedReport\" [dropdownOptions]=\"dropdownOptions\"\r\n        [i18n]=\"i18n\" [repairGuid]=\"repairGuid\"> </chq-estimate-details>\r\n</div>\r\n<div class=\"footer-full-wrapper estimate-details-footer\">\r\n    <div class=\"footer-image-wrapper\">\r\n        <div class=\"image-wrapper\">\r\n            <img src=\"assets/img/addenda-repair.png\" />\r\n        </div>\r\n    </div>\r\n    <ng-container *ngIf=\"showFooterBtn\">\r\n        <div class=\"footer-button-wrapper show-md\" *ngIf=\"showData && !this.commonService.isViewOnly\">\r\n            <ng-container *ngIf=\"editEstimate\">\r\n                <chq-button [buttonModel]=\"saveEditedModel\" (click)=\"handleSaveEditedEstimate()\"></chq-button>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!editEstimate\" class=\"show-md\">\r\n                <ng-container *chqPermission=\"'newBooking'\">\r\n                    <chq-button [buttonModel]=\"cancelButtonModel\" *ngIf=\"showDelete\"></chq-button>\r\n                </ng-container>\r\n\r\n                <chq-button [buttonModel]=\"editEstimateModel\"\r\n                    *ngIf=\"estimateResponse?.estimateCharges?.length > 0 && repairStatus?.toLowerCase() !== 'PendingApproval'.toLowerCase() && repairNotInvoiced()\"\r\n                    (click)=\"handleEditEstimate()\"></chq-button>\r\n                <ng-container *chqPermission=\"'newBooking'\">\r\n                    <chq-button [buttonModel]=\"requestStatusModel\"\r\n                        *ngIf=\"estimateResponse?.estimateCharges?.length > 0 && repairNotInvoiced()\"\r\n                        (click)=\"handleRequestStatus()\"></chq-button>\r\n                    <chq-dropdown (selected)=\"handleSelectedOption($event);\"\r\n                        [dropdownModel]=\"dropdownApprovalModelFilter\" class=\"communication-dropdown\"\r\n                        *ngIf=\"communications?.length > 0 && repairNotInvoiced() && estimateResponse?.estimateCharges?.length > 0\"></chq-dropdown>\r\n                </ng-container>\r\n                <chq-button\r\n                    *ngIf=\"estimateSource !== 'GTMotive' && repairStatus?.toLowerCase() !== 'PendingApproval'.toLowerCase() && repairNotInvoiced()\"\r\n                    [buttonModel]=\"addOperationModel\" (click)=\"openOperationPopup()\"></chq-button>\r\n            </ng-container>\r\n        </div>\r\n\r\n        <div class=\"footer-button-wrapper show-sm\" *ngIf=\"showData && !this.commonService.isViewOnly\">\r\n            <ng-container *ngIf=\"editEstimate\">\r\n                <chq-button [buttonModel]=\"saveEditedModel\" (click)=\"handleSaveEditedEstimate()\"></chq-button>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!editEstimate\">\r\n                <ng-container *ngIf=\"estimateResponse?.estimateCharges?.length > 0; else elseTemplate\">\r\n                    <chq-dropdown (selected)=\"handleSelectedOption($event);\"\r\n                        [dropdownModel]=\"dropdownApprovalModelFilter\" class=\"communication-dropdown\"\r\n                        *ngIf=\"repairNotInvoiced() && estimateResponse?.estimateCharges?.length > 0\"></chq-dropdown>\r\n                    <ng-container *chqPermission=\"'newBooking'\">\r\n                        <chq-button [buttonModel]=\"requestStatusModel\"\r\n                            *ngIf=\"repairStatus?.toLowerCase() === 'pendingapproval' && (estimateResponse?.estimateCharges?.length > 0 && repairNotInvoiced())\"\r\n                            (click)=\"handleRequestStatus()\"></chq-button>\r\n                        <chq-dropdown [dropdownModel]=\"dropdownModelFilter\" (selected)=\"changeCaseStatusDialog($event)\"\r\n                            *ngIf=\"repairStatus?.toLowerCase() !== 'pendingapproval' && repairStatus?.toLowerCase() !== 'complete'\"></chq-dropdown>\r\n                    </ng-container>\r\n                </ng-container>\r\n                <ng-template #elseTemplate>\r\n                    <chq-button *ngIf=\"estimateSource !== 'GTMotive'\" [buttonModel]=\"addOperationModel\"\r\n                        (click)=\"openOperationPopup()\"></chq-button>\r\n                </ng-template>\r\n            </ng-container>\r\n        </div>\r\n    </ng-container>\r\n</div>\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable require-jsdoc */\r\nimport { Component, Inject, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { NavigationStart, Router, RouterEvent } from '@angular/router';\r\nimport * as dayjs from 'dayjs';\r\nimport * as utc from 'dayjs/plugin/utc';\r\nimport { filter, firstValueFrom, take, tap } from 'rxjs';\r\nimport { endDateValidators } from 'src/app/helper/form/customer-form.helper';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { XADropdownConfig, XADropdownOption } from 'src/app/model/xa-dropdown-model';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { CalendarService } from 'src/app/services/calendar/calendar.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { SettingsService } from 'src/app/services/settings/settings.service';\r\n\r\ndayjs.extend(utc)\r\n\r\n@Component({\r\n  selector: 'app-add-booking',\r\n  templateUrl: './add-booking.component.html',\r\n  styleUrls: [ './add-booking.component.scss' ],\r\n  providers: [ CalendarService ]\r\n})\r\nexport class AddBookingComponent implements OnInit {\r\n  public PageReady: boolean = false;\r\n  public sendButton: ChqWidgetsButtonModel = {\r\n    label: 'send',\r\n    type: 'primary',\r\n    icon: 'send',\r\n    onclick: this.closeDialog.bind(this)\r\n  };\r\n\r\n  public bookingTypeConfig: XADropdownConfig = {\r\n    name: 'singleSelect',\r\n    label: 'booking_type',\r\n    showRequiredLabel: true,\r\n    placeHolder: 'booking_type',\r\n    labelKey: 'name',\r\n    valueKey: 'id'\r\n  };\r\n\r\n  public bookingTypeOptions: XADropdownOption[];\r\n\r\n  public minDate = new Date(new Date().setHours(0, 0, 0, 0));\r\n\r\n  public bookingForm = new FormGroup({\r\n    BookingType: new FormControl({ value: null }, [ Validators.required ]),\r\n    StartDate: new FormControl({ value: null }, [ Validators.required ]),\r\n    EndDate: new FormControl(null, [ Validators.required, endDateValidators('StartDate') ])\r\n  });\r\n\r\n  constructor(\r\n    public dialog: MatDialog,\r\n    public dialogRef: MatDialogRef<AddBookingComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    private router: Router,\r\n    private bookingService: BookingService,\r\n    private commonService: CommonService,\r\n    private settingService: SettingsService\r\n  ) {\r\n    // Close dialog ref on route changes\r\n    router.events.pipe(\r\n      filter((event: RouterEvent) => event instanceof NavigationStart),\r\n      tap(() => this.dialogRef.close()),\r\n      take(1),\r\n    ).subscribe();\r\n  }\r\n\r\n\r\n  /**\r\n   * detects changes in input attributes\r\n   * @param changes \r\n   */\r\n  ngOnInit(): void {\r\n    this.populateDropdowns();\r\n    this.setEndDate();\r\n    this.setRepairDate();\r\n\r\n    this.bookingForm.get('BookingType').valueChanges.subscribe((value) => {\r\n      const selectedType = this.bookingTypeOptions.find(x=>x['id'] == value);\r\n\r\n      this.bookingForm.controls.StartDate.setValue(this.data.startDate || new Date());\r\n      this.bookingForm.controls.StartDate.enable();\r\n\r\n      if(selectedType['duration'] == 0) {\r\n        this.bookingForm.controls.EndDate.enable();\r\n      } else {\r\n        this.bookingForm.controls.EndDate.disable();        \r\n      }\r\n\r\n      this.setEndDate();\r\n      this.setRepairDate();\r\n    });\r\n\r\n    this.bookingForm.get('StartDate').valueChanges.subscribe((value) => {\r\n      this.setEndDate();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  private setEndDate():void {\r\n    if(this.bookingForm.controls.BookingType.value){\r\n      const selectedType = this.bookingTypeOptions.find(x=>x['id'] == this.bookingForm.controls.BookingType.value);\r\n\r\n      if(selectedType['duration'] as number > 0) {\r\n        const endDate = dayjs(this.bookingForm.controls.StartDate.value).\r\n          add(selectedType['duration'] as number, 'minutes').toDate();\r\n        this.bookingForm.controls.EndDate.setValue(endDate);\r\n        this.bookingForm.controls.EndDate.disable();\r\n      }\r\n    } else if(!this.data.EndDate) {\r\n\r\n      const endDate = dayjs(this.bookingForm.controls.StartDate.value).\r\n        add(30, 'minutes').toDate()\r\n      this.bookingForm.controls.EndDate.setValue(endDate);\r\n    }\r\n  }\r\n\r\n  private setRepairDate(): void {\r\n    if(this.bookingForm.controls.BookingType.value){\r\n      const selectedType = this.bookingTypeOptions.find(x=>x['id'] == this.bookingForm.controls.BookingType.value);\r\n      \r\n      if(selectedType['name'] == 'Repair' && this.data.repairStartDate && this.data.repairEndDate) {\r\n        this.bookingForm.controls.StartDate.setValue(this.data.repairStartDate);\r\n        this.bookingForm.controls.EndDate.setValue(this.data.repairEndDate);\r\n\r\n        this.bookingForm.controls.StartDate.disable();\r\n        this.bookingForm.controls.EndDate.disable();\r\n      }\r\n\r\n      if(selectedType['name'] == 'Booking In' && this.data.repairStartDate) {\r\n        this.bookingForm.controls.StartDate.setValue(this.data.repairStartDate);\r\n        this.bookingForm.controls.EndDate.setValue(dayjs.utc(this.data.repairStartDate).add(selectedType['duration'] || 30, 'minutes').toDate());\r\n\r\n        this.bookingForm.controls.StartDate.disable();\r\n        this.bookingForm.controls.EndDate.disable();\r\n      }\r\n\r\n      if(selectedType['name'] == 'Booking Out' && this.data.repairEndDate) {\r\n        this.bookingForm.controls.StartDate.setValue(dayjs.utc(this.data.repairEndDate).subtract(selectedType['duration'] || 30, 'minutes').toDate());\r\n        this.bookingForm.controls.EndDate.setValue(this.data.repairEndDate);\r\n\r\n        this.bookingForm.controls.StartDate.disable();\r\n        this.bookingForm.controls.EndDate.disable();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * populate dropdowns\r\n   */\r\n  public async populateDropdowns(): Promise<void> {\r\n    this.commonService.showLoading();\r\n\r\n    if(this.data.bookingTypes) {\r\n      this.bookingTypeOptions = this.data.bookingTypes;\r\n    } else {\r\n      const serviceTypes = await firstValueFrom(this.settingService.getBookingRepairType());\r\n      this.bookingTypeOptions = serviceTypes?.data?.BookingTypes;\r\n    }\r\n\r\n    this.bookingTypeOptions.splice(0, 0, {\r\n      id: null,\r\n      name: 'Select'\r\n    });\r\n\r\n    if(this.data) {\r\n      this.bookingForm.controls.BookingType.setValue(this.data.bookingTypeId || null);\r\n      if(this.data.editMode) {\r\n        this.bookingTypeConfig.disabled = true;\r\n      }\r\n      this.bookingForm.controls.StartDate.setValue(this.data.startDate || new Date());\r\n      this.bookingForm.controls.EndDate.setValue(this.data.endDate || null);\r\n    } \r\n    \r\n    this.PageReady = true;\r\n    this.commonService.hideLoading();\r\n  }\r\n\r\n  saveChanges(): void {\r\n    const formValue = this.bookingForm.getRawValue();\r\n\r\n    const startDateString = dayjs(formValue.StartDate.toString()).utc().format('YYYY-MM-DDTHH:mm:ss.000') + 'Z';\r\n    const endDateString = dayjs(formValue.EndDate.toString()).utc().format('YYYY-MM-DDTHH:mm:ss.000') + 'Z';\r\n\r\n    const newData: any = {\r\n      domainID: this.data.domainID,\r\n      objectID: this.data.objectID,\r\n      objectGuid: this.data.objectGuid,\r\n      objectData: this.data.objectData,\r\n      bookingTypeId: formValue.BookingType,\r\n      bookingTypeName: this.bookingTypeOptions.find(x=>x['id'] == formValue.BookingType)['name'],\r\n      startDate: startDateString,\r\n      endDate: endDateString\r\n    };\r\n   \r\n    if(this.data?.editMode) {\r\n      newData.bookingGuid = this.data.bookingGuid;\r\n      newData.bookingId = this.data.bookingId;\r\n      newData.Action = 'update';\r\n\r\n      this.dialogRef.close({ 'success': true, 'data': newData });\r\n    } else {\r\n      newData.customer = this.data.customerData;\r\n      newData.workProvider = this.data.workProviderData;\r\n      newData.Action = 'create';\r\n\r\n      this.dialogRef.close({ 'success': true, 'data': newData });\r\n    }\r\n  }\r\n\r\n  closeDialog(): void {\r\n    this.dialogRef.close({ 'success': false, 'data': null });\r\n  }\r\n\r\n}","<div *ngIf=\"PageReady\" class=\"dialog-container\">\r\n    <div class=\"header\">\r\n        <h3>{{ 'add_booking' | translate }}</h3>\r\n        <div class=\"close-icon\" (click)=\"closeDialog();\">\r\n            <mat-icon [svgIcon]=\"'cross'\"></mat-icon>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-content class=\"email-dialog-body\">\r\n        <div class=\"form-container\">\r\n            <form [formGroup]=\"bookingForm\">\r\n                <div class=\"input-wrapper\">\r\n                    <xa-select formControlName=\"BookingType\" style=\"display: flex; flex-direction: column; gap: 15px;\"\r\n                        [config]=\"bookingTypeConfig\" [options]=\"bookingTypeOptions\">\r\n                    </xa-select>\r\n                    <xa-error\r\n                        *ngIf=\"bookingForm.get('BookingType').touched && bookingForm.get('BookingType').hasError('required')\">\r\n                        Booking type is required\r\n                    </xa-error>\r\n                </div>\r\n                <div class=\"input-wrapper\">\r\n                    <div class=\"div-wrapper\">\r\n                        <label class=\"select-label\"> {{ 'start_date' | translate }} <span\r\n                                class=\"required\">*</span></label>\r\n                        <dx-date-box type=\"datetime\" [showClearButton]=\"false\" formControlName=\"StartDate\"\r\n                            [width]=\"'100%'\" [invalidDateMessage]=\"''\" [useMaskBehavior]=\"true\"\r\n                            [openOnFieldClick]=\"true\" [adaptivityEnabled]=\"true\" [displayFormat]=\"'dd/MM/yyyy hh:mm aa'\"\r\n                            [pickerType]=\"'calendar'\" [validationError]=\"false\" [validationMessageMode]=\"'none'\"\r\n                            [acceptCustomValue]=\"false\" [min]=\"minDate\">\r\n                        </dx-date-box>\r\n                    </div>\r\n                </div>\r\n                <div class=\"input-wrapper\">\r\n                    <div class=\"div-wrapper\">\r\n                        <label class=\"select-label\"> {{ 'end_date' | translate }} <span\r\n                                class=\"required\">*</span></label>\r\n                        <dx-date-box type=\"datetime\" [showClearButton]=\"false\" formControlName=\"EndDate\"\r\n                            [width]=\"'100%'\" [invalidDateMessage]=\"''\" [useMaskBehavior]=\"true\"\r\n                            [openOnFieldClick]=\"true\" [adaptivityEnabled]=\"true\" [displayFormat]=\"'dd/MM/yyyy hh:mm aa'\"\r\n                            [pickerType]=\"'calendar'\" [validationError]=\"false\" [validationMessageMode]=\"'none'\"\r\n                            [acceptCustomValue]=\"false\" [disabled]=\"bookingForm.get('EndDate').disabled\">\r\n                        </dx-date-box>\r\n                        <xa-error\r\n                            *ngIf=\"bookingForm.get('EndDate').touched && bookingForm.get('EndDate').hasError('invalid')\">\r\n                            {{ 'bookingout_greater_msg' | translate }}\r\n                        </xa-error>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    <div class=\"btn-container\">\r\n        <xa-button (click)=\"saveChanges()\" [disabled]=\"this.bookingForm.invalid\">\r\n            <span> {{'save' | translate }}</span>\r\n        </xa-button>\r\n    </div>\r\n</div>","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { NavigationStart, Router, RouterEvent } from '@angular/router';\r\nimport * as dayjs from 'dayjs';\r\nimport * as utc from 'dayjs/plugin/utc';\r\nimport { filter, firstValueFrom, take, tap } from 'rxjs';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { XADropdownConfig, XADropdownOption } from 'src/app/model/xa-dropdown-model';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\n\r\ndayjs.extend(utc)\r\n\r\n@Component({\r\n  selector: 'app-no-show',\r\n  templateUrl: './no-show.component.html',\r\n  styleUrls: [ './no-show.component.scss' ]\r\n})\r\nexport class NoShowComponent implements OnInit{\r\n  public sendButton: ChqWidgetsButtonModel = {\r\n    label: 'send',\r\n    type: 'primary',\r\n    icon: 'send',\r\n    onclick: this.closeDialog.bind(this)\r\n  };\r\n\r\n  public reasonConfig: XADropdownConfig = {\r\n    name: 'singleSelect',\r\n    label: 'reason',\r\n    showRequiredLabel: true,\r\n    placeHolder: 'reason',\r\n    valueKey: 'id',\r\n    labelKey: 'description',\r\n    dropdownPosition: 'relative'\r\n  };\r\n\r\n  public reasonOptions: XADropdownOption[];\r\n\r\n  public noShowForm = new FormGroup({\r\n    Reason: new FormControl(null, [ Validators.required ])\r\n  });\r\n\r\n  /**\r\n   * \r\n   * @param dialog \r\n   * @param dialogRef \r\n   * @param data \r\n   * @param router \r\n   */\r\n  constructor(\r\n    public dialog: MatDialog,\r\n    public dialogRef: MatDialogRef<NoShowComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    private router: Router,\r\n    private bookingService: BookingService,\r\n    private commonService: CommonService\r\n  ) {\r\n    // Close dialog ref on route changes\r\n    router.events.pipe(\r\n      filter((event: RouterEvent) => event instanceof NavigationStart),\r\n      tap(() => this.dialogRef.close()),\r\n      take(1),\r\n    ).subscribe();\r\n  }\r\n\r\n  /**\r\n   * detects changes in input attributes\r\n   * @param changes \r\n   */\r\n  ngOnInit(): void {\r\n    this.populateReasons();\r\n  }\r\n\r\n  /**\r\n   * populate reasons\r\n   */\r\n  public async populateReasons(): Promise<void> {\r\n    this.commonService.showLoading();\r\n    this.reasonOptions = (await firstValueFrom(this.bookingService.getNoShowReason()))?.data;\r\n\r\n    this.commonService.hideLoading();\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  saveChanges(): void {\r\n    this.commonService.showLoading();\r\n\r\n    const patchData = [\r\n      {\r\n        'op': 'replace',\r\n        'path': 'RepairNoShowReasonId',\r\n        'value': this.noShowForm.value.Reason\r\n      } \r\n    ];\r\n      \r\n    this.bookingService.patchRepair(patchData, this.data).subscribe({\r\n      next: async (result: any) => {\r\n        if (result) {\r\n          this.dialogRef.close({ 'success': true });\r\n        }\r\n\r\n        this.commonService.hideLoading();\r\n      },\r\n      error: (err) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * \r\n   */\r\n  closeDialog(): void {\r\n    this.dialogRef.close({ 'success': false });\r\n  }\r\n\r\n}","<div class=\"dialog-container\">\r\n    <div class=\"header\">\r\n        <h3>{{ 'no_show' | translate }}</h3>\r\n        <div class=\"close-icon\" (click)=\"closeDialog();\">\r\n            <mat-icon [svgIcon]=\"'cross'\"></mat-icon>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-content class=\"dialog-body\">\r\n        <div class=\"form-container\">\r\n            <form [formGroup]=\"noShowForm\">\r\n                <div class=\"input-wrapper message\">\r\n                    {{ 'select_no_show_reason' | translate}}\r\n                </div>\r\n                <div class=\"input-wrapper\">\r\n                    <xa-select formControlName=\"Reason\" style=\"display: flex; flex-direction: column; gap: 15px;\"\r\n                        [config]=\"reasonConfig\" [options]=\"reasonOptions\">\r\n                    </xa-select>\r\n                    <xa-error *ngIf=\"noShowForm.get('Reason').touched && noShowForm.get('Reason').hasError('required')\">\r\n                        Reason is required\r\n                    </xa-error>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    <div class=\"btn-container\">\r\n        <xa-button (click)=\"saveChanges()\" [disabled]=\"this.noShowForm.invalid\">\r\n            <span> {{'save' | translate }}</span>\r\n        </xa-button>\r\n    </div>\r\n</div>","/* eslint-disable no-prototype-builtins */\r\nimport { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\r\nimport { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, ValidatorFn, Validators } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport * as dayjs from 'dayjs';\r\nimport * as utc from 'dayjs/plugin/utc';\r\nimport { BehaviorSubject, Subscription, catchError, firstValueFrom, forkJoin, from, of } from 'rxjs';\r\nimport { claimNumberEditNotAllowedForRepairStatuses, notApprovedStatuses, repairBookingType, repairEstimatedStatuses, repairStartedStatuses } from 'src/app/config/constants/app.constants';\r\nimport { AddRepairCustomerForm, AssignedToRepair, PersonalInfoData, newProfileForm } from 'src/app/helper/form/customer-form.helper';\r\nimport { carMileageValidator, licensePlateValidator, newVehicleForm } from 'src/app/helper/form/vehicle-form.helper';\r\nimport { AddCustomerData, CustomerFormData, UpdateVehicleCaseData, VehicleFormData, VinGTMotiveModel } from 'src/app/model/chq-new-case-form.model';\r\nimport { Modules, UploadStepModel, uploadEventResult } from 'src/app/model/chq-upload-model';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { IControlValue } from 'src/app/model/chq-widgets-input-model';\r\nimport { caseDataMapper, caseResponseMapper, documentPartMapper, newCaseForm } from 'src/app/modules/quote/chq-new-cases/chq-new-customer/chq-new-customer-form-data-helper';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { CalendarService } from 'src/app/services/calendar/calendar.service';\r\nimport { CaseService } from 'src/app/services/case/case.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { CoreService } from 'src/app/services/core/core.service';\r\nimport { InspectionService } from 'src/app/services/inspection/inspection.service';\r\nimport { LabourRateService } from 'src/app/services/labour-rate/labour-rate.service';\r\nimport { MediaCollectionService } from 'src/app/services/media-collection/media-collection.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\nimport { SettingsService } from 'src/app/services/settings/settings.service';\r\nimport { VehicleService } from 'src/app/services/vehicle/vehicle.service';\r\nimport { ChqInputComponent } from 'src/app/widgets/chq-input/chq-input.component';\r\nimport { ApiPagination } from 'src/app/widgets/xa-paginator/xa-paginator.component';\r\nimport { ChqUploadComponent } from 'src/app/widgets/chq-upload/chq-upload.component';\r\nimport { AddBookingComponent } from './add-booking/add-booking.component';\r\nimport { DeliveryServiceComponent } from '../../../delivery-service/delivery-service.component';\r\nimport { NoShowComponent } from './no-show/no-show.component';\r\ndayjs.extend(utc)\r\n\r\n@Component({\r\n  selector: 'app-personal-info',\r\n  templateUrl: './personal-info.component.html',\r\n  styleUrls: [ './personal-info.component.scss' ]\r\n})\r\nexport class PersonalInfoComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  public formModel?: AddRepairCustomerForm;\r\n  public isFormConfirmed: boolean = false;\r\n  @ViewChild('companyOrg') companyOrg: ChqInputComponent;\r\n  @ViewChild('licenseId') licenseId: ChqInputComponent;\r\n  @ViewChild('driverPhone') driverPhone: ChqInputComponent;\r\n  @ViewChild('driverCode') driverCode: ChqInputComponent;\r\n  @ViewChild('orgType') orgType: ChqInputComponent;\r\n\r\n  @ViewChild('make') make: ChqInputComponent;\r\n  @ViewChild('model') model: ChqInputComponent;\r\n  @ViewChild('year') year: ChqInputComponent;\r\n  @ViewChild('mileage') mileage: ChqInputComponent;\r\n  @ViewChild('license') license: ChqInputComponent;\r\n  @ViewChild('regDate') regDate: ChqInputComponent;\r\n\r\n  @ViewChild('repairType') repairType: ChqInputComponent;\r\n  @ViewChild('bookingout') bookingOut: ChqInputComponent;\r\n  @ViewChild('serviceType') serviceType: ChqInputComponent;\r\n  @ViewChild('communicationChannel') communicationChannelControl: ChqInputComponent;\r\n\r\n  @ViewChild('chqUpload') chqUpload: ChqUploadComponent;\r\n\r\n  public inputDisabled: boolean = true;\r\n  public infoDisabled: boolean = true;\r\n  public searchDisabled: boolean = false;\r\n  private inspectionTemplateId: number = 0;\r\n  public makeDisabled: boolean = false;\r\n  public preventVinCall: boolean = false;\r\n  public modelDisabled: boolean = false;\r\n  public yearDisabled: boolean = false;\r\n  private caseId: string = '';\r\n  private umc: string = '';\r\n  public validVehicleFields: any = [];\r\n  public domainId: number;\r\n  public objectId: number;\r\n\r\n  public currentStep: UploadStepModel;\r\n\r\n  public towingDisabled: boolean = true;\r\n\r\n  private vinGTMotive: VinGTMotiveModel;\r\n  public repairId: string;\r\n  public status: string;\r\n  private statusId: string;\r\n  private vehicleId: string;\r\n  private startDate: string;\r\n  private endDate: string;\r\n  private labourData: any = null;\r\n  private inspections: any = null;\r\n  private nextUrl: string = '';\r\n\r\n  private originalVin: string = '';\r\n  public mediaTemplateId: number;\r\n\r\n  public repairResponse: any;\r\n  public isApiLoading = true;\r\n  public formCustomerDataFromResponse: AddCustomerData;\r\n  public mediaTemplate: any;\r\n  public mediaPartTemplates: any;\r\n  public documentSteps: any[] = [];\r\n  private countryId = 6;\r\n  private repairTypes: any = [];\r\n  private originalTariffObject: any = {};\r\n\r\n  private vinFromOCR: string = '';\r\n\r\n  public serviceTypeString: string = '';\r\n  public repairTypesString: string = '--';\r\n  public assigneeString: string = '--';\r\n\r\n  public mode: string = '';\r\n\r\n  public employeeRepairServiceType: any[] = [];\r\n  private previousCompetencies: number[] = [];\r\n\r\n  public isRepairCreatedFromCase: boolean = false;\r\n  public isTechnician: boolean = false;\r\n  public isDeliveryTypeEnable: boolean;\r\n  private initialPlateNumber = '';\r\n\r\n  subscriptions: Subscription[] = [];\r\n  dropChoiceSelected = false;\r\n  unAssignEmployeeDisabled = false;\r\n  claimNumberEditNotAllowedForRepairStatuses = claimNumberEditNotAllowedForRepairStatuses;\r\n\r\n  public deliveryServiceButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Delivery Details',\r\n    type: 'outline',\r\n    icon: 'view',\r\n    iconColor: 'black'\r\n  }\r\n\r\n  public cancelButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Cancel Booking',\r\n    type: 'outline-danger',\r\n    onclick: this.cancelBooking.bind(this)\r\n  }\r\n\r\n  public closeButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'file_a_claim',\r\n    type: 'primary',\r\n    onclick: this.closeForm.bind(this)\r\n  }\r\n\r\n  public bookingButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'save',\r\n    type: 'primary',\r\n    onclick: this.submitForm.bind(this)\r\n  }\r\n\r\n  public addBookingButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'add_booking',\r\n    type: 'primary',\r\n    onclick: this.openAddBooking.bind(this)\r\n  }\r\n\r\n  public chqUploadDrivingLicense: ChqWidgetsButtonModel = {\r\n    label: 'upload_license',\r\n    type: 'outline',\r\n    icon: 'camera',\r\n    iconColor: 'black'\r\n  }\r\n\r\n  public chqUploadRegistrationCard: ChqWidgetsButtonModel = {\r\n    label: 'upload_registration',\r\n    type: 'outline',\r\n    icon: 'camera',\r\n    iconColor: 'black'\r\n  }\r\n\r\n  public vehicleFormData: VehicleFormData = {\r\n    vin: '',\r\n    make: '',\r\n    model: '',\r\n    year: '',\r\n    carMilege: '',\r\n    licensePlate: '',\r\n    registrationDate: '',\r\n    manufacturingDate: '',\r\n    inspectionID: '',\r\n    inspectionGuid: '',\r\n    isVinSpecifiedManualZ: false,\r\n  }\r\n\r\n  public customerFormData: CustomerFormData = {\r\n    jobNumber: '',\r\n    companyOrgType: '',\r\n    claimNumber: '',\r\n    companyName: '',\r\n    tariffId: 0,\r\n    isTariffEditable: true,\r\n    licenseId: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    companyId: 0,\r\n    partnershipId: 0,\r\n    customerTypeID: 1,\r\n    driverCode: '',\r\n    driverPhone: 0,\r\n    carOwnerSelector: '',\r\n    email: ''\r\n  };\r\n\r\n  public personalInfoData: PersonalInfoData = {\r\n    customerData: this.customerFormData,\r\n    vehicleData: this.vehicleFormData,\r\n    serviceType: '',\r\n    serviceTypeId: 0,\r\n    repairTypes: null,\r\n    bookingInDate: '',\r\n    bookingOutDate: '',\r\n    towedIn: 'Not towed in',\r\n    notes: '',\r\n    communicationChannel: [],\r\n    assignedTo: '',\r\n    jobAllocation: false\r\n  }\r\n\r\n  public repairEmployees: AssignedToRepair[] = [];\r\n  public repairAssignedEmployees: any[] = [];\r\n  private selectedOptionRepairs: any[] = [];\r\n\r\n  private userPermission: any = {};\r\n  private estimateId: number;\r\n  private currentOrgId: number;\r\n  private initialBookingIn: any;\r\n  private countryCode: string;\r\n  private countryList: any[] = [];\r\n\r\n  public communicationForm = this.formBuilder.group({\r\n    communicationChannel: [ [], Validators.required ]\r\n  });\r\n\r\n  private isEdited: boolean = false;\r\n\r\n  /**\r\n * get is Retail\r\n */\r\n  get isRetailProvider(): boolean {\r\n    if (!this.customerFormData.companyOrgType) {\r\n      return false;\r\n    }\r\n    return this.customerFormData['companyOrgType'] === 'Retail';\r\n  }\r\n\r\n  /**\r\n   * show delete\r\n   */\r\n  get showDelete(): boolean {\r\n    if (!this.repairId || (this.repairId && this.status?.toLowerCase() === 'draft')) {\r\n      return true;\r\n    } else if (this.repairId && this.caseId && this.isRepairCreatedFromCase == true && this.status?.toLowerCase() == 'repairestimation') {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * get is Retail\r\n   */\r\n  get isRetailAndCompanyProvider(): boolean {\r\n    if (!this.customerFormData.companyOrgType) {\r\n      return false;\r\n    }\r\n    return this.customerFormData['companyOrgType'] !== 'Retail'\r\n      || (this.customerFormData['companyOrgType'] === 'Retail' && this.customerFormData['carOwnerSelector']\r\n        && this.customerFormData['carOwnerSelector'] !== 'Person');\r\n  }\r\n\r\n  /**\r\n   * get retail\r\n   */\r\n  get retail(): string {\r\n    if (!this.customerFormData.companyOrgType) {\r\n      return '';\r\n    }\r\n    return this.formModel.customerData.companyOrgType.selectedOption[this.formModel.customerData.companyOrgType.displayValue];\r\n  }\r\n\r\n  /**\r\n   * get current status\r\n   */\r\n  get currentStatus(): boolean {\r\n    if (!this.status && !this.isFormConfirmed) {\r\n      return true;\r\n    }\r\n    return [ 'draft', 'uploaddocuments', 'uploadphotos' ].indexOf(this.status?.toLowerCase()) !== -1\r\n      && !this.isFormConfirmed;\r\n  }\r\n\r\n  /**\r\n   * get current status\r\n   */\r\n  get repairNotApproved(): boolean {\r\n    return notApprovedStatuses.indexOf(this.status?.toLowerCase()) > -1;\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  get endDateGreaterThanstartDate(): boolean {\r\n    return new Date(new Date(this.formModel.bookingInDate.value).setSeconds(0)) > new Date(new Date(this.formModel.bookingOutDate.value).setSeconds(1))\r\n  }\r\n\r\n  /**\r\n * constructor\r\n * @param router\r\n */\r\n  constructor(\r\n    private router: Router,\r\n    public dialog: MatDialog,\r\n    public commonService: CommonService,\r\n    private monitorService: MonitorService,\r\n    private caseService: CaseService, private coreService: CoreService,\r\n    private vehicleService: VehicleService,\r\n    private route: ActivatedRoute,\r\n    private bookingService: BookingService,\r\n    private formBuilder: FormBuilder,\r\n    private inspectionService: InspectionService,\r\n    private mediaCollectionService: MediaCollectionService,\r\n    private settingService: SettingsService,\r\n    private labourService: LabourRateService,\r\n    private translateService: TranslateService,\r\n    private calendarService: CalendarService\r\n  ) {\r\n\r\n    if (this.commonService.repairGuid.closed) {\r\n      this.commonService.repairGuid = new BehaviorSubject<string>(null);\r\n    }\r\n    if (this.commonService.actionTriggered.closed) {\r\n      this.commonService.actionTriggered = new BehaviorSubject<string>(null);\r\n    }\r\n\r\n    if (this.commonService.labourData.closed) {\r\n      this.commonService.labourData = new BehaviorSubject<any>(null);\r\n    }\r\n\r\n    this.commonService.actionTriggered.subscribe({\r\n      next: (url) => {\r\n        if (url) {\r\n          if (this.checkForFormValidation()) {\r\n            this.nextUrl = url;\r\n            this.submitForm(url);\r\n          } else if (!this.isFormConfirmed) {\r\n            this.commonService.showToast(0, 'msg_booking_validation');\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    if (this.commonService.viewActionTriggeredBooking.closed) {\r\n      this.commonService.viewActionTriggeredBooking = new BehaviorSubject<string>(null);\r\n    }\r\n    this.commonService.viewActionTriggeredBooking.subscribe({\r\n      next: (tab) => {\r\n        if (tab) {\r\n          if (tab && typeof tab === 'string') {\r\n            if (tab.indexOf('?mode=edit') != -1) {\r\n              tab = tab.replace('?mode=edit', '');\r\n              this.router.navigate([ tab.replace('{bookingId}', this.repairId) ], { queryParams: { 'mode': 'edit' } });\r\n            } else {\r\n              this.router.navigate([ tab.replace('{bookingId}', this.repairId) ]);\r\n            }\r\n\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    const eventfromToastComponent$ = this.commonService.eventfromToastComponent$.subscribe((event: boolean) => {\r\n      if (event) {\r\n        this.monitorService.logEvent('eventfromToastComponent', [ 'PersonalInfoComponent', 'addenda-repair', {\r\n          repairId: this.repairId\r\n        } ]);\r\n\r\n        if (this.nextUrl && typeof this.nextUrl === 'string') {\r\n          this.router.navigate([ this.nextUrl.replace('{bookingId}', this.repairId) ]);\r\n        } else {\r\n          this.router.navigate([ '/repair/booking-journal' ]);\r\n        }\r\n      }\r\n    });\r\n\r\n    this.subscriptions.push(eventfromToastComponent$);\r\n\r\n    this.commonService.userProfileData.subscribe((res) => {\r\n      if (res && res.data) {\r\n        const { userPermission, organizationDetail, vehicleSourceType } = res.data;\r\n        this.userPermission = userPermission || {};\r\n        this.currentOrgId = organizationDetail.id;\r\n        this.countryCode = organizationDetail.countryCode;\r\n        this.estimateId = vehicleSourceType;\r\n      }\r\n    });\r\n\r\n    this.commonService.labourData.subscribe((res) => {\r\n      if (res) {\r\n        this.labourData = res;\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Set avaialable Communication methods\r\n   */\r\n  setCommunicationMethods(): void {\r\n    this.commonService.userProfileData?.subscribe((res) => {\r\n      const communicationPermissions: any[] = res?.data?.userPermission.orgPackages.find(el => el.automotiveServiceName === 'Communication Channel')?.permissions;\r\n      let permissionSearchStr = '~';\r\n      communicationPermissions?.forEach((el) => {\r\n        permissionSearchStr += el.permissionName.toLowerCase();\r\n      })\r\n      this.formModel.communicationChannel.options = this.formModel.communicationChannel.options.filter(item => permissionSearchStr.includes(item.label.toLowerCase()));\r\n    });\r\n  }\r\n\r\n  /**\r\n   * check gtEstimate permission\r\n   */\r\n  checkGTEstimatePermission(): boolean {\r\n    const { orgPackages = [] } = this.userPermission;\r\n    const repairEstimatePackage = orgPackages.filter((orgPackage: any) => {\r\n      return orgPackage.automotiveServiceName === 'Repair Estimate';\r\n    });\r\n\r\n    if (repairEstimatePackage && repairEstimatePackage.length > 0) {\r\n      const { permissions } = repairEstimatePackage[0];\r\n      const gtEstimatePermission = permissions.filter((perm: any) => {\r\n        return perm.permissionName === 'gt.estimate' || perm.permissionName === 'gt.estimate.vinquery';\r\n      });\r\n      if (gtEstimatePermission && gtEstimatePermission.length > 0) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * check gtEstimate permission\r\n   */\r\n  checkVINQueryPermission(): boolean {\r\n    const { orgPackages = [] } = this.userPermission;\r\n    const repairEstimatePackage = orgPackages.filter((orgPackage: any) => {\r\n      return orgPackage.automotiveServiceName?.toLowerCase() === 'vehicle identification';\r\n    });\r\n\r\n    if (repairEstimatePackage && repairEstimatePackage.length > 0) {\r\n      const { permissions } = repairEstimatePackage[0];\r\n      const vinCodingPermission = permissions.filter((perm: any) => {\r\n        return (perm.permissionName === 'gt.data.vincoding' || perm.permissionName === 'xa.data.vincoding');\r\n      });\r\n      if (vinCodingPermission && vinCodingPermission.length > 0) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * check route params\r\n   */\r\n  checkRouteParams(callback: () => void): void {\r\n    this.route.queryParams.subscribe((params) => {\r\n      if (params['caseId']) {\r\n        this.caseId = params['caseId'];\r\n      }\r\n\r\n      if (params['mode']) {\r\n        this.mode = params['mode'];\r\n      }\r\n\r\n      if (params['startDate'] && params['endDate']) {\r\n        this.startDate = params['startDate'];\r\n        this.endDate = params['endDate'];\r\n      }\r\n\r\n      callback();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * handle document upload\r\n   */\r\n  handleImageOutput($event: uploadEventResult | uploadEventResult[]): void {\r\n    const { file } = $event as uploadEventResult;\r\n    this.commonService.showLoading();\r\n    const obj = {\r\n      mediaCollectionId: this.mediaTemplate.collectionGuid,\r\n      domainId: this.domainId,\r\n      objectId: this.objectId,\r\n      mediaTemplateId: this.currentStep.templateGuid,\r\n      mediaPartTemplateId: this.currentStep.partTemplateGuid\r\n    }\r\n\r\n    this.monitorService.logEvent('handleImageOutput', [ 'PersonalInfoComponent', 'addenda-repair', {\r\n      obj\r\n    } ]);\r\n\r\n    this.currentStep.uploadInProgress = true;\r\n    this.currentStep.isSkipped = false;\r\n    this.currentStep.isUploadFailed = false;\r\n    this.currentStep.isUploadSuccess = false;\r\n    this.mediaCollectionService.uploadDocumentOCR(file, obj).subscribe({\r\n      next: (res: any): void => {\r\n        this.prefillDriverDetailsFromOcr(res?.ocrTags);\r\n        this.handleRegistrationPrefillOCR(res?.ocrTags);\r\n        if (this.currentStep.stepName.includes('Driving')) {\r\n          this.chqUploadDrivingLicense = { ...this.chqUploadDrivingLicense, label: 'Retake', icon: 'retake' }\r\n        } else {\r\n          this.chqUploadRegistrationCard = { ...this.chqUploadRegistrationCard, label: 'Retake', icon: 'retake' }\r\n        }\r\n      },\r\n      error: (err: any): void => {\r\n        this.monitorService.logException(err, SeverityLevel.Error);\r\n        this.commonService.hideLoading();\r\n      },\r\n      complete: (): void => this.commonService.hideLoading(),\r\n    });\r\n  }\r\n\r\n  /**\r\n   * map document\r\n   */\r\n  /**\r\n   * media template by id\r\n   */\r\n  getMediaTemplateByObject(): void {\r\n    this.mediaPartTemplates = this.commonService.getAllChild(this.mediaTemplate?.mediaTemplates, 'mediaPartTemplates', 'mediaTemplateGuid',\r\n      { 'parentProp': 'name', 'childProp': 'parentName' });\r\n    for (let i = 0; i < this.mediaPartTemplates.length; i++) {\r\n      const mediaPart = this.mediaPartTemplates[i];\r\n      if (mediaPart.name.includes('Vehicle Registration') && mediaPart.name.includes('Driving License')) {\r\n        continue;\r\n      }\r\n      const documentStep = documentPartMapper(mediaPart, i);\r\n      this.documentSteps.push({\r\n        ...documentStep, mandatory: mediaPart.mandatory, index: i,\r\n        parentName: mediaPart.parentName,\r\n        isFront: mediaPart.frontSide,\r\n        updatedDate: mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.updatedDate : '',\r\n        uploadedDate: mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.createdDate : '',\r\n        domainId: this.domainId, objectId: this.objectId,\r\n        sizeLimit: mediaPart.sizeLimit, allowExtension: mediaPart.allowExtension,\r\n        uploadedPartGuid: mediaPart.mediaPartGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.mediaPartGuid : '',\r\n        uploadedGuid: mediaPart.mediaGuid != '00000000-0000-0000-0000-000000000000' ? mediaPart.mediaGuid : '',\r\n        partTemplateGuid: mediaPart.mediaPartTemplateGuid, templateGuid: mediaPart['mediaTemplateGuid']\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * prefill from driver ocr\r\n   */\r\n  prefillDriverDetailsFromOcr(items: any): void {\r\n    if (items && items.length > 0) {\r\n      for (let i = 0; i < items.length; i++) {\r\n        const prefillObj = items[i];\r\n        prefillObj[prefillObj.key] = prefillObj.value;\r\n\r\n        if (prefillObj.Name) {\r\n          const names = prefillObj.Name.split(' ');\r\n          this.customerFormData.firstName = names[0];\r\n          this.formModel.customerData.firstName = {\r\n            ...this.formModel.customerData.firstName,\r\n            value: names[0],\r\n            selectedOption: {}\r\n          };\r\n          names.splice(0, 1);\r\n          this.customerFormData.lastName = names.join(' ');\r\n          this.formModel.customerData.lastName = {\r\n            ...this.formModel.customerData.lastName,\r\n            value: names.join(' '),\r\n            selectedOption: {}\r\n          };\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * prefill vehicle details\r\n   */\r\n  handleRegistrationPrefillOCR(tags: any[]): void {\r\n    this.resetVehicleDropdown(true);\r\n    this.vehicleFormData.vin = '';\r\n    this.formModel.vehicleData.vin = { ...this.formModel.vehicleData.vin, value: '' };\r\n\r\n    if (tags && tags.length > 0) {\r\n      for (let i = 0; i < tags.length; i++) {\r\n        const prefillObj = tags[i];\r\n        const value = prefillObj.value;\r\n        this.infoDisabled = false;\r\n        if (prefillObj.key.includes('Chassis')) {\r\n          this.vehicleFormData.vin = value;\r\n\r\n          this.formModel.vehicleData.vin = { ...this.formModel.vehicleData.vin, value: value };\r\n          this.searchDisabled = false;\r\n\r\n          this.preventVinCall = false;\r\n          this.vinFromOCR = value;\r\n          continue;\r\n        }\r\n        if (prefillObj.key.includes('Plate')) {\r\n          this.vehicleFormData.licensePlate = value;\r\n          this.inputDisabled = false;\r\n          this.formModel.vehicleData.licensePlate = { ...this.formModel.vehicleData.licensePlate, value: value };\r\n          continue;\r\n        }\r\n\r\n        if (prefillObj.key.includes('Make') || prefillObj.key.includes('Veh.')) {\r\n\r\n          if (this.countryId == 1) {\r\n            const vehicleMakeModel = value?.toString().trim().split(' ');\r\n            if (vehicleMakeModel?.length > 0) {\r\n              if (vehicleMakeModel?.length == 2) {\r\n                this.vehicleFormData.make = vehicleMakeModel[0];\r\n                this.vehicleFormData.model = vehicleMakeModel[1];\r\n              } else if (vehicleMakeModel?.length > 2) {\r\n\r\n                const specificVehicleList: string[] = [ 'ALFA ROMEO', 'MERCEDES BENZ', 'LAND ROVER' ];\r\n                if (specificVehicleList.includes(vehicleMakeModel[0] + ' ' + vehicleMakeModel[1])) {\r\n                  this.vehicleFormData.make = vehicleMakeModel[0] + ' ' + vehicleMakeModel[1];\r\n                  let modelName = '';\r\n                  for (let k = 2; k < vehicleMakeModel?.length; k++) {\r\n                    modelName += vehicleMakeModel[k] + ' ';\r\n                  }\r\n                  this.vehicleFormData.model = modelName.trim();\r\n                } else {\r\n                  this.vehicleFormData.make = vehicleMakeModel[0];\r\n                  let modelName = '';\r\n                  for (let k = 1; k < vehicleMakeModel?.length; k++) {\r\n                    modelName += vehicleMakeModel[k] + ' ';\r\n                  }\r\n                  this.vehicleFormData.model = modelName.trim();\r\n                }\r\n              } else {\r\n                this.vehicleFormData.make = vehicleMakeModel[0];\r\n              }\r\n            }\r\n            this.formModel.vehicleData.make = { ...this.formModel.vehicleData.make, selectedOption: { 'name': this.vehicleFormData.make } };\r\n            this.formModel.vehicleData.model = { ...this.formModel.vehicleData.model, selectedOption: { 'modelDescription': this.vehicleFormData.model } };\r\n            this.modelDisabled = false;\r\n          } else {\r\n            this.vehicleFormData.make = value;\r\n            this.formModel.vehicleData.make = { ...this.formModel.vehicleData.make, selectedOption: { 'name': value } };\r\n          }\r\n\r\n          this.inputDisabled = false;\r\n          this.makeDisabled = false;\r\n\r\n          continue;\r\n        }\r\n\r\n        if (prefillObj.key.includes('Manufacturer')) {\r\n          const splitedDate = value.split('/');\r\n          const date = `${splitedDate[2]}-${splitedDate[1]}-${splitedDate[0]}T00:00:00`;\r\n          this.vehicleFormData.registrationDate = date;\r\n          this.formModel.vehicleData.registrationDate = { ...this.formModel.vehicleData.registrationDate, value: date };\r\n          continue;\r\n        }\r\n\r\n        if (prefillObj.key.includes('Model')) {\r\n          if (this.countryId == 1) {\r\n            this.vehicleFormData.year = value\r\n            this.formModel.vehicleData.year = {\r\n              ...this.formModel.vehicleData.year,\r\n              selectedOption: { 'name': (value == '0') ? null : value }\r\n            };\r\n          } else {\r\n            this.vehicleFormData.model = value;\r\n            this.formModel.vehicleData.model = { ...this.formModel.vehicleData.model, selectedOption: { 'modelDescription': value } };\r\n          }\r\n\r\n          this.modelDisabled = false;\r\n          continue;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * check make model exist from ocr\r\n   */\r\n  checkMakeModelExistFromOCR(): void {\r\n    const make: any = this.formModel.vehicleData.make.selectedOption?.name;\r\n    //this.makeModelDictionary = {};\r\n    this.commonService.openAlertDialog(\r\n      'warning_header_ocr',\r\n      'warning_message_ocr'\r\n    );\r\n\r\n    if (make) {\r\n      this.vehicleFormData.isVinSpecifiedManualZ = true;\r\n      const makeExist: boolean = this.formModel.vehicleData.make.options?.some(q => q.name == make);\r\n\r\n      if (!makeExist) {\r\n        //this.formModel.vehicleData.make.options = [ ...this.formModel.vehicleData.make.options, { 'name': make } ];\r\n        //this.makeModelDictionary = { 'make': make, 'modelDescription': { 'modelDescription': this.formModel.vehicleData.model.selectedOption?.modelDescription, 'id': '' } };\r\n        if (this.countryId != 1) {\r\n          if (this.formModel.vehicleData.model.selectedOption?.modelDescription) {\r\n            this.formModel.vehicleData.year = {\r\n              ...this.formModel.vehicleData.year,\r\n              selectedOption: { 'id': '', 'name': '00- ' }\r\n            }\r\n\r\n            this.vehicleFormData['year'] = '00- ';\r\n          }\r\n        }\r\n      } else {\r\n        if (!this.formModel.vehicleData.model.selectedOption?.modelDescription || (!this.checkGTEstimatePermission())) {\r\n          //\r\n          const selectedMake = this.formModel.vehicleData.make.options?.find(q => q.name == make);\r\n\r\n          this.formModel.vehicleData.model = {\r\n            ...this.formModel.vehicleData.model,\r\n            observable: this.vehicleService.getVehicleModel(selectedMake.id, this.estimateId),\r\n            onObservableLoad: this.loadYears.bind(this)\r\n          };\r\n          setTimeout(() => {\r\n            this.model?.triggerObservable();\r\n          });\r\n          //\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * load import intervals\r\n   * @param items\r\n   */\r\n  loadYears(items: any): void {\r\n    this.enableDropdowns();\r\n\r\n    if (!items) {\r\n      return;\r\n    }\r\n    if (items && items.length > 0) {\r\n\r\n      this.formModel.vehicleData.model = { ...this.formModel.vehicleData.model, options: items };\r\n      if (this.formModel.vehicleData.model.selectedOption?.modelDescription) {\r\n\r\n        const model = this.formModel.vehicleData.model.options?.filter(q => q.modelDescription == this.formModel.vehicleData.model.selectedOption?.modelDescription);\r\n        if (model.length > 0) {\r\n          this.vehicleService.getVehicleYearByModel(model[0].id, this.estimateId)?.subscribe((data) => {\r\n            this.formModel.vehicleData.year = { ...this.formModel.vehicleData.year, options: data };\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * driving license click\r\n   */\r\n  handleDrivingLicenseVehicleUpload(isRegistration?: boolean): void {\r\n    let query = 'Driving License';\r\n    if (isRegistration) {\r\n      query = 'Vehicle Registration'\r\n    }\r\n\r\n    if (this.countryId === 1 && isRegistration) {\r\n      query += ' Back';\r\n    }\r\n\r\n    const selectedStep = this.documentSteps.filter((x: UploadStepModel) => {\r\n      return x.stepName.includes(query);\r\n    });\r\n    this.currentStep = selectedStep[0];\r\n    if (this.repairId || this.objectId) {\r\n      this.currentStep.objectId = this.objectId;\r\n      this.vinFromOCR = '';\r\n      this.chqUpload.triggerUpload();\r\n    } else {\r\n      this.commonService.hideLoading();\r\n      this.submitForm('', true, (): void => {\r\n        this.currentStep.objectId = this.objectId;\r\n        this.chqUpload.triggerUpload();\r\n        this.commonService.hideLoading();\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * upload driving license\r\n   */\r\n  handleDrivingLicenseClick(): void {\r\n    this.handleDrivingLicenseVehicleUpload();\r\n  }\r\n\r\n  /**\r\n   * uplod registration vehicle\r\n   */\r\n  handleRegistrationCardClick(): void {\r\n    this.handleDrivingLicenseVehicleUpload(true);\r\n  }\r\n\r\n  /**\r\n   * on init\r\n   */\r\n  ngOnInit(): void {\r\n    this.formModel = newProfileForm();\r\n    this.formModel = { ...this.formModel, customerData: newCaseForm(), vehicleData: newVehicleForm() };\r\n    this.formModel.vehicleData.vin.icon = '';\r\n\r\n    // this.formModel.bookingOutDate = {\r\n    //   ...this.formModel.bookingOutDate,\r\n    //   validation: {\r\n    //     name: 'bookingOutDate',\r\n    //     validationFunction: (): ValidatorFn => {\r\n    //       return Validators.compose([ bookingOutValidators(this.formModel.bookingInDate) ])\r\n    //     },\r\n    //     validationMessage: (error: ValidationErrors): string => {\r\n    //       if (error['required']) {\r\n    //         return 'required_date'\r\n    //       } else {\r\n    //         return 'bookingout_greater_msg'\r\n    //       }\r\n    //     }\r\n    //   }\r\n    // };\r\n\r\n    this.formModel.vehicleData.make = {\r\n      ...this.formModel.vehicleData.make,\r\n      validation: {\r\n        name: 'make',\r\n        validationFunction: (): ValidatorFn => {\r\n          return Validators.compose([])\r\n        }\r\n      }\r\n    }\r\n\r\n    this.formModel.vehicleData.model = {\r\n      ...this.formModel.vehicleData.model,\r\n      validation: {\r\n        name: 'model',\r\n        validationFunction: (): ValidatorFn => {\r\n          return Validators.compose([])\r\n        }\r\n      }\r\n    }\r\n\r\n    this.formModel.vehicleData.year = {\r\n      ...this.formModel.vehicleData.year,\r\n      validation: {\r\n        name: 'year',\r\n        validationFunction: (): ValidatorFn => {\r\n          return Validators.compose([])\r\n        }\r\n      }\r\n    }\r\n\r\n    this.formModel.bookingInDate = {\r\n      ...this.formModel.bookingInDate\r\n    }\r\n\r\n    this.formModel.communicationChannel = {\r\n      ...this.formModel.communicationChannel,\r\n      validation: {\r\n        name: 'communicationChannel',\r\n        validationFunction: (): ValidatorFn => {\r\n          return Validators.compose([])\r\n        }\r\n      }\r\n    }\r\n\r\n    this.inspectionService.getInspectionTemplateList().subscribe({\r\n      next: (inspectionList: any) => {\r\n        const repairInspectionTemplate = inspectionList?.data;\r\n        if (repairInspectionTemplate.length > 0) {\r\n          this.commonService.repairInspectionTemplate = repairInspectionTemplate[0];\r\n          this.inspectionTemplateId = repairInspectionTemplate[0].id\r\n        }\r\n      }\r\n    });\r\n\r\n    this.chqUploadDrivingLicense = { ...this.chqUploadDrivingLicense, onclick: this.handleDrivingLicenseClick.bind(this), type: 'disabled-outline' };\r\n    this.chqUploadRegistrationCard = {\r\n      ...this.chqUploadRegistrationCard, onclick: this.handleRegistrationCardClick.bind(this), type: 'disabled-outline'\r\n    }\r\n\r\n    if (!this.formModel.customerData.driverCode.observable) {\r\n      this.formModel.customerData.driverCode.observable = this.coreService.getPhoneNumber();\r\n      this.formModel.customerData.driverCode.onObservableLoad = this.onObservableLoad.bind(this);\r\n    }\r\n\r\n    this.mediaCollectionService.getMediaTemplate().subscribe({\r\n      next: (mediaTemplateResponse) => {\r\n        if (mediaTemplateResponse.data && mediaTemplateResponse.data.length > 0) {\r\n          const { id, collectionGuid } = mediaTemplateResponse.data[0];\r\n          this.domainId = 3100;\r\n          this.mediaTemplateId = id;\r\n          const detailResult = forkJoin({\r\n            mediaTemplateDetail: this.mediaCollectionService.getMediaTemplateById(collectionGuid)\r\n          }).pipe(\r\n            catchError(error => of(error))\r\n          )\r\n          detailResult.subscribe({\r\n            next: (resultMap) => {\r\n              if (resultMap.mediaTemplateDetail) {\r\n                const templateDetail = resultMap.mediaTemplateDetail;\r\n                this.mediaTemplate = templateDetail.data;\r\n                this.countryId = this.mediaTemplate.countryID;\r\n                this.mediaTemplate.mediaTemplates = this.mediaTemplate.mediaTemplates.sort((media: any, mediab: any) => {\r\n                  return media.orderNumber - mediab.orderNumber;\r\n                });\r\n                this.getMediaTemplateByObject();\r\n              }\r\n            }\r\n          })\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    this.checkRouteParams(() => {\r\n      const repairId = this.route.parent?.snapshot.paramMap.get('id');\r\n      this.setRequiredLabel();\r\n      this.getBookingRepairDetails(repairId);\r\n\r\n      if (!this.repairId) {\r\n        if (this.caseId) {\r\n          this.caseService.getCaseDetail(this.caseId).subscribe({\r\n            next: (caseData) => {\r\n              this.prefillCaseData(caseData);\r\n            }\r\n            , error: () => {\r\n              this.prefillVehicleData();\r\n            }\r\n          })\r\n        } else {\r\n          this.prefillVehicleData();\r\n        }\r\n      }\r\n    });\r\n\r\n    this.setCommunicationMethods();\r\n  }\r\n\r\n  /**\r\n   * after view init\r\n   */\r\n  ngAfterViewInit(): void {\r\n    if (!this.repairId) {\r\n      this.setValidatorForVehicle();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * set validator for vehicles\r\n  */\r\n  setValidatorForVehicle(): void {\r\n    this.mileage?.setValidatorForVehicle([ Validators.maxLength(7), Validators.pattern('^[0-9]+$'), carMileageValidator() ]);\r\n    this.license?.setValidatorForVehicle([ Validators.maxLength(12), Validators.pattern('^[a-zA-Z0-9]*$'), licensePlateValidator() ]);\r\n    this.regDate?.setValidatorForVehicle([]);\r\n  }\r\n\r\n  /**\r\n   * get booking repair details\r\n  */\r\n  getBookingRepairDetails(repairId: any): void {\r\n    const customerKeys = Object.keys(this.formModel.customerData);\r\n\r\n    if (repairId && repairId != '0') {\r\n      //load from repair\r\n      this.isApiLoading = true;\r\n      this.repairId = repairId;\r\n      this.loadRepair();\r\n    } else {\r\n      this.isApiLoading = false;\r\n      if (!this.caseId) {\r\n        this.getProvider();\r\n      }\r\n      for (const k in customerKeys) {\r\n        const key = customerKeys[k];\r\n        if (key !== 'driverCode') {\r\n          this.formModel.customerData[key] = {\r\n            ...this.formModel.customerData[key],\r\n            value: '',\r\n            selectedOption: {}\r\n          };\r\n        } else {\r\n          this.formModel.customerData[key] = {\r\n            ...this.formModel.customerData[key],\r\n            value: '',\r\n            selectedOption: { 'phoneCountryCode': this.countryCode ?? '+91' }\r\n          };\r\n          this.customerFormData.driverCode = this.countryCode ?? '+91';\r\n        }\r\n      }\r\n\r\n      this.populateDropdowns();\r\n\r\n      if (this.formModel.communicationChannel.options?.length > 0) {\r\n        setTimeout(() => {\r\n          this.communicationChannelControl?.setValidatorForControls([ Validators.required ]);\r\n        });\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * load repair data\r\n   */\r\n  async loadRepair(): Promise<void> {\r\n    const customerKeys = Object.keys(this.formModel.customerData);\r\n\r\n    this.commonService.showLoading();\r\n\r\n    this.bookingButtonModel.label = 'save';\r\n    await this.populateReadonlyFields().then((result: any) => {\r\n      this.repairResponse = result.data;\r\n      this.objectId = this.repairResponse.id;\r\n      // Added by Monu on 13 Oct after discussion with Yubaraj\r\n      this.isDeliveryTypeEnable = this.repairResponse.isDeliveryTypeEnable\r\n\r\n      this.status = this.repairResponse.status;\r\n      this.statusId = this.repairResponse.statusId;\r\n      this.vehicleId = this.repairResponse.vehicle?.vehicleId || '0';//this.repairResponse.vehicle?.id || '0';\r\n      this.initialPlateNumber = this.repairResponse.vehicle.licensePlateNumber;\r\n      this.isRepairCreatedFromCase = this.repairResponse.isRepairCreatedFromCase;\r\n\r\n      if (this.commonService.roleName?.toLowerCase() == 'technician') {\r\n        this.isTechnician = true;\r\n      }\r\n\r\n      this.inspections = {\r\n        inspectionGuid: this.repairResponse.vehicle?.inspectionGuid,\r\n        inspectionId: this.repairResponse.vehicle?.inspectionId\r\n      }\r\n      this.caseId = this.repairResponse.quoteId;\r\n\r\n      //tariff details\r\n      if (this.repairResponse.tariffs?.length > 0) {\r\n        this.labourData = this.repairResponse.tariffs[0];\r\n      }\r\n\r\n      this.originalTariffObject = {\r\n        'make': this.repairResponse.vehicle?.vehicleMake,\r\n        'partnershipId': this.repairResponse.customer?.partnershipId,\r\n        'registrationDate': dayjs(this.repairResponse.vehicle?.registrationDate).format('YYYY-MM-DDT00:00:00'),\r\n        'manufacturingDate': dayjs(this.repairResponse.vehicle?.manufacturingDate).format('YYYY-MM-DDT00:00:00'),\r\n      }\r\n      //\r\n\r\n      const inspections = this.repairResponse.inspections;\r\n      if (inspections?.length > 0) {\r\n        this.commonService.inspectionId.next(this.repairResponse.inspections[0].inspectionId);\r\n      }\r\n      this.commonService.bookingId.next(this.repairResponse.repairNumber);\r\n      this.commonService.repairGuid.next(this.repairResponse.repairGuid);\r\n      this.commonService.repairDetails.next(this.repairResponse);\r\n\r\n      this.customerFormData = caseDataMapper(this.repairResponse.customer);\r\n      for (const k in customerKeys) {\r\n        const obj = this.formModel.customerData[customerKeys[k]];\r\n        const { type, displayValue, fieldValue } = obj\r\n        if (this.customerFormData[customerKeys[k]]) {\r\n          if (type === 'select') {\r\n            const selectObj = {};\r\n            selectObj[displayValue] = '';\r\n            selectObj[fieldValue] = this.customerFormData[customerKeys[k]];\r\n\r\n            if (customerKeys[k] === 'companyOrgType') {\r\n              selectObj[displayValue] = this.customerFormData[customerKeys[k]];\r\n            }\r\n\r\n            this.formModel.customerData[customerKeys[k]] = {\r\n              ...this.formModel.customerData[customerKeys[k]],\r\n              value: '',\r\n              selectedOption: selectObj,\r\n              disabled: this.caseId || this.repairResponse?.source === 'Claim'\r\n                || this.isTechnician\r\n                || this.currentOrgId != this.repairResponse?.organizationDetail?.organizationId ? true : false\r\n            };\r\n          } else {\r\n            let selectedOption = {};\r\n            if (customerKeys[k] === 'companyName') {\r\n              selectedOption = { 'companyName': this.customerFormData[customerKeys[k]] }\r\n            }\r\n            this.formModel.customerData[customerKeys[k]] = {\r\n              ...this.formModel.customerData[customerKeys[k]],\r\n              value: this.customerFormData[customerKeys[k]],\r\n              selectedOption,\r\n              disabled: (customerKeys[k] === 'claimNumber' ? this.claimNumberEditNotAllowedForRepairStatuses.indexOf(this.repairResponse?.status?.toLowerCase()) !== -1 : this.caseId)\r\n                || this.repairResponse?.source === 'Claim'\r\n                || this.isTechnician\r\n                || this.currentOrgId != this.repairResponse?.organizationDetail?.organizationId ? true : false\r\n            };\r\n            if (this.isTechnician && customerKeys[k] === 'claimNumber') {\r\n              this.formModel.customerData[customerKeys[k]] = {\r\n                ...this.formModel.customerData[customerKeys[k]],\r\n                value: this.customerFormData[customerKeys[k]],\r\n                selectedOption,\r\n                disabled: true\r\n              };\r\n            }\r\n          }\r\n\r\n        }\r\n      }\r\n\r\n      if(this.repairResponse.status === 'RepairInProgress' || this.repairResponse.status === 'Complete') {\r\n        this.formModel.vehicleLocation = { ...this.formModel.vehicleLocation, readonly: true }\r\n      }\r\n\r\n      this.unAssignEmployeeDisabled = this.currentOrgId !== this.repairResponse?.organizationDetail?.organizationId;\r\n\r\n      this.populateVehicleData();\r\n      this.populateBookingData();\r\n\r\n    }).catch(() => {\r\n      this.commonService.hideLoading();\r\n    });\r\n\r\n    this.isApiLoading = false;\r\n\r\n    //uncomment once the readonly mode has to be restored again.\r\n    // if (this.repairId && this.repairId != '0' && this.mode != 'edit') {\r\n    //   //this.isApiLoading = false;\r\n\r\n    //   setTimeout(() => {\r\n    //     this.setValidatorForVehicle();\r\n    //   });\r\n\r\n    //   this.isFormConfirmed = true;\r\n\r\n    //   this.setMode();\r\n\r\n    //   return;\r\n    // }\r\n\r\n    if (this.formModel.communicationChannel.options?.length > 0) {\r\n      setTimeout(() => {\r\n        this.communicationChannelControl?.setValidatorForControls([ Validators.required ]);\r\n      });\r\n    }\r\n\r\n    if (this.currentStatus && this.currentOrgId === this.repairResponse?.organizationDetail?.organizationId) {\r\n      this.getProvider();\r\n    }\r\n\r\n    await this.populateDropdowns();\r\n\r\n    this.checkForFormValidation();\r\n\r\n    this.checkWorkProvider();\r\n\r\n    if (this.currentOrgId != this.repairResponse?.organizationDetail?.organizationId) {\r\n      this.disableAll();\r\n    }\r\n\r\n    if (this.status?.toLowerCase() == 'complete') {\r\n      this.bookingButtonModel.type = 'disabled';\r\n    }\r\n\r\n    if(this.mode == 'booking') {\r\n      this.openAddBooking();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * populate readonly fields\r\n   */\r\n  public async populateReadonlyFields(): Promise<any> {\r\n    if (this.repairId && this.repairId != '0') {\r\n      this.commonService.showLoading();\r\n      return firstValueFrom(this.bookingService.getRepairDetailByGuid(this.repairId));\r\n    }\r\n  }\r\n\r\n  /**\r\n *\r\n * @returns\r\n */\r\n  public async getBookingData(): Promise<any> {\r\n    if (this.repairId && this.repairId != '0') {\r\n      this.commonService.showLoading();\r\n      return firstValueFrom(this.bookingService.getRepairBooking(this.repairId));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * populate booking data\r\n   */\r\n  async populateBookingData(): Promise<void> {\r\n\r\n    await this.getBookingData().then((result: any) => {\r\n      result?.data?.forEach((booking) => {\r\n\r\n        const bookingData: any = {\r\n          bookingId: booking.id,\r\n          bookingGuid: booking.bookingGuid,\r\n          bookingTypeId: booking.typeId,\r\n          bookingTypeName: booking.typeName,\r\n          startDate: dayjs.utc(booking.startDate).local().format(),\r\n          endDate: dayjs.utc(booking.endDate).local().format(),\r\n        };\r\n        this.dataSource.push(bookingData);\r\n\r\n        if(![ 'repair', 'bookingin', 'bookingout' ].includes(booking.typeName.toLowerCase())) {\r\n          this.employeeRepairServiceType.push({\r\n            'assignees': booking.assignees,\r\n            'typeId': booking.typeId,\r\n            'name': booking.typeName,\r\n            'type': 'booking'\r\n          });\r\n        }\r\n      });\r\n\r\n      this.dataSource = [ ...this.dataSource ];\r\n\r\n      const selectedOptions = [];\r\n      const repairTypesArray: Array<string> = [];\r\n\r\n      this.repairResponse.repairServiceTypes.forEach((serviceType) => {\r\n        selectedOptions.push({\r\n          'id': serviceType.repairServiceTypeId,\r\n          'name': serviceType.repairServiceType\r\n        });\r\n\r\n        this.employeeRepairServiceType.push({\r\n          'assignees': serviceType.employees,\r\n          'typeId': serviceType.repairServiceTypeId,\r\n          'name': serviceType.repairServiceType,\r\n          'type': 'repair'\r\n        });\r\n\r\n        this.repairTypes.push({\r\n          'id': serviceType.repairServiceTypeId,\r\n          'name': serviceType.repairServiceType\r\n        });\r\n\r\n        repairTypesArray.push(serviceType.repairServiceType);\r\n      });\r\n\r\n      this.repairTypesString = repairTypesArray.join(',');\r\n      this.formModel.repairTypes = {\r\n        ...this.formModel.repairTypes, selectedOption: selectedOptions,\r\n        disabled: !!(repairEstimatedStatuses.indexOf(this.repairResponse?.status?.toLowerCase()) > -1 || this.isTechnician)\r\n      }\r\n\r\n      this.formModel.bookingInDate = {\r\n        ...this.formModel.bookingInDate, value: this.repairResponse.startDate,\r\n        disabled: !!(repairStartedStatuses.indexOf(this.repairResponse?.status?.toLowerCase()) !== -1 || this.isTechnician || selectedOptions.length < 1)\r\n      };\r\n      this.formModel.bookingOutDate = {\r\n        ...this.formModel.bookingOutDate, value: this.repairResponse.endDate,\r\n        disabled: !!((this.status?.toLowerCase() === 'complete' || this.isTechnician || selectedOptions.length < 1 || this.repairResponse.isPickedUp || this.repairResponse.deliveryDTO))\r\n      };\r\n\r\n      this.formModel.notes = {\r\n        ...this.formModel.notes,\r\n        value: this.repairResponse.notes || '',\r\n        disabled: (this.status?.toLowerCase() === 'complete' || this.isTechnician) ? true : false\r\n      }\r\n      this.formModel.isDeliveryTypeEnable = {\r\n        ...this.formModel.isDeliveryTypeEnable, value: (this.repairResponse.isDeliveryTypeEnable),\r\n        options: [ {\r\n          ...this.formModel.isDeliveryTypeEnable.options[0],\r\n          checked: this.repairResponse.isDeliveryTypeEnable,\r\n          disabled: !!((this.repairResponse.deliveryDTO?.hasOwnProperty('deliveryDate') || this.status?.toLowerCase() === 'complete' || this.isTechnician || !(this.formModel.bookingInDate.value && this.formModel.bookingOutDate.value)))\r\n        } ],\r\n      }\r\n\r\n      this.formModel.towedIn = {\r\n        ...this.formModel.towedIn, value: (this.repairResponse.isTowingNeeded) ? 'Towed In/Non-Drivable' : 'Not Towed In',\r\n        disabled: !!((this.status?.toLowerCase() === 'complete' || this.isTechnician))\r\n      }\r\n\r\n      this.formModel.communicationChannel = {\r\n        ...this.formModel.communicationChannel, value: this.repairResponse.communicationTypeIds,\r\n        disabled: !!((this.status?.toLowerCase() === 'complete' || this.isTechnician))\r\n      };\r\n      this.formModel.communicationChannel.options.forEach((option) => {\r\n\r\n        if ((this.formModel.communicationChannel.value as any).some(q => q == option.value)) {\r\n          option.checked = true;\r\n        } else {\r\n          option.checked = false;\r\n        }\r\n      });\r\n\r\n      this.communicationForm.get('communicationChannel').setValue(this.formModel.communicationChannel.value as any);\r\n\r\n      //assigned employee\r\n      this.formModel.jobAllocation = {\r\n        ...this.formModel.jobAllocation, value: this.repairResponse.isJobAssignationRequired,\r\n        disabled: (this.status?.toLowerCase() === 'complete' || this.isTechnician) ? true : false\r\n      };\r\n\r\n      if (this.formModel.jobAllocation.options.length) {\r\n        this.formModel.jobAllocation.options[0].checked = this.repairResponse.isJobAssignationRequired;\r\n      }\r\n\r\n      this.personalInfoData = {\r\n        ...this.personalInfoData,\r\n        bookingInDate: this.repairResponse.startDate,\r\n        bookingOutDate: this.repairResponse.endDate,\r\n        communicationChannel: this.repairResponse.communicationTypeIds,\r\n        jobAllocation: this.repairResponse.isJobAssignationRequired,\r\n        repairTypes: (this.repairTypes?.length > 0) ? this.repairTypes : null\r\n      }\r\n      this.getEmployeePerRepair();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * populateVehicleData\r\n   */\r\n  populateVehicleData(): void {\r\n    const vehicleLocation = this.repairResponse?.vehicleLocation ?? 1;\r\n    if (this.repairResponse.vehicle) {\r\n      const { vinNumber, licensePlateNumber, vehicleMileage, registrationDate, manufacturingDate,\r\n        vehicleMake, vehicleModel, modelYear, inspectionId, inspectionGuid, umc, id, modelYearRange, isVinSpecifiedManualZ } = this.repairResponse.vehicle;\r\n\r\n      if (id != 0) {\r\n        this.infoDisabled = false;\r\n        this.searchDisabled = false;\r\n        this.inputDisabled = false;\r\n        //this.preventVinCall = true;\r\n        this.originalVin = vinNumber;\r\n      }\r\n\r\n      if (!this.currentStatus || this.isTechnician) {\r\n        this.infoDisabled = true;\r\n      }\r\n\r\n      this.formModel.vehicleData.vin = {\r\n        ...this.formModel.vehicleData.vin, value: vinNumber,\r\n        disabled: this.caseId || this.isTechnician || this.repairResponse?.source === 'Claim' ? true : false\r\n      };\r\n      this.formModel.vehicleData.licensePlate = {\r\n        ...this.formModel.vehicleData.licensePlate, value: licensePlateNumber,\r\n        disabled: this.caseId || this.isTechnician || this.repairResponse?.source === 'Claim' ? true : false\r\n      };\r\n      this.formModel.vehicleData.carMilege = {\r\n        ...this.formModel.vehicleData.carMilege, value: vehicleMileage,\r\n        disabled: this.caseId || this.isTechnician ? true : false\r\n      };\r\n      this.formModel.vehicleData.registrationDate = {\r\n        ...this.formModel.vehicleData.registrationDate, value: registrationDate,\r\n        disabled: this.caseId || this.isTechnician ? true : false\r\n      };\r\n      this.formModel.vehicleData.manufacturingDate = {\r\n        ...this.formModel.vehicleData.manufacturingDate, value: manufacturingDate,\r\n        disabled: this.caseId || this.isTechnician ? true : false\r\n      };\r\n\r\n      this.formModel.vehicleData.make = {\r\n        ...this.formModel.vehicleData.make, selectedOption: { 'name': vehicleMake },\r\n        disabled: this.caseId || this.isTechnician || this.repairResponse?.source === 'Claim' ? true : false\r\n      };\r\n      this.formModel.vehicleData.year = {\r\n        ...this.formModel.vehicleData.year, selectedOption: { 'name': (modelYearRange == '0') ? null : modelYearRange },\r\n        disabled: this.caseId || this.isTechnician ? true : false\r\n      };\r\n      this.formModel.vehicleData.model = {\r\n        ...this.formModel.vehicleData.model,\r\n        selectedOption: {\r\n          'modelDescription': vehicleModel\r\n        },\r\n        disabled: this.caseId || this.isTechnician || this.repairResponse?.source === 'Claim' ? true : false\r\n      };\r\n      this.formModel.vehicleLocation = { ...this.formModel.vehicleLocation, value: this.formModel.vehicleLocation.options.filter(item => item.id === vehicleLocation)[0].label };\r\n\r\n      this.umc = umc;\r\n\r\n      if (inspectionId) {\r\n        this.commonService.inspectionId.next(inspectionId);\r\n      }\r\n\r\n      this.vehicleFormData = {\r\n        ...this.vehicleFormData, vin: vinNumber, make: vehicleMake, model: vehicleModel,\r\n        year: modelYear || modelYearRange, carMilege: vehicleMileage,\r\n        licensePlate: licensePlateNumber, registrationDate: registrationDate, manufacturingDate: manufacturingDate, inspectionGuid: inspectionGuid,\r\n        inspectionID: inspectionId, isVinSpecifiedManualZ: isVinSpecifiedManualZ\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * prefill case Data\r\n   */\r\n  prefillCaseData(prefillCaseObj: any): void {\r\n    if (prefillCaseObj) {\r\n      const formDataFromResponse = caseResponseMapper(prefillCaseObj.data);\r\n      this.customerFormData = caseDataMapper(formDataFromResponse);\r\n      const keys = Object.keys(this.formModel.customerData);\r\n      this.customerFormData['tariffId'] = prefillCaseObj.data.tariffs[0].tariffId;\r\n      this.customerFormData.partnershipId = prefillCaseObj.data.tariffs[0].partnershipId;\r\n      this.labourData = prefillCaseObj.data.tariffs[0];\r\n      this.status = prefillCaseObj.data.status;\r\n      for (const k in keys) {\r\n        const obj = this.formModel.customerData[keys[k]];\r\n        const { type, displayValue, fieldValue } = obj\r\n        if (this.customerFormData[keys[k]]) {\r\n          if (type === 'select') {\r\n            const selectObj = {};\r\n            selectObj[displayValue] = '';\r\n            selectObj[fieldValue] = this.customerFormData[keys[k]];\r\n            if (keys[k] === 'companyOrgType') {\r\n              selectObj[displayValue] = this.customerFormData[keys[k]];\r\n            }\r\n            this.formModel.customerData[keys[k]] = {\r\n              ...this.formModel.customerData[keys[k]],\r\n              value: '',\r\n              selectedOption: selectObj,\r\n              disabled: true\r\n            };\r\n          } else {\r\n            let selectedOption = {};\r\n            if (keys[k] === 'companyName') {\r\n              selectedOption = { 'companyName': this.customerFormData[keys[k]] }\r\n            }\r\n            this.formModel.customerData[keys[k]] = {\r\n              ... this.formModel.customerData[keys[k]],\r\n              value: this.customerFormData[keys[k]],\r\n              selectedOption,\r\n              disabled: keys[k] === 'claimNumber' ? this.claimNumberEditNotAllowedForRepairStatuses.indexOf(this.repairResponse?.status?.toLowerCase()) !== -1 : true\r\n            };\r\n\r\n            if (this.isTechnician && keys[k] === 'claimNumber') {\r\n              this.formModel.customerData[keys[k]] = {\r\n                ...this.formModel.customerData[keys[k]],\r\n                value: this.customerFormData[keys[k]],\r\n                selectedOption,\r\n                disabled: true\r\n              };\r\n            }\r\n          }\r\n\r\n        }\r\n      }\r\n      const selectedItem = this.countryList.filter((it: any) => {\r\n        return it.phoneCountryCode === this.formModel.customerData.driverCode.selectedOption?.phoneCountryCode;\r\n      });\r\n      if (selectedItem.length > 0) {\r\n        const output = selectedItem[0];\r\n        const validationPattern = output['regExpression'];\r\n        this.formModel.customerData.driverPhone.formControl.setValidators([ Validators.pattern(validationPattern) ])\r\n      }\r\n      \r\n      const selectedOptions = [];\r\n      const repairTypesArray: Array<string> = [];\r\n      prefillCaseObj?.data?.serviceTypeIds?.forEach((serviceType) => {\r\n        selectedOptions.push({\r\n          'id': serviceType.serviceTypeId,\r\n          'name': serviceType.serviceTypeName\r\n        });\r\n\r\n        this.repairTypes.push({\r\n          'id': serviceType.serviceTypeId,\r\n          'name': serviceType.serviceTypeName\r\n        });\r\n\r\n        repairTypesArray.push(serviceType.serviceTypeName);\r\n      });\r\n      this.repairTypesString = repairTypesArray.join(',');\r\n      this.formModel.repairTypes = {\r\n        ...this.formModel.repairTypes, selectedOption: selectedOptions,\r\n        disabled: true\r\n      }\r\n\r\n      this.formModel.bookingInDate = {\r\n        ...this.formModel.bookingInDate,\r\n        disabled: false\r\n      };\r\n      this.formModel.bookingOutDate = {\r\n        ...this.formModel.bookingOutDate,\r\n        disabled: false\r\n      };\r\n      this.checkWorkProvider();\r\n      this.processVehicleData(prefillCaseObj);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * process\r\n   */\r\n  public async processVehicleData(result: any): Promise<void> {\r\n\r\n    if (result.data == null) {\r\n      this.commonService.hideLoading();\r\n      return;\r\n    }\r\n\r\n    const vehicleId = result.data.vehicleId || 0;\r\n    const inspections = result.data.inspections;\r\n\r\n    const { inspectionId, inspectionGuid } = (inspections?.length > 0) ? inspections[0] : [];\r\n\r\n    this.vehicleId = vehicleId;\r\n\r\n    const { vinNumber, licensePlateNumber, vehicleMileage, registrationDate,\r\n      vehicleMake, vehicleModel, modelYear, umc } = result.data;\r\n\r\n    if (vehicleId != 0) {\r\n      this.infoDisabled = false;\r\n      this.searchDisabled = false;\r\n      this.inputDisabled = false;\r\n      this.preventVinCall = true;\r\n\r\n      /*if(this.currentStatus && !this.isFormConfirmed) {\r\n          this.vehicleService.getVinDecoder(vinNumber).subscribe({\r\n            next: (result: any) => {\r\n              if (result?.success) {\r\n                this.makeDisabled = true;\r\n              }else {\r\n                this.makeDisabled = false;\r\n              }\r\n            }\r\n          });\r\n        }*/\r\n    }\r\n\r\n    this.formModel.vehicleData.vin = { ...this.formModel.vehicleData.vin, value: vinNumber, disabled: true };\r\n    this.formModel.vehicleData.licensePlate = { ...this.formModel.vehicleData.licensePlate, value: licensePlateNumber, disabled: true };\r\n    this.formModel.vehicleData.carMilege = { ...this.formModel.vehicleData.carMilege, value: vehicleMileage, disabled: true };\r\n    this.formModel.vehicleData.registrationDate = { ...this.formModel.vehicleData.registrationDate, value: registrationDate, disabled: true };\r\n    this.formModel.vehicleData.make = { ...this.formModel.vehicleData.make, selectedOption: { 'name': vehicleMake }, disabled: true };\r\n    this.formModel.vehicleData.year = {\r\n      ...this.formModel.vehicleData.year, disabled: true,\r\n      selectedOption: { 'name': modelYear || result.data.modelYearRange }\r\n    };\r\n    this.formModel.vehicleData.model = {\r\n      ...this.formModel.vehicleData.model, selectedOption: { 'modelDescription': vehicleModel },\r\n      disabled: true\r\n    };\r\n\r\n    this.umc = umc;\r\n\r\n    this.vehicleFormData = {\r\n      ...this.vehicleFormData, vin: vinNumber, make: vehicleMake, model: vehicleModel,\r\n      year: modelYear || result.data.modelYearRange, carMilege: vehicleMileage,\r\n      licensePlate: licensePlateNumber, registrationDate: registrationDate, vehicleId,\r\n      inspectionGuid: inspectionGuid, inspectionID: inspectionId\r\n    }\r\n\r\n    this.commonService.hideLoading();\r\n\r\n    await this.populateDropdowns();\r\n  }\r\n\r\n  /**\r\n   * update button\r\n   */\r\n  public async updateButton(): Promise<void> {\r\n\r\n    this.monitorService.logEvent('updateButton', [ 'PersonalInfoComponent', 'addenda-repair', {\r\n      repairId: this.repairId\r\n    } ]);\r\n\r\n    this.isFormConfirmed = !this.isFormConfirmed;\r\n\r\n    const mode = this.isFormConfirmed ? 'text' : 'value';\r\n    this.setMode(mode);\r\n\r\n    if (this.bookingButtonModel.label.toLowerCase() == 'edit booking') {\r\n      this.preventVinCall = true;\r\n\r\n      if (this.vehicleFormData.vin) {\r\n        this.vehicleService.getVinDecoder(this.vehicleFormData.vin).subscribe({\r\n          next: (result: any) => {\r\n            if (result?.success) {\r\n              this.makeDisabled = true;\r\n            } else {\r\n              this.makeDisabled = false;\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      await this.populateDropdowns();\r\n    }\r\n\r\n    this.bookingButtonModel = {\r\n      ...this.bookingButtonModel, label: this.isFormConfirmed ? 'Edit Booking' : 'Save',\r\n      type: this.isFormConfirmed ? 'outline' : 'primary', icon: this.isFormConfirmed ? 'edit' : ''\r\n    };\r\n  }\r\n\r\n  /**\r\n   * open document\r\n   */\r\n  openDocument(): void {\r\n    const defaultPagination: ApiPagination = {\r\n      offset: 0,\r\n      pageSize: 1,\r\n      maxPageButtons: 6,\r\n      currentPage: 1,\r\n      orderBy: 'CreatedDate',\r\n      sortDirection: 'asc'\r\n    }\r\n    this.caseService.getCases(defaultPagination).subscribe((cases: any) => {\r\n      if (cases && cases.value && cases.value.length) {\r\n        const { CaseGuid } = cases.value[0];\r\n        this.router.navigate([ `repair/booking/${CaseGuid}/document` ],\r\n          { queryParams: { fromPersonal: true } });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * add vehicle\r\n   */\r\n  public async addVehicle(): Promise<any> {\r\n    const formData: any = {\r\n      'vin': this.vehicleFormData.vin,\r\n      'vehicleCountryId': 1,\r\n      'umc': this.umc,\r\n      'make': this.vehicleFormData.make,\r\n      'model': this.vehicleFormData.model,\r\n      'mileage': Number(this.vehicleFormData.carMilege),\r\n      'firstRegistrationDate': this.vehicleFormData.registrationDate ? dayjs(this.vehicleFormData.registrationDate).format('YYYY-MM-DDT00:00:00') : null,\r\n      'manufacturingDate': this.vehicleFormData.manufacturingDate ? dayjs(this.vehicleFormData.manufacturingDate).format('YYYY-MM-DDT00:00:00') : null,\r\n      'registrationNumber': this.vehicleFormData.licensePlate,\r\n      'condition': 1,\r\n      'ModelYearRange': this.vehicleFormData.year,\r\n      'InspectionTemplateId': this.inspectionTemplateId,\r\n      'CustomerName': this.customerFormData.firstName,\r\n      'CustomerEmail': this.customerFormData.email\r\n    }\r\n\r\n    return firstValueFrom(this.vehicleService.addVehicle(formData, 3100, 0)).then((result: any) => {\r\n      if (result) {\r\n        this.vehicleId = result.id;\r\n        this.vehicleFormData.inspectionID = result.inspectionId;\r\n        this.vehicleFormData.inspectionGuid = result.inspectionGuid;\r\n      }\r\n    }).catch((err) => {\r\n      this.commonService.hideLoading();\r\n      throw err;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * prefill search data\r\n   */\r\n  setPrefillData(items: any): void {\r\n    const prefillData = this.commonService.getSessionStorage('selectedSearchItem');\r\n    if (this.caseId) {\r\n      return;\r\n    }\r\n    if (prefillData) {\r\n      const prefillObj: any = JSON.parse(prefillData);\r\n      this.formModel.customerData.email = {\r\n        ...this.formModel.customerData.email,\r\n        value: prefillObj.email,\r\n        selectedOption: {}\r\n      };\r\n      this.customerFormData.email = prefillObj.email;\r\n      if (prefillObj.firstName) {\r\n        this.customerFormData.firstName = prefillObj.firstName;\r\n        this.formModel.customerData.firstName = {\r\n          ...this.formModel.customerData.firstName,\r\n          value: this.customerFormData.firstName,\r\n          selectedOption: {}\r\n        };\r\n      }\r\n\r\n      if (prefillObj.lastName) {\r\n        this.customerFormData.lastName = prefillObj.lastName;\r\n        this.formModel.customerData.lastName = {\r\n          ...this.formModel.customerData.lastName,\r\n          value: this.customerFormData.lastName,\r\n          selectedOption: {}\r\n        };\r\n      }\r\n\r\n      if (prefillObj.phoneNumber) {\r\n        const code = prefillObj.phoneNumber?.substring(0, 3);\r\n        const code1 = prefillObj.phoneNumber?.substring(0, 4);\r\n        let currentPhoneNumber = '';\r\n        let selectedItem = items.filter((it: any) => {\r\n          return it.phoneCountryCode === code;\r\n        });\r\n        if (selectedItem.length === 0) {\r\n          currentPhoneNumber = prefillObj.phoneNumber?.substring(4, prefillObj.phoneNumber?.length);\r\n          selectedItem = items.filter((it: any) => {\r\n            return it.phoneCountryCode === code1;\r\n          });\r\n        } else {\r\n          currentPhoneNumber = prefillObj.phoneNumber?.substring(3, prefillObj.phoneNumber?.length);\r\n        }\r\n        if (selectedItem.length > 0) {\r\n          const output = selectedItem[0];\r\n          const validationPattern = output['regExpression'];\r\n          this.customerFormData.driverCode = output?.phoneCountryCode;\r\n          this.formModel.customerData.driverCode = { ...this.formModel.customerData.driverCode, selectedOption: output };\r\n          this.driverPhone?.updateCurrentValidation(validationPattern, true);\r\n        }\r\n        this.formModel.customerData.driverPhone = {\r\n          ...this.formModel.customerData.driverPhone,\r\n          value: currentPhoneNumber,\r\n          selectedOption: {}\r\n        }\r\n        this.customerFormData.driverPhone = parseInt(currentPhoneNumber);\r\n      }\r\n      if (prefillObj.email || prefillObj.phoneNumber || prefillObj.firstName) {\r\n        this.commonService.setSessionStorage('selectedSearchItem', '');\r\n      }\r\n\r\n      this.generalSearchSourceObjectid = prefillObj.sourceObjectId;\r\n    }\r\n  }\r\n\r\n  public generalSearchSourceObjectid: number = 0;\r\n\r\n  /**\r\n   * set required label\r\n   */\r\n  setRequiredLabel(): void {\r\n    const nonRequiredFields = [ 'notes', 'repairtypes', 'claimnumber', 'bookingindate', 'bookingoutdate' ];\r\n    Object.keys(this.formModel).forEach((key) => {\r\n      if (key.toLowerCase() == 'customerdata' || key.toLowerCase() == 'vehicledata') {\r\n        Object.keys(this.formModel[key]).forEach((key1) => {\r\n\r\n          if (key.toLowerCase() == 'vehicledata') {\r\n            this.formModel[key][key1].required = false;\r\n          } else if (!nonRequiredFields.includes(key1.toLowerCase())) {\r\n            this.formModel[key][key1].required = true;\r\n          }\r\n        });\r\n      } else {\r\n        if (!nonRequiredFields.includes(key.toLowerCase())) {\r\n          this.formModel[key].required = true;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * disable all fields\r\n   */\r\n  disableAll(): void {\r\n    Object.keys(this.formModel).forEach((key) => {\r\n      if (key.toLowerCase() == 'customerdata' || key.toLowerCase() == 'vehicledata') {\r\n        Object.keys(this.formModel[key]).forEach((key1) => {\r\n          this.formModel[key][key1].disabled = true;\r\n        });\r\n      } else {\r\n        this.formModel[key].disabled = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * populate make, year, model dropdowns\r\n   */\r\n  public async populateDropdowns(): Promise<void> {\r\n\r\n    if (!this.formModel.customerData.driverCode.observable) {\r\n      this.formModel.customerData.driverCode = {\r\n        ...this.formModel.customerData.driverCode,\r\n        observable: this.coreService.getPhoneNumber(), onObservableLoad: this.onObservableLoad.bind(this)\r\n      }\r\n    }\r\n\r\n    const serviceTypes = await firstValueFrom(this.settingService.getBookingTypes());\r\n    const repair = await firstValueFrom(this.settingService.getRepairTypes());\r\n\r\n    const bookingTypes = serviceTypes?.data?.bookingTypes;\r\n    let repairTypes = repair?.data?.repairServiceTypes;\r\n\r\n    if (bookingTypes && bookingTypes.length > 0) {\r\n      this.formModel.serviceType = { ...this.formModel.serviceType, options: bookingTypes };\r\n      //booking types from previous booking if already been disabled for the new bookings\r\n\r\n      // if (this.repairId && !this.formModel.serviceType.options?.some(q => q.id == this.repairResponse?.repairTypeId)) {\r\n      //   const setting = await firstValueFrom(this.settingService.getAllSettings());\r\n      //   const settingBookingType = setting?.data?.BookingTypes;\r\n      //   const missingBookingType = settingBookingType.find(q => q.id == this.repairResponse.repairTypeId);\r\n      //   if (missingBookingType) {\r\n      //     this.formModel.serviceType.options.push(missingBookingType);\r\n      //   }\r\n\r\n\r\n      //   const existingRepairTypes = this.formModel.repairTypes?.selectedOption;\r\n      //   repairTypes = (setting?.data?.RepairType[0].RepairTypes?.length) ?\r\n      //     setting.data?.RepairType[0].RepairTypes?.filter(q => !existingRepairTypes?.map(x => x.id).includes(q.id)) : null;\r\n      //   repairTypes = [ ...repairTypes, ...existingRepairTypes ];\r\n      //   repairTypes.sort((a, b) => a.id < b.id ? -1 : a.id > b.id ? 1 : 0);\r\n      // } else {\r\n      const existingRepairTypes = this.formModel.repairTypes?.selectedOption;\r\n      const extraRepairTypes = existingRepairTypes?.filter(q => !repairTypes.map(q => q.id).includes(q.id));\r\n\r\n      if (extraRepairTypes && extraRepairTypes.length > 0) {\r\n        repairTypes = [ ...repairTypes, ...extraRepairTypes ];\r\n        repairTypes.sort((a, b) => a.id < b.id ? -1 : a.id > b.id ? 1 : 0);\r\n      }\r\n      //}\r\n\r\n    }\r\n\r\n    if (repairTypes && repairTypes.length > 0) {\r\n      repairTypes.forEach((item, i) => {\r\n        if (this.selectedOptionRepairs.some(q => q.id === item.id)) {\r\n          repairTypes[i] = { ...repairTypes[i], dropdownItemIcon: this.getIcon(item.name), disabled: true }\r\n        } else {\r\n          repairTypes[i] = { ...repairTypes[i], dropdownItemIcon: this.getIcon(item.name) }\r\n        }\r\n\r\n      });\r\n\r\n      this.repairTypes = repairTypes;\r\n      this.formModel.repairTypes = { ...this.formModel.repairTypes, options: repairTypes }\r\n    }\r\n\r\n    if (this.currentStatus) {\r\n      this.commonService.showLoading();\r\n\r\n      const data = await firstValueFrom(this.vehicleService.getVehicleMake());\r\n      this.formModel.vehicleData.make = { ...this.formModel.vehicleData.make, options: data.sort((a, b) => a.name.localeCompare(b.name)) };\r\n\r\n      const makeList = this.formModel.vehicleData.make.options;\r\n      const selectedMake = makeList.filter(q => q.name === this.vehicleFormData.make);\r\n      if (selectedMake.length > 0) {\r\n        this.vehicleService.getVehicleModel(selectedMake[0].id, this.estimateId).subscribe((data) => {\r\n          this.formModel.vehicleData.model = { ...this.formModel.vehicleData.model, options: data };\r\n          const model = this.formModel.vehicleData.model.options?.filter(q => q.umc == this.umc\r\n            || q.modelDescription == this.vehicleFormData.model);\r\n          if (model.length > 0) {\r\n            this.vehicleService.getVehicleYearByModel(model[0].id, this.estimateId)?.subscribe((data) => {\r\n              this.formModel.vehicleData.year = { ...this.formModel.vehicleData.year, options: data };\r\n            });\r\n          }\r\n        });\r\n      }\r\n\r\n      this.commonService.hideLoading();\r\n    }\r\n\r\n    if([ ...this.formModel.serviceType.options ].filter(q => !this.dataSource?.map(x => x.bookingTypeId).includes(q.id)).length < 1) {\r\n      this.addBookingButtonModel.type = 'disabled';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * prefill vehicle data\r\n   */\r\n  prefillVehicleData(): void {\r\n    const prefillData = this.commonService.getSessionStorage('selectedSearchItem');\r\n    if (prefillData) {\r\n      const prefillObj = JSON.parse(prefillData);\r\n      if (prefillObj.make && !this.vehicleFormData.make) {\r\n        this.vehicleFormData.make = prefillObj.make;\r\n        this.formModel.vehicleData.make = { ...this.formModel.vehicleData.make, selectedOption: { 'name': prefillObj.make } };\r\n      }\r\n      if (prefillObj.model && !this.vehicleFormData.model) {\r\n        this.vehicleFormData.model = prefillObj.model;\r\n        this.formModel.vehicleData.model = { ...this.formModel.vehicleData.model, selectedOption: { 'modelDescription': prefillObj.model } };\r\n      }\r\n      if (prefillObj.vin && !this.vehicleFormData.vin) {\r\n        this.vehicleFormData.vin = prefillObj.vin;\r\n        this.preventVinCall = true;\r\n        this.formModel.vehicleData.vin = { ...this.formModel.vehicleData.vin, value: prefillObj.vin };\r\n      }\r\n      if (prefillObj.importInterval && !this.vehicleFormData.year) {\r\n        this.vehicleFormData.year = prefillObj.importInterval;\r\n        this.formModel.vehicleData.year = {\r\n          ...this.formModel.vehicleData.year, value: prefillObj.importInterval,\r\n          selectedOption: { 'name': prefillObj.importInterval }\r\n        };\r\n      }\r\n      if (prefillObj.plate && !this.vehicleFormData.licensePlate) {\r\n        this.vehicleFormData.licensePlate = prefillObj.plate;\r\n        this.formModel.vehicleData.licensePlate = { ...this.formModel.vehicleData.licensePlate, value: prefillObj.plate };\r\n      }\r\n\r\n      if (prefillObj.registrationDate && !this.vehicleFormData.registrationDate) {\r\n        this.vehicleFormData.registrationDate = prefillObj.registrationDate;\r\n        this.formModel.vehicleData.registrationDate = { ...this.formModel.vehicleData.registrationDate, value: prefillObj.registrationDate };\r\n      }\r\n      if (prefillObj.manufacturingDate && !this.vehicleFormData.manufacturingDate) {\r\n        this.vehicleFormData.manufacturingDate = prefillObj.manufacturingDate;\r\n        this.formModel.vehicleData.manufacturingDate = { ...this.formModel.vehicleData.manufacturingDate, value: prefillObj.manufacturingDate };\r\n      }\r\n\r\n      if (prefillObj.make || prefillObj.model || prefillObj.vin || prefillObj.plate) {\r\n        this.infoDisabled = false;\r\n        this.searchDisabled = false;\r\n        this.inputDisabled = false;\r\n        if (!prefillObj.email || !prefillObj.name || !prefillObj.phoneNumber) {\r\n          this.commonService.setSessionStorage('selectedSearchItem', '');\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * on dropdown observable load\r\n   */\r\n  onObservableLoad(items: any): void {\r\n    this.commonService.hideLoading();\r\n    this.countryList = items;\r\n\r\n    if (!items) {\r\n      return;\r\n    }\r\n    if (items && items.length > 0) {\r\n      const selectedItem = items.filter((it: any) => {\r\n        return it.phoneCountryCode === this.formModel.customerData.driverCode.selectedOption?.phoneCountryCode;\r\n      });\r\n      if (selectedItem.length > 0) {\r\n        const output = selectedItem[0];\r\n        const validationPattern = output['regExpression'];\r\n        this.formModel.customerData.driverCode = { ...this.formModel.customerData.driverCode, selectedOption: output };\r\n        if (this.driverPhone) {\r\n          this.driverPhone.updateCurrentValidation(validationPattern, true);\r\n        }\r\n        if (!this.repairId) {\r\n          this.setPrefillData(items);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * on repair type observable bind\r\n   */\r\n  onObservableLoadRepairTypes(items: any): void {\r\n    this.commonService.hideLoading();\r\n    if (items && items.length > 0) {\r\n      items.forEach((item, i) => {\r\n        items[i] = { ...items[i], dropdownItemIcon: this.getIcon(item.name) }\r\n      });\r\n    }\r\n\r\n    this.formModel.repairTypes = { ...this.formModel.repairTypes, options: items }\r\n  }\r\n\r\n  /**\r\n   * correctly map service and repair types\r\n   * @param items\r\n   */\r\n  onObservableLoadServiceAndRepairTypes(items: any): void {\r\n    this.commonService.hideLoading();\r\n    if (items) {\r\n      const bookingTypes = items.BookingTypes;\r\n      const repairTypes = (items.RepairType?.length) ? items.RepairType[0].RepairTypes : null;\r\n\r\n      if (bookingTypes && bookingTypes.length > 0) {\r\n        this.formModel.serviceType = { ...this.formModel.serviceType, options: bookingTypes };\r\n      }\r\n\r\n      if (repairTypes && repairTypes.length > 0) {\r\n        repairTypes.forEach((item, i) => {\r\n          repairTypes[i] = { ...repairTypes[i], dropdownItemIcon: this.getIcon(item.name) }\r\n        });\r\n\r\n        this.formModel.repairTypes = { ...this.formModel.repairTypes, options: repairTypes }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get icon\r\n   */\r\n  getIcon(item: string): string {\r\n    switch (item) {\r\n    case 'Body':\r\n      return 'car';\r\n    case 'Maintenance':\r\n      return 'house';\r\n    case 'Tires':\r\n      return 'tire';\r\n    case 'Paint':\r\n      return 'paintbrush';\r\n    case 'Others':\r\n      return 'gears';\r\n    case 'Electric':\r\n    case 'Electrical':\r\n      return 'bolt-car';\r\n    case 'Diagnosis':\r\n      return 'diagnosis';\r\n    case 'Mechanical':\r\n      return 'mechanical';\r\n    default:\r\n      return '';\r\n    }\r\n  }\r\n\r\n  /**\r\n  * setTextMode\r\n  */\r\n  public setMode(mode: string = 'text'): void {\r\n    const keys = Object.keys(this.formModel);\r\n    keys.forEach((key) => {\r\n      if (key.toLowerCase() == 'customerdata' || key.toLowerCase() == 'vehicledata') {\r\n        Object.keys(this.formModel[key]).forEach((key1) => {\r\n          if (key.toLowerCase() == 'customerdata') {\r\n            this.formModel[key][key1].required = false;\r\n            if (key1 === 'companyOrgType') {\r\n              const selectObj = {};\r\n              const { displayValue, fieldValue } = this.formModel[key][key1];\r\n              selectObj[fieldValue] = this.customerFormData[key1];\r\n              selectObj[displayValue] = '';\r\n              selectObj[displayValue] = this.customerFormData[key1];\r\n              this.formModel[key][key1] = {\r\n                ...this.formModel[key][key1],\r\n                mode: mode,\r\n              };\r\n            } else {\r\n              this.formModel[key][key1] = {\r\n                ...this.formModel[key][key1],\r\n                mode: mode,\r\n              };\r\n            }\r\n          } else {\r\n            this.formModel[key][key1] = {\r\n              ...this.formModel[key][key1],\r\n              mode: mode,\r\n            };\r\n          }\r\n        });\r\n      } else {\r\n        this.formModel[key] = {\r\n          ...this.formModel[key],\r\n          mode: mode,\r\n        };\r\n      }\r\n    });\r\n\r\n    if (mode == 'text') {\r\n      this.bookingButtonModel = {\r\n        ...this.bookingButtonModel, label: 'Edit Booking',\r\n        type: 'outline', icon: 'edit'\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * on form update\r\n   * @param output o\r\n   */\r\n  async onFormUpdate(output: IControlValue): Promise<void> {\r\n    if(output.name === 'isDeliveryTypeEnable'){\r\n      if(!this.formModel.repairTypes.hasOwnProperty('selectedOption') || this.formModel.repairTypes.selectedOption?.length === 0 ){\r\n        this.formModel.isDeliveryTypeEnable = {\r\n          ...this.formModel.isDeliveryTypeEnable, value: false,\r\n          options: [ {\r\n            ...this.formModel.isDeliveryTypeEnable.options[0],\r\n            checked: false,\r\n          } ],\r\n        }\r\n      }\r\n      return;\r\n    }\r\n    if(output.name === 'vehicleLocation'){\r\n      this.formModel.vehicleLocation.value = output.value;\r\n      return;\r\n    }\r\n    if(output.name === 'notes'){\r\n      this.formModel.notes.value = output.value;\r\n      return;\r\n    }\r\n    if (output.type === 'select') {\r\n      this.formModel[output.name] = {\r\n        ...this.formModel[output.name], selectedOption: output.value\r\n      };\r\n      const fieldValue = this.formModel[output.name].fieldValue as string;\r\n      this.personalInfoData[output.name] = (output.name !== 'repairTypes') ? output.value[fieldValue] : output.value;\r\n\r\n      if (output.name === 'repairTypes') {\r\n        if (output.value == '') {\r\n          this.formModel[output.name] = {\r\n            ...this.formModel[output.name], selectedOption: []\r\n          };\r\n        }\r\n        setTimeout(() => {\r\n          this.repairType?.setUnTouched();\r\n        });\r\n\r\n        if (!this.repairEmployees?.some(q => q.employees?.length > 0) && this.personalInfoData['jobAllocation']) {\r\n          this.commonService.showInfoToast(1000, 'msg_no_competency');\r\n          //reset job allocation\r\n          this.formModel.jobAllocation = { ...this.formModel.jobAllocation, value: false };\r\n\r\n          if (this.formModel.jobAllocation.options.length) {\r\n            this.formModel.jobAllocation.options[0].checked = false;\r\n          }\r\n\r\n          this.personalInfoData.jobAllocation = false;\r\n          //\r\n        }\r\n\r\n        this.previousCompetencies = this.formModel[output.name].selectedOption?.map(q => q.id);\r\n\r\n        if(this.formModel['repairTypes'].selectedOption.length > 0) {\r\n          this.formModel.bookingInDate = {\r\n            ...this.formModel.bookingInDate, value: this.repairResponse?.startDate || new Date(), disabled: false\r\n          };\r\n\r\n          this.formModel.bookingOutDate = {\r\n            ...this.formModel.bookingOutDate, value: this.repairResponse?.endDate || dayjs().add(30, 'minutes').toDate(), disabled: false\r\n          };\r\n        } else {\r\n          this.formModel.bookingInDate = {\r\n            ...this.formModel.bookingInDate, value: null, disabled: true\r\n          };\r\n\r\n          this.formModel.bookingOutDate = {\r\n            ...this.formModel.bookingOutDate, value: null, disabled: true\r\n          };\r\n        }\r\n      }\r\n\r\n    } else if (output.name == 'jobAllocation') {\r\n      this.formModel[output.name].value = output.value;\r\n      this.personalInfoData[output.name] = output.value;\r\n    } else if (output.type == 'checkbox') {\r\n      if (output.value) {\r\n        this.personalInfoData.communicationChannel.push(output.keyFieldValue);\r\n      } else {\r\n        if (this.personalInfoData.communicationChannel.includes(output.keyFieldValue)) {\r\n          const index: number = this.personalInfoData.communicationChannel.indexOf(output.keyFieldValue);\r\n          if (index > -1) {\r\n            this.personalInfoData.communicationChannel.splice(index, 1);\r\n          }\r\n        }\r\n      }\r\n      this.communicationForm.get('communicationChannel').setValue(this.personalInfoData.communicationChannel as any);\r\n    } else {\r\n      if (output.name.toLowerCase() == 'towedin') {\r\n        if (output.value.toLowerCase() == 'towed in/non-drivable') {\r\n          this.towingDisabled = false;\r\n        } else {\r\n          this.towingDisabled = true;\r\n        }\r\n      } else if (output.name == 'bookingInDate') {\r\n        if(output.value && !this.formModel.bookingOutDate.value) {\r\n          this.formModel.bookingOutDate = {\r\n            ...this.formModel.bookingOutDate, value: dayjs(output.value).add(30, 'minutes').toDate(), disabled: false\r\n          };\r\n        }\r\n\r\n        if (this.repairId) {\r\n          if (this.initialBookingIn == output.value) {\r\n            return;\r\n          }\r\n\r\n          const startDate = new Date(dayjs(new Date(new Date(output.value).setHours(0, 0, 0, 0))).format('YYYY-MM-DDTHH:mm'));\r\n          if (new Date(this.formModel.bookingInDate.minDate).getTime() !== new Date(startDate).getTime()) {\r\n            // this.formModel.bookingInDate = {\r\n            //   ...this.formModel.bookingInDate,\r\n            //   minDate: startDate\r\n            // };\r\n            this.formModel.bookingInDate.minDate = startDate;\r\n          }\r\n\r\n        }\r\n\r\n        // if (this.personalInfoData['serviceType']?.toLowerCase() != 'repair') {\r\n        //   const currentServiceType = this.formModel.serviceType.options.find(q => q.id == this.personalInfoData['serviceTypeId']);\r\n        //   if (currentServiceType?.duration) {\r\n        //     const bookingOutDate = dayjs.utc(output.value).\r\n        //       add(currentServiceType?.duration as number, 'minutes').toDate();\r\n\r\n        //     this.formModel.bookingOutDate = { ...this.formModel.bookingOutDate, value: bookingOutDate };\r\n        //     this.personalInfoData.bookingOutDate = dayjs(bookingOutDate).local().utc().format();\r\n        //   }\r\n        // }\r\n      }\r\n\r\n      if (!output.isValid) {\r\n        this.formModel[output.name].value = '';\r\n        this.personalInfoData[output.name] = '';\r\n      } else {\r\n        this.formModel[output.name].value = output.value;\r\n        this.personalInfoData[output.name] = output.value;\r\n      }\r\n\r\n    }\r\n\r\n    this.personalInfoData = { ...this.personalInfoData };\r\n    this.checkForFormValidation();\r\n\r\n    if (output.name === 'repairTypes' || output.name == 'jobAllocation') {\r\n      await this.getEmployeePerRepair();\r\n    }\r\n\r\n    if(output.name === 'bookingInDate' || output.name === 'bookingOutDate') {\r\n      this.formModel.jobAllocation = { ...this.formModel.jobAllocation, value: false };\r\n      if (this.formModel.jobAllocation.options.length) {\r\n        this.formModel.jobAllocation.options[0].checked = false;\r\n      }\r\n\r\n      this.personalInfoData.jobAllocation = false;\r\n\r\n      if(!this.repairId) {\r\n        const bookingIn = this.dataSource.find(x=>x.bookingTypeName == 'Booking In');\r\n        if(bookingIn) {\r\n          const bookingInType = this.formModel.serviceType.options.find(x=>x.name == 'Booking In');\r\n          bookingIn.startDate = this.personalInfoData.bookingInDate;\r\n          bookingIn.endDate = dayjs(this.personalInfoData.bookingInDate).add(bookingInType?.duration || 30, 'minutes').toDate();\r\n        }\r\n\r\n        const bookingOut = this.dataSource.find(x=>x.bookingTypeName == 'Booking Out');\r\n        if(bookingOut) {\r\n          const bookingOutType = this.formModel.serviceType.options.find(x=>x.name == 'Booking Out');\r\n          bookingOut.startDate = dayjs.utc(this.personalInfoData.bookingOutDate).subtract(bookingOutType?.duration || 30, 'minutes').toDate();\r\n          bookingOut.endDate = this.personalInfoData.bookingOutDate;\r\n        }\r\n\r\n        const repair = this.dataSource.find(x=>x.bookingTypeName == 'Repair');\r\n        if(repair) {\r\n          repair.startDate = this.personalInfoData.bookingInDate;\r\n          repair.endDate = this.personalInfoData.bookingOutDate;\r\n        }\r\n      } else {\r\n        this.formModel.isDeliveryTypeEnable = {\r\n          ...this.formModel.isDeliveryTypeEnable,\r\n          options: [ {\r\n            ...this.formModel.isDeliveryTypeEnable.options[0],\r\n            disabled: !!((this.repairResponse?.deliveryDTO?.hasOwnProperty('deliveryDate') || this.status?.toLowerCase() === 'complete' || this.isTechnician || !(this.formModel.bookingInDate.value && this.formModel.bookingOutDate.value)))\r\n          } ],\r\n        }\r\n      }\r\n\r\n      let allBookingTypes = []\r\n      const searchStr = repairBookingType.join('~');\r\n      if(this.formModel.bookingOutDate.value && this.formModel.bookingInDate.value) {\r\n        if(!this.dataSource.find(x=> searchStr.includes(x.bookingTypeName))){\r\n          allBookingTypes = this.formModel.serviceType.options.map(e=> ({\r\n            ...e,\r\n            bookingTypeId: e.id,\r\n            bookingTypeName: e.name,\r\n            domainID: this.domainId,\r\n            startDate: e.name === 'Booking Out' ? this.formModel.bookingOutDate.value: this.formModel.bookingInDate.value,\r\n            endDate: e.name === 'Repair' \r\n              ? this.formModel.bookingOutDate.value : \r\n              (\r\n                e.name === 'Booking In' \r\n                  ? dayjs(this.formModel.bookingInDate.value).add(e.duration || 30, 'minutes').toDate()\r\n                  : dayjs(this.formModel.bookingOutDate.value).add(e.duration || 30, 'minutes').toDate()\r\n              ),\r\n          }));\r\n  \r\n          allBookingTypes.forEach((el)=> {\r\n            const matchingTypeIndex = this.dataSource.findIndex(x => x.bookingTypeName == el.bookingTypeName)\r\n  \r\n            if(searchStr.includes(el.name)) {\r\n              this.editIndex = matchingTypeIndex;\r\n              this.addEditBooking({ data: el })\r\n            }\r\n          });\r\n        }\r\n      } else if (!this.formModel.bookingOutDate.value && !this.formModel.bookingInDate.value) {\r\n        repairBookingType.forEach((el)=> {\r\n          const indexToRemove = this.dataSource.findIndex(x => x.bookingTypeName == el)\r\n          if(indexToRemove !== -1) {\r\n            if(this.dataSource[indexToRemove].bookingGuid) {\r\n              this.dataSourceToDelete.push(this.dataSource[indexToRemove]);\r\n            } \r\n            this.dataSource.splice(indexToRemove, 1);\r\n          }\r\n        })\r\n        this.dataSource = [ ...this.dataSource ];\r\n        this.addBookingButtonModel.type = 'primary';\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get assigned employees\r\n   */\r\n  async getAllAssignedEmployees(repairServiceTypes: any[] = [], competency: number = 0): Promise<void> {\r\n    const competencies: number[] = [];\r\n\r\n    if (competency == 0) {\r\n      repairServiceTypes.forEach((repairType) => {\r\n        competencies.push(repairType.typeId);\r\n      });\r\n    } else {\r\n      competencies.push(competency);\r\n    }\r\n\r\n    if (competencies.length > 0) {\r\n      this.commonService.showLoading();\r\n      await firstValueFrom(this.bookingService.getEmployeesByCompetencies(competencies, this.personalInfoData.bookingInDate,\r\n        this.personalInfoData.bookingOutDate, this.repairResponse?.orgId ?? this.currentOrgId, null)).then((response: any) => {\r\n        if (response?.data) {\r\n          response.data.forEach((element) => {\r\n            const mappedEmployees = element.employees.map((x)=> {\r\n              return {\r\n                assigneeId: x.employeeId,\r\n                assigneeName: x.firstName + ' ' + x.lastName,\r\n                hasOffDayInBetween: x.hasOffDayInBetween,\r\n                isAvailable: x.isAvailable\r\n              }\r\n            });\r\n\r\n            let assignedEmployees = [];\r\n            let assigedEmployeeesIds = [];\r\n            let totalEmployees = [];\r\n            const selectedRepairType = repairServiceTypes.find(q => q.typeId == element.repairServiceTypeId);\r\n            if (selectedRepairType) {\r\n              assignedEmployees = selectedRepairType.assignees;\r\n              if (assignedEmployees) {\r\n                assigedEmployeeesIds = assignedEmployees?.map(q => q.assigneeId);\r\n              }\r\n\r\n              totalEmployees = mappedEmployees.filter(q => !assigedEmployeeesIds.includes(q.assigneeId));\r\n            }\r\n\r\n            if (mappedEmployees.length > 0) {\r\n              this.repairEmployees.push({\r\n                jobName: selectedRepairType.name,\r\n                jobId: element.repairServiceTypeId,\r\n                employees: (assignedEmployees.length) > 0 ? totalEmployees : mappedEmployees,\r\n                employeesAssigned: (assigedEmployeeesIds.length) > 0 ? assignedEmployees : [],\r\n                active: true,\r\n                allEmployees: mappedEmployees,\r\n                type: 'repair'\r\n              });\r\n            }\r\n          });\r\n        }\r\n        this.commonService.hideLoading();\r\n      }).catch(() => {\r\n        this.commonService.hideLoading();\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get all assigned employees assessment\r\n   */\r\n  async getAllAssignedEmployeesAssessment(currentRepairType: any, bookingData: any): Promise<void> {\r\n    this.commonService.showLoading();\r\n    await firstValueFrom(this.bookingService.getEmployeesByCompetencies(null, bookingData?.startDate,\r\n      bookingData?.endDate, this.repairResponse?.orgId ?? this.currentOrgId, bookingData?.bookingGuid ?? null)).then((response: any) => {\r\n      if (response?.data) {\r\n\r\n        const mappedEmployees = response.data.map((x)=> {\r\n          return {\r\n            assigneeId: x.employeeId,\r\n            assigneeName: x.firstName + ' ' + x.lastName,\r\n            hasOffDayInBetween: x.hasOffDayInBetween,\r\n            isAvailable: x.isAvailable\r\n          }\r\n        });\r\n\r\n        let assigedEmployeeesIds = [];\r\n        let totalEmployees = [];\r\n\r\n        if (currentRepairType) {\r\n          assigedEmployeeesIds = currentRepairType.map(q => q.assigneeId);\r\n        }\r\n\r\n        totalEmployees = mappedEmployees.filter(q => !assigedEmployeeesIds.includes(q.assigneeId));\r\n\r\n        this.repairEmployees.push({\r\n          jobName: bookingData.bookingTypeName,\r\n          jobId: bookingData.bookingTypeId,\r\n          employees: totalEmployees,\r\n          employeesAssigned: (assigedEmployeeesIds.length) > 0 ? currentRepairType : [],\r\n          active: true,\r\n          allEmployees: mappedEmployees,\r\n          type: 'booking'\r\n        });\r\n      }\r\n      this.commonService.hideLoading();\r\n    }).catch(() => {\r\n      this.commonService.hideLoading();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * set minutes and hours\r\n   */\r\n  setMinutesAndHours(startDate: Date, endDate: Date): void {\r\n\r\n    const bookingOutDate = endDate;\r\n    const bookingInDate = startDate\r\n    const difference = new Date(bookingOutDate).getTime() - new Date(bookingInDate).getTime(); // This will give difference in milliseconds\r\n    const resultInMinutes = Math.round(difference / 60000);\r\n    const hours = Math.floor(resultInMinutes / 60);\r\n    const minutes = resultInMinutes % 60;\r\n\r\n    this.formModel.estimatedEffortMinutes = { ...this.formModel.estimatedEffortMinutes, value: minutes };\r\n    this.formModel.estimatedEffortHour = { ...this.formModel.estimatedEffortHour, value: hours };\r\n  }\r\n\r\n  /**\r\n   * on form update customer\r\n   */\r\n  onFormUpdateCustomer(output: IControlValue): void {\r\n    if(output.name === 'companyOrgType' && output.value.name ==='Retail' && this.formModel.customerData.carOwnerSelector.value === '') {\r\n      this.formModel.customerData.carOwnerSelector.value = 'Person';\r\n      this.customerFormData['carOwnerSelector'] = 'Person';\r\n    }\r\n    if (output.name === 'driverCode') {\r\n      const validationPattern = output.value['regExpression'];\r\n      this.driverPhone?.updateCurrentValidation(validationPattern);\r\n    }\r\n\r\n    if (output.type === 'select') {\r\n      const oldValue = this.customerFormData[output.name];\r\n      const keyValue = this.formModel.customerData[output.name].fieldValue || this.formModel.customerData[output.name].displayValue;\r\n      if (this.formModel[output.name]?.selectedOption && this.formModel[output.name]?.selectedOption[keyValue] === output?.value[keyValue]) {\r\n        return;\r\n      }\r\n      this.formModel.customerData[output.name] = {\r\n        ...this.formModel.customerData[output.name], selectedOption: output.value\r\n      };\r\n\r\n\r\n      this.customerFormData[output.name] = output.value[keyValue];\r\n      if (output.name === 'companyOrgType') {\r\n        if (oldValue !== this.customerFormData[output.name]) {\r\n          setTimeout(() => {\r\n            this.companyOrg?.setUnTouched();\r\n            this.licenseId?.setUnTouched();\r\n          })\r\n\r\n        }\r\n\r\n        if (output.value[keyValue] && output.value[this.formModel.customerData[output.name].displayValue] !== 'Insurance Company') {\r\n          this.formModel.customerData['claimNumber'] = {\r\n            ...this.formModel.customerData['claimNumber'],\r\n            value: ''\r\n          }\r\n        }\r\n        if (output.value[keyValue] && output.value[this.formModel.customerData[output.name].displayValue] !== 'Retail') {\r\n          this.formModel.customerData.companyName = {\r\n            ...this.formModel.customerData.companyName,\r\n            displayValue: 'companyName', fieldValue: 'companyName',\r\n            onObservableLoad: this.updateCaseData.bind(this),\r\n            placeHolder: 'Select...', value: '',\r\n            type: 'select', observable: this.caseService.getCompanyData(output.value[keyValue])\r\n          }\r\n          if (this.formModel.customerData.companyName.selectedOption && this.formModel.customerData.companyName.selectedOption?.tariffId) {\r\n            this.customerFormData.companyId = null;\r\n            this.customerFormData.companyName = null;\r\n            this.formModel.customerData.companyName.selectedOption = {};\r\n          }\r\n          this.customerFormData.licenseId = '';\r\n          this.formModel.customerData.licenseId = { ...this.formModel.customerData.licenseId, value: '' };\r\n          setTimeout(() => {\r\n            //this should be revisited once the current status thing is done\r\n            //if (oldValue && oldValue !== 'Retail' && this.currentStatus) {\r\n            if (oldValue && oldValue !== 'Retail' && this.currentStatus) {\r\n              this.companyOrg?.triggerObservable();\r\n            }\r\n          });\r\n        } else {\r\n          if (output.value[keyValue] && output.value[this.formModel.customerData[output.name].displayValue] === 'Retail') {\r\n            this.formModel.customerData['claimNumber'] = {\r\n              ...this.formModel.customerData['claimNumber'],\r\n              value: ''\r\n            };\r\n            this.formModel.customerData.companyName = {\r\n              ...this.formModel.customerData.companyName,\r\n              placeHolder: 'Company Name'\r\n            }\r\n            this.customerFormData.claimNumber = '';\r\n\r\n            //status check remaining start\r\n            this.caseService.getCompanyData(output.value[keyValue]).subscribe({\r\n              next: (resp: any) => {\r\n                if (resp && resp.data?.length > 0) {\r\n                  const data = resp.data[0];\r\n                  this.customerFormData['companyId'] = data['companyId'];\r\n                  this.customerFormData['tariffId'] = data['tariffId'];\r\n                  if (this.formModel.customerData.companyName.selectedOption && this.formModel.customerData.companyName.selectedOption?.tariffId) {\r\n                    this.customerFormData.licenseId = '';\r\n                    this.formModel.customerData.licenseId = { ...this.formModel?.customerData.licenseId, value: '' };\r\n                  }\r\n                  if (this.customerFormData[this.formModel.customerData.carOwnerSelector.name] === 'Person') {\r\n                    this.customerFormData['companyName'] = null;\r\n                    this.formModel.customerData.companyName.value = '';\r\n                  }\r\n                  this.customerFormData.isTariffEditable = data['isEditable'];\r\n                  this.customerFormData.partnershipId = data['partnershipId'];\r\n                  this.formModel.customerData.companyName.selectedOption = data[0];\r\n\r\n\r\n                  this.checkForFormValidation();\r\n                }\r\n\r\n              }, error: () => {\r\n                this.customerFormData['tariffId'] = 0;\r\n                this.customerFormData.isTariffEditable = false;\r\n              }\r\n            });\r\n            // status check remaining end\r\n          }\r\n          this.formModel.customerData.companyName = {\r\n            ...this.formModel.customerData.companyName, type: 'text'\r\n          }\r\n        }\r\n      }\r\n      if (output.name === 'companyName' && output.value) {\r\n        this.customerFormData['companyId'] = output.value['companyId'];\r\n        this.customerFormData['tariffId'] = output.value['tariffId'];\r\n        this.customerFormData.isTariffEditable = output.value['isEditable'];\r\n        this.customerFormData.licenseId = output.value['licenseId'].toString();\r\n        this.formModel.customerData.licenseId = { ...this.formModel?.customerData.licenseId, value: output.value['licenseId'].toString() };\r\n        this.customerFormData.partnershipId = output.value['partnershipId'];\r\n      }\r\n      // eslint-disable-next-line max-len\r\n      this.customerFormData[this.formModel.customerData[output.name]['idField']] = output.value[this.formModel.customerData[output.name].displayValue];\r\n    } else {\r\n      if (output.name === 'carOwnerSelector' && output.keyFieldValue && this.formModel.customerData[output.name]['idField']) {\r\n        this.customerFormData[this.formModel.customerData[output.name]['idField']] = output.keyFieldValue;\r\n      }\r\n      if (output.isValid) {\r\n        this.formModel.customerData[output.name].value = output.value;\r\n        this.customerFormData[output.name] = output.value;\r\n      } else {\r\n        this.formModel.customerData[output.name].value = '';\r\n        if (output.name !== 'driverPhone') {\r\n          this.customerFormData[output.name] = '';\r\n        } else {\r\n          this.customerFormData[output.name] = 0;\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n    this.customerFormData = { ...this.customerFormData };\r\n    this.checkForFormValidation();\r\n    this.checkWorkProvider();\r\n  }\r\n\r\n  /**\r\n   * check for workProvider\r\n   */\r\n  checkWorkProvider(): void {\r\n    if (this.customerFormData.companyOrgType) {\r\n      if (this.customerFormData.companyOrgType === 'Insurance Company') {\r\n        if (this.customerFormData.companyId) {\r\n          this.chqUploadDrivingLicense = { ...this.chqUploadDrivingLicense, type: 'outline' };\r\n          this.chqUploadRegistrationCard = { ...this.chqUploadRegistrationCard, type: 'outline' };\r\n          return;\r\n        }\r\n      } else if (this.customerFormData.companyOrgType != 'Retail') {\r\n        if (this.customerFormData.companyId) {\r\n          this.chqUploadDrivingLicense = { ...this.chqUploadDrivingLicense, type: 'outline' };\r\n          this.chqUploadRegistrationCard = { ...this.chqUploadRegistrationCard, type: 'outline' };\r\n          return;\r\n        }\r\n      } else if (this.customerFormData['carOwnerSelector']) {\r\n        if (this.customerFormData['carOwnerSelector'] !== 'Person') {\r\n          if (this.customerFormData.companyName && this.customerFormData.licenseId) {\r\n            this.chqUploadDrivingLicense = { ...this.chqUploadDrivingLicense, type: 'outline' };\r\n            this.chqUploadRegistrationCard = { ...this.chqUploadRegistrationCard, type: 'outline' };\r\n            return;\r\n          }\r\n        } else {\r\n          this.chqUploadDrivingLicense = { ...this.chqUploadDrivingLicense, type: 'outline' };\r\n          this.chqUploadRegistrationCard = { ...this.chqUploadRegistrationCard, type: 'outline' };\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.chqUploadDrivingLicense = { ...this.chqUploadDrivingLicense, type: 'disabled-outline' };\r\n    this.chqUploadRegistrationCard = { ...this.chqUploadRegistrationCard, type: 'disabled-outline' };\r\n\r\n  }\r\n\r\n  /**\r\n   * check for form validation\r\n   */\r\n  checkForFormValidationCustomer(): boolean {\r\n    const keys = Object.keys(this.customerFormData);\r\n    let keysToAvoid = [ 'claimNumber' ];\r\n\r\n    if (this.retail === 'Retail') {\r\n      if (this.customerFormData['carOwnerSelector'] === 'Person') {\r\n        keysToAvoid = [ 'companyName', 'claimNumber', 'licenseId', 'companyId' ]\r\n      } else {\r\n        keysToAvoid = [ 'claimNumber', 'companyId' ]\r\n      }\r\n    } else if (this.customerFormData.companyOrgType != 'Insurance Company') {\r\n      keysToAvoid = [ 'claimNumber' ]\r\n    }\r\n\r\n    let isValid = true;\r\n\r\n    for (const k in keys) {\r\n      const prop = keys[k];\r\n      if (prop === 'claimNumber' && this.formModel.customerData?.claimNumber?.formControl) {\r\n        const claimValid = this.formModel.customerData?.claimNumber?.formControl?.valid;\r\n        if (!claimValid) {\r\n          isValid = false;\r\n          continue;\r\n        }\r\n      }\r\n      if (prop === 'isTariffEditable' || keysToAvoid.indexOf(prop) !== -1 || prop == 'carOwnerSelector'\r\n        || prop == 'jobNumber' || prop == 'caseTypeID' || prop.toLowerCase() == 'tariffid' || prop.toLowerCase() == 'customerid'\r\n        || prop.toLowerCase() == 'contactid') {\r\n        continue;\r\n      }\r\n      if (!this.customerFormData[prop]) {\r\n        isValid = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    return isValid;\r\n  }\r\n\r\n  /**\r\n   * check for form validation\r\n  */\r\n  checkForFormValidationBooking(setUntouched: boolean = false): boolean {\r\n\r\n    this.monitorService.logEvent('checkForFormValidationBooking', [ 'PersonalInfoComponent', 'addenda-repair', {\r\n      repairId: this.repairId\r\n    } ]);\r\n\r\n    const nonRequiredFields = [ 'notes', 'servicetype', 'servicetypeid', 'repairtypes', 'bookingindate', 'bookingoutdate', 'isdeliverytypeenable' ];\r\n    const keys = Object.keys(this.personalInfoData);\r\n\r\n    let isValid = true;\r\n    //let errorProp = '';\r\n    for (const k in keys) {\r\n      const prop = keys[k];\r\n      if (prop.toLowerCase() == 'customerdata' || prop.toLowerCase() == 'vehicledata' || prop.toLowerCase() == 'assignedto'\r\n        || (prop.toLowerCase() == 'joballocation' && !this.personalInfoData[prop])\r\n        || (prop.toLowerCase() == 'communicationchannel' && this.formModel.communicationChannel.options?.length === 0)\r\n      ) {\r\n        continue;\r\n      }\r\n\r\n      if (prop.toLowerCase() == 'joballocation') {\r\n        if (!this.employeeRepairServiceType?.some(q => q.assignees?.length > 0)) {\r\n          isValid = false;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (Array.isArray(this.personalInfoData[prop]) && !nonRequiredFields.includes(prop.toLowerCase())) {\r\n        if ((this.personalInfoData[prop] as Array<any>).length == 0) {\r\n          //errorProp = prop;\r\n          isValid = false;\r\n          break;\r\n        }\r\n      }\r\n\r\n      // if (prop.toLowerCase() == 'repairtypes' && this.formModel.serviceType.selectedOption?.name?.toLowerCase() == 'repair') {\r\n      //   if (!this.personalInfoData[prop] || (this.personalInfoData[prop] as Array<any>).length == 0) {\r\n      //     isValid = false;\r\n      //     break;\r\n      //   }\r\n      // }\r\n\r\n      if (!this.personalInfoData[prop] && !nonRequiredFields.includes(prop.toLowerCase())) {\r\n        //errorProp = prop;\r\n        isValid = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    // if (!isValid && setUntouched) {\r\n    //   if (errorProp.toLowerCase() == 'servicetype') {\r\n    //     //Please select service type\r\n    //     this.serviceType.dropdownValidationMessage = 'warning_service_type';\r\n    //     this.serviceType.dropdownContainer.dropdownConfig.isDirty = true;\r\n    //   } else if (errorProp.toLowerCase() == 'communicationchannel') {\r\n    //     this.communicationChannelControl.setUnTouched();\r\n    //     this.communicationChannelControl.setDirty({ required: true });\r\n    //   }\r\n    // }\r\n\r\n    return isValid;\r\n  }\r\n\r\n\r\n  /**\r\n   * check validation  for vehicle\r\n   * @returns boolean\r\n   */\r\n  public checkForFormValidationVehicle(): boolean {\r\n    this.monitorService.logEvent('checkForFormValidationVehicle', [ 'PersonalInfoComponent', 'addenda-repair', {\r\n      repairId: this.repairId\r\n    } ]);\r\n\r\n    let isValid = true;\r\n    if (this.validVehicleFields.some(q => q.valid == false)) {\r\n      isValid = false;\r\n    }\r\n\r\n    return isValid;\r\n  }\r\n\r\n  /**\r\n   * check for form validation\r\n  */\r\n  checkForFormValidation(): boolean {\r\n\r\n    if (this.isFormConfirmed) {\r\n      this.bookingButtonModel.type = 'outline';\r\n      return false;\r\n    }\r\n\r\n    if (!this.endDateGreaterThanstartDate && this.checkForFormValidationCustomer() && this.checkForFormValidationBooking() && this.checkForFormValidationVehicle()) {\r\n      this.bookingButtonModel.type = 'primary';\r\n\r\n      return true;\r\n    } else {\r\n      this.bookingButtonModel.type = 'disabled';\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * check for vehicle validations\r\n   */\r\n  validateVehicle(): boolean {\r\n    const keys = Object.keys(this.vehicleFormData);\r\n    let isValid = true;\r\n    for (const k in keys) {\r\n      const prop = keys[k];\r\n      if (prop.toLowerCase() == 'inspectionid' || prop.toLowerCase() == 'inspectionguid' || prop.toLowerCase() == 'isvinspecifiedmanualz') {\r\n        continue;\r\n      }\r\n      // Either manufacturingDate or registrationDate is required\r\n      if (prop.toLowerCase() == 'manufacturingdate' || prop.toLowerCase() == 'registrationdate') {\r\n        if (this.vehicleFormData['manufacturingDate'] || this.vehicleFormData['registrationDate']) {\r\n          continue;\r\n        } else {\r\n          isValid = false;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (!this.vehicleFormData[prop]) {\r\n        isValid = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    return isValid;\r\n  }\r\n\r\n  /**\r\n   * submit form\r\n   */\r\n  async submitForm(tab?: string, preventRedirect?: boolean, callback?: () => void): Promise<void> {\r\n    // if(this.dataSource.length === 0 && (!this.personalInfoData.repairTypes || this.personalInfoData.repairTypes.length === 0)) {\r\n    //   this.commonService.showToast(3000, this.translateService.instant('repair_or_booking_required'));\r\n    //   return;\r\n    // }\r\n\r\n    this.monitorService.logEvent('submitForm', [ 'PersonalInfoComponent', 'addenda-repair', {\r\n      repairId: this.repairId\r\n    } ]);\r\n\r\n    if (this.isFormConfirmed) {\r\n      if (!this.formModel.customerData.companyOrgType.observable) {\r\n        this.formModel.customerData.companyOrgType.selectedOption.name = '';\r\n        this.formModel.customerData.companyOrgType.observable = this.caseService.getProviders();\r\n        setTimeout(() => {\r\n          this.orgType?.triggerObservable();\r\n        });\r\n      }\r\n\r\n      this.updateButton();\r\n      return;\r\n    }\r\n\r\n    // Check if there is an active repair with the same plate number\r\n    if(this.vehicleFormData.licensePlate && this.initialPlateNumber !== this.vehicleFormData.licensePlate) {\r\n      try {\r\n        this.commonService.showLoading();\r\n        const data = await firstValueFrom(this.bookingService.checkPlateNumber(this.vehicleFormData.licensePlate, this.repairId));\r\n        if(data) {\r\n          // open a dialog\r\n          const dialogRef = this.commonService.openConfirmationOkDialog('Repair with same license plate number is active', 'Do you want to create new repair order?')\r\n          // Create a Promise to await the dialog closure\r\n          const dialogClosed = new Promise<boolean>((resolve) => {\r\n            dialogRef.afterClosed().subscribe((res) => {\r\n              resolve(!!res); // Resolve with the dialog result\r\n            });\r\n          });\r\n\r\n          // Wait for the dialog closure\r\n          this.commonService.hideLoading();\r\n          const shouldProceed = await dialogClosed;\r\n          // Check if the user chose to proceed or not\r\n          if (!shouldProceed) {\r\n            return; // User chose not to proceed, exit or perform necessary action\r\n          }\r\n        }\r\n\r\n      } catch(error) {\r\n        this.commonService.hideLoading();\r\n        console.log(error);\r\n      }\r\n    }\r\n\r\n\r\n    this.commonService.showLoading();\r\n\r\n    // add/update booking\r\n    const vehicleData: UpdateVehicleCaseData = {\r\n      'vin': this.vehicleFormData.vin,\r\n      'umc': this.umc,\r\n      'vehicleMake': this.vehicleFormData.make,\r\n      'vehicleModel': this.vehicleFormData.model,\r\n      'modelYearRange': this.vinGTMotive?.modelYearRange || this.vehicleFormData.year,\r\n      'vehicleID': parseInt(this.vehicleId) || 0, //this.repairResponse?.vehicle?.id || '',\r\n      'licensePlateNumber': this.vehicleFormData.licensePlate,\r\n      'vehicleMileage': Number(this.vehicleFormData.carMilege),\r\n      'registrationDate': this.vehicleFormData.registrationDate ? dayjs(this.vehicleFormData.registrationDate).format('YYYY-MM-DDT00:00:00') : null,\r\n      'manufacturingDate': this.vehicleFormData.manufacturingDate ? dayjs(this.vehicleFormData.manufacturingDate).format('YYYY-MM-DDT00:00:00') : null,\r\n      'inspectionID': this.vehicleFormData.inspectionID,\r\n      'inspectionGuid': this.vehicleFormData.inspectionGuid,\r\n      'isVinSpecifiedManualZ': this.vehicleFormData.isVinSpecifiedManualZ,\r\n    }\r\n\r\n    const customerData: AddCustomerData = {\r\n      'companyOrgType': this.customerFormData['companyOrgType'],\r\n      'customerTypeID': this.customerFormData['companyOrgType'] === 'Retail' ? this.customerFormData.customerTypeID : null,\r\n      'firstName': this.customerFormData.firstName,\r\n      'lastName': this.customerFormData.lastName,\r\n      'countryCode': this.customerFormData.driverCode,\r\n      'mobileNumber': this.customerFormData.driverPhone.toString(),\r\n      'email': this.customerFormData.email,\r\n      'companyId': this.customerFormData.companyId,\r\n      'workProviderId': this.customerFormData.partnershipId,\r\n      'claimNumber': this.customerFormData['companyOrgType'] === 'Insurance Company' ? this.customerFormData.claimNumber : '',\r\n      'companyName': !this.isRetailAndCompanyProvider ? '' : this.customerFormData.companyName,\r\n      'companyLicenseNumber': !this.isRetailAndCompanyProvider ? '' : this.customerFormData.licenseId,\r\n      'customerId': this.repairResponse?.customer?.customerId || '',\r\n      'contactId': this.repairResponse?.customer?.contactId,\r\n      'tariffId': this.customerFormData.tariffId,\r\n      'isTariffEditable': this.customerFormData.isTariffEditable,\r\n      'partnershipId': this.customerFormData.partnershipId,\r\n    }\r\n\r\n    let repairServiceTypes: any = [];\r\n\r\n    if (!this.personalInfoData.jobAllocation) {\r\n      this.personalInfoData.repairTypes?.forEach((repairServiceType) => {\r\n        repairServiceTypes.push({\r\n          'repairServiceTypeId': repairServiceType.id,\r\n          'employees': null\r\n        });\r\n      });\r\n    } else {\r\n      repairServiceTypes = this.employeeRepairServiceType.filter(x=>x.type == 'repair').map((x)=> {\r\n        return {\r\n          repairServiceTypeId: x.typeId,\r\n          repairServiceType: x.name,\r\n          employees: x.assignees.map(x=> x.assigneeId)\r\n        };\r\n      });\r\n\r\n      const remainingUnassignedRepair = this.personalInfoData.repairTypes?.filter(q =>\r\n        !this.employeeRepairServiceType.map(q => q.repairServiceTypeId).includes(q.id));\r\n\r\n      remainingUnassignedRepair?.forEach((element) => {\r\n        this.employeeRepairServiceType.push({ 'repairServiceTypeId': element.id });\r\n      });\r\n    }\r\n\r\n    const bookingData: any = {\r\n      'domainId': 3100,\r\n      'isTowingNeeded': (this.personalInfoData.towedIn == 'Towed In/Non-Drivable') ? true : false,\r\n      'vehicleLocation': this.formModel.vehicleLocation.options.filter(item => item.label === this.formModel.vehicleLocation.value)[0].id,\r\n      'customer': customerData,\r\n      'vehicle': vehicleData,\r\n      'communicationTypeIds': this.personalInfoData.communicationChannel,\r\n      'statusId': this.statusId || '',\r\n      'isJobAssignationRequired': this.personalInfoData.jobAllocation || false,\r\n      'repairServiceTypes': repairServiceTypes,\r\n      'startDate': this.personalInfoData.bookingInDate,\r\n      'endDate': this.personalInfoData.bookingOutDate\r\n    }\r\n\r\n    if (this.caseId) {\r\n      bookingData.quoteGuid = this.caseId;\r\n      if (this.vehicleId) {\r\n        vehicleData.vehicleID = parseInt(this.vehicleId);\r\n      }\r\n    }\r\n\r\n    if (!this.caseId) {\r\n      if ((this.validateVehicle() && (!this.vehicleId || this.vehicleId == '0'))\r\n        || (this.validateVehicle() && this.vehicleFormData.vin !== this.originalVin && this.vehicleId)) {\r\n        try {\r\n          await this.addVehicle();\r\n          bookingData.vehicle.inspectionID = this.vehicleFormData.inspectionID;\r\n          bookingData.vehicle.inspectionGuid = this.vehicleFormData.inspectionGuid;\r\n          bookingData.vehicle.vehicleID = this.vehicleId;\r\n        } catch (err) {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    bookingData.isDeliveryTypeEnable = this.formModel.isDeliveryTypeEnable.options[0].checked;\r\n    bookingData.notes = this.formModel.notes.value || '';\r\n\r\n    if(this.generalSearchSourceObjectid >0) {\r\n      bookingData.sourceObjectId = this.generalSearchSourceObjectid;\r\n    }\r\n\r\n    if (this.repairId) {\r\n      this.updateBooking(bookingData, tab);\r\n    } else {\r\n      this.bookingService.createRepair(bookingData).subscribe({\r\n        next: async (result: any) => {\r\n          if (result && result.data) {\r\n            this.repairId = result.data.repairGuid;\r\n            this.status = result.data.status;\r\n            this.statusId = result.data.statusId;\r\n            bookingData.repairDateCreated = result.data.createdDate;\r\n\r\n            this.objectId = result.data.id;\r\n            this.repairId = result.data.repairGuid;\r\n            this.commonService.repairGuid.next(result.data.repairGuid);\r\n\r\n            await this.saveBooking(result.data.objectData, result.data.customer.contactId);\r\n\r\n            if (this.vehicleId && this.vehicleId != '0' && !this.caseId) {\r\n              let showMessageandReturn = false\r\n              await this.updateVehicle(bookingData).then((response: any) => {\r\n                if (response) {\r\n                  if (this.showLabourUpdateMessage()) {\r\n                    showMessageandReturn = true;\r\n                  }\r\n                }\r\n              });\r\n\r\n              if (showMessageandReturn) {\r\n                return;\r\n              }\r\n            }\r\n\r\n            this.commonService.hideLoading();\r\n\r\n            if (!preventRedirect) {\r\n              if (tab && typeof tab === 'string') {\r\n                if (tab.includes('/photos') || tab.includes('/estimate')) {\r\n                  if (!this.vehicleId || this.vehicleId == '0') {\r\n                    this.commonService.openAlertDialog('Notification', 'msg_add_vehicle');\r\n                    return;\r\n                  }\r\n                }\r\n\r\n                if (tab.indexOf('?mode=edit') != -1) {\r\n                  tab = tab.replace('?mode=edit', '');\r\n                  this.router.navigate([ tab.replace('{bookingId}', result.data?.repairGuid) ], { queryParams: { 'mode': 'edit' } });\r\n                } else {\r\n                  this.router.navigate([ tab.replace('{bookingId}', result.data?.repairGuid) ]);\r\n                }\r\n\r\n              } else {\r\n                this.router.navigate([ '/repair/booking-journal' ], { queryParams: { bookInDate: this.personalInfoData['bookingInDate'] } });\r\n              }\r\n            } else {\r\n              if (callback) {\r\n                callback();\r\n              }\r\n            }\r\n          }\r\n        },\r\n        error: (err) => {\r\n          this.commonService.hideLoading();\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * Save all booking after repair create\r\n   */\r\n  async saveBooking(objectData: any, contactId: any): Promise<void> {\r\n    const customer: any = {\r\n      contactId: contactId,\r\n      firstName: this.customerFormData.firstName,\r\n      lastName: this.customerFormData.lastName,\r\n      mobileNumber: this.customerFormData.driverPhone.toString(),\r\n      email: this.customerFormData.email,\r\n      countryCode: this.customerFormData.driverCode,\r\n    };\r\n\r\n    const workProvider: any ={\r\n      companyId: this.customerFormData.companyId,\r\n      companyName: !this.isRetailAndCompanyProvider ? '' : this.customerFormData.companyName,\r\n      companyOrgType: this.customerFormData['companyOrgType'],\r\n    };\r\n\r\n    await Promise.all(this.dataSource.map(async (eachData) => {\r\n      const newData: any = {\r\n        ...eachData,\r\n        objectGuid: this.repairId,\r\n        objectID: this.objectId,\r\n        objectData: objectData,\r\n        customer: customer,\r\n        workProvider: workProvider\r\n      };\r\n\r\n      const matchingEmployeeData = this.employeeRepairServiceType.find(x=>x.typeId == eachData.bookingTypeId && x.type == 'booking' );\r\n\r\n      if(matchingEmployeeData) {\r\n        newData.assignees = [ ...matchingEmployeeData.assignees.map((x)=> {return { assigneeId: x.assigneeId }}) ]\r\n      }\r\n      if (eachData.Action == 'create') {\r\n        await firstValueFrom(this.bookingService.createBooking(newData));\r\n      } else if (eachData.Action == 'update'){\r\n        const patchData = [\r\n          {\r\n            'path': 'StartDate',\r\n            'op': 'replace',\r\n            'value': eachData.startDate\r\n          },\r\n          {\r\n            'path': 'EndDate',\r\n            'op': 'replace',\r\n            'value': eachData.endDate\r\n          }\r\n        ]\r\n      \r\n        await firstValueFrom(this.bookingService.updateBooking(eachData.bookingGuid, patchData));\r\n      } \r\n    }));\r\n\r\n    if (this.dataSourceToDelete && this.dataSourceToDelete.length > 0) {\r\n      await Promise.all(this.dataSourceToDelete.map(async (eachData) => {\r\n        await firstValueFrom(this.bookingService.deleteBooking(eachData.bookingGuid));\r\n      }));\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * collapse expand assign to\r\n   * @param repairType\r\n   */\r\n  expandCollapseAssignedTo(repairType: AssignedToRepair): void {\r\n    repairType.active = !repairType.active;\r\n  }\r\n\r\n  /**\r\n   * unassign employee\r\n   * @param item\r\n   */\r\n  unAssignEmployee(item: any, repairType: any): void {\r\n    const header = this.translateService.instant('unassign');\r\n    const message = this.translateService.instant('unassign_employee_msg');\r\n\r\n    const dialog = this.commonService.openDeleteDialog(header, message);\r\n    dialog.afterClosed().subscribe((data) => {\r\n      if (data) {\r\n        const repairEmployee: any = this.employeeRepairServiceType.filter(q => q.type == repairType.type && q.typeId == repairType.jobId);\r\n        if (repairEmployee.length) {\r\n          const id: number = item.assigneeId || item.employeeId;\r\n          repairEmployee[0].assignees = repairEmployee[0].assignees?.filter(q => q.assigneeId != id);\r\n\r\n          const employeeHasOffDayInBetween = repairType.allEmployees?.filter(q => (q.assigneeId || q.employeeId) == id)[0];\r\n          let employee = repairType.employeesAssigned?.filter(q => (q.assigneeId || q.employeeId) == id)[0];\r\n          employee = { ...employee, isAvailable: true, hasOffDayInBetween: employeeHasOffDayInBetween?.hasOffDayInBetween };\r\n          repairType.employees?.push(employee);\r\n          repairType.employeesAssigned = repairType.employeesAssigned?.filter(q => (q.assigneeId || q.employeeId) != id);\r\n\r\n          if (this.repairId && repairType.type == 'booking') {\r\n            this.updateBookingAssignee(repairType);\r\n          }\r\n        }\r\n\r\n        this.checkForFormValidation();\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n *\r\n * Show Labour update message when the labour rate is 0\r\n * @returns boolean\r\n */\r\n  showLabourUpdateMessage(): boolean {\r\n    this.monitorService.logEvent('showLabourUpdateMessage', [ 'PersonalInfoComponent', 'addenda-repair', {\r\n      repairId: this.repairId\r\n    } ]);\r\n\r\n    if (this.labourData?.isEditable) {\r\n      let showMessage: boolean = true;\r\n      this.labourData.tariffLabourRates.forEach((element: any) => {\r\n        if (element.amount > 0) {\r\n          showMessage = false;\r\n          return;\r\n        }\r\n      });\r\n\r\n      if (showMessage) {\r\n        const action = {\r\n          'objectId': this.repairId,\r\n          'link': 'here',\r\n          'labourData': this.labourData,\r\n          'from': Modules.repair\r\n        };\r\n        this.commonService.hideLoading();\r\n        this.commonService.showInfoToast(500000, this.translateService.instant('labour_value_update'), action);\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * update vehicle\r\n   */\r\n  public async updateVehicle(bookingData: any): Promise<any> {\r\n    this.monitorService.logEvent('updateVehicle', [ 'PersonalInfoComponent', 'addenda-repair', {\r\n      repairId: this.repairId\r\n    } ]);\r\n\r\n    this.commonService.showLoading();\r\n    const formData: UpdateVehicleCaseData = {\r\n      'vin': this.vehicleFormData.vin,\r\n      'umc': this.umc,\r\n      'vehicleMake': this.vehicleFormData.make,\r\n      'vehicleModel': this.vehicleFormData.model,\r\n      'modelYearRange': this.vinGTMotive?.modelYearRange || this.vehicleFormData.year,\r\n      'vehicleID': bookingData.vehicle?.vehicleID,\r\n      'licensePlateNumber': this.vehicleFormData.licensePlate,\r\n      'vehicleMileage': Number(this.vehicleFormData.carMilege),\r\n      'registrationDate': this.vehicleFormData.registrationDate ? dayjs(this.vehicleFormData.registrationDate).format('YYYY-MM-DDT00:00:00') : null,\r\n      'manufacturingDate': this.vehicleFormData.manufacturingDate ? dayjs(this.vehicleFormData.manufacturingDate).format('YYYY-MM-DDT00:00:00') : null,\r\n    }\r\n\r\n    const inspection = {\r\n      'inspectionID': bookingData.vehicle?.inspectionID || this.inspections?.inspectionId,\r\n      'inspectionGuid': bookingData.vehicle?.inspectionGuid || this.inspections?.inspectionGuid\r\n    }\r\n\r\n    if (!this.caseId) {\r\n      if ((this.originalTariffObject.make != this.vehicleFormData.make\r\n        || this.customerFormData.partnershipId != this.originalTariffObject.partnershipId\r\n        || dayjs(this.vehicleFormData.registrationDate).format('YYYY-MM-DDT00:00:00') != this.originalTariffObject.registrationDate\r\n        || dayjs(this.vehicleFormData.manufacturingDate).format('YYYY-MM-DDT00:00:00') != this.originalTariffObject.manufacturingDate) ||\r\n        (!this.labourData?.tariffLabourRates?.length)) {\r\n\r\n        await this.getLabourData(this.customerFormData.tariffId, this.customerFormData.isTariffEditable,\r\n          this.customerFormData.partnershipId, this.vehicleFormData.make, bookingData.repairDateCreated);\r\n      }\r\n    }\r\n\r\n    const mainFormData = {\r\n      'vehicle': formData,\r\n      'inspection': inspection,\r\n      'tariff': this.labourData\r\n    }\r\n\r\n    return firstValueFrom(this.vehicleService.updateVehicleRepair(mainFormData, this.repairId));\r\n  }\r\n\r\n  /**\r\n   * get labour data to show\r\n   */\r\n  async getLabourData(tariffId: number, isEditable: boolean, partnershipId: number, make: string, repairDateCreated: string): Promise<any> {\r\n    this.monitorService.logEvent('getLabourData', [ 'PersonalInfoComponent', 'addenda-repair', {\r\n      repairId: this.repairId\r\n    } ]);\r\n\r\n    return firstValueFrom(this.labourService.getLabourData(tariffId, make,\r\n      this.vehicleFormData.manufacturingDate ? dayjs(this.vehicleFormData.manufacturingDate).format('YYYY-MM-DDT00:00:00') : dayjs(this.vehicleFormData.registrationDate).format('YYYY-MM-DDT00:00:00'),\r\n      repairDateCreated\r\n    )).then((result: any) => {\r\n      if (result.data) {\r\n        this.labourData = {\r\n          tariffId: result.data.id,\r\n          tariffDiscountRates: result.data.tariffDiscountRates,\r\n          tariffLabourRates: result.data.tariffLaborRates,\r\n          isEditable: isEditable,\r\n          partnershipId: partnershipId\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * update booking\r\n   */\r\n  updateBooking(bookingData: any, tab?: string): void {\r\n    this.monitorService.logEvent('updateBooking', [ 'PersonalInfoComponent', 'addenda-repair', {\r\n      repairId: this.repairId\r\n    } ]);\r\n\r\n    bookingData.repairGuid = this.repairId;\r\n    this.bookingService.updateRepair(bookingData, this.repairId).subscribe({\r\n      next: async (result: any) => {\r\n        if (result) {\r\n          this.repairId = result.data?.repairGuid;\r\n          bookingData.repairDateCreated = result.data?.createdDate;\r\n\r\n          if (this.vehicleId && this.vehicleId != '0' && !this.caseId) {\r\n            let showMessageandReturn = false;\r\n            await this.updateVehicle(bookingData).then((response: any) => {\r\n              if (response) {\r\n                if (this.showLabourUpdateMessage()) {\r\n                  showMessageandReturn = true;\r\n                }\r\n              }\r\n            });\r\n\r\n            if (showMessageandReturn) {\r\n              return;\r\n            }\r\n          }\r\n\r\n          await this.saveBooking(result.data.objectData, result.data.customer.contactId);\r\n\r\n          this.commonService.hideLoading();\r\n          if (tab && typeof tab === 'string') {\r\n            if (tab.includes('/photos') || tab.includes('/estimate')) {\r\n              if (!this.vehicleId || this.vehicleId == '0') {\r\n                this.commonService.openAlertDialog('Notification', 'msg_add_vehicle');\r\n                return;\r\n              }\r\n            }\r\n            if (tab.indexOf('?mode=edit') != -1) {\r\n              tab = tab.replace('?mode=edit', '');\r\n              this.router.navigate([ tab.replace('{bookingId}', result.data?.repairGuid) ], { queryParams: { 'mode': 'edit' } });\r\n            } else {\r\n              this.router.navigate([ tab.replace('{bookingId}', result.data?.repairGuid) ]);\r\n            }\r\n          } else {\r\n            this.router.navigate([ '/repair/booking-journal' ], { queryParams: { bookInDate: this.personalInfoData['bookingInDate'] } });\r\n          }\r\n        }\r\n      },\r\n      error: (err) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * on form update vehicle\r\n   */\r\n  onFormUpdateVehicle(output: IControlValue): void {\r\n    this.monitorService.logEvent('onFormUpdateVehicle', [ 'PersonalInfoComponent', 'addenda-quote', {\r\n      repairId: this.repairId,\r\n      output\r\n    } ]);\r\n\r\n    if (output.type === 'select') {\r\n      this.formModel.vehicleData[output.name] = {\r\n        ...this.formModel.vehicleData[output.name], selectedOption: output.value\r\n      };\r\n      this.vehicleFormData[output.name] = output.value[this.formModel.vehicleData[output.name].fieldValue];\r\n\r\n      if (output.name == 'make') {\r\n        this.vehicleFormData['model'] = null;\r\n        this.vehicleFormData['year'] = null;\r\n        this.modelDisabled = true;\r\n        this.yearDisabled = true;\r\n        this.formModel.vehicleData.year = {\r\n          ...this.formModel.vehicleData.year, selectedOption: {}, options: [], observable: null\r\n        }\r\n        this.formModel.vehicleData.year.options = [];\r\n        this.formModel.vehicleData.model = {\r\n          ...this.formModel.vehicleData.model, selectedOption: {}, options: [], observable: null\r\n        }\r\n\r\n        if (output.value) {\r\n          // if (this.vinFromOCR && (this.makeModelDictionary['make']\r\n          //   === output.value[this.formModel.vehicleData[output.name].fieldValue])) {\r\n\r\n          //   this.formModel.vehicleData['model'] = {\r\n          //     ...this.formModel.vehicleData['model'], selectedOption: this.makeModelDictionary.modelDescription\r\n          //   };\r\n          // } else {\r\n          //   this.formModel.vehicleData.model = {\r\n          //     ...this.formModel.vehicleData.model,\r\n          //     observable: this.vehicleService.getVehicleModel(output.value.id),\r\n          //     onObservableLoad: this.enableDropdowns.bind(this)\r\n          //   };\r\n          //   setTimeout(() => {\r\n          //     this.model?.triggerObservable();\r\n          //   });\r\n          // }\r\n          this.vehicleFormData.isVinSpecifiedManualZ = false;\r\n          this.formModel.vehicleData.model = {\r\n            ...this.formModel.vehicleData.model,\r\n            observable: this.vehicleService.getVehicleModel(output.value.id, this.estimateId),\r\n            onObservableLoad: this.enableDropdowns.bind(this)\r\n          };\r\n          setTimeout(() => {\r\n            this.model?.triggerObservable();\r\n          });\r\n        }\r\n      } else if (output.name == 'model') {\r\n        this.yearDisabled = true;\r\n        this.formModel.vehicleData.year = {\r\n          ...this.formModel.vehicleData.year, selectedOption: {}, observable: null, options: []\r\n        }\r\n\r\n        this.vehicleFormData['year'] = null;\r\n        if (output.value) {\r\n          this.umc = output.value.umc;\r\n          this.formModel.vehicleData.year = {\r\n            ...this.formModel.vehicleData.year,\r\n            observable: this.vehicleService.getVehicleYearByModel(output.value.id, this.estimateId),\r\n            onObservableLoad: this.enableDropdowns.bind(this)\r\n          };\r\n          setTimeout(() => {\r\n            this.year?.triggerObservable();\r\n          });\r\n        }\r\n      }\r\n    } else {\r\n\r\n      if (!output.isValid) {\r\n        this.formModel.vehicleData[output.name].value = '';\r\n        this.vehicleFormData[output.name] = '';\r\n      } else {\r\n        this.formModel.vehicleData[output.name].value = output.value;\r\n        this.vehicleFormData[output.name] = output.value;\r\n      }\r\n\r\n      if(output.name === 'registrationDate' || output.name === 'manufacturingDate') {\r\n        if(this.vehicleFormData['registrationDate'] && this.vehicleFormData['manufacturingDate'] && new Date(this.vehicleFormData['registrationDate']).getTime() < new Date(this.vehicleFormData['manufacturingDate']).getTime()){\r\n          this.commonService.showToast(5000, 'manufacturing_date_of_the_vehicle_should_be_prior_date_to_registration_date');\r\n          this.formModel.vehicleData[output.name] = { ...this.formModel.vehicleData[output.name], value: null };\r\n          this.vehicleFormData[output.name] = null;\r\n        }\r\n      }\r\n\r\n      const currentValidVehicleField = this.validVehicleFields.find(q => q.field == output.name);\r\n\r\n      if (currentValidVehicleField != null) {\r\n        currentValidVehicleField.valid = output.isValid;\r\n      } else {\r\n        this.validVehicleFields.push({ valid: output.isValid, field: output.name })\r\n      }\r\n    }\r\n\r\n    this.vehicleFormData = { ...this.vehicleFormData };\r\n\r\n    if (output.name == 'vin') {\r\n      if (output.isValid) {\r\n        this.populateForm();\r\n      }\r\n    }\r\n\r\n    this.checkForFormValidation();\r\n  }\r\n\r\n  /**\r\n   * hide dropdown\r\n   */\r\n  hideDropdown(name: any): void {\r\n    if (name === this.formModel.customerData.companyOrgType.name) {\r\n      this.driverCode?.closeDropdown();\r\n      this.companyOrg?.closeDropdown();\r\n      this.model?.closeDropdown();\r\n      this.year?.closeDropdown();\r\n      this.make?.closeDropdown();\r\n      this.repairType?.closeDropdown();\r\n      this.serviceType?.closeDropdown();\r\n    } else if (name === this.formModel.customerData.companyName.name) {\r\n      this.driverCode?.closeDropdown();\r\n      this.orgType?.closeDropdown();\r\n      this.model?.closeDropdown();\r\n      this.year?.closeDropdown();\r\n      this.make?.closeDropdown();\r\n      this.repairType?.closeDropdown();\r\n      this.serviceType?.closeDropdown();\r\n    } else if (name === this.formModel.customerData.driverCode.name) {\r\n      this.orgType?.closeDropdown();\r\n      this.companyOrg?.closeDropdown();\r\n      this.model?.closeDropdown();\r\n      this.year?.closeDropdown();\r\n      this.make?.closeDropdown();\r\n      this.repairType?.closeDropdown();\r\n      this.serviceType?.closeDropdown();\r\n    } else if (name === this.formModel.vehicleData.make.name) {\r\n      this.model?.closeDropdown();\r\n      this.year?.closeDropdown();\r\n      this.driverCode?.closeDropdown();\r\n      this.orgType?.closeDropdown();\r\n      this.companyOrg?.closeDropdown();\r\n      this.repairType?.closeDropdown();\r\n      this.serviceType?.closeDropdown();\r\n    } else if (name === this.formModel.vehicleData.model.name) {\r\n      this.make?.closeDropdown();\r\n      this.year?.closeDropdown();\r\n      this.driverCode?.closeDropdown();\r\n      this.orgType?.closeDropdown();\r\n      this.companyOrg?.closeDropdown();\r\n      this.repairType?.closeDropdown();\r\n      this.serviceType?.closeDropdown();\r\n    } else if (name === this.formModel.vehicleData.year.name) {\r\n      this.model?.closeDropdown();\r\n      this.make?.closeDropdown();\r\n      this.driverCode?.closeDropdown();\r\n      this.orgType?.closeDropdown();\r\n      this.companyOrg?.closeDropdown();\r\n      this.repairType?.closeDropdown();\r\n      this.serviceType?.closeDropdown();\r\n    } else if (name === this.formModel.repairTypes.name) {\r\n      this.model?.closeDropdown();\r\n      this.make?.closeDropdown();\r\n      this.driverCode?.closeDropdown();\r\n      this.orgType?.closeDropdown();\r\n      this.companyOrg?.closeDropdown();\r\n      this.year?.closeDropdown();\r\n      this.serviceType?.closeDropdown();\r\n    } else if (name === this.formModel.serviceType.name) {\r\n      this.model?.closeDropdown();\r\n      this.make?.closeDropdown();\r\n      this.driverCode?.closeDropdown();\r\n      this.orgType?.closeDropdown();\r\n      this.companyOrg?.closeDropdown();\r\n      this.year?.closeDropdown();\r\n      this.repairType?.closeDropdown();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handle company observable load\r\n   */\r\n  updateCaseData(items: any): void {\r\n    if (items && this.customerFormData.companyId && !this.customerFormData['tariffId']) {\r\n      const selectedItem = items.filter((it: any) => {\r\n        return it.companyId === this.customerFormData.companyId\r\n      });\r\n      if (selectedItem.length > 0) {\r\n        this.customerFormData['tariffId'] = selectedItem[0]['tariffId'];\r\n        this.customerFormData.isTariffEditable = selectedItem[0]['isEditable'];\r\n        this.formModel.customerData.licenseId = { ...this.formModel?.customerData.licenseId, value: selectedItem[0]['licenseId'].toString() };\r\n        this.customerFormData.partnershipId = selectedItem[0]['partnershipId'];\r\n        this.formModel.customerData.companyName.selectedOption = selectedItem[0];\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n * get provider\r\n */\r\n  getProvider(): void {\r\n    if (!this.formModel.customerData.companyOrgType.observable) {\r\n      if (this.repairId && this.repairId != '0') {\r\n        this.formModel.customerData.companyOrgType.selectedOption.name = '';\r\n      }\r\n      this.formModel.customerData.companyOrgType.observable = this.caseService.getProviders();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * drop event\r\n   * @param event\r\n   */\r\n  drop(event: CdkDragDrop<string[]>, repairType: any): void {\r\n    if (event.previousContainer === event.container) {\r\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\r\n    } else {\r\n      if (event.container.data.length === 10) {\r\n        this.commonService.showToast(0, 'max_employee_assigned')\r\n      }\r\n      const employee = event.previousContainer.data[event.previousIndex] as any;\r\n\r\n      if (!employee.isAvailable) {\r\n        return;\r\n      }\r\n      if (employee?.isAvailable && employee?.hasOffDayInBetween && !this.dropChoiceSelected) {\r\n        const dialogRef = this.commonService.openConfirmYesNoDialog(this.translateService.instant('confirm_to_continue'), this.translateService.instant('is_technician_not_available_continue_assignation'));\r\n        dialogRef.afterClosed().subscribe((action: boolean) => {\r\n          if (action) {\r\n            this.dropChoiceSelected = true;\r\n            this.drop(event, repairType);\r\n          } else {\r\n            this.dropChoiceSelected = false;\r\n          }\r\n\r\n        });\r\n        return;\r\n      }\r\n\r\n      transferArrayItem(\r\n        event.previousContainer.data,\r\n        event.container.data,\r\n        event.previousIndex,\r\n        event.currentIndex,\r\n      );\r\n\r\n      const employeeServiceRepairType = this.employeeRepairServiceType.find(q => q.type == repairType.type && q.typeId == repairType.jobId);\r\n      if (!employeeServiceRepairType) {\r\n        this.employeeRepairServiceType.push({\r\n          'assignees': [ employee ],\r\n          'typeId': repairType.jobId,\r\n          'name': repairType.jobName,\r\n          'type': repairType.type\r\n        });\r\n      } else {\r\n        employeeServiceRepairType.assignees.push(employee);\r\n      }\r\n\r\n      this.checkForFormValidation();\r\n      this.dropChoiceSelected = false;\r\n\r\n      if (this.repairId && repairType.type == 'booking') {\r\n        this.updateBookingAssignee(repairType);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * on double click user\r\n   * @param item\r\n   * @param repairType\r\n   */\r\n  onDoubleClick(item: any, repairType: any): void {\r\n    if (!item.isAvailable) {\r\n      return;\r\n    }\r\n\r\n    if (repairType.employeesAssigned === 10) {\r\n      this.commonService.showToast(0, 'max_employee_assigned')\r\n    }\r\n\r\n    const id: number = item.assigneeId;\r\n    const repairEmployee: any = this.employeeRepairServiceType.find(q => q.type == repairType.type && q.typeId == repairType.jobId);\r\n    if (repairEmployee) {\r\n      repairEmployee.assignees = repairEmployee.assignees?.filter(q => q.assignedId != id);\r\n    }\r\n\r\n    const employee = repairType.employees?.find(q => q.assigneeId == id);\r\n    if (employee?.isAvailable && employee?.hasOffDayInBetween && !this.dropChoiceSelected) {\r\n      const dialogRef = this.commonService.openConfirmYesNoDialog(this.translateService.instant('confirm_to_continue'), this.translateService.instant('is_technician_not_available_continue_assignation'));\r\n      dialogRef.afterClosed().subscribe((action: boolean) => {\r\n        if (action) {\r\n          this.dropChoiceSelected = true;\r\n          this.onDoubleClick(item, repairType);\r\n        } else {\r\n          this.dropChoiceSelected = false;\r\n        }\r\n\r\n      });\r\n      return;\r\n    }\r\n    this.dropChoiceSelected = false;\r\n    //\r\n    if (employee) {\r\n      repairType.employeesAssigned.push(employee);\r\n      repairType.employees = repairType.employees?.filter(q => (q.assigneeId || q.employeeId) != id);\r\n\r\n      if (!repairEmployee) {\r\n        this.employeeRepairServiceType.push({\r\n          'assignees': [ employee ],\r\n          'typeId': repairType.jobId,\r\n          'name': repairType.jobName,\r\n          'type': repairType.type\r\n        });\r\n      } else {\r\n        repairEmployee.assignees?.push(employee);\r\n      }\r\n    }\r\n\r\n    this.checkForFormValidation();\r\n\r\n    if (this.repairId && repairType.type == 'booking') {\r\n      this.updateBookingAssignee(repairType);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * populate vin number\r\n   */\r\n  public populateForm(): void {\r\n    this.monitorService.logEvent('populateForm', [ 'PersonalInfoComponent', 'addenda-quote', {\r\n      repairId: this.repairId\r\n    } ]);\r\n\r\n    const vinNumber = this.formModel.vehicleData.vin.value?.toLocaleString();\r\n\r\n    if (this.checkVINQueryPermission()) {\r\n      //return;\r\n      from(vinNumber)\r\n        .pipe()\r\n        .subscribe({\r\n          complete: () => {\r\n            if (vinNumber.length == 17 && !this.isFormConfirmed && !this.preventVinCall) {\r\n              this.commonService.showLoading();\r\n              this.vehicleService.getVinDecoder(vinNumber).subscribe({\r\n                error: () => {\r\n                  this.commonService.hideLoading();\r\n                  this.vinGTMotive = null;\r\n\r\n                  this.resetVehicleDropdown();\r\n                },\r\n                next: (result) => {\r\n                  if (result?.success) {\r\n                    this.vinGTMotive = result.data;\r\n\r\n                    this.umc = this.vinGTMotive?.umc;\r\n                    this.formModel.vehicleData.make = {\r\n                      ...this.formModel.vehicleData.make, selectedOption: { 'name': result.data.vehicleMake }\r\n                    };\r\n\r\n                    this.formModel.vehicleData.model = {\r\n                      ...this.formModel.vehicleData.model, selectedOption: { 'modelDescription': result.data.vehicleModel }\r\n                    };\r\n\r\n                    const makeList = this.formModel.vehicleData.make.options;\r\n                    const selectedMake = makeList.filter(q => q.name === result.data.vehicleMake);\r\n                    if (selectedMake.length > 0) {\r\n                      this.formModel.vehicleData.model = {\r\n                        ...this.formModel.vehicleData.model,\r\n                        observable: this.vehicleService.getVehicleModel(selectedMake[0].id, this.estimateId)\r\n                      };\r\n                      setTimeout(() => {\r\n                        this.model.triggerObservable();\r\n                      });\r\n                    }\r\n\r\n                    this.formModel.vehicleData.year = {\r\n                      ...this.formModel.vehicleData.year, selectedOption: { 'name': result.data.modelYearRange }\r\n                    };\r\n\r\n                    this.vehicleFormData['make'] = result.data.vehicleMake;\r\n                    this.vehicleFormData['model'] = result.data.vehicleModel;\r\n                    this.vehicleFormData['year'] = result.data.modelYearRange;\r\n\r\n                    this.inputDisabled = false;\r\n                    this.infoDisabled = false;\r\n                    this.makeDisabled = true;\r\n                    this.enableDropdowns();\r\n                  } else {\r\n                    this.vinGTMotive = null;\r\n\r\n                    if (this.vinFromOCR == this.vehicleFormData['vin']) {\r\n                      this.checkMakeModelExistFromOCR();\r\n                    } else {\r\n                      this.commonService.showInfoToast(5000, 'show-info | ' + result?.message);\r\n                      this.resetVehicleDropdown();\r\n                    }\r\n                  }\r\n\r\n                  if (this.make) {\r\n                    this.make.dropdownValidationMessage = '';\r\n                    this.make.dropdownContainer.dropdownConfig.isTouched = false;\r\n                    this.make.dropdownContainer.dropdownConfig.isDirty = false;\r\n                  }\r\n\r\n                  if (this.model) {\r\n                    this.model.dropdownValidationMessage = '';\r\n                    this.model.dropdownContainer.dropdownConfig.isTouched = false;\r\n                    this.model.dropdownContainer.dropdownConfig.isDirty = false;\r\n                  }\r\n\r\n                  if (this.year) {\r\n                    this.year.dropdownValidationMessage = '';\r\n                    this.year.dropdownContainer.dropdownConfig.isTouched = false;\r\n                    this.year.dropdownContainer.dropdownConfig.isDirty = false;\r\n                  }\r\n                  //this.validate();\r\n                },\r\n                complete: () => {\r\n                  this.commonService.hideLoading();\r\n                }\r\n              });\r\n            }\r\n\r\n            if (this.preventVinCall && vinNumber.length == 17) {\r\n              this.preventVinCall = false;\r\n            }\r\n          }\r\n        });\r\n    } else {\r\n      if (this.vinFromOCR == this.vehicleFormData['vin'] && this.vinFromOCR) {\r\n        this.checkMakeModelExistFromOCR();\r\n      }\r\n      this.inputDisabled = false;\r\n      this.infoDisabled = false;\r\n      this.enableDropdowns();\r\n      //this.resetVehicleDropdown();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * reset import term\r\n   */\r\n  private resetVehicleDropdown(enableControls: boolean = true): void {\r\n\r\n    if (enableControls) {\r\n      this.inputDisabled = false;\r\n      this.infoDisabled = false;\r\n      this.makeDisabled = false;\r\n    }\r\n\r\n    this.vehicleFormData['make'] = '';\r\n    this.vehicleFormData['model'] = '';\r\n    this.vehicleFormData['year'] = null;\r\n\r\n    this.formModel.vehicleData.model.options = [];\r\n    this.formModel.vehicleData.year.options = [];\r\n\r\n    this.formModel.vehicleData['make'] = {\r\n      ...this.formModel.vehicleData['make'], selectedOption: {}\r\n    };\r\n    this.formModel.vehicleData.model = {\r\n      ...this.formModel.vehicleData['model'], selectedOption: {}\r\n    };\r\n    this.formModel.vehicleData.year = {\r\n      ...this.formModel.vehicleData['year'], selectedOption: {}\r\n    }\r\n  }\r\n\r\n  /**\r\n * function to enable dropdowns\r\n */\r\n  enableDropdowns(): void {\r\n    this.modelDisabled = false;\r\n    this.yearDisabled = false;\r\n  }\r\n\r\n  /**\r\n   * close the detail form\r\n   */\r\n  closeForm(): void {\r\n    this.router.navigate([ '/repair/booking-journal' ]);\r\n  }\r\n\r\n  /**\r\n   * Cancel booking\r\n   */\r\n  cancelBooking(): void {\r\n\r\n    if (!this.repairId) {\r\n      this.closeForm();\r\n      return;\r\n    }\r\n    this.commonService.openDeleteDialog()\r\n      .afterClosed().subscribe((data) => {\r\n        if (data) {\r\n          this.commonService.showLoading();\r\n          this.calendarService.deleteRepair(this.repairId).subscribe({\r\n            next: () => {\r\n              this.commonService.hideLoading();\r\n              this.closeForm();\r\n            }\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  public editIndex: number = -1;\r\n  public dataSource: any[] = [];\r\n  public dataSourceToDelete: any[] = [];\r\n\r\n  public displayedColumns: string[] = [ 'BookingType', 'StartDate', 'EndDate', 'Action' ];\r\n\r\n  /**\r\n   * open add booking dialog\r\n   */\r\n  public openAddBooking(): void {\r\n\r\n    const customer: any = {\r\n      contactId: this.repairResponse?.customer.contactId,\r\n      firstName: this.customerFormData.firstName,\r\n      lastName: this.customerFormData.lastName,\r\n      mobileNumber: this.customerFormData.driverPhone.toString(),\r\n      email: this.customerFormData.email,\r\n      countryCode: this.customerFormData.driverCode,\r\n    };\r\n\r\n    const workProvider: any ={\r\n      companyId: this.customerFormData.companyId,\r\n      companyName: !this.isRetailAndCompanyProvider ? '' : this.customerFormData.companyName,\r\n      companyOrgType: this.customerFormData['companyOrgType'],\r\n    };\r\n\r\n    const dialogData = {\r\n      domainID: this.domainId,\r\n      objectID: this.objectId,\r\n      objectGuid: this.repairId,\r\n      objectData: this.repairResponse?.objectData,\r\n      startDate: this.startDate,\r\n      endDate: this.endDate,\r\n      repairStartDate: null,\r\n      repairEndDate: null,\r\n      bookingTypes: [ ...this.formModel.serviceType.options ].filter(q => !this.dataSource?.map(x => x.bookingTypeId).includes(q.id)),\r\n      customerData: customer,\r\n      workProviderData: workProvider\r\n    };\r\n\r\n    if(!this.repairId) {\r\n      dialogData.repairStartDate = this.personalInfoData.bookingInDate;\r\n      dialogData.repairEndDate = this.personalInfoData.bookingOutDate;\r\n    }\r\n\r\n    const dialogRef = this.dialog.open(AddBookingComponent, { data: dialogData, maxHeight: '500px', width: '500px', disableClose: true });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result?.success) {\r\n        this.addEditBooking(result);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param obj\r\n   */\r\n  public editBooking(obj: any): void {\r\n    this.isEdited = true;\r\n    this.editIndex = this.dataSource.indexOf(obj);\r\n    const dialogData = { ...this.dataSource[this.editIndex],\r\n      objectID: this.objectId,\r\n      objectGuid: this.repairId,\r\n      repairStartDate: null,\r\n      repairEndDate: null,\r\n      editMode: true,\r\n      bookingTypes: [ ...this.formModel.serviceType.options ].filter(q => q.id == this.dataSource[this.editIndex].bookingTypeId)\r\n    }\r\n\r\n    if(!this.repairId) {\r\n      dialogData.repairStartDate = this.personalInfoData.bookingInDate;\r\n      dialogData.repairEndDate = this.personalInfoData.bookingOutDate;\r\n    }\r\n\r\n    const dialogRef = this.dialog.open(AddBookingComponent, { data: dialogData, maxHeight: '500px', width: '500px', disableClose: true });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result?.success) {\r\n        this.addEditBooking(result);\r\n      } else {\r\n        this.editIndex = -1;\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  private addEditBooking(result): void {\r\n    const matchingType = this.dataSource.find(x => x.bookingTypeId == result.data.bookingTypeId);\r\n    let matchingTypeIndex = 0;\r\n    if (matchingType) {\r\n      matchingTypeIndex = this.dataSource.findIndex(x => x.bookingTypeId == result.data.bookingTypeId);\r\n    }\r\n\r\n    if (matchingType && this.editIndex != matchingTypeIndex) {\r\n      this.commonService.showToast(100, 'Cannot add same booking type twice.')\r\n    } else {\r\n\r\n      if (this.editIndex == -1 || !this.dataSource[this.editIndex]) {\r\n        this.dataSource.push(result?.data);\r\n      } else {\r\n        this.dataSource[this.editIndex] = result?.data;\r\n      }\r\n\r\n      this.dataSource = [ ...this.dataSource ];\r\n\r\n      if([ ...this.formModel.serviceType.options ].filter(q => !this.dataSource?.map(x => x.bookingTypeId).includes(q.id)).length < 1) {\r\n        this.addBookingButtonModel.type = 'disabled';\r\n      }\r\n\r\n      this.getEmployeePerRepair();\r\n      this.editIndex = -1;\r\n    }\r\n\r\n    const matchingDeletedype = this.dataSourceToDelete.find(x => x.bookingTypeId == result.data.bookingTypeId);\r\n    let matchingDeleteTypeIndex = 0;\r\n    if (matchingDeletedype) {\r\n      matchingDeleteTypeIndex = this.dataSourceToDelete.findIndex(x => x.bookingTypeId == result.data.bookingTypeId);\r\n      this.dataSourceToDelete.splice(matchingDeleteTypeIndex, 1);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param index\r\n   */\r\n  public deleteBooking(obj: any): void {\r\n    const dialogRef = this.commonService.openConfirmYesNoDialog(this.translateService.instant('confirm_to_continue'),\r\n      this.dataSource.length !== 1 ? this.translateService.instant('delete_confirm', { value: 'booking' }) : this.translateService.instant('cannot_view_in_calendar_if_deleted') );\r\n    dialogRef.afterClosed().subscribe((action: boolean) => {\r\n      if (action) {\r\n        if(obj.bookingGuid) {\r\n          this.commonService.showLoading();\r\n          this.bookingService.deleteBooking(obj.bookingGuid).subscribe({\r\n            next: async (result: any) => {\r\n              this.dataSource.splice(this.dataSource.findIndex(x => x.bookingTypeName == obj.bookingTypeName), 1);\r\n              this.dataSource = [ ...this.dataSource ];\r\n              this.addBookingButtonModel.type = 'primary';\r\n              this.getEmployeePerRepair();\r\n              this.commonService.hideLoading();\r\n            },\r\n            error: (err) => {\r\n              this.commonService.hideLoading();\r\n            }\r\n          });\r\n        } else {\r\n          this.dataSource.splice(this.dataSource.findIndex(x => x.bookingTypeName == obj.bookingTypeName), 1);\r\n          this.dataSource = [ ...this.dataSource ];\r\n\r\n          this.addBookingButtonModel.type = 'primary';\r\n          this.getEmployeePerRepair();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param date\r\n   * @returns\r\n   */\r\n  isPastDate(date: Date): boolean {\r\n    return new Date(date) < new Date()\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param element\r\n   * @returns\r\n   */\r\n  isRepairBooking(bookingType: string): boolean {\r\n    return (this.personalInfoData.bookingInDate && this.personalInfoData.bookingOutDate) && (bookingType === 'Repair' || bookingType === 'Booking In' || bookingType === 'Booking Out');\r\n  }\r\n\r\n  /**\r\n *\r\n */\r\n  private async getEmployeePerRepair(): Promise<void> {\r\n    if (this.personalInfoData.jobAllocation) {\r\n      this.repairEmployees = [];\r\n\r\n      const hasRepair = this.personalInfoData.repairTypes?.length > 0;\r\n      const filteredBooking = [ ...this.dataSource.filter(x=> ![ 'repair', 'booking in', 'booking out' ].includes(x.bookingTypeName.toLowerCase())) ];\r\n      const hasBooking = filteredBooking.length > 0;\r\n\r\n      if (hasRepair) {\r\n\r\n        const repairAssigneesToPull = [];\r\n\r\n        this.personalInfoData.repairTypes.forEach((element) => {\r\n          const matchingEmployeeData = this.employeeRepairServiceType.find(x=>x.typeId == element.id && x.type == 'repair');\r\n          repairAssigneesToPull.push({\r\n            typeId: element.id,\r\n            name: element.name,\r\n            assignees: matchingEmployeeData? [ ...matchingEmployeeData.assignees ] : []\r\n          })\r\n        });\r\n\r\n        await this.getAllAssignedEmployees(repairAssigneesToPull);\r\n      }\r\n\r\n      if (hasBooking) {\r\n        for (const element of filteredBooking) {\r\n          const matchingEmployeeData = this.employeeRepairServiceType.find(x=>x.typeId == element.bookingTypeId && x.type == 'booking' )\r\n          const repairEmployee = matchingEmployeeData? [ ...matchingEmployeeData.assignees ] : [];\r\n\r\n          await this.getAllAssignedEmployeesAssessment(repairEmployee, element);\r\n        }\r\n      }\r\n\r\n      if ((hasRepair || hasBooking) && this.repairEmployees?.length == 0) {\r\n        this.commonService.showInfoToast(1000, 'msg_no_competency');\r\n\r\n        //reset job allocation\r\n        this.formModel.jobAllocation = { ...this.formModel.jobAllocation, value: false };\r\n        if (this.formModel.jobAllocation.options.length) {\r\n          this.formModel.jobAllocation.options[0].checked = false;\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    if (!this.repairId || this.repairId == '0') {\r\n      if(this.dataSource.length == 0) {\r\n        this.bookingButtonModel.label = 'save';\r\n      } else {\r\n        this.bookingButtonModel.label = 'book_in';\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n * openDeliveryServiceDialog\r\n */\r\n  openDeliveryServiceDialog() :void{\r\n    const deliveryData = this.repairResponse.deliveryDTO ?? null;\r\n    this.dialog.open(DeliveryServiceComponent, {\r\n      data: { ...deliveryData, repairGuid: this.repairResponse.repairGuid, formEditable: false, repairStatus: this.repairResponse.status },\r\n      maxHeight: '90vh', minHeight: '400px', minWidth: '400px', disableClose: true\r\n    });\r\n  }\r\n\r\n  /**\r\n *\r\n * @param bookingEmployee\r\n */\r\n  private async updateBookingAssignee(bookingEmployee: any): Promise<void> {\r\n    this.commonService.showLoading();\r\n    const currentBookingAssignee = this.employeeRepairServiceType.find(x=> x.typeId == bookingEmployee.jobId);\r\n\r\n    const currentBooking = this.dataSource.find(x=>x.bookingTypeId == currentBookingAssignee.typeId );\r\n\r\n    const patchData = [\r\n      {\r\n        'path': 'assignees',\r\n        'op': 'replace',\r\n        'value': currentBookingAssignee.assignees.map(x=> x.assigneeId ).join(',')\r\n      }\r\n    ]\r\n\r\n    await firstValueFrom(this.bookingService.updateBooking(currentBooking.bookingGuid, patchData));\r\n    this.commonService.hideLoading();\r\n  }\r\n\r\n  public noShowFlag: boolean = false;\r\n\r\n  /**\r\n   *\r\n   * @param value\r\n   */\r\n  public noShowFlagChange(value):void {\r\n    if(value) {\r\n      this.openNoShowDialog();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   *\r\n   */\r\n  public openNoShowDialog():void {\r\n    const dialogRef = this.dialog.open(NoShowComponent, {\r\n      data: this.repairId,\r\n      maxHeight: '90vh', minHeight: '280px', minWidth: '500px', disableClose: true\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result?.success) {\r\n        window.location.reload();\r\n      } else {\r\n        this.noShowFlag = false;\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  /**\r\n   * showRepairTypeMessage\r\n   */\r\n  showRepairTypeMessage(): void{\r\n    if(repairEstimatedStatuses.indexOf(this.repairResponse?.status?.toLowerCase()) > -1 || this.isTechnician || this.caseId){\r\n      this.commonService.showInfoToast(5000, 'repair_types_can_be_updated_only_based_on_estimate')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    this.commonService.actionTriggered.unsubscribe();\r\n    this.commonService.accessRight.unsubscribe();\r\n    this.commonService.viewActionTriggeredBooking.unsubscribe();\r\n    this.commonService.labourData.unsubscribe();\r\n\r\n    if (this.subscriptions) this.subscriptions.forEach((subscription: Subscription) => subscription.unsubscribe());\r\n    this.monitorService.logEvent('ngOnDestroy', [ 'PersonalInfoComponent', 'addenda-repair' ]);\r\n  }\r\n\r\n}\r\n\r\n","<div class=\"main-wrapper\">\r\n    <div class=\"page-container-personal-info\" *ngIf=\"!isApiLoading\"\r\n        [ngClass]=\"{'text-mode bg-tab-default-content':isFormConfirmed, 'page-wrapper': !isFormConfirmed}\">\r\n        <div class=\"title\" [ngClass]=\"{'text-mode':isFormConfirmed}\">\r\n            {{'customer_details' | translate }}\r\n\r\n            <xa-toggle *ngIf=\"!isTechnician && repairNotApproved && !repairResponse?.noShowReason\"\r\n                [(ngModel)]=\"noShowFlag\" (ngModelChange)=\"noShowFlagChange($event)\" labelPosition=\"start\">\r\n                <span style=\"font-size: 16px; font-weight: 400;\">{{ 'no_show' | translate }}</span>\r\n            </xa-toggle>\r\n\r\n            <span *ngIf=\"repairResponse?.noShowReason\" class=\"noshow-button\" [matTooltip]=\"repairResponse.noShowReason\">\r\n                {{'no_show' | translate }}\r\n            </span>\r\n        </div>\r\n        <div class=\"sub-title\" [ngClass]=\"{'hide':isFormConfirmed}\">\r\n            <span class=\"required\">*</span>{{'mandatory_fields' | translate }}\r\n        </div>\r\n        <div class=\"info-wrapper\">\r\n            <div class=\"info\">\r\n                <form class=\"form-container gap-32\">\r\n                    <div class=\"control-container fx-col gap-15\">\r\n                        <div class=\"work-provider-container fx-col gap-32\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-12\">\r\n                                    <div class=\"row\">\r\n                                        <chq-input class=\"col-6\" (clicked)=\"hideDropdown($event);\"\r\n                                            [inputModel]=\"formModel.customerData.companyOrgType\" #orgType\r\n                                            (controlOutput)=\"onFormUpdateCustomer($event)\"></chq-input>\r\n                                        <chq-input class=\"col-6\"\r\n                                            *ngIf=\"customerFormData['companyOrgType'] ==='Insurance Company'\"\r\n                                            [inputModel]=\"formModel.customerData.claimNumber\"\r\n                                            (controlOutput)=\"onFormUpdateCustomer($event)\"></chq-input>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\" [ngClass]=\"{'hide':isFormConfirmed}\" *ngIf=\"isRetailProvider\">\r\n                                <div class=\"col-12\">\r\n                                    <div class=\"insurance-input-wrapper row\">\r\n                                        <chq-input class=\"company-input col-3\"\r\n                                            [inputModel]=\"formModel.customerData.carOwnerSelector\"\r\n                                            (controlOutput)=\"onFormUpdateCustomer($event)\"></chq-input>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\"\r\n                                *ngIf=\" !isRetailProvider || (customerFormData[formModel.customerData.carOwnerSelector.name] && customerFormData[formModel.customerData.carOwnerSelector.name] !== 'Person')\">\r\n                                <div class=\"col-12\">\r\n                                    <div class=\"insurance-input-wrapper row\">\r\n                                        <chq-input #companyOrg class=\"company-input col-6\"\r\n                                            (clicked)=\"hideDropdown($event);\"\r\n                                            [inputModel]=\"formModel.customerData.companyName\"\r\n                                            (controlOutput)=\"onFormUpdateCustomer($event)\"></chq-input>\r\n                                        <chq-input class=\"col-6\" #licenseId\r\n                                            [ngClass]=\"{'disable-input disable-controls' : formModel.customerData.companyName.type ==='select' }\"\r\n                                            [inputModel]=\"formModel.customerData.licenseId\"\r\n                                            (controlOutput)=\"onFormUpdateCustomer($event)\"></chq-input>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"button-container wrapper\"\r\n                            [ngClass]=\"{'hide':isFormConfirmed || !currentStatus || isTechnician}\">\r\n                            <div class=\"pdf-button\">\r\n                                <chq-button [buttonModel]=\"chqUploadDrivingLicense\">\r\n                                </chq-button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"driver-container\">\r\n                            <div class=\"row\">\r\n                                <div class=\"driver-details col-12 gap-32\">\r\n                                    <div class=\"driver-input-wrapper row\">\r\n                                        <div class=\"driver-fields-wrapper\">\r\n                                            <chq-input class=\"driver-field\"\r\n                                                [inputModel]=\"formModel.customerData.firstName\"\r\n                                                (controlOutput)=\"onFormUpdateCustomer($event)\"></chq-input>\r\n                                            <chq-input class=\"driver-field\"\r\n                                                [inputModel]=\"formModel.customerData.lastName\"\r\n                                                (controlOutput)=\"onFormUpdateCustomer($event)\"></chq-input>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"driver-address-wrapper row\">\r\n                                        <div class=\"driver-fields-wrapper\">\r\n                                            <chq-input class=\"driver-field basis-272 email\"\r\n                                                [inputModel]=\"formModel.customerData.email\"\r\n                                                (controlOutput)=\"onFormUpdateCustomer($event)\"\r\n                                                *ngIf=\"!isFormConfirmed\"></chq-input>\r\n                                            <div class=\"driver-field basis-272 email\" *ngIf=\"isFormConfirmed\">\r\n                                                <div class=\"driver-field-content\">\r\n                                                    <div class=\"label-text\">{{ formModel.customerData.email.label |\r\n                                                        translate }}\r\n                                                    </div>\r\n                                                    <div class=\"driver-content-value\">\r\n                                                        <span>{{\r\n                                                            formModel.customerData.email.value }}</span>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"driver-field basis-272\">\r\n                                                <div class=\"driver-fields-wrapper\">\r\n                                                    <chq-input class=\"driver-field  driver-code-field no-padding\"\r\n                                                        (clicked)=\"hideDropdown($event);\"\r\n                                                        [inputModel]=\"formModel.customerData.driverCode\" #driverCode\r\n                                                        (controlOutput)=\"onFormUpdateCustomer($event)\"></chq-input>\r\n                                                    <chq-input class=\"driver-field no-padding\" *ngIf=\"!isFormConfirmed\"\r\n                                                        [inputModel]=\"formModel.customerData.driverPhone\" #driverPhone\r\n                                                        (controlOutput)=\"onFormUpdateCustomer($event)\">\r\n                                                    </chq-input>\r\n                                                    <div class=\"driver-field-content\" *ngIf=\"isFormConfirmed\">\r\n                                                        <div class=\"label-text\">{{\r\n                                                            formModel.customerData.driverPhone.label | translate }}\r\n                                                        </div>\r\n                                                        <div class=\"driver-content-value\">\r\n                                                            <span>{{\r\n                                                                formModel.customerData.driverPhone.value }}</span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"fx-col gap-32\">\r\n                        <div class=\"row align-center info-title \" [ngClass]=\"{'text-mode':isFormConfirmed}\">\r\n                            <div class=\"col-6\"> {{'vehicle_detail' | translate }}</div>\r\n                            <div class=\"col-6 button-registration\"\r\n                                [ngClass]=\"{'hide':isFormConfirmed || !currentStatus || isTechnician}\">\r\n                                <chq-button [buttonModel]=\"chqUploadRegistrationCard\">\r\n                                </chq-button>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"vehicle-container fx-col gap-32\">\r\n                            <div class=\"row vin-wrapper\">\r\n                                <chq-input class=\"col-6\" [ngClass]=\"{'partial-disable-info' : searchDisabled }\"\r\n                                    [inputModel]=\"formModel.vehicleData.vin\"\r\n                                    (controlOutput)=\"onFormUpdateVehicle($event)\"></chq-input>\r\n                                <chq-input #make id='input-make' class=\"col-6\" [inputModel]=\"formModel.vehicleData.make\"\r\n                                    (clicked)=\"hideDropdown($event);\" (controlOutput)=\"onFormUpdateVehicle($event)\"\r\n                                    [ngClass]=\"{'disable-input disable-controls' : inputDisabled || makeDisabled }\"></chq-input>\r\n                            </div>\r\n                            <div class=\"vehicle-brand-wrapper row\">\r\n                                <chq-input #model id='input-model' class=\"col-6\"\r\n                                    [inputModel]=\"formModel.vehicleData.model\" (clicked)=\"hideDropdown($event);\"\r\n                                    (controlOutput)=\"onFormUpdateVehicle($event)\"\r\n                                    [ngClass]=\"{'disable-input disable-controls' : inputDisabled || modelDisabled }\"></chq-input>\r\n                                <chq-input class=\"col-6 extra-position\" [inputModel]=\"formModel.vehicleData.carMilege\"\r\n                                    #mileage (controlOutput)=\"onFormUpdateVehicle($event)\"\r\n                                    [ngClass]=\"{'partial-disable-info disable-controls' : infoDisabled }\"></chq-input>\r\n                            </div>\r\n                            <div class=\"vehicle-info-wrapper row \"\r\n                                [ngClass]=\"{'partial-disable-info disable-controls' : infoDisabled }\">\r\n\r\n                                <chq-input class=\"col-6 registration-date\"\r\n                                    [inputModel]=\"formModel.vehicleData.registrationDate\" #regDate\r\n                                    (controlOutput)=\"onFormUpdateVehicle($event)\"></chq-input>\r\n                                <chq-input class=\"col-6 registration-date\"\r\n                                    [inputModel]=\"formModel.vehicleData.manufacturingDate\" #manufacturingDate\r\n                                    (controlOutput)=\"onFormUpdateVehicle($event)\"></chq-input>\r\n                            </div>\r\n                            <div class=\"vehicle-info1-wrapper row\"\r\n                                [ngClass]=\"{'disable-input disable-controls' : inputDisabled }\">\r\n                                <chq-input #year id='input-year' class=\"col-6\" [inputModel]=\"formModel.vehicleData.year\"\r\n                                    (clicked)=\"hideDropdown($event);\" (controlOutput)=\"onFormUpdateVehicle($event)\"\r\n                                    [ngClass]=\"{'disable-input disable-controls' : yearDisabled }\"></chq-input>\r\n                                <chq-input class=\"col-6\" [inputModel]=\"formModel.vehicleData.licensePlate\" #license\r\n                                    (controlOutput)=\"onFormUpdateVehicle($event)\"></chq-input>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf=\"formModel.repairTypes.options?.length > 0\" class=\"wrapper fx-col gap-32\">\r\n                        <div class=\"info-title\">\r\n                            {{'repair_details' | translate}}\r\n                        </div>\r\n                        <div class=\"booking-container fx-col gap-32\" *ngIf=\"!this.commonService.isViewOnly\">\r\n                            <div class=\"row\" (click)=\"showRepairTypeMessage()\">\r\n                                <!-- <chq-input class=\"col-6\" (clicked)=\"hideDropdown($event);\"\r\n                                    [ngClass]=\"{'hide':isFormConfirmed}\" [inputModel]=\"formModel.serviceType\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\" #serviceType></chq-input>\r\n                                <div class=\"col-4 col-text-mode\" *ngIf=\"isFormConfirmed\">\r\n                                    <label>{{'type_of_service' | translate | uppercase }}</label>\r\n                                    <label>{{ serviceTypeString }}</label>\r\n                                </div> -->\r\n                                <chq-input class=\"col repair-type\" [inputModel]=\"formModel.repairTypes\"\r\n                                    [ngClass]=\"{'hide':isFormConfirmed}\" #repairType (clicked)=\"hideDropdown($event);\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                                <div class=\"col-4 col-text-mode\" *ngIf=\"isFormConfirmed\">\r\n                                    <label>{{'types_of_repair' | translate | uppercase }}</label>\r\n                                    <label>{{ repairTypesString }}</label>\r\n                                </div>\r\n                                <div class=\"col-4 col-text-mode\" *ngIf=\"isFormConfirmed\">\r\n                                    <label>{{ 'assign_to' | translate | uppercase }} </label>\r\n                                    <label>{{ assigneeString }}</label>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <chq-input [inputModel]=\"formModel.bookingInDate\"\r\n                                    [ngClass]=\"isFormConfirmed ? 'col-4' : 'col-6'\"\r\n                                    (controlOutput)=\"onFormUpdate($event)\" #bookingInDate></chq-input>\r\n                                <div class=\"col-6\" style=\"display: flex;gap: 10px; flex-direction: column;\">\r\n                                    <chq-input [inputModel]=\"formModel.bookingOutDate\" #bookingout\r\n                                        (controlOutput)=\"onFormUpdate($event)\" style=\"flex: 1 1 auto;\">\r\n                                    </chq-input>\r\n                                    <div *ngIf=\"endDateGreaterThanstartDate\" class=\"invalid\">\r\n                                        {{ 'bookingout_greater_msg' | translate }}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"wrapper fx-col gap-32\">\r\n                        <div class=\"info-title info-title-with-button\">\r\n                            {{'booking_details' | translate}}\r\n\r\n                            <div *ngIf=\"status?.toLowerCase() !== 'complete'\" style=\"display: flex;gap:10px;\">\r\n                                <chq-button [buttonModel]=\"addBookingButtonModel\"\r\n                                    style=\"display: flex;align-items: end;\"></chq-button>\r\n                            </div>\r\n                        </div>\r\n                        <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\r\n                            <ng-container matColumnDef=\"BookingType\">\r\n                                <th mat-header-cell *matHeaderCellDef> Booking Type </th>\r\n                                <td mat-cell *matCellDef=\"let element\"> {{element.bookingTypeName}}</td>\r\n                            </ng-container>\r\n\r\n                            <ng-container matColumnDef=\"StartDate\">\r\n                                <th mat-header-cell *matHeaderCellDef> Start Date </th>\r\n                                <td mat-cell *matCellDef=\"let element\"> {{element.startDate | date:'dd/MM/yyyy h:mm a'}}\r\n                                </td>\r\n                            </ng-container>\r\n\r\n                            <ng-container matColumnDef=\"EndDate\">\r\n                                <th mat-header-cell *matHeaderCellDef> End Date </th>\r\n                                <td mat-cell *matCellDef=\"let element\"> {{element.endDate | date:'dd/MM/yyyy h:mm a'}}\r\n                                </td>\r\n                            </ng-container>\r\n\r\n                            <ng-container matColumnDef=\"Action\">\r\n                                <th mat-header-cell *matHeaderCellDef> </th>\r\n                                <td mat-cell *matCellDef=\"let element\">\r\n                                    <mat-icon\r\n                                        *ngIf=\"!this.commonService.isViewOnly && status?.toLowerCase() !== 'complete' && !isRepairBooking(element.bookingTypeName)\"\r\n                                        [svgIcon]=\"'edit'\" (click)=\"editBooking(element)\"></mat-icon>\r\n                                    <mat-icon\r\n                                        *ngIf=\"!this.commonService.isViewOnly && status?.toLowerCase() !== 'complete' && !isRepairBooking(element.bookingTypeName) && !isPastDate(element.endDate)\"\r\n                                        [svgIcon]=\"'delete'\" color=\"red\" (click)=\"deleteBooking(element)\"></mat-icon>\r\n                                </td>\r\n                            </ng-container>\r\n\r\n                            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n                            <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n                        </table>\r\n\r\n                    </div>\r\n                    <div class=\"wrapper assigned-to-container fx-col\" [ngClass]=\"{'hide':isFormConfirmed}\">\r\n                        <div class=\"info-title\">\r\n                            {{'job_allocation' | translate}}\r\n                        </div>\r\n                        <div class=\"job-allocation-container\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-12\">\r\n                                    <chq-input class=\"job-allocation\" [inputModel]=\"formModel.jobAllocation\"\r\n                                        [ngStyle]=\"formModel.communicationChannel.disabled ? {'pointer-events': 'none'} :{}\"\r\n                                        (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <ng-container *ngIf=\"personalInfoData['jobAllocation'] && dataSource\">\r\n                            <div class=\"repair-type-container-wrapper\"\r\n                                *ngFor=\"let repairType of repairEmployees; let index=index\"\r\n                                [ngClass]=\"(isTechnician || [ 'readytoinvoice', 'invoiced', 'complete', 'closed' ].indexOf(this.status?.toLowerCase()) !== -1) ? 'disable-container' : ''\">\r\n                                <div class=\"repair-type-container\" (click)=\"expandCollapseAssignedTo(repairType)\">\r\n                                    <div>\r\n                                        {{ repairType.jobName }}\r\n                                    </div>\r\n                                    <div>\r\n                                        <mat-icon [svgIcon]=\"repairType.active ? 'dropdown-up' : 'dropdown'\"></mat-icon>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"row\" [ngClass]=\"{'hide': !repairType.active}\">\r\n                                    <div class=\"col-6\">\r\n                                        <div class=\"text-secondary\">\r\n                                            {{ repairType.jobName?.toString() | uppercase }} {{ 'specialists' |\r\n                                            translate\r\n                                            | uppercase }}\r\n                                        </div>\r\n                                        <div class=\"employee-list-wrapper\">\r\n                                            <div class=\"employee-list\" cdkDropList [cdkDropListConnectedTo]=\"[doneList]\"\r\n                                                cdkDropListSortingDisabled [cdkDropListData]=\"repairType.employees\">\r\n                                                <div class=\"employee\" cdkDrag *ngFor=\"let item of repairType.employees\"\r\n                                                    (dblclick)=\"onDoubleClick(item, repairType)\"\r\n                                                    [cdkDragDisabled]=\"!item.isAvailable\">\r\n                                                    <img src=\"assets/img/tick_icon.png\" *ngIf=\"item.isAvailable\" />\r\n                                                    <img src=\"assets/img/cross_icon.png\" *ngIf=\"!item.isAvailable\" />\r\n                                                    <span *ngIf=\"!item.assigneeName\">\r\n                                                        {{ item.firstName }} {{item.lastName }}</span>\r\n                                                    <span *ngIf=\"item.assigneeName\">{{ item.assigneeName }}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-6\">\r\n                                        <div class=\"text-secondary\">\r\n                                            {{ 'specialists_assigned' | translate | uppercase }}\r\n                                        </div>\r\n                                        <div class=\"employee-list-wrapper dropped\">\r\n                                            <div class=\"employee-list\" cdkDropList #doneList=\"cdkDropList\"\r\n                                                (cdkDropListDropped)=\"drop($event, repairType)\"\r\n                                                [cdkDropListData]=\"repairType.employeesAssigned\">\r\n                                                <div class=\"employee assigned\"\r\n                                                    *ngFor=\"let item of repairType.employeesAssigned\">\r\n                                                    <img src=\"assets/img/tick_icon.png\" />\r\n                                                    <span *ngIf=\"!item.assigneeName\">\r\n                                                        {{ item.firstName }} {{item.lastName }}</span>\r\n                                                    <span *ngIf=\"item.assigneeName\">{{ item.assigneeName }}</span>\r\n                                                    <mat-icon [svgIcon]=\"'cross'\" color=\"red\"\r\n                                                        [ngStyle]=\"unAssignEmployeeDisabled ? {'pointer-events': 'none'} :{}\"\r\n                                                        (click)=\"unAssignEmployee(item, repairType)\"></mat-icon>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </ng-container>\r\n                    </div>\r\n                    <div class=\"other-container wrapper fx-col gap-32\">\r\n                        <div class=\"info-title\">\r\n                            {{ 'other_details' | translate }}\r\n                        </div>\r\n                        <div class=\"towing-container\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-12\">\r\n                                    <div class=\"towing-layout\" [ngClass]=\"{'hide':isFormConfirmed}\">\r\n                                        <chq-input [inputModel]=\"formModel.towedIn\"\r\n                                            (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                                    </div>\r\n                                    <div class=\"towing-layout\" *ngIf=\"isFormConfirmed\">\r\n                                        <label>{{ formModel.towedIn.value }}</label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"delivery-service-container\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-12 d-flex\">\r\n                                    <span style=\"margin-right: 10px;\">\r\n                                        <chq-input [inputModel]=\"formModel.isDeliveryTypeEnable\"\r\n                                            (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                                    </span>\r\n                                    <span *ngIf=\"formModel.isDeliveryTypeEnable?.options[0].checked && repairId\">\r\n                                        <chq-button [buttonModel]=\"deliveryServiceButtonModel\"\r\n                                            (click)=\"openDeliveryServiceDialog()\"></chq-button>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"vehicle-location-container\">\r\n                            <div class=\"vehicle-location-title\">\r\n                                Vehicle location\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-12\">\r\n                                    <div class=\"vl-layout\" [ngClass]=\"{'hide':isFormConfirmed}\">\r\n                                        <chq-input [inputModel]=\"formModel.vehicleLocation\"\r\n                                            (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                                    </div>\r\n                                    <div class=\"vl-layout\" *ngIf=\"isFormConfirmed\">\r\n                                        <label>{{ formModel.towedIn.value }}</label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"notes-container\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-12\">\r\n                                    <chq-input [inputModel]=\"formModel.notes\" (controlOutput)=\"onFormUpdate($event)\">\r\n                                    </chq-input>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"wrapper fx-col gap-32\"\r\n                            *ngIf=\"this.formModel.communicationChannel.options?.length > 0\">\r\n                            <div class=\"info-title\">\r\n                                {{ 'preferred_comm' | translate }} <span class=\"required\">*</span>\r\n                            </div>\r\n                            <div class=\"communication-container\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-12\">\r\n                                        <chq-input class=\"\" [inputModel]=\"formModel.communicationChannel\"\r\n                                            [ngStyle]=\"formModel.communicationChannel.disabled ? {'pointer-events': 'none'} :{}\"\r\n                                            #communicationChannel (controlOutput)=\"onFormUpdate($event)\"></chq-input>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <div class=\"footer-full-wrapper\">\r\n            <div class=\"footer-image-wrapper\">\r\n                <div class=\"image-wrapper\">\r\n                    <img src=\"assets/img/addenda-repair.png\" />\r\n                </div>\r\n            </div>\r\n            <ng-container *ngIf=\"!this.commonService.isViewOnly\">\r\n                <div class=\"footer-button-wrapper\" *chqPermission=\"'newBooking'\">\r\n                    <chq-button [buttonModel]=\"cancelButtonModel\" *ngIf=\"showDelete\"></chq-button>\r\n                    <chq-button [buttonModel]=\"bookingButtonModel\"\r\n                        *ngIf=\"!repairId ||  status?.toLowerCase() !== 'complete'\"></chq-button>\r\n                    <chq-button [buttonModel]=\"closeButtonModel\" *ngIf=\"repairId && isFormConfirmed\"></chq-button>\r\n                </div>\r\n            </ng-container>\r\n        </div>\r\n    </div>\r\n</div>\r\n<chq-upload [currentStep]=\"currentStep\" [currentPageName]=\"'personal-info'\" [isCurrentAdditionalModeMultiple]=\"false\"\r\n    [ngClass]=\"{'disabled':currentStep?.uploadInProgress}\" #chqUpload\r\n    (imageOutput)=\"handleImageOutput($event);\"></chq-upload>","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\n\r\n@Component({\r\n  selector: 'app-add-photos',\r\n  templateUrl: './add-photos.component.html',\r\n  styleUrls: [ './add-photos.component.scss' ]\r\n})\r\nexport class AddPhotosComponent {\r\n  header = {\r\n    title: 'Upload Images',\r\n    step: 0,\r\n    description: '',\r\n    stepName: 'Back / Bulk Upload',\r\n    rightActionText: 'Delete all and Start Over',\r\n    rightActionIcon: 'delete',\r\n    isRepairModule: true,\r\n    showTitle: true\r\n  };\r\n\r\n  /**\r\n * constructor\r\n * @param router \r\n */\r\n  constructor(private commonService: CommonService, private router: Router,\r\n    private monitorService:MonitorService) {\r\n    /*if (this.commonService.accessRight.closed) {\r\n      this.commonService.accessRight = new BehaviorSubject<boolean>(true);\r\n\r\n    }*/\r\n  }\r\n\r\n  /**\r\n   * update title according to option selected\r\n   * @param $event \r\n   */\r\n  handleUpdateMode($event):void{\r\n    if($event.mode === 'error'){\r\n      this.displayMissingInspectionMessage($event.id);\r\n    }else\r\n    if($event.mode === 'single'){\r\n      this.header = { ...this.header, title: 'back_smart_photo' }\r\n    }else{\r\n      this.header = { ...this.header, title: 'back_bulk_upload' }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * show error dialog\r\n   */\r\n  displayMissingInspectionMessage(bookingId:string):void{\r\n    this.commonService.openConfirmationOkDialog('Notification', 'Please add your vehicle in order to add car images.').afterClosed().subscribe({\r\n      next: (result:boolean)=>{\r\n        if(result){\r\n          this.router.navigate([ `repair/booking/${bookingId}` ]);\r\n        }\r\n      },\r\n      error: ()=>{\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  /**\r\n   * destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    this.commonService.accessRight.unsubscribe();\r\n    this.monitorService.logEvent('ngOnDestroy', [ 'Photos component', 'addenda-repair' ]);\r\n  }\r\n}\r\n","<new-photos [photosHeader]=\"header\" (currentUploadMode)=\"handleUpdateMode($event)\"></new-photos>","import { Component, OnDestroy } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\n\r\n@Component({\r\n  selector: 'repair-new-documents',\r\n  templateUrl: './repair-new-documents.component.html',\r\n  styleUrls: [ './repair-new-documents.component.scss' ]\r\n})\r\nexport class RepairNewDocumentsComponent implements OnDestroy {\r\n  header = {\r\n    title: 'Upload Document',\r\n    step: 0,\r\n    description: '',\r\n    stepName: '',\r\n    isRepairModule: true,\r\n    isHeaderOnly: true\r\n  };\r\n\r\n  /**\r\n * constructor\r\n * @param router \r\n */\r\n  constructor(private commonService: CommonService, \r\n    private monitorService:MonitorService) {\r\n    /*if (this.commonService.accessRight.closed) {\r\n      this.commonService.accessRight = new BehaviorSubject<boolean>(true);\r\n\r\n    }*/\r\n  }\r\n\r\n  /**\r\n   * destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    this.commonService.accessRight.unsubscribe();\r\n    this.monitorService.logEvent('ngOnDestroy', [ 'Document Component', 'addenda-repair' ]);\r\n  }\r\n\r\n}\r\n","<new-documents [documentHeader]=\"header\"></new-documents>","import { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { Route, RouterModule } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { CdTimerModule } from 'angular-cd-timer';\r\nimport { DxDateBoxModule } from 'devextreme-angular';\r\nimport { NgxPrintModule } from 'ngx-print';\r\nimport { SchedulePickupDatePopupComponent } from 'src/app/dialogs/schedule-pickup-date-popup/schedule-pickup-date-popup.component';\r\nimport { SendInvoiceComponent } from 'src/app/dialogs/send-invoice/send-invoice.component';\r\nimport { VersionControlResolver } from 'src/app/resolvers/versionControl.resolver';\r\nimport { ErrorModule } from 'src/app/shared/error-page/error.module';\r\nimport { HistoryComponent } from 'src/app/shared/history/history.component';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { WidgetsModule } from 'src/app/widgets/widgets.module';\r\nimport { InvoiceSummaryComponent } from '../../../dialogs/invoice-summary/invoice-summary.component';\r\nimport { EstimateComponent } from './booking/estimate/estimate/estimate.component';\r\nimport { PersonalInfoComponent } from './booking/personal-info/personal-info.component';\r\nimport { AddPhotosComponent } from './booking/repair-add-photos/add-photos.component';\r\nimport { RepairNewDocumentsComponent } from './booking/repair-new-documents/repair-new-documents/repair-new-documents.component';\r\nimport { CustomerLayoutComponent } from './customer-layout/customer-layout.component';\r\nimport { GenerateInvoicesComponent } from './repair/generate-invoices/generate-invoices.component';\r\nimport { RepairInvoicesComponent } from './repair/invoices/invoices.component';\r\nimport { RepairPartsComponent } from './repair/parts/repair-parts.component';\r\nimport { RepairPhotosComponent } from './repair/repair-stages/repair-photos/repair-photos.component';\r\nimport { RepairStagesTableComponent } from './repair/repair-stages/repair-stages-table/repair-stages-table.component';\r\nimport { RepairStagesComponent } from './repair/repair-stages/repair-stages.component';\r\nimport { DirectiveModule } from 'src/app/helper/directive/directive.module';\r\nimport { NgScrollbarModule } from 'ngx-scrollbar';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { AddBookingComponent } from './booking/personal-info/add-booking/add-booking.component';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MaterialModule } from 'src/app/material.module';\r\nimport { PipeModule } from 'src/app/helper/pipe.module';\r\nimport { DeliveryServiceComponent } from '../delivery-service/delivery-service.component';\r\nimport { NoShowComponent } from './booking/personal-info/no-show/no-show.component';\r\n\r\n\r\nconst customerRoutes: Route[] = [\r\n  {\r\n    path: '',\r\n    component: PersonalInfoComponent,\r\n    //canDeactivate: [ CanDeactivateGuard ],\r\n    //resolve: { version: VersionControlResolver }\r\n  },\r\n  {\r\n    path: 'refresh',\r\n    component: PersonalInfoComponent\r\n  },\r\n  {\r\n    path: 'document',\r\n    component: RepairNewDocumentsComponent,\r\n    resolve: { version: VersionControlResolver },\r\n  },\r\n  {\r\n    path: 'photos',\r\n    component: AddPhotosComponent,\r\n    resolve: { version: VersionControlResolver },\r\n  },\r\n  {\r\n    path: 'estimate',\r\n    component: EstimateComponent,\r\n    resolve: { version: VersionControlResolver },\r\n  },\r\n  {\r\n    path: 'parts',\r\n    component: RepairPartsComponent,\r\n    resolve: { version: VersionControlResolver }\r\n  },\r\n  {\r\n    path: 'repair-stages',\r\n    component: RepairStagesComponent,\r\n    resolve: { version: VersionControlResolver }\r\n  },\r\n  {\r\n    path: 'invoices',\r\n    component: RepairInvoicesComponent,\r\n    resolve: { version: VersionControlResolver },\r\n  },\r\n  {\r\n    path: 'invoicesEdit',\r\n    component: GenerateInvoicesComponent,\r\n    resolve: { version: VersionControlResolver },\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PersonalInfoComponent,\r\n    CustomerLayoutComponent,\r\n    AddPhotosComponent,\r\n    RepairNewDocumentsComponent,\r\n    EstimateComponent,\r\n    RepairPartsComponent,\r\n    RepairStagesComponent,\r\n    RepairStagesTableComponent,\r\n    RepairPhotosComponent,\r\n    RepairInvoicesComponent,\r\n    InvoiceSummaryComponent,\r\n    GenerateInvoicesComponent,\r\n    SchedulePickupDatePopupComponent,\r\n    SendInvoiceComponent,\r\n    AddBookingComponent,\r\n    DeliveryServiceComponent,\r\n    NoShowComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(customerRoutes),\r\n    WidgetsModule,\r\n    SharedModule,\r\n    DragDropModule,\r\n    ErrorModule,\r\n    CdTimerModule,\r\n    TranslateModule,\r\n    HistoryComponent,\r\n    NgxPrintModule,\r\n    DxDateBoxModule,\r\n    DirectiveModule,\r\n    NgScrollbarModule,\r\n    MatTableModule,\r\n    MatDialogModule,\r\n    MaterialModule,\r\n    PipeModule\r\n  ],\r\n  exports: [\r\n    RouterModule,\r\n    CustomerLayoutComponent,\r\n    AddPhotosComponent,\r\n    NgScrollbarModule \r\n  ]\r\n})\r\nexport class AddRepairCustomersModule { }\r\n","import { AfterViewInit, Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { ValidationErrors, ValidatorFn, Validators } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport * as dayjs from 'dayjs';\r\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\r\nimport { BehaviorSubject, Subscription } from 'rxjs';\r\nimport { PaymentsComponent } from 'src/app/dialogs/payments/payments.component';\r\nimport { SchedulePickupDatePopupComponent } from 'src/app/dialogs/schedule-pickup-date-popup/schedule-pickup-date-popup.component';\r\nimport { SendInvoiceComponent } from 'src/app/dialogs/send-invoice/send-invoice.component';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { ChqWidgetsInputModel, IControlValue } from 'src/app/model/chq-widgets-input-model';\r\nimport { OutboundService } from 'src/app/services/outbound/outbound.service';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\r\nimport { InvoiceService } from 'src/app/services/invoice/invoice.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\nimport { Charges } from '../invoices/invoices.component';\r\nimport { ServiceType } from 'src/app/model/menu';\r\nimport { KeyValue } from '@angular/common';\r\nimport { CoreService } from 'src/app/services/core/core.service';\r\nimport { ChqInputComponent } from 'src/app/widgets/chq-input/chq-input.component';\r\nimport { ChqWidgetsDropdownModel } from 'src/app/model/chq-widgets-dropdown-model';\r\ntype formType = 1 | 2;\r\n@Component({\r\n  selector: 'app-generate-invoices',\r\n  templateUrl: './generate-invoices.component.html',\r\n  styleUrls: [ './generate-invoices.component.scss' ],\r\n  providers: [ OutboundService ]\r\n})\r\nexport class GenerateInvoicesComponent implements OnDestroy, OnInit, AfterViewInit {\r\n  /**\r\n    constructor for GenerateInvoicesComponent\r\n  */\r\n  constructor(\r\n    public commonService: CommonService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    public dialog: MatDialog,\r\n    private coreService:CoreService,\r\n    private translateService: TranslateService,\r\n    private OutboundService: OutboundService,\r\n    private invoiceService: InvoiceService,\r\n    private bookingService: BookingService,\r\n    private translationService:TranslateService,\r\n    private monitorServie: MonitorService,\r\n  ) {\r\n    this.isWorkProvider =\r\n      this.route.snapshot?.queryParams['formType'] == 1 ? true : false;\r\n    this.navigationEndSubscription = this.router.events.subscribe((event) => {\r\n      if (event instanceof NavigationEnd) {\r\n        // NavigationEnd event occurred\r\n        // Update selected Payer based on queryParams\r\n        this.isWorkProvider =\r\n          this.route.snapshot?.queryParams['formType'] == 1 ? true : false;\r\n      }\r\n    });\r\n    if(this.commonService.reloadDetail.closed) {\r\n      this.commonService.reloadDetail = new BehaviorSubject<number>(null);\r\n    }\r\n    // set Locale, digitInfo & currencySymbol\r\n    this.i18n = this.commonService.geti18nInfo();\r\n    this.digitInfo = this.commonService.getDigitsInfo()\r\n    this.locale = this.commonService.getLocale()\r\n    this.currencySymbol = this.commonService.getCurrencySymbol()\r\n  }\r\n  @ViewChild('print') print!: ElementRef;\r\n  digitInfo = ''\r\n  locale = ''\r\n  currencySymbol = ''\r\n  i18n: i18nInfo;\r\n  public charges:any[] = [];\r\n  private navigationEndSubscription: Subscription;\r\n  @ViewChild('phone') phone: ChqInputComponent;\r\n  private subs: Subscription[] = []\r\n  // Footer options\r\n  isOptionsOpen = false;\r\n  public invoiceList:Charges = {};\r\n\r\n  isWorkProvider = true;\r\n  orgImageLoading: boolean = true;\r\n  orgLogoUrl: string = '';\r\n  orgName: string = '';\r\n  public repairStatus:string = '';\r\n  public domainId:number = 3100;\r\n\r\n  isAllExpanded = true;\r\n  isPartsExpanded = true;\r\n  isLabourExpanded = true;\r\n  isPaintExpanded = true;\r\n  isDataLoading = true;\r\n  public dataResponse:any = {};\r\n  public pickupDate: string = null;\r\n  public currentDueDate = null;\r\n  public bookingOutDate: string = null;\r\n\r\n  // Validations\r\n  trnNumberLimit = 15\r\n\r\n  // Parts Data\r\n  public partsCost = [\r\n    {\r\n      description: 'Rear left wing w/ sill panel - Section M',\r\n      code: 'A35492315',\r\n      units: '2',\r\n      cost: '500',\r\n      total: '1500',\r\n    },\r\n  ];\r\n  public totalPartsCost: number = 0;\r\n  isDeliveryTypeEnable: boolean;\r\n  deliveryDTO = null;\r\n\r\n  /**\r\n   * on dropdown observable load\r\n   */\r\n  onObservableLoad(items: any): void {\r\n    this.commonService.hideLoading();\r\n\r\n    if (!items) {\r\n      return;\r\n    }\r\n    if (items && items.length > 0) {\r\n\r\n      if(!this.dataResponse.contactNumber){\r\n        // Comment out below code to fix bug: https://dev.azure.com/XASystems/XA%20APPs/_workitems/edit/21550\r\n        // const defaultCode = '+91';\r\n        // const defaultSelectedItem = items.filter((it: any) => {\r\n        //   return it.phoneCountryCode === defaultCode;\r\n        // });\r\n        // const output = defaultSelectedItem[0];\r\n        // this.dataResponse.code = output['phoneCountryCode'];\r\n        // const validationPattern = output['regExpression'];\r\n        this.phoneCode = { ...this.phoneCode, selectedOption: {} };\r\n        this.contactNumberInput = { ...this.contactNumberInput, value: null };\r\n        // if (this.phone) {\r\n        //   this.phone.updateCurrentValidation(validationPattern, true, true);\r\n        // }\r\n        return;\r\n      }\r\n\r\n      const code = this.dataResponse.contactNumber?.substring(0, 3);\r\n      const code1 = this.dataResponse.contactNumber?.substring(0, 4);\r\n      let currentPhoneNumber = '';\r\n      let selectedItem = items.filter((it: any) => {\r\n        return it.phoneCountryCode === code;\r\n      });\r\n      if(selectedItem.length === 0 ){\r\n        currentPhoneNumber = this.dataResponse.contactNumber?.substring(4, this.dataResponse.contactNumber?.length);\r\n        selectedItem = items.filter((it: any) => {\r\n          return it.phoneCountryCode === code1;\r\n        });\r\n      }else{\r\n        currentPhoneNumber = this.dataResponse.contactNumber?.substring(3, this.dataResponse.contactNumber?.length);\r\n      }\r\n\r\n      if (selectedItem.length > 0) {\r\n        const output = selectedItem[0];\r\n        const validationPattern = output['regExpression'];\r\n        this.phoneCode = { ...this.phoneCode, selectedOption: output, mode: this.repairStatus.toLowerCase()==='complete' || this.commonService.isViewOnly || this.repairStatus.toLowerCase()==='paid'?'text':null };\r\n        this.dataResponse.code = output['phoneCountryCode'];\r\n        this.contactNumberInput = { ...this.contactNumberInput, value: currentPhoneNumber };\r\n        if (this.phone) {\r\n          this.phone.updateCurrentValidation(validationPattern, true, true);\r\n          this.phone.setDirty();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Labour Data\r\n  public labourCost = [\r\n    {\r\n      description: 'Rear left wing w/ sill panel - Section M',\r\n      code: 'A35492315',\r\n      hours: '5',\r\n      cost: '500',\r\n      total: '1500',\r\n    },\r\n  ];\r\n  public totalLabourCost: number = 0;\r\n  public maxPoint:number = 10000000;\r\n  public estimateSummary:any = {};\r\n  public currentWorkProvider:string = '';\r\n  public currentWorkProviderType:string = '';\r\n  public workProviderValue:string = '';\r\n  public customerValue:string ='';\r\n\r\n  // Paint Data\r\n  public paintLabour = [\r\n    {\r\n      description: 'Boot lid Repaired <50%',\r\n      code: 'GtP84000',\r\n      unitHours: '1.60',\r\n      cost: '500',\r\n      total: '1500',\r\n    },\r\n  ];\r\n  public paintMaterial = [\r\n    {\r\n      description: 'Boot lid Repaired <50%',\r\n      code: 'GtP84000',\r\n      unitHours: '1',\r\n      cost: '300',\r\n      total: '300',\r\n    },\r\n  ];\r\n  public totalPaintCost: number = 0;\r\n  public noDataFound:boolean = false;\r\n  public paintCost = [];\r\n\r\n  public dropdownApprovalModelFilter: ChqWidgetsDropdownModel = {\r\n    options: [\r\n      { dropdownItemIconMaterial: 'mail_outline', fontSize: '1.125rem', size: '25px', height: '1.125rem', value: 'send', label: this.translationService.instant('send') },\r\n      { dropdownItemIconMaterial: 'download-arrow', fontSize: '1.125rem', size: '25px', height: '1.125rem', value: 'download', label: this.translationService.instant('download') }\r\n    ],\r\n    placeHolder: 'Options',\r\n    label: '',\r\n    hideDropdownIcon: false,\r\n    appearance: 'button',\r\n    placeHolderIcon: 'settings-outline',\r\n    name: 'option',\r\n    displayValue: 'label',\r\n    selectedOption: {}\r\n  };\r\n\r\n  // Footer Buttons\r\n  public backButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Back / Edit Invoice ',\r\n    type: 'outline',\r\n    icon: 'left-arrow',\r\n    onclick: () => {\r\n      const currentObjectId = this.route.parent?.snapshot.paramMap.get('id');\r\n      this.router.navigate([ `repair/booking/${currentObjectId}/invoices` ], { queryParams: { 'isBack': true } });\r\n    },\r\n  };\r\n  public saveButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Save',\r\n    type: 'outline',\r\n\r\n    onclick: () => {\r\n      // Save button\r\n      this.saveInvoiceComponent();\r\n    },\r\n  };\r\n\r\n  public invoiceGUID = '';\r\n\r\n  public paymentsButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Payments',\r\n    icon: 'credit-card',\r\n    type: 'outline',\r\n  };\r\n  public closeRepairButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Close Repair',\r\n    icon: 'cross',\r\n    type: 'primary',\r\n  };\r\n\r\n  // Form Inputs\r\n  public invoiceIssuedDate: ChqWidgetsInputModel = {\r\n    placeHolder: 'Select Date',\r\n    label: 'INVOICE DATE',\r\n    name: 'invoiceDate',\r\n    value: new Date(),\r\n    maxDate: new Date(),\r\n    type: 'date',\r\n    required: true,\r\n    disabled: false,\r\n    mode: 'text',\r\n  };\r\n  public dueDate: ChqWidgetsInputModel = {\r\n    placeHolder: 'Select Date',\r\n    label: 'DUE DATE',\r\n    name: 'dueDate',\r\n    value: '',\r\n    type: 'date',\r\n    required: false,\r\n    disabled: false,\r\n    mode: 'date',\r\n  };\r\n  public addressInput: ChqWidgetsInputModel = {\r\n    placeHolder: '',\r\n    label: 'ADDRESS',\r\n    name: 'address',\r\n    value: 'St 123',\r\n    type: 'text',\r\n    maxLength: 200,\r\n    validation: {\r\n      name: 'address',\r\n      validationFunction: (): ValidatorFn => {\r\n        return Validators.compose([\r\n          Validators.maxLength(200)\r\n        ]);\r\n      },\r\n      validationMessage: (error: ValidationErrors): string => {\r\n        if (error['required']) {\r\n          return 'Please select operation type';\r\n        }\r\n\r\n        if (error['maxLength']) {\r\n          return this.translateService.instant('max_length', { value: 200 });\r\n        }\r\n\r\n        return '';\r\n      },\r\n    },\r\n  };\r\n\r\n  // View Only Input\r\n  public invoiceNumberInput: ChqWidgetsInputModel = {\r\n    placeHolder: '',\r\n    label: 'INVOICE NUMBER',\r\n    name: 'invoiceNumber',\r\n    value: '',\r\n    type: 'text',\r\n    mode: 'text',\r\n  };\r\n  public payeeOrgNameInput: ChqWidgetsInputModel = {\r\n    placeHolder: '',\r\n    label: 'workshop',\r\n    name: 'orgName',\r\n    value: 'XA Prestige Automotive',\r\n    type: 'text',\r\n    validation: {\r\n      name: 'orgName',\r\n      validationFunction: (): ValidatorFn => {\r\n        return Validators.compose([\r\n          Validators.maxLength(30)\r\n        ]);\r\n      },\r\n      validationMessage: (error: ValidationErrors): string => {\r\n        if (error['maxlength']) {\r\n          return this.translateService.instant('max_length', { value: 30 });\r\n        }\r\n        return '';\r\n      },\r\n    },\r\n  };\r\n  public payeeBankNameInput: ChqWidgetsInputModel = {\r\n    placeHolder: '',\r\n    label: 'Payee BANK  Name',\r\n    name: 'bankname',\r\n    value: 'Emirates NBD',\r\n    type: 'text',\r\n    validation: {\r\n      name: 'orgName',\r\n      validationFunction: (): ValidatorFn => {\r\n        return Validators.compose([\r\n          Validators.maxLength(30)\r\n        ]);\r\n      },\r\n      validationMessage: (error: ValidationErrors): string => {\r\n        if (error['maxlength']) {\r\n          return this.translateService.instant('max_length', { value: 30 });\r\n        }\r\n        return '';\r\n      },\r\n    },\r\n  };\r\n  public IfscCodeInput: ChqWidgetsInputModel = {\r\n    placeHolder: '',\r\n    label: 'IFSC/Swift Code',\r\n    name: 'ifscCode',\r\n    maxLength: 11,\r\n    value: '9076986696',\r\n    type: 'text',\r\n    validation: {\r\n      name: 'orgName',\r\n      validationFunction: (): ValidatorFn => {\r\n        return Validators.compose([\r\n          Validators.maxLength(11),\r\n          Validators.minLength(11)\r\n        ]);\r\n      },\r\n      validationMessage: (error: ValidationErrors): string => {\r\n        if (error['maxlength']) {\r\n          return this.translateService.instant('max_length', { value: 11 });\r\n        }\r\n\r\n        if (error['minlength']) {\r\n          return this.translateService.instant('max_length', { value: 11 });\r\n        }\r\n\r\n        return '';\r\n      },\r\n    },\r\n  };\r\n  public accountNumberInput: ChqWidgetsInputModel = {\r\n    placeHolder: '',\r\n    label: 'Account Number/IBAN',\r\n    name: 'accountNumber',\r\n    value: '',\r\n    type: 'text',\r\n    validation: {\r\n      name: 'accountNumber',\r\n      validationFunction: (): ValidatorFn => {\r\n        return Validators.compose([ Validators.minLength(9), Validators.maxLength(34), Validators.pattern('^[a-zA-Z0-9]{9,34}$') ] );\r\n      },\r\n      validationMessage: (error: ValidationErrors): string => {\r\n        if (error['minlength']) {\r\n          return 'min_account_number';\r\n        }\r\n        if (error['maxlength']) {\r\n          return 'max_account_number';\r\n        }\r\n        if (error['pattern']) {\r\n          return 'Please enter a valid Account Number/IBAN';\r\n        }\r\n        return '';\r\n      },\r\n    },\r\n  };\r\n  public trnNumberInput: ChqWidgetsInputModel = {\r\n    placeHolder: '',\r\n    label: 'TRN',\r\n    name: 'trn',\r\n    value: '',\r\n    type: 'number',\r\n    maxLength: this.trnNumberLimit,\r\n    validation: {\r\n      name: 'accountNumber',\r\n      validationFunction: (): ValidatorFn => {\r\n        return Validators.compose([ Validators.pattern(`^[0-9]{${this.trnNumberLimit}}$`) ]);\r\n      },\r\n      validationMessage: (error: ValidationErrors): string => {\r\n        if (error['pattern']) {\r\n          return 'Please enter a valid TRN Number';\r\n        }\r\n        return '';\r\n      },\r\n    },\r\n  };\r\n\r\n  public phoneCode:ChqWidgetsInputModel = {\r\n    placeHolder: 'select_dot',\r\n    label: 'code',\r\n    name: 'code',\r\n    value: +91,\r\n    showImageFlag: true,\r\n    type: 'select',\r\n    selectedOption: { 'phoneCountryCode': '+91' },\r\n    displayValue: 'phoneCountryCode',\r\n    fieldValue: 'phoneCountryCode',\r\n    options: [ { label: '+90' }, { label: '+971' }, { label: '+977' } ],\r\n    validation: {\r\n      name: 'code',\r\n      validationFunction: ():ValidatorFn => {\r\n        return Validators.compose([ ])\r\n      },\r\n      validationMessage: (error: ValidationErrors):string => {\r\n        if (error['required']) {\r\n          return 'required_code'\r\n        }\r\n        return '';\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public contactNumberInput: ChqWidgetsInputModel = {\r\n    placeHolder: '',\r\n    label: 'CONTACT NUMBER',\r\n    name: 'contactNumber',\r\n    value: '',\r\n    type: 'number',\r\n    validation: {\r\n      name: 'contactNumber',\r\n      validationFunction: (): ValidatorFn => {\r\n        return Validators.compose([\r\n          // eslint-disable-next-line quotes\r\n          Validators.pattern(\"^[0-9]+[0-9 ,.'-]+$\"),\r\n        ]);\r\n      },\r\n      validationMessage: (error: ValidationErrors): string => {\r\n        if (error['required']) {\r\n          return 'Please enter mobile number';\r\n        }\r\n        if (error['pattern']) {\r\n          return 'Please enter valid mobile number';\r\n        }\r\n        return '';\r\n      },\r\n    },\r\n  };\r\n\r\n  public paymentStatusMapper = {\r\n    'unpaid': 'Unpaid',\r\n    'partialpaid': 'Partially Paid',\r\n    'paid': 'Paid'\r\n  }\r\n\r\n\r\n  /**\r\n    @returns {void} Open Send Invoice dialog\r\n  */\r\n  sendInvoice(): void {\r\n    const repairId = this.route.parent?.snapshot.paramMap.get('id');\r\n    this.dialog.open(SendInvoiceComponent, {\r\n      data: {\r\n        repairId,\r\n        domainId: this.domainId,\r\n        invoiceId: this.invoiceGUID,\r\n        isWorkProvider: this.isWorkProvider,\r\n        workProviderValue: this.workProviderValue,\r\n        customerValue: this.customerValue,\r\n        dueDate: this.currentDueDate\r\n      },\r\n      backdropClass: 'confirmation-popup-backdrop',\r\n      autoFocus: false\r\n    })\r\n  }\r\n\r\n  /**\r\n   * handleSelectedOption\r\n   */\r\n  handleSelectedOption($event):void{\r\n    if ($event.value.value === 'send') {\r\n      this.sendInvoice()\r\n    } else {\r\n      this.downloadPDF();\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n    Print Invoice\r\n  */\r\n  // printInvoice(): void {\r\n  //   this.expandCollapse(true)\r\n  //   this.cdr.detectChanges()\r\n  //   this.print.nativeElement.click()\r\n  // }\r\n\r\n\r\n  /**\r\n    @returns {void} Update invoice form to Work provider or Driver/owner\r\n  */\r\n  updateFormType(type: formType): void {\r\n    this.isDataLoading = true;\r\n    this.isWorkProvider = type === 1;\r\n    this.invoiceList = {};\r\n    this.noDataFound = true;\r\n    this.getBookingRepairDetails();\r\n  }\r\n\r\n  /**\r\n * on form update customer\r\n */\r\n  onFormUpdateCustomer(output: IControlValue): void {\r\n    if (output.name === 'code') {\r\n      const validationPattern = output.value['regExpression'];\r\n      this.dataResponse.code = output.value['phoneCountryCode'];\r\n      this.phoneCode = { ...this.phoneCode, selectedOption: output.value };\r\n      this.phone?.updateCurrentValidation(validationPattern, false, true);\r\n    }\r\n  }\r\n\r\n  /**\r\n    Order by\r\n  */\r\n  valueAscOrder(a: KeyValue<string, string>, b: KeyValue<string, string>): number{\r\n    const sortOrder = { 'part': '1', 'labour': '2', 'paint': '3' }\r\n    return sortOrder[a.key?.toLowerCase()].localeCompare(sortOrder[b.key?.toLowerCase()]);\r\n  }\r\n\r\n\r\n  /**\r\n   * check for form validation\r\n   * @returns {void}\r\n   */\r\n  isInvoiceFormValid(): void {\r\n    if(\r\n      !this.invoiceIssuedDate.formControl?.valid\r\n      || !this.IfscCodeInput.formControl?.valid\r\n      || !this.payeeBankNameInput.formControl?.valid\r\n      || !this.payeeOrgNameInput.formControl?.valid\r\n      || !this.accountNumberInput.formControl?.valid\r\n      || !this.trnNumberInput.formControl?.valid\r\n      || !this.contactNumberInput.formControl?.valid\r\n    ) {\r\n      this.saveButtonModel = { ...this.saveButtonModel, type: 'disabled-outline' };\r\n      return;\r\n    }\r\n    this.saveButtonModel = { ...this.saveButtonModel, type: 'outline' };\r\n  }\r\n\r\n  /**\r\n    Retrieves the repair details for a given repair GUID.\r\n    @returns {void}\r\n  */\r\n  getBookingRepairDetails(): void {\r\n    this.commonService.showLoading();\r\n    const repairId = this.route.parent?.snapshot.paramMap.get('id');\r\n    this.monitorServie.logEvent('getBookingRepairDetails', [ 'InvoicesComponent', 'addenda-repair' ], {\r\n      repairGuid: repairId\r\n    });\r\n    this.bookingService.getRepairDetailByGuid(repairId).subscribe({\r\n      next: async (result: any) => {\r\n        if (result?.data) {\r\n          this.isDeliveryTypeEnable = result.data.isDeliveryTypeEnable;\r\n          this.deliveryDTO = result.data.deliveryDTO;\r\n          this.pickupDate = result.data.pickUpDate;\r\n\r\n          const repairBooking = (result.data?.repairServiceTypes && result.data?.repairServiceTypes.length > 0);\r\n\r\n          if(repairBooking) {\r\n            this.bookingOutDate = result.data?.endDate;\r\n          }\r\n          this.IsPickedup = result.data.isPickedUp;\r\n          this.repairStatus = result.data.status;\r\n          this.domainId = result.data.domainId;\r\n          const bookingDate = result.data.createdDate;\r\n          const minutes = dayjs(new Date()).diff(dayjs(bookingDate), 'minutes');\r\n          this.invoiceIssuedDate = { ...this.invoiceIssuedDate, minDate: dayjs(bookingDate).toDate(), disabled: minutes< 0, value: dayjs(bookingDate).toDate(), maxDate: minutes < 0 ? dayjs(bookingDate).toDate(): new Date() };\r\n          this.dueDate = { ...this.dueDate, minDate: dayjs(bookingDate).toDate() };\r\n          this.currentWorkProvider = result.data.customer.companyOrgType;\r\n          this.currentWorkProviderType = result.data.customer.customerTypeName;\r\n          this.customerValue = `${result.data?.customer?.firstName} ${result.data?.customer?.lastName}`;\r\n          this.workProviderValue = result.data?.customer?.companyName || result.data?.customer?.customerTypeName;\r\n\r\n          /////need to check from API response\r\n          if(result.data.organizationDetail?.country !== null && result.data.organizationDetail?.country.toLowerCase() === 'india'){\r\n            this.trnNumberInput = { ...this.trnNumberInput, label: 'TIN', validation: {\r\n              name: 'accountNumber',\r\n              validationFunction: (): ValidatorFn => {\r\n                return Validators.compose([ Validators.pattern(`^[0-9]{${this.trnNumberLimit}}$`) ]);\r\n              },\r\n              validationMessage: (error: ValidationErrors): string => {\r\n                if (error['pattern']) {\r\n                  return 'Please enter a valid TIN Number';\r\n                }\r\n                return '';\r\n              },\r\n            }, };\r\n          }\r\n\r\n          this.invoiceService.invoicePerDetailProvider(repairId, this.isWorkProvider? 1 : 2).subscribe({\r\n            next: (resp)=>{\r\n              if(!resp){\r\n                this.commonService.hideLoading();\r\n                this.isDataLoading = false;\r\n                this.noDataFound = true;\r\n                return;\r\n              }\r\n              const { orgName, bankname, logoUrl } = resp.data;\r\n              this.dataResponse = resp.data;\r\n              this.isDataLoading = false;\r\n              this.noDataFound = false;\r\n              let mode = null;\r\n              this.invoiceGUID = this.dataResponse.invoiceGuid;\r\n              if(this.dataResponse?.paymentStatus?.toLowerCase() === 'paid' || this.commonService.isViewOnly || this.dataResponse?.paymentStatus?.toLowerCase() === 'complete' || this.repairStatus?.toLowerCase() === 'complete'){\r\n                mode = 'text';\r\n              }\r\n              this.invoiceIssuedDate = { ...this.invoiceIssuedDate, value: this.dataResponse.invoiceDate };\r\n              this.accountNumberInput = { ...this.accountNumberInput, value: this.dataResponse.accountNumber, mode };\r\n              this.IfscCodeInput = { ...this.IfscCodeInput, value: this.dataResponse.ifscCode, mode };\r\n              this.addressInput = { ...this.addressInput, value: this.dataResponse.address, mode };\r\n              this.contactNumberInput = { ...this.contactNumberInput, mode };\r\n              this.trnNumberInput = { ...this.trnNumberInput, value: this.dataResponse.trn, mode };\r\n              this.payeeBankNameInput = { ...this.payeeBankNameInput, value: this.dataResponse.bankname, mode };\r\n              this.payeeOrgNameInput = { ...this.payeeOrgNameInput, value: this.dataResponse.workShopName, mode };\r\n              this.dueDate = { ...this.dueDate, value: this.dataResponse.dueDate || '', mode };\r\n              this.currentDueDate = this.dataResponse.dueDate;\r\n              this.invoiceNumberInput = { ...this.invoiceNumberInput, value: this.dataResponse.invoiceNumber };\r\n              if(!this.dataResponse.dueDate){\r\n                this.dataResponse.dueDate = new Date();\r\n              }\r\n              if (!this.phoneCode.observable) {\r\n                this.phoneCode.observable = this.coreService.getPhoneNumber();\r\n                this.phoneCode.onObservableLoad = this.onObservableLoad.bind(this);\r\n              }\r\n              this.orgName = orgName;\r\n              this.orgLogoUrl = logoUrl;\r\n              const chargesList = this.dataResponse.chargesDTO;\r\n              this.charges = chargesList;\r\n              this.estimateSummary = this.dataResponse?.chargeSummary;\r\n              if(this.estimateSummary){\r\n                //this.estimateSummary = this.calculateSummary(this.estimateSummary);\r\n              }\r\n              chargesList?.forEach((charges)=>{\r\n                if(!this.invoiceList[charges.serviceType]){\r\n                  this.invoiceList[charges.serviceType] = [];\r\n                }\r\n                this.invoiceList[charges.serviceType].push(charges);\r\n              });\r\n              if (!this.orgLogoUrl) {\r\n                this.orgImageLoading = false;\r\n              }\r\n              this.commonService.hideLoading();\r\n              this.commonService.repairDetails.next(result.data);\r\n              this.commonService.bookingId.next(result.data.repairNumber);\r\n            }\r\n          });\r\n        } else {\r\n          this.isDataLoading = false;\r\n          this.commonService.hideLoading();\r\n        }\r\n      },\r\n      error: (err: any) => {\r\n        this.isDataLoading = false;\r\n        this.commonService.hideLoading();\r\n        this.monitorServie.logException(err, SeverityLevel.Error);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param a\r\n   * @param b\r\n   * @param c\r\n   * @param d\r\n   * @returns total\r\n   */\r\n  public calculateSub(a:number, b:number, c:number, d:number):number{\r\n    return (a * this.maxPoint + b * this.maxPoint + c* this.maxPoint +d * this.maxPoint)/this.maxPoint\r\n  }\r\n\r\n  public hashPropTable:any = {\r\n\r\n  };\r\n\r\n  /**\r\n   * handle floating point\r\n   */\r\n  parseFloatingPoint(g:any, prop?:string):number{\r\n    if(this.hashPropTable[prop]){\r\n      return g;\r\n    }\r\n    if(prop){\r\n      this.hashPropTable[prop] = true;\r\n    }\r\n    return g * this.maxPoint;\r\n  }\r\n\r\n  /**\r\n   * check labour types\r\n   */\r\n  validateLabourTypes(summary:any, type:string, charge:any, index:number):any{\r\n    if(type === ServiceType.Paint){\r\n      if(charge.serviceSubType === 'PaintLabour'){\r\n        summary.paintLabourHourSubTotal = this.parseFloatingPoint(summary.paintLabourHourSubTotal, `paintLabourHourSubTotal_${index}`) + this.parseFloatingPoint(charge.quantity);\r\n        summary.paintLabourAmountSubTotal = this.parseFloatingPoint(summary.paintLabourAmountSubTotal, `paintLabourAmountSubTotal_${index}`) + this.parseFloatingPoint(charge.total);\r\n        summary.paintLabourSubTotal = this.parseFloatingPoint(summary.paintLabourSubTotal, `paintLabourSubTotal_${index}`) + this.parseFloatingPoint(charge.total);\r\n        summary.paintLabourTotal = this.parseFloatingPoint(summary.paintLabourTotal, `paintLabourSubTotal+${index}`) + (this.parseFloatingPoint(charge.total) * ( (100 - parseFloat(summary.paintLabourDiscountPercentage))/100));\r\n\r\n      }else{\r\n        summary.paintMaterialSubTotal = this.parseFloatingPoint(summary.paintMaterialSubTotal, `paintMaterialSubTotal_${index}`) + this.parseFloatingPoint(charge.total);\r\n        summary.paintMaterialTotal = this.parseFloatingPoint(summary.paintMaterialTotal, `paintMaterialTotal_${index}`) + (this.parseFloatingPoint(charge.total) * ( (100 - parseFloat(summary.paintMateriaDiscountPercentage))/100));\r\n\r\n      }\r\n    }else if(type === ServiceType.Labour){\r\n      summary.labourTotalBeforeDiscount = this.parseFloatingPoint(summary.labourTotalBeforeDiscount, `labourTotalBeforeDiscount_${index}`) + this.parseFloatingPoint(charge.total);\r\n      summary.labourAmountSubTotal = this.parseFloatingPoint(summary.labourAmountSubTotal, `labourAmountSubTotal_${index}`) + this.parseFloatingPoint(charge.total);\r\n      summary.labourTotal = this.parseFloatingPoint(summary.labourTotal, `labourTotal_${index}`) + (this.parseFloatingPoint(charge.total) * ( (100 - parseFloat(summary.labourTotalDiscountPercentage))/100));\r\n      summary.labourHourSubTotal = this.parseFloatingPoint(summary.labourHourSubTotal, `labourHourSubTotal_${index}`) + this.parseFloatingPoint(charge.total);\r\n      summary.labourTimeHours = this.parseFloatingPoint(summary.labourTimeHours, `labourTimeHours_${index}`) + this.parseFloatingPoint(charge.quantity);\r\n\r\n    }else{\r\n      summary.partsTotalBeforeDiscount = this.parseFloatingPoint(summary.partsTotalBeforeDiscount, `partsTotalBeforeDiscount_${index}`) + this.parseFloatingPoint(charge.total);\r\n      summary.partsTotal = this.parseFloatingPoint(summary.partsTotal, `partsTotal_${index}`) + ( this.parseFloatingPoint(charge.total) * ( (100 - parseFloat(summary.partsTotalDiscountPercentage))/100));\r\n      summary.partsSubTotal = this.parseFloatingPoint(summary.partsSubTotal, `partsSubTotal_${index}`) + this.parseFloatingPoint(charge.total);\r\n    }\r\n\r\n    return summary;\r\n  }\r\n\r\n  /**\r\n   * calculate summart\r\n   */\r\n  calculateSummary(summary:any):any[]{\r\n    this.hashPropTable = {};\r\n    summary.paintLabourHourSubTotal = 0;\r\n    summary.paintLabourAmountSubTotal = 0;\r\n    summary.paintLabourSubTotal = 0;\r\n    summary.labourTotal = 0;\r\n    summary.paintLabourTotal = 0;\r\n    summary.labourTimeHours = 0;\r\n    summary.labourTotalBeforeDiscount = 0;\r\n    summary.paintMaterialTotal = 0;\r\n    summary.paintMaterialSubTotal = 0;\r\n    summary.labourAmountSubTotal = 0;\r\n    summary.labourHourSubTotal = 0;\r\n    summary.paintLabourAmountSubTotal = 0;\r\n    summary.partsSubTotal = 0;\r\n    summary.partsTotal = 0;\r\n    summary.partsTotalBeforeDiscount = 0;\r\n\r\n    this.charges.forEach((charge)=>{\r\n      const type = charge.serviceType;\r\n      if(charge.cost || charge.cost === '0'){\r\n        charge.cost = parseFloat(charge.cost);\r\n      }\r\n\r\n      if(charge.quantity || charge.quantity === '0'){\r\n        charge.quantity = parseFloat(charge.quantity);\r\n      }\r\n\r\n      if(charge.total || charge.total === '0'){\r\n        charge.total = parseFloat(charge.total);\r\n      }\r\n\r\n      summary = this.validateLabourTypes(summary, type, charge, charge.recipient);\r\n\r\n    });\r\n\r\n    summary.paintLabourHourSubTotal = summary.paintLabourHourSubTotal/this.maxPoint;\r\n    summary.paintLabourAmountSubTotal = summary.paintLabourAmountSubTotal/this.maxPoint;\r\n    summary.paintLabourSubTotal = summary.paintLabourSubTotal/this.maxPoint;\r\n    summary.labourTotal = summary.labourTotal/this.maxPoint;\r\n    summary.paintLabourTotal = summary.paintLabourTotal/this.maxPoint;\r\n    summary.labourTimeHours = summary.labourTimeHours/this.maxPoint;\r\n    summary.labourTotalBeforeDiscount = summary.labourTotalBeforeDiscount/this.maxPoint;\r\n    summary.paintMaterialTotal = summary.paintMaterialTotal/this.maxPoint;\r\n    summary.paintMaterialSubTotal = summary.paintMaterialSubTotal/this.maxPoint;\r\n    summary.labourAmountSubTotal = summary.labourAmountSubTotal/this.maxPoint;\r\n    summary.labourHourSubTotal = summary.labourHourSubTotal/this.maxPoint;\r\n    summary.paintLabourAmountSubTotal = summary.paintLabourAmountSubTotal/this.maxPoint;\r\n    summary.partsSubTotal = summary.partsSubTotal/this.maxPoint;\r\n    summary.partsTotal = summary.partsTotal/this.maxPoint;\r\n    summary.partsTotalBeforeDiscount = summary.partsTotalBeforeDiscount/this.maxPoint;\r\n    return summary;\r\n  }\r\n\r\n  /**\r\n   * on init\r\n   */\r\n  ngOnInit(): void {\r\n    this.noDataFound = true;\r\n    if(this.commonService.isViewOnly){\r\n      this.dropdownApprovalModelFilter = { ...this.dropdownApprovalModelFilter, options: [\r\n        { dropdownItemIconMaterial: 'download-arrow', fontSize: '1.125rem', size: '25px', height: '1.125rem', value: 'download', label: this.translationService.instant('download') }\r\n      ] }\r\n    }\r\n    this.getBookingRepairDetails();\r\n    this.commonService.reloadDetail.subscribe({\r\n      next: (value:number)=>{\r\n        if(value && this.dataResponse.dueAmount){\r\n          if(value !== this.dataResponse.dueAmount){\r\n            this.getBookingRepairDetails();\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * after view init\r\n   */\r\n  ngAfterViewInit():void{\r\n    this.isInvoiceFormValid();\r\n  }\r\n\r\n  /**\r\n    @returns {void} function that expand and collapse rows\r\n  */\r\n  expandCollapse(status: boolean): void {\r\n    this.isAllExpanded = status;\r\n    this.isPartsExpanded = status;\r\n    this.isPaintExpanded = status;\r\n    this.isLabourExpanded = status;\r\n  }\r\n\r\n  /**\r\n   * hide show section\r\n   */\r\n  hideShowSection(key:string):void{\r\n    if(key?.toLowerCase() === 'part'){\r\n      this.isPartsExpanded = !this.isPartsExpanded;\r\n    }else if(key?.toLowerCase() === 'labour'){\r\n      this.isLabourExpanded = !this.isLabourExpanded;\r\n    }else{\r\n      this.isPaintExpanded = !this.isPaintExpanded;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * hide show section\r\n   */\r\n  getSection(key:string):boolean{\r\n    if(key?.toLowerCase() === 'part'){\r\n      return this.isPartsExpanded;\r\n    }else if(key?.toLowerCase() === 'labour'){\r\n      return this.isLabourExpanded;\r\n    }else{\r\n      return this.isPaintExpanded;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * download pdf\r\n   */\r\n  downloadPDF():void{\r\n    const repairId = this.route.parent?.snapshot.paramMap.get('id');\r\n    const invoiceGUID = this.dataResponse.invoiceGuid;\r\n    this.invoiceGUID = invoiceGUID;\r\n    this.commonService.showLoading();\r\n    let reportParam: object;\r\n    if(this.currentDueDate) {\r\n      reportParam = {\r\n        'parameters': [\r\n          {\r\n            'name': 'dueDate',\r\n            'value': dayjs(this.currentDueDate).format('YYYY-MM-DD')\r\n          }\r\n        ]\r\n      }\r\n    } else {\r\n      reportParam = {\r\n        'parameters': []\r\n      }\r\n    }\r\n    this.invoiceService.invoicePDF(repairId, invoiceGUID, reportParam).subscribe({\r\n      next: (resp) =>{\r\n        const url = resp?.data?.url;\r\n        if(url){\r\n          window.open(url, '_top');\r\n        }\r\n        this.commonService.hideLoading();\r\n      }, error: () =>{\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  /**\r\n   * generete invoice component\r\n   */\r\n  saveInvoiceComponent():void{\r\n    if(this.dataResponse.code && this.dataResponse.mobileNumber){\r\n      this.dataResponse.contactNumber = this.dataResponse.code + this.dataResponse.mobileNumber;\r\n    } else {\r\n      this.dataResponse.contactNumber = null\r\n    }\r\n    const invoiceBody = {\r\n      ...this.dataResponse,\r\n      dueDate: dayjs(this.dataResponse.dueDate as Date).format('YYYY-MM-DD') + 'T00:00:00Z',\r\n      ifscCode: this.dataResponse.ifscCode || null\r\n    }\r\n    this.commonService.showLoading();\r\n    this.invoiceService.saveInvoicePerDetail(invoiceBody).subscribe({\r\n      next: ()=>{\r\n        this.commonService.showInfoToast(1000, 'Invoice detail saved successfully');\r\n        this.currentDueDate = this.dataResponse.dueDate;\r\n        this.commonService.hideLoading();\r\n      },\r\n      error: ()=>{\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n    @returns {void} ngOnDestroy for GenerateInvoicesComponent\r\n  */\r\n  ngOnDestroy(): void {\r\n    this.navigationEndSubscription.unsubscribe();\r\n    this.subs.forEach(sub=>sub.unsubscribe());\r\n    this.commonService.reloadDetail.unsubscribe();\r\n  }\r\n\r\n  /**\r\n    Opens a dialog box for payment estimation.\r\n    @returns {void}\r\n  */\r\n  openPaymentPopup(): void {\r\n    const repairId = this.route.parent?.snapshot.paramMap.get('id');\r\n    const dialogRef = this.dialog.open(PaymentsComponent, {\r\n      data: {\r\n        repairId,\r\n        isWorkProvider: this.isWorkProvider,\r\n        ...this.dataResponse\r\n      },\r\n      width: '80vw',\r\n      height: '80vh',\r\n      panelClass: 'payment-panel',\r\n      autoFocus: false\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe({\r\n      next: (response: any) => {\r\n        if(response !== this.dataResponse.dueAmount){\r\n          this.getBookingRepairDetails();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public IsPickedup = false;\r\n\r\n  /**\r\n   * closeRepair\r\n   *\r\n   */\r\n  closeRepair(): void {\r\n    if(this.repairStatus.toLowerCase() == 'repairinprogress' || this.repairStatus.toLowerCase() == 'approved'){\r\n      this.commonService.showInfoToast(1000, this.translateService.instant('repair_stages_are_not_completed'));\r\n      return;\r\n    }\r\n\r\n    if(this.repairStatus.toLowerCase() == 'complete'){\r\n      this.commonService.showInfoToast(1000, this.translateService.instant('repair_is_closed'));\r\n      return;\r\n    }\r\n    if(this.isDeliveryTypeEnable && this.deliveryDTO === null){\r\n      this.commonService.showToast(0, this.translateService.instant('delivery_details_not_completed'));\r\n      return;\r\n    }\r\n\r\n    this.commonService.showLoading();\r\n    const repairId = this.route.parent?.snapshot.paramMap.get('id');\r\n    this.bookingService.getRepairTask(repairId).subscribe({\r\n      next: async (result: any) => {\r\n        this.commonService.hideLoading();\r\n        if(result && result.data && result.data.length > 0){\r\n          let tasks = [];\r\n          result.data.forEach((job) => {\r\n            if (job.repairJobTasks && job.repairJobTasks.length > 0) {\r\n              tasks = [ ...tasks, ...job.repairJobTasks ];\r\n            }\r\n          });\r\n\r\n          if(tasks.length === 0){\r\n            this.setRepairClose();\r\n            return;\r\n          }\r\n\r\n          if(this.pickupDate !== null) {\r\n            if(this.IsPickedup){\r\n              this.setRepairClose();\r\n              return;\r\n            }\r\n          }\r\n          if(this.isDeliveryTypeEnable){\r\n            this.setRepairClose();\r\n            return;\r\n          }else{\r\n            const dialogRef = this.commonService.openConfirmYesNoDialog(this.translateService.instant('confirm_to_continue'), this.translateService.instant('is_the_vehicle_picked_up'));\r\n            dialogRef.afterClosed().subscribe((action:boolean)=>{\r\n              if(action){\r\n                this.openSchedulerPopUpForPickUp('pickedUp');\r\n              } else{\r\n                this.openSchedulerPopUpForPickUp('schedule');\r\n              }\r\n            });\r\n          }\r\n        }else{\r\n          this.setRepairClose();\r\n        }\r\n      },\r\n      error: ()=>{\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * setRepairClose\r\n   *\r\n   */\r\n  setRepairClose(): void {\r\n    const dialogRef = this.commonService.openConfirmYesNoDialog(this.translateService.instant('confirm_closing_repair'), this.translateService.instant('repair_close_confirm_message'));\r\n    dialogRef.afterClosed().subscribe((action:boolean)=>{\r\n      if(action){\r\n        this.setRepairCloseInner();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * setRepairCloseInner\r\n   *\r\n   */\r\n  setRepairCloseInner(): void {\r\n    this.commonService.showLoading();\r\n    this.subs.push(this.OutboundService.setRepairStatusComplete(this.route.parent?.snapshot.paramMap.get('id')).subscribe({\r\n      next: (data: any) => {\r\n        this.repairStatus = 'Complete';\r\n        const mode = 'text';\r\n        this.invoiceIssuedDate = { ...this.invoiceIssuedDate, value: this.dataResponse.invoiceDate };\r\n        this.accountNumberInput = { ...this.accountNumberInput, value: this.dataResponse.accountNumber, mode };\r\n        this.IfscCodeInput = { ...this.IfscCodeInput, value: this.dataResponse.ifscCode, mode };\r\n        this.addressInput = { ...this.addressInput, value: this.dataResponse.address, mode };\r\n        this.contactNumberInput = { ...this.contactNumberInput, mode };\r\n        this.trnNumberInput = { ...this.trnNumberInput, value: this.dataResponse.trn, mode };\r\n        this.payeeBankNameInput = { ...this.payeeBankNameInput, value: this.dataResponse.bankname, mode };\r\n        this.payeeOrgNameInput = { ...this.payeeOrgNameInput, value: this.dataResponse.workShopName, mode };\r\n        this.dueDate = { ...this.dueDate, value: this.dataResponse.dueDate || new Date(), mode };\r\n        this.phoneCode = { ...this.phoneCode, mode };\r\n\r\n        const repairId = this.route.parent?.snapshot.paramMap.get('id')\r\n        this.bookingService.getRepairDetailByGuid(repairId).subscribe({\r\n          next: (result: any) => {\r\n            if (result?.data) {\r\n              this.commonService.repairDetails.next(result.data);\r\n              this.commonService.bookingId.next(result.data.repairNumber);\r\n            }\r\n          },\r\n          error: (err: any) => {\r\n            this.monitorServie.logException(err, SeverityLevel.Error);\r\n          }\r\n        });\r\n\r\n        this.commonService.showInfoToast(1000, data.message);\r\n        this.commonService.hideLoading();\r\n      }, error: (error) =>{\r\n        this.commonService.hideLoading();\r\n      }\r\n    }));\r\n  }\r\n\r\n  /**\r\n   * openSchedulerPopUpForPickUp\r\n   * @param {string} callSource\r\n   *\r\n   */\r\n  openSchedulerPopUpForPickUp(callSource: string): void {\r\n    this.dialog.open(SchedulePickupDatePopupComponent, {\r\n      data: {\r\n        repairID: '', pickupDate: this.pickupDate === null?this.bookingOutDate : this.pickupDate, callSource: callSource\r\n      },\r\n      panelClass: 'SchedulePickupDate-modalbox',\r\n\r\n      autoFocus: false\r\n    }).afterClosed().subscribe({\r\n      next: (data: any) => {\r\n        if (!data) {\r\n          return;\r\n        }\r\n\r\n        const pickupDate = dayjs.utc(data.PickUpDate.toString()).format('YYYY-MM-DDTHH:mm:ss.000') + 'Z';\r\n        this.setPickUpDateForRepair(pickupDate, callSource);\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * setPickUpDateForRepair\r\n   * @param {string} pickupDate\r\n   * @param {string} callSource\r\n   *\r\n   */\r\n  setPickUpDateForRepair(pickupDate: string, callSource: string): void{\r\n    this.commonService.showLoading();\r\n    this.subs.push(this.OutboundService.setPickupDate(this.route.parent?.snapshot.paramMap.get('id'), pickupDate, callSource === 'pickedUp').subscribe({\r\n      next: (data) => {\r\n\r\n        if(callSource === 'pickedUp') {\r\n          this.setRepairClose();\r\n          this.IsPickedup = true;\r\n        }\r\n        this.pickupDate = pickupDate;\r\n        this.commonService.showInfoToast(1000, data.message);\r\n        this.commonService.hideLoading();\r\n      }, error: (error) =>{\r\n        this.commonService.hideLoading();\r\n      }\r\n    }));\r\n  }\r\n}\r\n","<div class=\"repair-invoice-wrapper\">\r\n  <div class=\"invoice-back-btn\">\r\n    <chq-button class=\"no-border\" [buttonModel]=\"backButtonModel\"></chq-button>\r\n  </div>\r\n  <div class=\"status-pill-wrapper\">\r\n    <div class=\"invoice-mode\">\r\n      <button (click)=\"updateFormType(1)\" class=\"btn-work\"\r\n        *ngIf=\"currentWorkProvider?.toLowerCase() !== 'retail' || (currentWorkProvider?.toLowerCase() === 'retail' && this.currentWorkProviderType?.toLowerCase() !== 'person' )\"\r\n        [ngClass]=\"{ active: isWorkProvider, 'all-border': currentWorkProvider?.toLowerCase() === 'retail' && this.currentWorkProviderType?.toLowerCase() !== 'person' }\">\r\n        {{ (\"work_provider_invoice\") | translate }}\r\n      </button>\r\n      <button (click)=\"updateFormType(2)\" class=\"btn-driver\"\r\n        *ngIf=\"currentWorkProvider?.toLowerCase() !== 'retail' || (currentWorkProvider?.toLowerCase() === 'retail' && this.currentWorkProviderType?.toLowerCase() === 'person' )\"\r\n        [ngClass]=\"{ active: !isWorkProvider, 'all-border': currentWorkProvider?.toLowerCase() === 'retail' && this.currentWorkProviderType?.toLowerCase() === 'person' }\">\r\n        {{ (\"driver_owner_invoice\" ) | translate }}\r\n      </button>\r\n    </div>\r\n    <span *ngIf=\"!noDataFound && dataResponse?.invoiceAmount > 0\"\r\n      class=\"status-pill status-{{dataResponse?.paymentStatus?.toLowerCase()}}\">{{\r\n      paymentStatusMapper[dataResponse?.paymentStatus?.toLowerCase()] | translate }}</span>\r\n  </div>\r\n  <div class=\"generate-invoice-page-container\" *ngIf=\"!isDataLoading && !noDataFound\" id=\"print-section\">\r\n    <section class=\"repair-info\">\r\n      <div class=\"repair-info-col-1\">\r\n        <div class=\"org-image\">\r\n          <img alt=\"org logo\" [src]=\"orgLogoUrl\" (load)=\"orgImageLoading = false\" *ngIf=\"orgLogoUrl; else name\" />\r\n          <ng-template #name>\r\n            <label *ngIf=\"orgName\" class=\"org-name\">{{ orgName }}</label>\r\n          </ng-template>\r\n          <chq-custom-loader [showLoading]=\"orgImageLoading\"></chq-custom-loader>\r\n        </div>\r\n\r\n        <div class=\"repair-detail\">\r\n          <!-- Word Provider Invoice  -->\r\n          <ng-container *ngIf=\"isWorkProvider\">\r\n            <h4>{{ \"work_provider\" | translate }}</h4>\r\n            <h5>{{ workProviderValue }}</h5>\r\n            <h5>{{'contact_phone_number' | translate}}: {{dataResponse.customerPhoneNumber}}</h5>\r\n            <h5>{{'contact_email' | translate}}: {{dataResponse.customerEmail}}</h5>\r\n            <h5>{{'vehicle_owner' | translate}}: {{dataResponse.vehicleOwnerName}}</h5>\r\n            <h5>{{ \"license_id_cin\" | translate }}: {{dataResponse.licenseNumber}}</h5>\r\n\r\n            <!-- Invoice Date -->\r\n            <chq-input class=\"col-6 invoice-date-input outline\"\r\n              (controlOutput)=\"dataResponse.invoiceDate = $event.value\" [inputModel]=\"invoiceIssuedDate\"></chq-input>\r\n\r\n            <!-- Invoice Number  -->\r\n            <chq-input class=\"col-6 invoice-date-input\" [inputModel]=\"invoiceNumberInput\"></chq-input>\r\n\r\n            <!-- Due Date  -->\r\n            <chq-input class=\"col-6 invoice-date-input outline\" [inputModel]=\"dueDate\"\r\n              (controlOutput)=\"dataResponse.dueDate = $event.value\"></chq-input>\r\n\r\n          </ng-container>\r\n\r\n          <!-- Driver/Owner Invoice -->\r\n\r\n          <ng-container *ngIf=\"!isWorkProvider\">\r\n            <h4>{{'driver_owner' | translate}}</h4>\r\n            <h5>{{customerValue}}</h5>\r\n            <h5>{{'driver_contact_phone_number' | translate}}: {{dataResponse.customerPhoneNumber}}</h5>\r\n            <h5>{{'driver_contact_email' | translate}}: {{dataResponse.customerEmail}}</h5>\r\n\r\n            <!-- Address Input  -->\r\n            <chq-input class=\"col-6 invoice-date-input outline\"\r\n              (controlOutput)=\"dataResponse.address = $event.value || null;isInvoiceFormValid();\"\r\n              [inputModel]=\"addressInput\"></chq-input>\r\n\r\n            <!-- Invoice Date -->\r\n            <chq-input class=\"col-6 invoice-date-input outline\"\r\n              (controlOutput)=\"dataResponse.invoiceDate = $event.value;isInvoiceFormValid();\"\r\n              [inputModel]=\"invoiceIssuedDate\"></chq-input>\r\n\r\n            <!-- Invoice Number  -->\r\n            <chq-input class=\"col-6 invoice-date-input\" [inputModel]=\"invoiceNumberInput\"></chq-input>\r\n\r\n            <chq-input class=\"col-6 invoice-date-input outline\" [inputModel]=\"dueDate\"\r\n              (controlOutput)=\"dataResponse.dueDate = $event.value\"></chq-input>\r\n          </ng-container>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"repair-info-col-2\">\r\n        <chq-input [ngClass]=\"{'do-not-print': !dataResponse.workShopName}\" class=\"col-6 invoice-date-input outline\"\r\n          [inputModel]=\"payeeOrgNameInput\"\r\n          (controlOutput)=\"dataResponse.workShopName = $event.value || null;isInvoiceFormValid();\"></chq-input>\r\n        <chq-input [ngClass]=\"{'do-not-print': !dataResponse.bankName}\" class=\"col-6 invoice-date-input outline\"\r\n          (controlOutput)=\"dataResponse.bankName = $event.value || null;isInvoiceFormValid();\"\r\n          [inputModel]=\"payeeBankNameInput\"></chq-input>\r\n        <chq-input [ngClass]=\"{'do-not-print': !dataResponse.ifscCode}\" class=\"col-6 invoice-date-input outline\"\r\n          [inputModel]=\"IfscCodeInput\"\r\n          (controlOutput)=\"dataResponse.ifscCode = $event.value || null;isInvoiceFormValid();\"></chq-input>\r\n        <chq-input [ngClass]=\"{'do-not-print': !dataResponse.accountNumber}\" class=\"col-6 invoice-date-input outline\"\r\n          [inputModel]=\"accountNumberInput\"\r\n          (controlOutput)=\"dataResponse.accountNumber = $event.value || null;isInvoiceFormValid();\"></chq-input>\r\n        <chq-input [ngClass]=\"{'do-not-print': !dataResponse.trn}\" class=\"col-6 invoice-date-input outline\"\r\n          (controlOutput)=\"dataResponse.trn = $event.value  || null;isInvoiceFormValid();\"\r\n          [inputModel]=\"trnNumberInput\"></chq-input>\r\n        <div class=\"driver-fields-wrapper col-6 invoice-date-input\"\r\n          [ngClass]=\"{'text-check':dataResponse?.paymentStatus?.toLowerCase() === 'paid' || dataResponse?.paymentStatus?.toLowerCase() === 'complete' }\">\r\n          <chq-input [ngClass]=\"{'do-not-print': !phoneCode.value}\"\r\n            class=\"driver-field  driver-code-field no-padding outline\" [inputModel]=\"phoneCode\"\r\n            (controlOutput)=\"onFormUpdateCustomer($event)\"></chq-input>\r\n          <chq-input [ngClass]=\"{'do-not-print': !dataResponse.mobileNumber}\" class=\"driver-field no-padding outline\"\r\n            #phone (controlOutput)=\"dataResponse.mobileNumber = $event.value  || null;isInvoiceFormValid()\"\r\n            [inputModel]=\"contactNumberInput\"></chq-input>\r\n          <div *ngIf=\"dataResponse.mobileNumber\" class=\"driver-field-content\"\r\n            [ngClass]=\"{'text-mode':dataResponse?.paymentStatus?.toLowerCase() === 'paid' || dataResponse?.paymentStatus?.toLowerCase() === 'complete' }\">\r\n            <div class=\"label-text\">\r\n              {{'contact_number' | translate }}\r\n            </div>\r\n            <div class=\"driver-content-value\">\r\n              <span>{{this.dataResponse.code}}\r\n                {{\r\n                dataResponse.mobileNumber || '--' }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"invoices-table-wrapper\">\r\n      <div class=\"expand-collapse-btn do-not-print\">\r\n        <span [class.secondary-color]=\"isAllExpanded\" (click)=\"expandCollapse(true)\">{{ \"expand_all\" | translate\r\n          }}</span>\r\n        <span [class.secondary-color]=\"!isAllExpanded\" (click)=\"expandCollapse(false)\">{{ \"collapse_all\" | translate }}\r\n        </span>\r\n      </div>\r\n\r\n      <div class=\"invoices-table-container\">\r\n\r\n        <div class=\"table-parent\" *ngFor=\"let item of invoiceList | keyvalue : valueAscOrder; let i = index\">\r\n          <span class=\"expand-container\" (click)=\"hideShowSection(item.key);\">\r\n            <mat-icon class=\"do-not-print\">{{\r\n              getSection(item.key) ? \"keyboard_arrow_up\" : \"keyboard_arrow_down\"\r\n              }}</mat-icon>\r\n            <h6 class=\"small-heading\">{{item.key?.toLowerCase() | translate}}</h6>\r\n          </span>\r\n          <ng-container *ngIf=\"getSection(item.key);\">\r\n            <table width=\"100%\">\r\n              <thead>\r\n                <tr>\r\n                  <td>{{ \"description\" | translate }}</td>\r\n                  <td>{{ \"code\" | translate }}</td>\r\n                  <td>{{ \"units\" | translate }}</td>\r\n                  <td>{{ \"price_unit\" | translate }}({{ currencySymbol }})</td>\r\n                  <td>{{ \"total_price\" | translate }}({{ currencySymbol }})</td>\r\n                </tr>\r\n              </thead>\r\n              <tbody *ngFor=\"let row of invoiceList[item.key] | orderBy: 'serviceSubtype': 'asc' ;let i = index;\">\r\n                <tr\r\n                  *ngIf=\"item.key === 'Paint' && ( i === 0 || (i > 0 && row.serviceSubType !== invoiceList[item.key][i-1].serviceSubType))\">\r\n                  <td colspan=\"5\">\r\n                    <h6 class=\"small-heading\">{{ row?.serviceSubType === 'PaintLabour' ? 'Paint Labour': 'Paint\r\n                      Material'}}</h6>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>{{ row.description }}</td>\r\n                  <td>{{ row.code }}</td>\r\n                  <td class=\"text-light\">{{ row.quantity }}</td>\r\n                  <td>\r\n                    {{row.cost | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}\r\n                  </td>\r\n                  <td>\r\n                    {{row.total | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <table width=\"100%\">\r\n              <tfoot>\r\n                <tr>\r\n                  <td>{{ (item.key.toString() === 'Paint'? 'total_paint_cost': ( item.key.toString() === \"Labour\" ?\r\n                    \"total_labour_cost\" : \"total_parts_cost\")) | translate }}</td>\r\n                  <td align=\"right\">\r\n                    {{ invoiceList[item.key] | sum:'total' |\r\n                    xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          </ng-container>\r\n        </div>\r\n\r\n        <div class=\"invoice-detail\" *ngIf=\"estimateSummary\">\r\n          <!-- ********Work Provider Invoice******** -->\r\n          <div class=\"invoice-col\">\r\n            <h5>{{ \"summary\" | translate }}</h5>\r\n\r\n            <!-- Parts  -->\r\n            <h6>{{ \"parts\" | translate }}</h6>\r\n\r\n            <!-- Invoice rows  -->\r\n            <div class=\"invoice-row border-b\">\r\n              <span>{{ \"subtotal\" | translate }}</span> <span>{{ estimateSummary.partsSubTotal |\r\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n            </div>\r\n            <div class=\"invoice-row border-b\">\r\n              <span>{{ \"sundry_parts\" | translate }}</span> <span>{{ estimateSummary.sundryParts |\r\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</span>\r\n            </div>\r\n            <div class=\"invoice-row border-b\">\r\n              <span>{{ \"total_before_discount\" | translate }}</span>\r\n              <span>{{ estimateSummary.partsTotalBeforeDiscount |\r\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n            </div>\r\n            <div class=\"invoice-row\">\r\n              <span>{{ \"discount_on_parts\" | translate }}</span>\r\n              <span>{{estimateSummary.partsTotalDiscountPercentage}}%</span>\r\n            </div>\r\n            <!-- Total Row -->\r\n            <div class=\"total-invoice-row\">\r\n              <span>{{ \"total_parts\" | translate }}</span> <span>{{ estimateSummary.partsTotal |\r\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n            </div>\r\n\r\n            <!-- Labour  -->\r\n            <h6>{{ \"labour\" | translate }}</h6>\r\n\r\n            <!-- Invoice rows  -->\r\n            <div class=\"invoice-row border-b\">\r\n              <span>{{ \"labour_amount_subtotal\" | translate }}</span>\r\n              <span>{{ estimateSummary.labourAmountSubTotal |\r\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n            </div>\r\n            <div class=\"invoice-row border-b\">\r\n              <span>{{ \"labour_hours\" | translate }}</span> <span>{{ estimateSummary.labourTimeHours }} hrs</span>\r\n            </div>\r\n            <div class=\"invoice-row\">\r\n              <span>{{ \"labour_discount\" | translate }}</span> <span>{{\r\n                estimateSummary.labourTotalDiscountPercentage}}%</span>\r\n            </div>\r\n\r\n            <!-- Total Row -->\r\n            <div class=\"total-invoice-row\">\r\n              <span>{{ \"total_labour_cost\" | translate }}</span>\r\n              <span>{{ estimateSummary.labourTotal |\r\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n            </div>\r\n\r\n            <!-- Paint  -->\r\n            <h6>{{ \"paint\" | translate }}</h6>\r\n\r\n            <!-- Invoice rows  -->\r\n            <div class=\"invoice-row border-b\">\r\n              <span>{{ \"paint_labour_time\" | translate }}</span>\r\n              <span>{{estimateSummary.paintLabourTimeHour}}hrs</span>\r\n            </div>\r\n            <div class=\"invoice-row border-b\">\r\n              <span>{{ \"paint_labour_subtotal\" | translate }}</span>\r\n              <span>{{estimateSummary.paintLabourSubTotal |\r\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n            </div>\r\n            <div class=\"invoice-row border-b\">\r\n              <span>{{ \"paint_labour_discount\" | translate }}</span>\r\n              <span> {{estimateSummary.paintLabourDiscountPercentage }}%</span>\r\n            </div>\r\n\r\n            <!-- Labour Row -->\r\n            <div class=\"total-invoice-row no-border\">\r\n              <span>{{ \"labour_total\" | translate }}</span> <span>{{estimateSummary.paintLabourTotal |\r\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</span>\r\n            </div>\r\n\r\n            <!-- Invoice rows  -->\r\n            <div class=\"invoice-row border-b\">\r\n              <span>{{ \"material_subtotal\" | translate }}</span>\r\n              <span>{{estimateSummary.paintMaterialSubTotal |\r\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</span>\r\n            </div>\r\n            <div class=\"invoice-row border-b\">\r\n              <span>{{ \"material_discount\" | translate }}</span>\r\n              <span>{{estimateSummary.paintMateriaDiscountPercentage}}%</span>\r\n            </div>\r\n            <div class=\"invoice-row\">\r\n              <span>{{ \"material_total\" | translate }}</span>\r\n              <span>{{estimateSummary.paintMaterialTotal |\r\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</span>\r\n            </div>\r\n\r\n            <!-- Total Pain Row -->\r\n            <div class=\"total-invoice-row\">\r\n              <span>{{'total_paint' | translate}}</span> <span>{{\r\n                calculateSub(estimateSummary.paintLabourTotal,estimateSummary.paintMaterialTotal, 0, 0) |\r\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</span>\r\n            </div>\r\n\r\n            <div class=\"total-box\">\r\n              <span>{{ \"total_cost\" | translate }}</span>\r\n              <span>{{\r\n                calculateSub(estimateSummary.paintLabourTotal,estimateSummary.paintMaterialTotal,estimateSummary.labourTotal,estimateSummary.partsTotal)\r\n                | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}</span>\r\n            </div>\r\n            <div class=\"total-box\" *ngIf=\"false\">\r\n              <span>5% {{ \"vat\" | translate }}</span> <span>{{ (estimateSummary.paintLabourTotal +\r\n                estimateSummary.paintMaterialTotal + estimateSummary.labourTotal + estimateSummary.partsTotal) * 0.05 |\r\n                xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</span>\r\n            </div>\r\n            <div class=\"total-box\" *ngIf=\"false\">\r\n              <span>{{ \"total_cost_including_vat\" | translate }}</span>\r\n              <span>{{ (estimateSummary.paintLabourTotal + estimateSummary.paintMaterialTotal +\r\n                estimateSummary.labourTotal + estimateSummary.partsTotal) + ( (estimateSummary.paintLabourTotal +\r\n                estimateSummary.paintMaterialTotal + estimateSummary.partsTotal + estimateSummary.labourTotal) * 0.05 )\r\n                | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n  <div class=\"estimate-details-no-data-found\" *ngIf=\"noDataFound && !isDataLoading\">\r\n    <mat-icon class=\"no-data-svg\" [svgIcon]=\"'estimate-no-data'\"></mat-icon>\r\n    <p class=\"no-data-text\">\r\n      {{ 'no_invoice_result' | translate : { value: isWorkProvider ? workProviderValue : customerValue } }}.\r\n    </p>\r\n  </div>\r\n  <div class=\"footer-full-wrapper\">\r\n    <div class=\"footer-image-wrapper\">\r\n      <div class=\"image-wrapper\">\r\n        <img alt=\"addenda logo\" src=\"assets/img/addenda-repair.png\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"button-container\">\r\n      <!-- Options button  -->\r\n\r\n      <chq-dropdown class=\"option-sender\" (selected)=\"handleSelectedOption($event);\" *ngIf=\"!noDataFound\"\r\n        [dropdownModel]=\"dropdownApprovalModelFilter\"></chq-dropdown>\r\n\r\n      <chq-button\r\n        *ngIf=\"!noDataFound && dataResponse?.paymentStatus?.toLowerCase() !== 'paid' && !this.commonService.isViewOnly && repairStatus.toLowerCase() !== 'complete'\"\r\n        [buttonModel]=\"saveButtonModel\"></chq-button>\r\n      <chq-button *ngIf=\"!noDataFound && dataResponse?.invoiceAmount > 0\" [buttonModel]=\"paymentsButtonModel\"\r\n        (click)=\"openPaymentPopup()\"></chq-button>\r\n      <chq-button [buttonModel]=\"closeRepairButtonModel\"\r\n        *ngIf=\"!this.commonService.isViewOnly && repairStatus.toLowerCase() !== 'complete'\"\r\n        (click)=\"closeRepair()\"></chq-button>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { ChqWidgetsInputModel } from 'src/app/model/chq-widgets-input-model';\r\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\r\nimport { InvoiceSummaryComponent } from '../../../../../dialogs/invoice-summary/invoice-summary.component';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { InvoiceService } from 'src/app/services/invoice/invoice.service';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\r\nimport { ServiceType } from 'src/app/model/menu';\r\nimport * as dayjs from 'dayjs';\r\nimport { KeyValue } from '@angular/common';\r\n\r\n// 👇️ Interface using index signature\r\nexport interface Charges {\r\n  [index: string]: any;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-repair-invoices',\r\n  templateUrl: './invoices.component.html',\r\n  styleUrls: [ './invoices.component.scss' ],\r\n})\r\nexport class RepairInvoicesComponent implements OnInit {\r\n  /**\r\n    constructor for RepairInvoicesComponent\r\n  */\r\n  constructor(\r\n    public commonService: CommonService,\r\n    private invoiceService: InvoiceService,\r\n    private bookingService: BookingService,\r\n    private monitorServie: MonitorService,\r\n    public dialog: MatDialog,\r\n    private router: Router,\r\n    private route: ActivatedRoute\r\n  ) {\r\n\r\n    // set Locale, digitInfo & currencySymbol\r\n    this.i18n = this.commonService.geti18nInfo();\r\n    this.digitInfo = this.commonService.getDigitsInfo()\r\n    this.locale = this.commonService.getLocale()\r\n    this.currencySymbol = this.commonService.getCurrencySymbol()\r\n  }\r\n  digitInfo = ''\r\n  locale = ''\r\n  public repairId:string = '';\r\n  public make:string = '';\r\n  private repairIntId:number;\r\n  private maxPoint:number = 10000000;\r\n  private estimateIntId:number;\r\n  public model:string = '';\r\n  public status:string = '';\r\n  public licensePlate:string = '';\r\n  currencySymbol = ''\r\n  caseGuid:string = ''\r\n  i18n: i18nInfo;\r\n  /**\r\n    @returns {void} Open Invoice Summary popup\r\n  */\r\n  goToGenerateInvoice(): void {\r\n    if(this.status?.toLowerCase() === 'readytoinvoice' || this.status?.toLowerCase() === 'invoiced' ){\r\n      let formType = 1;\r\n      if(this.currentWorkProvider?.toLowerCase() === 'retail'){\r\n        if(this.currentWorkProviderType?.toLowerCase() === 'person'){\r\n          formType = 2;\r\n        }\r\n      }\r\n      this.router.navigate([ '../invoicesEdit' ], {\r\n        relativeTo: this.route,\r\n        queryParams: { formType },\r\n      });\r\n      return;\r\n    }\r\n    if(this.repairStatus?.toLowerCase() === 'repair in progress' || this.repairStatus?.toLowerCase() === 'approved') {\r\n      const dialogRef = this.commonService.openConfirmYesNoDialog(\r\n        'Confirm to Continue',\r\n        'Once the invoice is generated, you won’t be able to edit the estimate again. Are you sure you want to continue?'\r\n      );\r\n      dialogRef.afterClosed().subscribe((res: boolean) => {\r\n        if (res) {\r\n          this.updateEstimateCharge(true);\r\n        }\r\n      });\r\n    } else {\r\n      this.updateEstimateCharge(true);\r\n    }\r\n    \r\n  }\r\n\r\n  orgImageLoading: boolean = true;\r\n  orgLogoUrl: string = '';\r\n  orgName: string = '';\r\n  public paymentStatus:string = '';\r\n\r\n  isAllExpanded = true;\r\n  isPartsExpanded = true;\r\n  isLabourExpanded = true;\r\n  isPaintExpanded = true;\r\n  public workProviderValue:string = '';\r\n  public customerValue:string ='';\r\n\r\n  // Parts Data\r\n  public partsCost: any = [\r\n    {\r\n      description: 'Rear left wing w/ sill panel - Section M',\r\n      code: 'A35492315',\r\n      units: '2',\r\n      cost: '500',\r\n      total: '1500',\r\n    },\r\n  ];\r\n  public totalPartsCost: number = 0;\r\n  private currentChangesString = '';\r\n\r\n  public totalPaintCost: number = 0;\r\n  private hasPaint:boolean = false;\r\n  private hasParts:boolean = false;\r\n  private hasLabour:boolean = false;\r\n  public repairStatus:string = '';\r\n  public paintCost: any = [];\r\n  public invoiceList:Charges = {};\r\n  public isDataLoading:boolean = true;\r\n  public radioList:Charges = {};\r\n  private summary:any = {};\r\n  public charges:any[] = [];\r\n  public currentWorkProvider:string = '';\r\n  public currentWorkProviderType:string = '';\r\n  private currentDate = new Date();\r\n  public invoiceIssuedDate: ChqWidgetsInputModel = {\r\n    placeHolder: 'Select Date',\r\n    label: 'INVOICE DATE',\r\n    name: 'issuedDate',\r\n    value: this.currentDate,\r\n    maxDate: this.currentDate,\r\n    minDate: dayjs().subtract(1, 'year').toDate(),\r\n    type: 'date',\r\n    required: false,\r\n    disabled: false,\r\n    mode: 'date',\r\n  };\r\n\r\n  public radioButtonList:ChqWidgetsInputModel[] = [];\r\n\r\n  public previewButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Preview',\r\n    type: 'outline',\r\n\r\n    onclick: () => this.previewInvoiceSummary(),\r\n  };\r\n  public saveButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Save',\r\n    type: 'disabled-outline',\r\n\r\n    onclick: () => {\r\n      this.updateEstimateCharge();\r\n    },\r\n  };\r\n\r\n  public paymentStatusMapper = {\r\n    'unpaid': 'Unpaid',\r\n    'partialpaid': 'Partially Paid',\r\n    'paid': 'Paid'\r\n  }\r\n\r\n  private hashPropTable:any = {\r\n\r\n  };\r\n  \r\n  /**\r\n   * handle floating point\r\n   */\r\n  parseFloatingPoint(g:any, prop?:string):number{\r\n    if(this.hashPropTable[prop]){\r\n      return g;\r\n    }\r\n    if(prop){\r\n      this.hashPropTable[prop] = true;\r\n    }\r\n    return g * this.maxPoint;\r\n  }\r\n\r\n  \r\n  /**\r\n   * CHecks if current browser is mac or not\r\n   * @returns boolean\r\n   */\r\n  get isiOS(): boolean {\r\n    return [\r\n      'iPad Simulator',\r\n      'iPhone Simulator',\r\n      'iPod Simulator',\r\n      'iPad',\r\n      'iPhone',\r\n      'iPod'\r\n    ].includes(navigator.platform)\r\n      // iPad on iOS 13 detection\r\n      || (navigator.userAgent.includes('Mac') && 'ontouchend' in document)\r\n  }\r\n\r\n  /**  \r\n    Order by \r\n  */\r\n  valueAscOrder(a: KeyValue<string, string>, b: KeyValue<string, string>): number{\r\n    const sortOrder = { 'part': '1', 'labour': '2', 'paint': '3' }\r\n    return sortOrder[a.key?.toLowerCase()].localeCompare(sortOrder[b.key?.toLowerCase()]);\r\n  }\r\n\r\n  /**\r\n   * check labour types \r\n   */\r\n  validateLabourTypes(summary:any, type:string, charge:any, index:number):any{\r\n    if(type === ServiceType.Paint){\r\n      this.hasPaint = true;\r\n      if(charge.serviceSubType === 'PaintLabour'){\r\n        summary.paintLabourHourSubTotal = this.parseFloatingPoint(summary.paintLabourHourSubTotal, `paintLabourHourSubTotal_${index}`) + this.parseFloatingPoint(charge.quantity);\r\n        summary.paintLabourAmountSubTotal = this.parseFloatingPoint(summary.paintLabourAmountSubTotal, `paintLabourAmountSubTotal_${index}`) + this.parseFloatingPoint(charge.total);\r\n        summary.paintLabourSubTotal = this.parseFloatingPoint(summary.paintLabourSubTotal, `paintLabourSubTotal_${index}`) + this.parseFloatingPoint(charge.total);\r\n        summary.paintLabourTotal = this.parseFloatingPoint(summary.paintLabourTotal, `paintLabourSubTotal+${index}`) + (this.parseFloatingPoint(charge.total) * ( (100 - parseFloat(summary.paintLabourDiscountPercentage))/100));\r\n  \r\n      }else{\r\n        summary.paintMaterialSubTotal = this.parseFloatingPoint(summary.paintMaterialSubTotal, `paintMaterialSubTotal_${index}`) + this.parseFloatingPoint(charge.total);\r\n        summary.paintMaterialTotal = this.parseFloatingPoint(summary.paintMaterialTotal, `paintMaterialTotal_${index}`) + (this.parseFloatingPoint(charge.total) * ( (100 - parseFloat(summary.paintMateriaDiscountPercentage))/100));\r\n         \r\n      }\r\n    }else if(type === ServiceType.Labour){\r\n      this.hasLabour = true;\r\n      summary.labourTotalBeforeDiscount = this.parseFloatingPoint(summary.labourTotalBeforeDiscount, `labourTotalBeforeDiscount_${index}`) + this.parseFloatingPoint(charge.total);\r\n      summary.labourAmountSubTotal = this.parseFloatingPoint(summary.labourAmountSubTotal, `labourAmountSubTotal_${index}`) + this.parseFloatingPoint(charge.total);\r\n      summary.labourTotal = this.parseFloatingPoint(summary.labourTotal, `labourTotal_${index}`) + (this.parseFloatingPoint(charge.total) * ( (100 - parseFloat(summary.labourTotalDiscountPercentage))/100));\r\n      summary.labourHourSubTotal = this.parseFloatingPoint(summary.labourHourSubTotal, `labourHourSubTotal_${index}`) + this.parseFloatingPoint(charge.total);\r\n      summary.labourTimeHours = this.parseFloatingPoint(summary.labourTimeHours, `labourTimeHours_${index}`) + this.parseFloatingPoint(charge.quantity);\r\n  \r\n    }else{\r\n      this.hasParts = true;\r\n      summary.partsTotalBeforeDiscount = this.parseFloatingPoint(summary.partsTotalBeforeDiscount, `partsTotalBeforeDiscount_${index}`) + this.parseFloatingPoint(charge.total);\r\n      summary.partsTotal = this.parseFloatingPoint(summary.partsTotal, `partsTotal_${index}`) + ( this.parseFloatingPoint(charge.total) * ( (100 - parseFloat(summary.partsTotalDiscountPercentage))/100));\r\n      summary.partsSubTotal = this.parseFloatingPoint(summary.partsSubTotal, `partsSubTotal_${index}`) + this.parseFloatingPoint(charge.total);\r\n    }\r\n  \r\n    return summary;\r\n  }\r\n\r\n  /**\r\n   * calculate summart \r\n   */\r\n  calculateSummary(summary:any):any[]{\r\n    this.hashPropTable = {};\r\n    const keys = Object.keys(summary);\r\n    summary.paintLabourHourSubTotal = 0;\r\n    summary.paintLabourAmountSubTotal = 0;\r\n    summary.paintLabourSubTotal = 0;\r\n    summary.labourTotal = 0;\r\n    summary.paintLabourTotal = 0;\r\n    summary.labourTimeHours = 0;\r\n    summary.labourTotalBeforeDiscount = 0;\r\n    summary.paintMaterialTotal = 0;\r\n    summary.paintMaterialSubTotal = 0;\r\n    summary.labourAmountSubTotal = 0;\r\n    summary.labourHourSubTotal = 0;\r\n    summary.paintLabourAmountSubTotal = 0;\r\n    summary.partsSubTotal = 0;\r\n    summary.partsTotal = 0; \r\n    summary.partsTotalBeforeDiscount = 0;\r\n    keys.forEach((key)=>{\r\n      if(summary[key] || summary[key] === '0'){\r\n        summary[key] = parseFloat(summary[key]);\r\n      }else{\r\n        summary[key] = 0;\r\n      }\r\n    });\r\n\r\n    let workProviderExists = false;\r\n    let customerExists = false;\r\n\r\n    const newObj = JSON.parse(JSON.stringify(summary));\r\n    const summaryList = [];\r\n    newObj.title = 'work_provider_invoice';\r\n    const tepObj:any = {};\r\n    const allIndex = 0;\r\n    this.charges?.forEach((charges)=>{\r\n      if(charges.recipient === 1){\r\n        workProviderExists = true;\r\n        if(!tepObj[charges.serviceType]){\r\n          tepObj[charges.serviceType] = [];\r\n        }\r\n        tepObj[charges.serviceType].push(charges);\r\n      }\r\n    });\r\n    if(workProviderExists){\r\n      newObj.invoiceList = tepObj;\r\n      summaryList[0] = newObj;\r\n    }\r\n   \r\n    const newObj1 = JSON.parse(JSON.stringify(summary));\r\n    newObj1.title = 'driver_owner_invoice';\r\n    const tepObj1:any = {};\r\n    this.charges?.forEach((charges)=>{\r\n      if(charges.recipient === 2){\r\n        customerExists = true;\r\n        if(!tepObj1[charges.serviceType]){\r\n          tepObj1[charges.serviceType] = [];\r\n        }\r\n        tepObj1[charges.serviceType].push(charges);\r\n      }\r\n    });\r\n    if(customerExists){\r\n      newObj1.invoiceList = tepObj1;\r\n      summaryList[1] = newObj1\r\n    }\r\n   \r\n\r\n    this.charges.forEach((charge)=>{\r\n      const type = charge.serviceType;\r\n      if(charge.cost || charge.cost === '0'){\r\n        charge.cost = parseFloat(charge.cost);\r\n      }\r\n      \r\n      if(charge.quantity || charge.quantity === '0'){\r\n        charge.quantity = parseFloat(charge.quantity);\r\n      }\r\n\r\n      if(charge.total || charge.total === '0'){\r\n        charge.total = parseFloat(charge.total);\r\n      }\r\n\r\n      if(charge.recipient === 1){\r\n        summaryList[0] = this.validateLabourTypes(summaryList[0], type, charge, charge.recipient);\r\n      }else{\r\n        summaryList[1] = this.validateLabourTypes(summaryList[1], type, charge, charge.recipient);\r\n      }\r\n    });\r\n    \r\n    if(workProviderExists){\r\n      summaryList[0].paintLabourHourSubTotal = summaryList[0].paintLabourHourSubTotal/this.maxPoint;\r\n      summaryList[0].paintLabourSubTotal = summaryList[0].paintLabourSubTotal/this.maxPoint;\r\n      summaryList[0].labourTotal = summaryList[0].labourTotal/this.maxPoint;\r\n      summaryList[0].paintLabourTotal = summaryList[0].paintLabourTotal/this.maxPoint;\r\n      summaryList[0].labourTimeHours = summaryList[0].labourTimeHours/this.maxPoint;\r\n      summaryList[0].labourTotalBeforeDiscount = summaryList[0].labourTotalBeforeDiscount/this.maxPoint;\r\n      summaryList[0].paintMaterialTotal = summaryList[0].paintMaterialTotal/this.maxPoint;\r\n      summaryList[0].paintMaterialSubTotal = summaryList[0].paintMaterialSubTotal/this.maxPoint;\r\n      summaryList[0].labourAmountSubTotal = summaryList[0].labourAmountSubTotal/this.maxPoint;\r\n      summaryList[0].labourHourSubTotal = summaryList[0].labourHourSubTotal/this.maxPoint;\r\n      summaryList[0].paintLabourAmountSubTotal = summaryList[0].paintLabourAmountSubTotal/this.maxPoint;\r\n      summaryList[0].partsSubTotal = summaryList[0].partsSubTotal/this.maxPoint;\r\n      summaryList[0].partsTotal = summaryList[0].partsTotal/this.maxPoint;\r\n      summaryList[0].partsTotalBeforeDiscount = summaryList[0].partsTotalBeforeDiscount/this.maxPoint;\r\n    }\r\n\r\n    if(customerExists){\r\n      summaryList[1].paintLabourHourSubTotal = summaryList[1].paintLabourHourSubTotal/this.maxPoint;\r\n      summaryList[1].paintLabourSubTotal = summaryList[1].paintLabourSubTotal/this.maxPoint;\r\n      summaryList[1].labourTotal = summaryList[1].labourTotal/this.maxPoint;\r\n      summaryList[1].paintLabourTotal = summaryList[1].paintLabourTotal/this.maxPoint;\r\n      summaryList[1].labourTimeHours = summaryList[1].labourTimeHours/this.maxPoint;\r\n      summaryList[1].labourTotalBeforeDiscount = summaryList[1].labourTotalBeforeDiscount/this.maxPoint;\r\n      summaryList[1].paintMaterialTotal = summaryList[1].paintMaterialTotal/this.maxPoint;\r\n      summaryList[1].paintMaterialSubTotal = summaryList[1].paintMaterialSubTotal/this.maxPoint;\r\n      summaryList[1].labourAmountSubTotal = summaryList[1].labourAmountSubTotal/this.maxPoint;\r\n      summaryList[1].labourHourSubTotal = summaryList[1].labourHourSubTotal/this.maxPoint;\r\n      summaryList[1].paintLabourAmountSubTotal = summaryList[1].paintLabourAmountSubTotal/this.maxPoint;\r\n      summaryList[1].partsSubTotal = summaryList[1].partsSubTotal/this.maxPoint;\r\n      summaryList[1].partsTotal = summaryList[1].partsTotal/this.maxPoint;\r\n      summaryList[1].partsTotalBeforeDiscount = summaryList[1].partsTotalBeforeDiscount/this.maxPoint;\r\n    }\r\n   \r\n\r\n    if(this.currentWorkProvider?.toLowerCase() === 'retail'){\r\n      if(this.currentWorkProviderType?.toLowerCase() === 'person'){\r\n        return [ summaryList[1] ];\r\n      }else{\r\n        return [ summaryList[0] ];\r\n      }\r\n    }\r\n\r\n    return summaryList;\r\n  }\r\n\r\n  /**\r\n   * compare changes\r\n   */\r\n  public isAllocationChanged():void{\r\n    const currentChangesString = JSON.stringify(this.invoiceList);\r\n    if(!this.invoiceIssuedDate.disabled && (currentChangesString !== this.currentChangesString || dayjs(this.invoiceIssuedDate.value as Date).format('DD/MM/YYYY') != dayjs(this.currentDate as Date).format('DD/MM/YYYY'))){\r\n      this.saveButtonModel = { ...this.saveButtonModel, type: 'outline' };\r\n    }else{\r\n      this.saveButtonModel = { ...this.saveButtonModel, type: 'disabled-outline' };\r\n    }\r\n  }\r\n\r\n  \r\n  /**\r\n   * hide show section\r\n   */\r\n  hideShowSection(key:string):void{\r\n    if(key?.toLowerCase() === 'part'){\r\n      this.isPartsExpanded = !this.isPartsExpanded;\r\n    }else if(key?.toLowerCase() === 'labour'){\r\n      this.isLabourExpanded = !this.isLabourExpanded;\r\n    }else{\r\n      this.isPaintExpanded = !this.isPaintExpanded;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * hide show section\r\n   */\r\n  getSection(key:string):boolean{\r\n    if(key?.toLowerCase() === 'part'){\r\n      return this.isPartsExpanded;\r\n    }else if(key?.toLowerCase() === 'labour'){\r\n      return this.isLabourExpanded;\r\n    }else{\r\n      return this.isPaintExpanded;\r\n    }\r\n  }\r\n\r\n  /**\r\n    Retrieves the repair details for a given repair GUID.\r\n    @returns {void}\r\n  */\r\n  getBookingRepairDetails(): void {\r\n    this.commonService.showLoading();\r\n    const repairId = this.route.parent?.snapshot.paramMap.get('id');\r\n    this.monitorServie.logEvent('getBookingRepairDetails', [ 'InvoicesComponent', 'addenda-repair' ], {\r\n      repairGuid: repairId\r\n    });\r\n    this.bookingService.getRepairDetailByGuid(repairId).subscribe({\r\n      next: async (result: any) => {\r\n        if (result?.data) {\r\n          this.caseGuid = result.data.quoteId;\r\n          this.repairStatus = result.data.status;\r\n          this.status = result.data.invoiceStatus || '';\r\n          const bookingDate = result.data.createdDate;\r\n          const minutes = dayjs(new Date()).diff(dayjs(bookingDate), 'minutes');\r\n          this.invoiceIssuedDate = { ...this.invoiceIssuedDate, minDate: dayjs(bookingDate).toDate(), disabled: minutes< 0, maxDate: minutes < 0 ? dayjs(bookingDate).toDate(): new Date() };\r\n          const statusList = [ 'approved', 'repairinprogress', 'partsordered', 'partsorderedpartially', 'readytoinvoice', 'invoiced', 'paid', 'complete' ];\r\n          if(!statusList.includes(this.repairStatus.toLowerCase())){\r\n            this.generateInvoiceButtonModel = { ...this.generateInvoiceButtonModel, type: 'disabled' };\r\n          }\r\n          this.currentWorkProvider = result.data.customer.companyOrgType;\r\n          this.currentWorkProviderType = result.data.customer.customerTypeName;\r\n          this.orgName = result.data?.organizationDetail?.nameOfOrganization;\r\n          this.orgLogoUrl = result.data?.organizationDetail?.logoOfOrg;\r\n          this.customerValue = `${result.data?.customer?.firstName} ${result.data?.customer?.lastName}`;\r\n          this.workProviderValue = result.data?.customer?.companyName || result.data?.customer?.customerTypeName;\r\n          if (!this.orgLogoUrl) {\r\n            this.orgImageLoading = false;\r\n          }\r\n\r\n          if (this.commonService.roleName?.toLowerCase() === 'technician') {\r\n            return;\r\n          }\r\n          \r\n          this.invoiceService.invoicePerDetail(repairId).subscribe({\r\n            next: (resp)=>{\r\n           \r\n              const { chargesDTO, chargeSummary, repairEstimateId, repairId, repairNumber, status, paymentStatus, vehicle, invoiceDate } = resp.data;\r\n              this.repairId = repairNumber;\r\n              this.repairIntId = repairId;\r\n              this.estimateIntId = repairEstimateId;\r\n              this.paymentStatus = paymentStatus;\r\n             \r\n              this.summary = chargeSummary;\r\n              this.make = vehicle.vehicleMake;\r\n              this.model = vehicle.vehicleModel;\r\n              this.licensePlate = vehicle.licensePlateNumber;\r\n              this.charges = chargesDTO;\r\n\r\n              if(invoiceDate){\r\n                this.invoiceIssuedDate = { ...this.invoiceIssuedDate, value: invoiceDate };\r\n              }\r\n\r\n              if(this.status?.toLowerCase() === 'readytoinvoice' || this.status?.toLowerCase() === 'invoiced' || this.paymentStatus?.toLowerCase() === 'paid'){\r\n                this.generateInvoiceButtonModel = { ...this.generateInvoiceButtonModel, label: 'view_invoices' };\r\n                this.invoiceIssuedDate = { ...this.invoiceIssuedDate, mode: 'text' };\r\n              }\r\n              \r\n              if(this.commonService.isViewOnly){\r\n                this.invoiceIssuedDate = { ...this.invoiceIssuedDate, mode: 'text' };\r\n              }\r\n\r\n              if(!this.charges || this.charges.length === 0){\r\n                this.commonService.showToast(0, 'no_charges');\r\n                this.commonService.hideLoading();\r\n                return;\r\n              }\r\n\r\n              this.isDataLoading = false;\r\n              chargesDTO.forEach((charges)=>{\r\n                if(!this.invoiceList[charges.serviceType]){\r\n                  this.invoiceList[charges.serviceType] = [];\r\n                  this.radioList[charges.serviceType] = [];\r\n                }\r\n\r\n                if(charges.serviceType === ServiceType.Paint){\r\n                  this.hasPaint = true;\r\n                }else if(charges.serviceType === ServiceType.Labour){\r\n                  this.hasLabour = true;\r\n                }else{\r\n                  this.hasParts = true;\r\n                }\r\n                let btnModel:ChqWidgetsInputModel = {\r\n                  placeHolder: '',\r\n                  label: '',\r\n                  name: 'payer',\r\n                  idField: 'payer',\r\n                  value: charges.recipient === 1 ? this.workProviderValue : this.customerValue,\r\n                  type: 'radio',\r\n                  disabled: status.toLowerCase() === 'readytoinvoice',\r\n                  options: [\r\n                    { label: this.workProviderValue, id: 1 },\r\n                    { label: this.customerValue, id: 2 },\r\n                  ],\r\n                };\r\n\r\n                if(this.currentWorkProvider?.toLowerCase() === 'retail'){\r\n                  const label = this.currentWorkProviderType?.toLowerCase() === 'person' ? this.customerValue : this.workProviderValue;\r\n                  const id = this.currentWorkProviderType?.toLowerCase() === 'person' ? 2 : 1;\r\n                  btnModel = { ...btnModel, options: \r\n                    [ { label, id } ],\r\n                  mode: 'text',\r\n                  }\r\n                }\r\n                this.radioList[charges.serviceType].push(btnModel);\r\n                this.invoiceList[charges.serviceType].push(charges);\r\n              });\r\n              this.currentChangesString = JSON.stringify(this.invoiceList);\r\n              this.commonService.hideLoading();\r\n              this.commonService.repairDetails.next(result.data);\r\n              this.commonService.bookingId.next(result.data.repairNumber);\r\n            }\r\n          });\r\n        } else {\r\n          this.commonService.hideLoading();\r\n        }\r\n      },\r\n      error: (err: any) => {\r\n        this.commonService.hideLoading();\r\n        this.isDataLoading = false;\r\n        this.monitorServie.logException(err, SeverityLevel.Error);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * update estimate charge\r\n   */\r\n  updateEstimateCharge(generateEstimate?:boolean):void{\r\n    const chargesObj:any = {\r\n      repairId: this.repairIntId,\r\n      estimateId: this.estimateIntId,\r\n      status: generateEstimate ? 3 : 1,\r\n      invoiceDate: dayjs(this.invoiceIssuedDate.value as Date).format('YYYY-MM-DD') + 'T00:00:00Z',\r\n      estimateCharges: []\r\n    }\r\n \r\n    const keys = Object.keys(this.invoiceList);\r\n    keys.forEach((k)=>{\r\n      const chargeList = this.invoiceList[k];\r\n      chargeList.forEach((charge)=>{\r\n        const obj = {\r\n          estimateChargeId: charge.chargeId,\r\n          RecipientId: charge.recipient\r\n        }\r\n        chargesObj.estimateCharges.push(obj);\r\n      })\r\n    });\r\n    this.commonService.showLoading();\r\n    this.invoiceService.assignInvoice(chargesObj).subscribe({\r\n      next: (resp)=>{\r\n        if(resp){\r\n          this.commonService.showInfoToast(1000, 'Invoice saved successfully');\r\n          let formType = 1;\r\n          if(this.currentWorkProvider?.toLowerCase() === 'retail'){\r\n            if(this.currentWorkProviderType?.toLowerCase() === 'person'){\r\n              formType = 2;\r\n            }\r\n          }\r\n          this.commonService.hideLoading();\r\n          if(generateEstimate){\r\n            this.router.navigate([ '../invoicesEdit' ], {\r\n              relativeTo: this.route,\r\n              queryParams: { formType },\r\n            });\r\n          }\r\n        }\r\n      },\r\n      error: ()=>{\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * on init\r\n   */\r\n  ngOnInit(): void {\r\n\r\n    this.getBookingRepairDetails();\r\n  }\r\n\r\n  public generateInvoiceButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Generate Invoice',\r\n    icon: 'invoices',\r\n    type: 'primary',\r\n\r\n    onclick: () => {\r\n      this.goToGenerateInvoice();\r\n    },\r\n  };\r\n\r\n  /**\r\n    @returns {void} function that expand and collapse rows\r\n  */\r\n  expandCollapse(status: boolean): void {\r\n    this.isAllExpanded = status;\r\n    this.isPartsExpanded = status;\r\n    this.isPaintExpanded = status;\r\n    this.isLabourExpanded = status;\r\n  }\r\n  /**\r\n    @returns {void} Open Invoice Summary popup\r\n  */\r\n  previewInvoiceSummary(): void {\r\n    const allData = this.calculateSummary(this.summary);\r\n    const summaryData = allData.filter(x=> x?.title);\r\n    this.dialog.open(InvoiceSummaryComponent, {\r\n      width: ' 58.5rem',\r\n      height: '39.625rem',\r\n      disableClose: true,\r\n      data: {\r\n        title: 'delete',\r\n        message: 'delete_confirm',\r\n        messageEntity: 'entity',\r\n        okText: 'yes',\r\n        cancelText: 'no',\r\n        summaryData,\r\n        showPaint: this.hasPaint,\r\n        showLabour: this.hasLabour,\r\n        showParts: this.hasParts\r\n      },\r\n      autoFocus: false\r\n    });\r\n  }\r\n}\r\n","<div class=\"repair-invoice-wrapper\" *ngIf=\"!isDataLoading\">\r\n  <div class=\"status-pill-wrapper\">\r\n    <span *ngIf=\"(charges | sum:'total') > 0\"\r\n      class=\"status-pill status-{{paymentStatus?.replace(' ','').toLowerCase()}}\">{{\r\n      paymentStatusMapper[paymentStatus?.toLowerCase()] | translate}}</span>\r\n  </div>\r\n  <div class=\"page-container\">\r\n    <section class=\"repair-info\">\r\n      <div class=\"repair-info-col-1\">\r\n        <div class=\"org-image\">\r\n          <img alt=\"org logo\" [src]=\"orgLogoUrl\" (load)=\"orgImageLoading = false\" *ngIf=\"orgLogoUrl; else name\" />\r\n          <ng-template #name>\r\n            <label *ngIf=\"orgName\" class=\"org-name\">{{ orgName }}</label>\r\n          </ng-template>\r\n          <chq-custom-loader [showLoading]=\"orgImageLoading\"></chq-custom-loader>\r\n        </div>\r\n\r\n        <div class=\"repair-detail\">\r\n          <h4>{{ \"repair_id\" | translate }}: {{repairId}}</h4>\r\n          <h5>{{ \"make\" | translate }}: {{make}}</h5>\r\n          <h5>{{ \"model\" | translate }}: {{model}}</h5>\r\n          <h5>{{ \"license_plate\" | translate }}: {{licensePlate}}</h5>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"repair-info-col-2\">\r\n        <chq-input class=\"col-6 invoice-date-input\" [inputModel]=\"invoiceIssuedDate\"\r\n          (controlOutput)=\"invoiceIssuedDate.value = $event.value || null;isAllocationChanged();\" #regDate></chq-input>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"invoices-table-wrapper\">\r\n      <div class=\"expand-collapse-btn\">\r\n        <span [class.secondary-color]=\"isAllExpanded\" (click)=\"expandCollapse(true)\">{{'expand_all' | translate}}</span>\r\n        <span [class.secondary-color]=\"!isAllExpanded\" (click)=\"expandCollapse(false)\">{{'collapse_all' | translate}}\r\n        </span>\r\n      </div>\r\n\r\n      <div class=\"invoices-table-container\">\r\n        <!-- Parts Table  -->\r\n        <div class=\"table-parent\" *ngFor=\"let item of invoiceList | keyvalue:valueAscOrder; let i = index\">\r\n          <span class=\"expand-container\" (click)=\"hideShowSection(item.key);\">\r\n            <mat-icon>{{\r\n              getSection(item.key) ? \"keyboard_arrow_up\" : \"keyboard_arrow_down\"\r\n              }}</mat-icon>\r\n            <h6 class=\"small-heading\">{{item.key?.toLowerCase() | translate}}</h6>\r\n          </span>\r\n          <ng-scrollbar [disabled]=\"!isiOS\" [track]=\"'horizontal'\" [autoHeightDisabled]=\"false\"\r\n            class=\"wrapper-table-scroll\" *ngIf=\"getSection(item.key)\">\r\n            <table width=\"100%\">\r\n              <thead>\r\n                <tr>\r\n                  <td>{{ 'description' | translate }}</td>\r\n                  <td>{{'code' | translate}}</td>\r\n                  <td>{{'units' | translate}}</td>\r\n                  <td>{{'price_unit' | translate}}({{ currencySymbol }})</td>\r\n                  <td>{{'total_price' | translate}}({{ currencySymbol }})</td>\r\n                  <td align=\"center\">{{'payer' | translate}}</td>\r\n                </tr>\r\n              </thead>\r\n              <tbody *ngFor=\"let row of invoiceList[item.key] | orderBy: 'serviceSubtype': 'asc' ;let i = index;\">\r\n                <tr\r\n                  *ngIf=\"item.key === 'Paint' && ( i === 0 || (i > 0 && row.serviceSubType !== invoiceList[item.key][i-1].serviceSubType))\">\r\n                  <td colspan=\"6\">\r\n                    <h6 class=\"small-heading\">{{ row?.serviceSubType === 'PaintLabour' ? 'Paint Labour': 'Paint\r\n                      Material'}}</h6>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>{{ row.description }}</td>\r\n                  <td>{{ row.code }}</td>\r\n                  <td class=\"text-light\">{{ row.quantity }}</td>\r\n                  <td>\r\n                    {{row.cost | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}\r\n                  </td>\r\n                  <td>\r\n                    {{row.total | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}\r\n                  </td>\r\n                  <td [ngClass]=\"{ 'provide-td': currentWorkProvider?.toLowerCase() === 'retail' }\">\r\n                    <span class=\"provider-class\" *ngIf=\"currentWorkProvider?.toLowerCase() === 'retail'\">\r\n                      {{ this.currentWorkProviderType?.toLowerCase() === 'person' ? customerValue : workProviderValue }}\r\n                    </span>\r\n                    <chq-input *ngIf=\"currentWorkProvider?.toLowerCase() !== 'retail'\" class=\"payer-radio-btn\"\r\n                      [inputModel]=\"radioList[item.key][i]\"\r\n                      (controlOutput)=\"row.recipient = ($event.value === workProviderValue ? 1:2);isAllocationChanged();\"></chq-input>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n              <tfoot>\r\n                <tr>\r\n                  <td colspan=\"5\">{{(item.key.toString() === 'Paint'? 'total_paint_cost': ( item.key.toString() ===\r\n                    \"Labour\" ?\r\n                    \"total_labour_cost\" : \"total_parts_cost\")) | translate}}</td>\r\n                  <td align=\"right\">\r\n                    {{ invoiceList[item.key] | sum:'total' |\r\n                    xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position }}\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          </ng-scrollbar>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n  <div class=\"footer-full-wrapper\">\r\n    <div class=\"footer-image-wrapper\">\r\n      <div class=\"image-wrapper\">\r\n        <img alt=\"addenda logo\" src=\"assets/img/addenda-repair.png\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"button-container\">\r\n      <chq-button *ngIf=\"currentWorkProvider?.toLowerCase() !== 'retail'\"\r\n        [buttonModel]=\"previewButtonModel\"></chq-button>\r\n      <chq-button *ngIf=\"status.toLowerCase() !== 'readytoinvoice'  && !this.commonService.isViewOnly\"\r\n        [buttonModel]=\"saveButtonModel\"></chq-button>\r\n      <chq-button [buttonModel]=\"generateInvoiceButtonModel\"\r\n        *ngIf=\"status.toLowerCase() === 'readytoinvoice' || !this.commonService.isViewOnly\"></chq-button>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\r\nimport { catchError, firstValueFrom, forkJoin, of } from 'rxjs';\r\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\r\nimport { RepairEstimateOperationComponent } from 'src/app/dialogs/repair-estimate-operation/repair-estimate-operation.component';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { ChqWidgetsInputModel, IControlValue } from 'src/app/model/chq-widgets-input-model';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { CommonService, i18nInfo } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\nimport { RepairEstimateOperationService } from 'src/app/services/repair-estimate-operation/repair-estimate-operation.service';\r\nimport { RepairEstimateService } from 'src/app/services/repair-estimate/repair-estimate.service';\r\n\r\n@Component({\r\n  selector: 'app-repair-parts',\r\n  templateUrl: './repair-parts.component.html',\r\n  styleUrls: [ './repair-parts.component.scss' ]\r\n})\r\n\r\nexport class RepairPartsComponent implements OnInit {\r\n  public notifyServiceButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Notify Service Advisor',\r\n    type: 'outline',\r\n    icon: 'paperplane',\r\n    iconColor: 'black'\r\n  }\r\n\r\n  public addPartButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Add Part',\r\n    type: 'outline',\r\n    icon: 'plus-active',\r\n    onclick: this.openPartPopup.bind(this)\r\n  }\r\n\r\n  public saveButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Save',\r\n    type: 'disabled',\r\n    onclick: this.saveParts.bind(this)\r\n  }\r\n\r\n  public individualStatusModel: ChqWidgetsInputModel = {\r\n    placeHolder: 'Select Status',\r\n    name: 'indStatus',\r\n    label: '',\r\n    type: 'select',\r\n    value: 0,\r\n    displayValue: 'name',\r\n    options: [],\r\n    showSelectedOption: false\r\n  }\r\n\r\n  public individualStatusModels: ChqWidgetsInputModel[] = [];\r\n\r\n  public bulkStatusModel: ChqWidgetsInputModel = {\r\n    placeHolder: 'Select Status',\r\n    name: 'bulkStatus',\r\n    label: '',\r\n    type: 'select',\r\n    value: 0,\r\n    displayValue: 'name',\r\n    options: [],\r\n    showSelectedOption: false\r\n  };\r\n\r\n  public parts: any = [];\r\n  public repairResponse: any;\r\n  public estimateResponse: any;\r\n  public partsStatus: string = '';\r\n\r\n  public repairGuid: string = '';\r\n  private estimateSource: string = '';\r\n\r\n  private userPermission: any = {};\r\n  public partMapper: any = {};\r\n  public editMode: any = [];\r\n\r\n  public formData: any[] = [];\r\n  public repairStatus: string = '';\r\n  public readOnlyMode = false;\r\n  public hideButton = false;\r\n\r\n  private repairTypesArray: Array<string> = [];\r\n  private afterOperation: boolean = false;\r\n\r\n  i18n: i18nInfo;\r\n\r\n  /**\r\n   * show delete\r\n   */\r\n  get disableEdit(): boolean {\r\n    const statusList = [ 'pendingapproval', 'readytoinvoice', 'invoiced', 'complete' ];\r\n\r\n    if (statusList.includes(this.repairStatus?.toLowerCase())) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * constructor\r\n   */\r\n  constructor(public dialog: MatDialog,\r\n    private bookingService: BookingService,\r\n    public commonService: CommonService,\r\n    private route: ActivatedRoute,\r\n    private monitorService: MonitorService,\r\n    private repairEstimateService: RepairEstimateService,\r\n    private repairEstimateOperationService: RepairEstimateOperationService,\r\n    private router: Router) {\r\n\r\n    if (this.commonService.accessRight.closed) {\r\n      this.commonService.accessRight = new BehaviorSubject<boolean>(true);\r\n    }\r\n    this.commonService.userProfileData.subscribe((res) => {\r\n      if (res && res.data) {\r\n        const { userPermission } = res.data;\r\n        this.userPermission = userPermission || {};\r\n      }\r\n    });\r\n\r\n    this.i18n = this.commonService.geti18nInfo();\r\n    this.route.parent?.params?.subscribe((data) => {\r\n      if (this.repairGuid != '' && this.repairGuid !== data['id']) {\r\n        this.repairGuid = data['id'];\r\n        this.getRepairDetails();\r\n        this.getParts();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * ngOninit\r\n   */\r\n  ngOnInit(): void {\r\n    this.repairGuid = this.route.parent?.snapshot.paramMap.get('id');\r\n    this.commonService.showLoading();\r\n    const detailResult = forkJoin({\r\n      partStatuses: this.repairEstimateOperationService.getPartStatuses(),\r\n      part: this.repairEstimateOperationService.getParts(this.repairGuid),\r\n      repairDetail: this.bookingService.getRepairDetailByGuid(this.repairGuid)\r\n    }).pipe(\r\n      catchError(error => of(error))\r\n    )\r\n    detailResult.subscribe({\r\n      next: (resultMap: any) => {\r\n        if (resultMap.partStatuses) {\r\n          this.getPartStatuses(resultMap.partStatuses?.data)\r\n        }\r\n\r\n        if (resultMap.part) {\r\n          const response = resultMap.part;\r\n          if (response) {\r\n            this.parts = response.repairParts;\r\n            if (this.parts?.length > 0) {\r\n              this.parts.forEach((part: any, index: number) => {\r\n                this.individualStatusModels[index] = this.individualStatusModel;\r\n                this.individualStatusModels[index] = {\r\n                  ...this.individualStatusModels[index],\r\n                  selectedOption: { 'name': part.status, 'id': part.statusId }, name: `ind-status-${index}`\r\n                };\r\n                this.editMode[index] = false;\r\n              });\r\n            }\r\n            this.partsStatus = this.mapStatus(response.status);\r\n\r\n          }\r\n        }\r\n        if (resultMap.repairDetail) {\r\n          const res = resultMap.repairDetail;\r\n          this.repairResponse = resultMap.repairDetail.data;\r\n          this.commonService.bookingId.next(this.repairResponse.repairNumber);\r\n          this.commonService.repairGuid.next(this.repairResponse.repairGuid);\r\n          this.commonService.repairDetails.next(this.repairResponse);\r\n          this.estimateSource = this.repairResponse.estimateSource || '';\r\n          this.repairStatus = this.repairResponse.status;\r\n\r\n          if (this.disableEdit) {\r\n            // this.addPartButtonModel.type = 'disabled-outline';\r\n            // this.saveButtonModel.type = 'disabled-outline';\r\n            this.readOnlyMode = true;\r\n            this.hideButton = true;\r\n          } else {\r\n            if ((this.estimateSource != 'GTMotive' && this.checkGTEstimatePermission())\r\n              || (this.estimateSource == 'GTMotive' && !this.checkGTEstimatePermission())) {\r\n              this.readOnlyMode = true;\r\n            }\r\n            // else if (this.repairStatus == 'PendingApproval') {\r\n            //   this.addPartButtonModel.type = 'disabled-outline';\r\n            //   this.saveButtonModel.type = 'disabled-outline';\r\n            //   this.readOnlyMode = true;\r\n            // }\r\n          }\r\n\r\n          if ((res.data?.repairServiceTypes && res.data?.repairServiceTypes.length > 0)) {\r\n            if (!this.afterOperation) {\r\n              this.getInitialRepairTypes(res.data?.repairServiceTypes);\r\n            }\r\n          }\r\n        }\r\n        //this.commonService.hideLoading();\r\n      }, error: (err: any) => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  /**\r\n   * get part statuses\r\n   */\r\n  getPartStatuses(data): void {\r\n    if (data) {\r\n      this.individualStatusModel = { ...this.individualStatusModel, options: data }\r\n      this.bulkStatusModel.options = data;\r\n      const partStatuses: any = {};\r\n      this.individualStatusModel.options.forEach((item, i) => {\r\n        this.individualStatusModel.options[i] = { ...this.individualStatusModel.options[i], dropdownItemIcon: this.getIcon(item.name) };\r\n        partStatuses[item.id + '_name'] = item.description;\r\n        partStatuses[item.id + '_icon'] = this.getIcon(item.name);\r\n      });\r\n      this.partMapper = partStatuses;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get icon\r\n   */\r\n  getIcon(item: string): string {\r\n    switch (item) {\r\n    case 'NotOrdered':\r\n      return 'parts-not-ordered';\r\n    case 'Ordered':\r\n      return 'parts-ordered';\r\n    case 'Arrived':\r\n      return 'parts-arrived';\r\n    default:\r\n      return '';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * map status\r\n   * @param status\r\n   * @returns status string\r\n   */\r\n  mapStatus(status: string): string {\r\n    switch (status) {\r\n    case 'NotOrdered':\r\n      return 'Not Ordered';\r\n    case 'OrderedPartially':\r\n      return 'Ordered Partially';\r\n    case 'ArrivedPartially':\r\n      return 'Arrived Partially';\r\n    default:\r\n      return status;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get parts\r\n   */\r\n  getParts(): void {\r\n\r\n    this.commonService.showLoading();\r\n    this.repairEstimateOperationService.getParts(this.repairGuid).subscribe({\r\n      next: (response: any) => {\r\n        if (response) {\r\n          this.parts = response.repairParts;\r\n          if (this.parts?.length > 0) {\r\n            this.parts.forEach((part: any, index: number) => {\r\n              this.individualStatusModels[index] = this.individualStatusModel;\r\n              this.individualStatusModels[index] = {\r\n                ...this.individualStatusModels[index],\r\n                selectedOption: { 'name': part.status, 'id': part.statusId }, name: `ind-status-${index}`\r\n              };\r\n              this.editMode[index] = false;\r\n            });\r\n          }\r\n          this.partsStatus = this.mapStatus(response.status);\r\n\r\n        }\r\n      },\r\n      complete: () => {\r\n        this.commonService.hideLoading();\r\n      },\r\n      error: () => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * save parts\r\n   */\r\n  saveParts(): void {\r\n    this.commonService.showLoading();\r\n    this.repairEstimateOperationService.editPartStatuses(this.formData, this.repairGuid).subscribe({\r\n      next: (response: any) => {\r\n        if (response) {\r\n          this.getParts();\r\n          this.formData = [];\r\n          this.saveButtonModel.type = 'disabled';\r\n        }\r\n      },\r\n      complete: () => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * get repair details\r\n   */\r\n  getRepairDetails(): void {\r\n    this.commonService.showLoading();\r\n    this.bookingService.getRepairDetailByGuid(this.repairGuid).subscribe({\r\n      next: (result: any) => {\r\n        this.repairResponse = result.data;\r\n        this.commonService.bookingId.next(this.repairResponse.repairNumber);\r\n        this.commonService.repairGuid.next(this.repairResponse.repairGuid);\r\n        this.commonService.repairDetails.next(this.repairResponse);\r\n        this.estimateSource = this.repairResponse.estimateSource || '';\r\n        this.repairStatus = this.repairResponse.status;\r\n\r\n        if (this.disableEdit) {\r\n          // this.addPartButtonModel.type = 'disabled-outline';\r\n          // this.saveButtonModel.type = 'disabled-outline';\r\n          this.readOnlyMode = true;\r\n          this.hideButton = true;\r\n        } else {\r\n          if ((this.estimateSource != 'GTMotive' && this.checkGTEstimatePermission())\r\n            || (this.estimateSource == 'GTMotive' && !this.checkGTEstimatePermission())) {\r\n            this.readOnlyMode = true;\r\n          }\r\n          // else if (this.repairStatus == 'PendingApproval') {\r\n          //   this.addPartButtonModel.type = 'disabled-outline';\r\n          //   this.saveButtonModel.type = 'disabled-outline';\r\n          //   this.readOnlyMode = true;\r\n          // }\r\n        }\r\n\r\n        if ((result.data?.repairServiceTypes && result.data?.repairServiceTypes.length > 0)) {\r\n          if (!this.afterOperation) {\r\n            this.getInitialRepairTypes(result.data.repairServiceTypes);\r\n          } else {\r\n\r\n            if (this.estimateSource != 'GTMotive') {\r\n              this.showRepairTypeUpdateMessage(result.data.repairServiceTypes, this.repairTypesArray);\r\n              const queryParams = location.search;\r\n\r\n              if (queryParams.indexOf('?mode=edit') !== -1) {\r\n                this.router.navigate([ `/repair/booking/${this.repairGuid}/estimate` ], { queryParams: { mode: 'edit' } });\r\n              } else {\r\n                this.router.navigate([ `/repair/booking/${this.repairGuid}/estimate` ]);\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        //\r\n\r\n        this.commonService.hideLoading();\r\n      },\r\n      complete: () => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * check gtEstimate permission\r\n   */\r\n  checkGTEstimatePermission(): boolean {\r\n    const { orgPackages = [] } = this.userPermission;\r\n    const repairEstimatePackage = orgPackages.filter((orgPackage: any) => {\r\n      return orgPackage.automotiveServiceName === 'Repair Estimate';\r\n    });\r\n\r\n    if (repairEstimatePackage && repairEstimatePackage.length > 0) {\r\n      const { permissions } = repairEstimatePackage[0];\r\n      const gtEstimatePermission = permissions.filter((perm: any) => {\r\n        return perm.permissionName === 'gt.estimate' || perm.permissionName === 'gt.estimate.vinquery';\r\n      });\r\n      if (gtEstimatePermission && gtEstimatePermission.length > 0) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * go to gtEstimate\r\n   */\r\n  redirectToGtEstimate(): void {\r\n    this.commonService.showLoading();\r\n    this.monitorService.logEvent('redirectToGtEstimate', [ 'RepairPartsComponent', 'addenda-repair', {\r\n      repairId: this.repairGuid\r\n    } ]);\r\n    this.repairEstimateService.createEstimateFromRepair(this.repairGuid).subscribe({\r\n      next: (resp: any) => {\r\n        if (resp) {\r\n          location.href = resp.data.url;\r\n          sessionStorage.setItem('update', '1');\r\n          sessionStorage.setItem('current-url', this.router.url.toString());\r\n          sessionStorage.setItem('initial-repair-types', JSON.stringify(this.repairTypesArray));\r\n        }\r\n      },\r\n      complete: () => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * on bulk status change\r\n   */\r\n  onbulkStatusChange(output: IControlValue): void {\r\n    const dialogRef = this.commonService.openConfirmationOkDialog('<div class=\"text-danger bulk-status-modal-title\"><span class=\"material-icons\">warning_amber</span><br />Warning</div>', '<span>Once you apply this status, individual parts statuses will be overwritten </span><br /><b>Do you want to continue?</b>')\r\n    dialogRef.afterClosed().subscribe((action: boolean) => {\r\n      if (action) {\r\n        const bulkUpdateStatus = output.value.name;\r\n        this.formData = this.parts.map((item) => {\r\n          return { status: bulkUpdateStatus, partGuid: item.partGuidId };\r\n        })\r\n        this.saveParts();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * on status change\r\n   */\r\n  onStatusChange(output: IControlValue): void {\r\n\r\n    const index = output.name?.replace('ind-status-', '');\r\n    this.individualStatusModels[index] = { ...this.individualStatusModels[index], selectedOption: output.value }\r\n\r\n    const currentFormData = this.formData.find(x => x.partGuid == this.parts[index]?.partGuidId);\r\n    if (currentFormData) {\r\n      currentFormData.status = output.value?.name;\r\n    } else {\r\n      this.formData.push(({\r\n        'status': output.value?.name,\r\n        'partGuid': this.parts[index]?.partGuidId\r\n      }));\r\n    }\r\n\r\n    this.saveButtonModel.type = 'primary';\r\n  }\r\n\r\n  /**\r\n   * show dropdown\r\n   * @param statusId\r\n   */\r\n  showDropdown(index: number, partId: string = ''): void {\r\n    this.editMode[index] = !this.editMode[index];\r\n\r\n    if (this.editMode.some(item => item === true)) {\r\n      this.saveButtonModel.type = 'primary';\r\n    } else {\r\n      this.saveButtonModel.type = 'disabled';\r\n    }\r\n\r\n    if (this.editMode[index] == false) {\r\n      const part = this.parts.find(q => q.partId == partId);\r\n\r\n      if (part) {\r\n        this.individualStatusModels[index] = {\r\n          ...this.individualStatusModels[index],\r\n          selectedOption: { 'name': part.status, 'id': part.statusId }\r\n        }\r\n      }\r\n\r\n      this.formData = this.formData?.filter(x => x.partGuid != part.partGuidId);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * open part popup\r\n   */\r\n  openPartPopup(): void {\r\n    // If Source does not exists then needs to check orgs packages if GT estimate is enabled or not\r\n    // if yes redirect to GTEstimate else show create manual estimate options\r\n    if (this.estimateSource == 'GTMotive') {\r\n      this.redirectToGtEstimate();\r\n    } else {\r\n      if (this.checkGTEstimatePermission()) {\r\n        //this.readOnlyMode = true;\r\n        this.commonService.showToast(0, 'msg_gt_permission');\r\n        return;\r\n      }\r\n\r\n      const dialogRef = this.dialog.open(RepairEstimateOperationComponent, {\r\n        data: {\r\n          'repairId': this.repairGuid\r\n        },\r\n        width: '85vw',\r\n        height: '90vh',\r\n        panelClass: 'operation-panel',\r\n        autoFocus: false\r\n      });\r\n\r\n      dialogRef.afterClosed().subscribe({\r\n        next: (response: any) => {\r\n          if (response) {\r\n            this.afterOperation = true;\r\n            this.getRepairDetails();\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param repairServiceTypes\r\n   */\r\n  private getInitialRepairTypes(repairServiceTypes: any): void {\r\n    repairServiceTypes.forEach((serviceType) => {\r\n      this.repairTypesArray.push(serviceType.repairServiceType);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * show repair type update message\r\n   */\r\n  showRepairTypeUpdateMessage(existingRepairTypes: any, initialRepairTypes: any[]): void {\r\n\r\n    const currentRepairServiceTypes: any[] = existingRepairTypes;\r\n    const currentRepairTypesArray = [];\r\n    currentRepairServiceTypes?.forEach((serviceType) => {\r\n      if (typeof serviceType == 'object') {\r\n        currentRepairTypesArray.push(serviceType.repairServiceTypeName);\r\n      } else {\r\n        currentRepairTypesArray.push(serviceType);\r\n      }\r\n\r\n    });\r\n\r\n    if (currentRepairTypesArray.length > 0) {\r\n      const newRepairTypes: any = currentRepairTypesArray.filter(q => !initialRepairTypes.includes(q));\r\n\r\n      if (newRepairTypes.length > 0) {\r\n        this.commonService.showInfoToast(1000, `Repair Type was updated: Added ${newRepairTypes.join(',')}`);\r\n        this.repairTypesArray = [ ...this.repairTypesArray, ...newRepairTypes ];\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div class=\"repair-part-wrapper\">\r\n    <div class=\"page-container\">\r\n        <div class=\"toolbar-container\">\r\n            <div class=\"toolbar-wrapper row\">\r\n                <div class=\"part-status col-4\" *ngIf=\"parts?.length > 0\">\r\n                    <div class=\"part-status-label\">{{ 'change_all_parts_status' | translate | uppercase }}</div>\r\n                    <div class=\"part-status-text\">\r\n                        <chq-input [inputModel]=\"bulkStatusModel\" (controlOutput)=\"onbulkStatusChange($event)\" class=\"bulk-status-input\"></chq-input>\r\n                    </div>\r\n                </div>\r\n                <div class=\"part-status col-4\" *ngIf=\"parts?.length > 0\">\r\n                    <div class=\"part-status-label\">{{ 'status' | translate | uppercase }}</div>\r\n                    <div class=\"part-status-text\">{{ partsStatus }}</div>\r\n                </div>\r\n                \r\n                <div class=\"col-4 button-section-wrapper\">\r\n                    <div class=\"button-section\" *ngIf=\"!hideButton  && !this.commonService.isViewOnly\">\r\n                        <chq-button [buttonModel]=\"addPartButtonModel\" *chqPermission=\"'repairAddParts'\"></chq-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"table-container\">\r\n            <table class=\"main-table\">\r\n                <thead>\r\n                    <th width=\"40%\">{{ 'parts_description' | translate }}</th>\r\n                    <th>{{ 'code' | translate }}</th>\r\n                    <th>{{ 'units' | translate }}</th>\r\n                    <th class=\"price\">{{ 'price_unit' | translate }}({{i18n.currencySymbol}})</th>\r\n                    <th class=\"total-price\">{{ 'total_price' | translate }}({{i18n.currencySymbol}})</th>\r\n                    <th>{{ 'status' | translate }}</th>\r\n                    <th>{{ 'actions' | translate }} </th>\r\n                </thead>\r\n                <tbody *ngIf=\"parts?.length > 0\">\r\n                    <tr *ngFor=\"let row of parts;let index=index\">\r\n                        <td>\r\n                            {{row.description}}\r\n                        </td>\r\n                        <td>\r\n                            {{row.code}}\r\n                        </td>\r\n                        <td>\r\n                            {{row.quantity}}\r\n                        </td>\r\n                        <td>\r\n                            {{row.cost | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}\r\n                        </td>\r\n                        <td class=\"total\">\r\n                            {{row.total | xaCurrency:i18n.currencySymbol:i18n.digitsInfo:i18n.locale:i18n.position}}\r\n                        </td>\r\n                        <td>\r\n                            <div class=\"dropdown-parts\" *ngIf=\"!editMode[index]\">\r\n                                <mat-icon [svgIcon]=\"partMapper[row.statusId + '_icon']\"></mat-icon>\r\n                                <span>{{ partMapper[row.statusId + '_name'] }} </span>\r\n                            </div>\r\n                            <chq-input [inputModel]=\"individualStatusModels[index]\" *ngIf=\"editMode[index]\"\r\n                                (controlOutput)=\"onStatusChange($event)\">\r\n                            </chq-input>\r\n                        </td>\r\n                        <td>\r\n                            <mat-icon *ngIf=\"!readOnlyMode && !this.commonService.isViewOnly\"\r\n                                [svgIcon]=\"editMode[index] ? 'cross' : 'edit'\"\r\n                                (click)=\"showDropdown(index, row.partId)\"></mat-icon>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"parts?.length === 0\">\r\n                    <tr>\r\n                        <td colspan=\"7\" class=\"no-parts\">{{ 'no_parts_available' | translate }}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n        <div class=\"button-container\">\r\n            <chq-button [buttonModel]=\"saveButtonModel\" *ngIf=\"!hideButton && !this.commonService.isViewOnly\"></chq-button>\r\n        </div>\r\n\r\n    </div>\r\n    <div class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/addenda-repair.png\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { AfterViewInit, ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BehaviorSubject, catchError, forkJoin, of, Subject } from 'rxjs';\r\nimport { PartialCaseDetail } from 'src/app/model/chq-cases-model';\r\nimport { ChqInspectionStep } from 'src/app/model/chq-inspection-step';\r\nimport { FooterModel, Modules, UploadStepModel } from 'src/app/model/chq-upload-model';\r\nimport { ChqWidgetsHeaderModel } from 'src/app/model/chq-widgets-header-model';\r\nimport { inspectionpartPartMapper } from 'src/app/modules/quote/chq-new-cases/chq-new-customer/chq-new-customer-form-data-helper';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { CaseService } from 'src/app/services/case/case.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { InspectionService } from 'src/app/services/inspection/inspection.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\nimport { RepairEstimateService } from 'src/app/services/repair-estimate/repair-estimate.service';\r\nimport { AddPhotosComponent } from 'src/app/shared/add-photos/add-photos.component';\r\nimport { ChqImagesUploaderComponent } from 'src/app/widgets/chq-images-uploader/chq-images-uploader.component';\r\n\r\n\r\nconst photosHeader: ChqWidgetsHeaderModel = {\r\n  title: 'add_damage_photos',\r\n  step: 4,\r\n  description: 'damage_photos_msg',\r\n  stepName: 'step_four',\r\n};\r\n\r\n@Component({\r\n  selector: 'repair-photos',\r\n  templateUrl: './repair-photos.component.html',\r\n  styleUrls: [ './repair-photos.component.scss' ]\r\n})\r\nexport class RepairPhotosComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() photosHeader: ChqWidgetsHeaderModel = photosHeader;\r\n  @Output() currentUploadMode: EventEmitter<{ 'mode': string, 'id'?: string }> = new EventEmitter();\r\n  @ViewChild('addPhotos') addPhotos:AddPhotosComponent;\r\n  addPhotosHeader: ChqWidgetsHeaderModel;\r\n  public noImagesData:boolean = false;\r\n  public imageStatusSteps: UploadStepModel[] = [];\r\n  public showUploading: boolean = false;\r\n  public isMultipleUpload: boolean = false;\r\n  public triggerMassUpload: boolean = false;\r\n  public caseStatus = '';\r\n  public caseId: string = '0';\r\n  public inspection: any;\r\n  public bookingId: string = '';\r\n  public vehicleId: number;\r\n  public maximumImages = 20;\r\n  public domainId: number;\r\n  public uploadType: string;\r\n\r\n  @Input() showNotify:boolean;\r\n  @Input() displayAI:boolean;\r\n  @Input() isInvalidStatus:boolean;\r\n  @Input() activateRepairButton:boolean;\r\n  @Input() isRepairComplete:boolean;\r\n\r\n  public showDamageAnalysis: boolean;\r\n  @Input() objectId: number;\r\n  @Input() showSPI:boolean;\r\n  @Input() minimumImageJob:number;\r\n  @Input() hideBulk:boolean;\r\n  @Output() setStatus: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Output() notify: EventEmitter<any> = new EventEmitter();  \r\n  @Output() completeRepair: EventEmitter<any> = new EventEmitter();\r\n\r\n  public minimumPhotosRequired: number = 0;\r\n  public hideContent: boolean = true;\r\n  public currentAdditionalModeMultiple = false;\r\n  public vehicelType: string;\r\n  public isBulkUploaded: boolean;\r\n  public caseData: any;\r\n  @Input() inspectionId: number;\r\n  @Input() currentInspectionTemplate: any;\r\n  public hideUploaders = false;\r\n  private repairTypes: any = [];\r\n  private repairType = '';\r\n  private repairId: string = '';\r\n  public isJobLoading:boolean;\r\n  private currentRepairStatus = '';\r\n  public partialCaseDetail: PartialCaseDetail;\r\n  @Input() repairDetail: any;\r\n  @Input() inspectionTemplateId:number;\r\n  private inspectionBulkTemplateId:number;\r\n  @ViewChild('imageUploaders') imageUploaders: ChqImagesUploaderComponent;\r\n  public currentObservable: (currentStep: UploadStepModel) => void;\r\n  @Input() inspectionTemplates: ChqInspectionStep[];\r\n  public inspectionItemTemplates: ChqInspectionStep[];\r\n  public inspectionTemplateList: any[];\r\n  public inspectionDetail: any;\r\n  public originalSteps: UploadStepModel[] = [];\r\n  public showNoAccess: boolean = false;\r\n  public footer: FooterModel = {\r\n    text: 'Next create estimate',\r\n    icon: 'boardview',\r\n    route: 'case/gt',\r\n    status: 'UploadPhotos',\r\n    caseId: '',\r\n    currentStatus: '',\r\n    showButton: true,\r\n    showUploadOption: true,\r\n    section: 'repair-stage'\r\n  }\r\n\r\n  /**\r\n   * handle back\r\n   */\r\n  handleBack($event: { back: boolean }): void {\r\n    this.showDamageAnalysis = !$event.back;\r\n  }\r\n\r\n  /**\r\n   * check repair types\r\n   */\r\n  get checkRepairTypes(): boolean {\r\n    if (location.href.indexOf('repair') === -1) {\r\n      return true;\r\n    }\r\n\r\n    if (this.repairType !== 'repair') {\r\n      return true;\r\n    }\r\n\r\n    return this.repairTypes.filter((v) => {\r\n      return v.repairServiceType === 'Body' || v.repairServiceType === 'Paint';\r\n    }).length > 0;\r\n  }\r\n\r\n  /**\r\n   * constructor\r\n   * @param fb ChangeDetectorRef \r\n   */\r\n  constructor(private cd: ChangeDetectorRef, private commonService: CommonService,\r\n    private route: ActivatedRoute,\r\n    private router: Router, private caseService: CaseService,\r\n    private monitorService: MonitorService,\r\n    private inspectionService: InspectionService,\r\n    private bookingService: BookingService,\r\n    private translateService:TranslateService,\r\n    private estimateService: RepairEstimateService) {\r\n    if (commonService.pageName.closed) {\r\n      commonService.pageName = new BehaviorSubject<string>(null);\r\n    }\r\n    commonService.pageName.next('photos');\r\n\r\n    if (this.commonService.accessRight.closed) {\r\n      this.commonService.accessRight = new BehaviorSubject<boolean>(true);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * update page status\r\n   */\r\n  updateCurrentStatus($event): void {\r\n    this.monitorService.logEvent('updateCurrentStatus', [ 'RepairPhotosComponent', 'addenda-quote', {\r\n      caseId: $event\r\n    } ]);\r\n    if ($event.initial) {\r\n      this.setInitialMode();\r\n      return;\r\n    }\r\n    this.showUploading = true;\r\n    this.uploadBulkUploadFile($event.steps);\r\n  }\r\n\r\n  /**\r\n   * handle delete all\r\n   */\r\n  handleDeleteAll(): void {\r\n    this.setInitialMode();\r\n  }\r\n\r\n  /**\r\n   * ngAfterViewInit hook\r\n   */\r\n  ngAfterViewInit(): void {\r\n    this.commonService.updatePage('/quote/case/0', 'photos');\r\n    this.cd.detectChanges();\r\n    this.monitorService.logEvent('ngAfterViewInit', [ 'RepairPhotosComponent', 'addenda-quote' ]);\r\n  }\r\n\r\n  /**\r\n * upload bulk file\r\n * @param uploads \r\n */\r\n  uploadBulkUploadFile(uploads: UploadStepModel[]): void {\r\n    for (let i = 0; i < uploads?.length; i++) {\r\n\r\n      const img = new Image();\r\n      img.src = uploads[i].image as string;\r\n      img.onload = (): void => {\r\n        const uploadObject = {\r\n          'height': img.height,\r\n          'width': img.width,\r\n          'inspectionId': this.inspectionId,\r\n          'templateId': this.inspectionBulkTemplateId,\r\n          'type': this.vehicelType || '',\r\n          'isBulk': true,\r\n          'isSPI': false,\r\n          'domainId': 3100,\r\n          'objectId': this.objectId\r\n        }\r\n        const step = uploads[i];\r\n        step.uploadInProgress = true;\r\n        step.isSkipped = false;\r\n        step.isUploadFailed = false;\r\n        step.isUploadSuccess = false;\r\n        this.monitorService.logEvent('uploadBulkUploadFile', [ 'RepairPhotosComponent', 'addenda-quote', {\r\n          uploadObject\r\n        } ]);\r\n        this.inspectionService.uploadImageBulkJob(uploadObject, step.imageFile).subscribe({\r\n          next: (data: any) => {\r\n            step.url = data.rawImage?.rawAzureBlobUrl;\r\n            step.inspectionItem = data;\r\n            step.procedureSteps = 'Bulk Upload Image';\r\n            this.imageUploaders.updateUploadStatus('success', step, null, data);\r\n            this.footer = { ...this.footer, showUploadOption: false };\r\n          },\r\n          error: (err: any) => {\r\n            if (err.status != 401) {\r\n              this.imageUploaders.imageStatusSteps = this.imageUploaders.imageStatusSteps.filter((ig: UploadStepModel) => {\r\n                return (ig.index !== step.index || ig.stepName !== step.stepName || ig.uploadInProgress !== true);\r\n              })\r\n              this.imageUploaders.updateUploadStatus('failed', step, err, null, true);\r\n            }\r\n            this.monitorService.logException(err, SeverityLevel.Error);\r\n          },\r\n        })\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * upload photos\r\n   */\r\n  uploadFile(currentStep: UploadStepModel): void {\r\n    const uploadObject = {\r\n      'height': currentStep.imageHeight,\r\n      'width': currentStep.imageWidth,\r\n      'inspectionId': this.inspectionId,\r\n      'templateId': this.inspectionTemplateId,\r\n      'inspectionitemId': currentStep.inspectionItem.id,\r\n      'type': this.vehicelType || '',\r\n      'isBulk': false,\r\n      'isSPI': true,\r\n      'domainId': 3100,\r\n      'objectId': this.objectId\r\n    }\r\n\r\n    this.monitorService.logEvent('uploadFile', [ 'RepairPhotosComponent', 'addenda-quote', {\r\n      uploadObject\r\n    } ]);\r\n\r\n    currentStep.uploadInProgress = true;\r\n    currentStep.isSkipped = false;\r\n    currentStep.isUploadFailed = false;\r\n    currentStep.isUploadSuccess = false;\r\n    this.commonService.inProgressSteps.next(1);\r\n    this.footer = { ...this.footer, showUploadOption: false };\r\n    this.commonService.showNotification(this.translateService.instant('photos_upload', { value: currentStep.stepName }));\r\n    this.inspectionService.uploadImageBulkJob(uploadObject, currentStep.imageFile).subscribe({\r\n      next: (data: any) => {\r\n        const msg = 'photos_upload_success';\r\n        this.commonService.showNotification(this.translateService.instant(msg, { value: currentStep.stepName }));\r\n        const inspectionItem = this.inspectionItemTemplates.find((x: any) => x.inspectionItem.id == data?.id);\r\n        inspectionItem.inspectionItem.rawAzureBlobUrl = data.rawImage?.rawAzureBlobUrl;\r\n        if (inspectionItem) {\r\n          currentStep.url = data.rawImage?.rawAzureBlobUrl;\r\n          this.imageUploaders.updateUploadStatus('success', currentStep, null, data);\r\n        }\r\n      },\r\n      error: (err: any) => {\r\n        if (err.status != 401) {\r\n          const msg = 'photo_upload_error';\r\n          this.commonService.showNotification(this.translateService.instant(msg, { value: currentStep.stepName }));\r\n          this.imageUploaders.updateUploadStatus('failed', currentStep, err);\r\n          this.monitorService.logException(err, SeverityLevel.Error);\r\n        }\r\n      },\r\n    })\r\n  }\r\n\r\n  /**\r\n   * on destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    this.commonService.pageName.unsubscribe();\r\n    this.commonService.accessRight.unsubscribe();\r\n    this.monitorService.logEvent('ngOnDestroy', [ 'RepairPhotosComponent', 'addenda-quote' ]);\r\n  }\r\n\r\n  /**\r\n   * map inspection from api\r\n   * @param inspectionData \r\n   */\r\n  mapInspection(inspectionData: any): void {\r\n    if (inspectionData) {\r\n      try {\r\n        this.inspection = inspectionData;\r\n        this.uploadType = this.inspection.uploadType;\r\n        let currentMode = 'SPI';\r\n        if (this.uploadType) {\r\n          this.footer = { ...this.footer, showUploadOption: false };\r\n        }\r\n        if (this.uploadType === 'Bulk') {\r\n          currentMode = 'BULK';\r\n        }\r\n        const bulkUploadTemplateItem = this.inspectionTemplates.filter(step => step.name === 'Bulk Upload Image');\r\n        const bulkUploadedItemsWithImages = this.inspection.inspectionItems\r\n          .filter((step) => {\r\n            return (step.name === 'Bulk Upload Image' || step.inspectionItemTemplateID === bulkUploadTemplateItem[0].id)\r\n              && step.rawAzureBlobUrl\r\n          });\r\n        if (bulkUploadedItemsWithImages?.length > 0 || this.uploadType === 'Bulk') {\r\n          const massUploadItems = [];\r\n          this.currentUploadMode.emit({ 'mode': 'multiple' });\r\n          for (const i in bulkUploadedItemsWithImages) {\r\n            const currentObj = {\r\n              ...bulkUploadTemplateItem[0], name: bulkUploadedItemsWithImages[i].name || bulkUploadTemplateItem[0].name,\r\n              inspectionItem: bulkUploadedItemsWithImages[i]\r\n            }\r\n            massUploadItems.push(currentObj);\r\n          }\r\n          this.inspectionItemTemplates = massUploadItems;\r\n        } else {\r\n\r\n          this.currentUploadMode.emit({ 'mode': 'single' });\r\n          this.inspectionTemplates.map((chqInspectionStep: ChqInspectionStep) => {\r\n            const item = this.inspection.inspectionItems.find((el: any) => el.inspectionItemTemplateID == chqInspectionStep.id);\r\n            if (item) {\r\n              chqInspectionStep['inspectionItem'] = item;\r\n            }\r\n          });\r\n          this.inspectionItemTemplates = this.inspectionTemplates.filter(step => step.name != 'Bulk Upload Image');\r\n        }\r\n\r\n        if(bulkUploadTemplateItem?.length > 0) this.inspectionBulkTemplateId = bulkUploadTemplateItem[0].id;\r\n\r\n        this.inspectionItemTemplates.map((x: ChqInspectionStep) => {\r\n          if (x.inspectionItem?.rawAzureBlobUrl) {\r\n            x.isUploadSuccess = true;\r\n            x.image = x.inspectionItem?.rawAzureBlobUrl;\r\n          } else {\r\n            if (!x.inspectionItem) {\r\n              x.inspectionItem = { rawAzureBlobUrl: '' };\r\n            }\r\n            x.inspectionItem.rawAzureBlobUrl = '';\r\n            x.isUploadFailed = false;\r\n            x.isUploadSuccess = false;\r\n            x.uploadInProgress = false;\r\n          }\r\n        })\r\n        if (this.uploadType) {\r\n          if (currentMode === 'SPI') {\r\n            this.isMultipleUpload = false;\r\n            this.showUploading = true;\r\n            if (this.addPhotosHeader.isRepairModule) {\r\n              this.photosHeader = { ...this.photosHeader, title: 'back_smart_photo' };\r\n            }\r\n            this.minimumPhotosRequired = this.minimumImageJob || this.inspectionItemTemplates.filter((value: ChqInspectionStep) => {\r\n              return value.isSkipEnabled !== true;\r\n            }).length;\r\n            this.currentObservable = this.uploadFile.bind(this);\r\n          } else {\r\n            this.currentObservable = this.uploadBulkUploadFile.bind(this);\r\n            this.isMultipleUpload = true;\r\n            this.minimumPhotosRequired = this.minimumImageJob || this.currentInspectionTemplate.minImageLimit;\r\n            this.triggerMassUpload = true;\r\n            this.isBulkUploaded = true;\r\n            if (this.addPhotosHeader.isRepairModule) {\r\n              this.photosHeader = { ...this.photosHeader, title: 'bulk_upload' };\r\n            }\r\n          }\r\n        }\r\n      } catch (error: any) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * inspection detail by id\r\n   */\r\n  getInspectionTemplateByObject(): void {\r\n    for (let i = 0; i < this.inspectionItemTemplates?.length; i++) {\r\n      const templatePart = this.inspectionItemTemplates[i];\r\n      const inspectionStep = inspectionpartPartMapper(templatePart, i);\r\n      const isAdditionalImage = inspectionStep.stepName?.toLowerCase().indexOf('additional photo') != -1;\r\n      const isMassUpload = inspectionStep.stepName?.toLowerCase().indexOf('bulk upload image') != -1;\r\n      const isAdditionalDocumentFromReviewPageOnly = isAdditionalImage && !inspectionStep.url;\r\n      this.imageStatusSteps.push({\r\n        ...inspectionStep, mandatory: !templatePart.isSkipEnabled, index: i,\r\n        isAdditionalDocumentFromReviewPageOnly,\r\n        isMassUpload,\r\n        updatedDate: inspectionStep.url ? templatePart?.inspectionItem?.updatedDate : '',\r\n        uploadedDate: inspectionStep.url ? templatePart?.inspectionItem?.created : '',\r\n        domainId: this.domainId, objectId: this.objectId,\r\n        uploadedPartGuid: '',\r\n        uploadedGuid: ''\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * create new inspection for job\r\n   */\r\n  createInspectionForJob(jobId:number, inspectionId:number, templateId:number):void{\r\n    const inspectionItemObj = {\r\n      'objectId': jobId,\r\n      'inspectionId': inspectionId,\r\n      'templateId': templateId\r\n    }\r\n\r\n    this.inspectionService.createInspectionItemJobDetail(inspectionItemObj).subscribe({\r\n      next: (obj:any)=>{\r\n        const inspectionItems = obj.data;\r\n        this.uploadType = obj.data.uploadType;\r\n        this.mapInspection(inspectionItems);\r\n        setTimeout(() => {\r\n          this.hideContent = false;\r\n          if (this.isBulkUploaded) {\r\n            this.showUploading = true;\r\n            this.isMultipleUpload = true;\r\n            this.currentAdditionalModeMultiple = true;\r\n          }\r\n          this.isJobLoading = false;\r\n          if (this.uploadType) {\r\n            this.imageUploaders.goToReview();\r\n          }else{\r\n            if(this.showSPI && this.hideBulk){\r\n              this.addPhotos.allowSingleUpload();\r\n              return;\r\n            }\r\n\r\n            if(!this.showSPI && !this.hideBulk){\r\n              this.addPhotos.allowMultipleUpload();\r\n            }\r\n          }\r\n        })\r\n        this.commonService.hideLoading();\r\n      },\r\n      error: ()=>{\r\n        this.isJobLoading = false;\r\n        this.noImagesData = true;\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  /**\r\n   * load server details\r\n   */\r\n  loadApiData(): void {\r\n    const promiseApi: any = {};\r\n    this.isJobLoading = true;\r\n    promiseApi.jobDetail = this.inspectionService.getInspectionJobDetail(this.inspectionId, this.objectId);\r\n    const serverDetails = forkJoin(promiseApi).pipe(\r\n      catchError(error => of(error))\r\n    )\r\n \r\n    serverDetails .subscribe({\r\n      next: (serverMap: any) => {\r\n        const { jobDetail } = serverMap;\r\n        if(jobDetail.status === 204){\r\n          this.createInspectionForJob(this.objectId, this.inspectionId, this.inspectionTemplateId);\r\n          return;\r\n        }\r\n\r\n        if (jobDetail.body) {\r\n          const inspectionTemplateDetail = jobDetail.body.data;\r\n          if (inspectionTemplateDetail) {\r\n            this.inspectionDetail = inspectionTemplateDetail;\r\n          }\r\n          this.mapInspection(inspectionTemplateDetail);\r\n          this.getInspectionTemplateByObject();\r\n          setTimeout(() => {\r\n            this.hideContent = false;\r\n            if (this.isBulkUploaded) {\r\n              this.showUploading = true;\r\n              this.isMultipleUpload = true;\r\n              this.currentAdditionalModeMultiple = true;\r\n            }\r\n            this.isJobLoading = false;\r\n            if (this.uploadType) {\r\n              this.imageUploaders.goToReview();\r\n            }else{\r\n              if(this.showSPI && this.hideBulk){\r\n                this.addPhotos.allowSingleUpload();\r\n                return;\r\n              }\r\n\r\n              if(!this.showSPI && !this.hideBulk){\r\n                this.addPhotos.allowMultipleUpload();\r\n              }\r\n            }\r\n          })\r\n        }else{\r\n          this.noImagesData = true;\r\n          this.commonService.hideLoading();\r\n        }\r\n      },\r\n      error: ()=>{\r\n        this.noImagesData = true;\r\n        this.isJobLoading = false;\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * oninit\r\n   */\r\n  ngOnInit(): void {\r\n    const currentObjectId = this.route.parent?.snapshot.paramMap.get('id');\r\n    this.addPhotosHeader = { ...this.photosHeader, isHeaderOnly: false };\r\n    this.monitorService.logEvent('ngOnInit', [ 'RepairPhotosComponent', 'addenda-quote', {\r\n      caseId: currentObjectId,\r\n      repairId: currentObjectId\r\n    } ]);\r\n\r\n    this.footer = {\r\n      ...this.footer, caseId: this.photosHeader.isRepairModule? '': currentObjectId,\r\n      repairId: this.photosHeader.isRepairModule? currentObjectId: '', \r\n      handleBack: this.handleBack.bind(this)\r\n    }\r\n\r\n    this.commonService.accessRight.subscribe({\r\n      next: (res: boolean) => {\r\n        if (!res) {\r\n          this.showNoAccess = true;\r\n        }\r\n      }\r\n    });\r\n    \r\n    if(this.showSPI || !this.hideBulk){\r\n      this.loadApiData();\r\n    }else{\r\n      this. bookingService.getRepairDetailByGuid(currentObjectId).subscribe({\r\n        next: (resp)=>{\r\n          const { vehicle, repairNumber, status } = resp.data;\r\n          this.setStatus.emit(status);\r\n          this.repairDetail = resp.data;\r\n          this.inspectionId = vehicle.inspectionId;\r\n\r\n          this.footer = { ...this.footer, isRepairModule: true,\r\n            from: Modules.repair };\r\n          // Send booking data in observable\r\n          this.commonService.repairDetails.next(resp.data)\r\n          this.commonService.bookingId.next(repairNumber);\r\n        }\r\n      })\r\n      this.hideContent = false;\r\n    }\r\n    \r\n    const container: any = document.querySelector('.addenda-container');\r\n    if (container) {\r\n      container.scrollTop = 0;\r\n    }\r\n\r\n    this.currentObservable = this.uploadFile.bind(this);\r\n  }\r\n\r\n  /**\r\n   * reload inspection and map\r\n   */\r\n  public reloadInspection(): void {\r\n    this.commonService.showLoading();\r\n    if (this.inspectionId) {\r\n      this.inspectionService.getInspectionJobDetail(this.inspectionId, this.objectId).subscribe({\r\n        next: (inspectionDetailResponse: any) => {\r\n          if (inspectionDetailResponse && inspectionDetailResponse.body && inspectionDetailResponse.body.data) {\r\n            this.mapInspection(inspectionDetailResponse.body.data);\r\n            this.getInspectionTemplateByObject();\r\n            this.isMultipleUpload = false;\r\n\r\n            this.isBulkUploaded = false;\r\n            this.currentAdditionalModeMultiple = false;\r\n            this.triggerMassUpload = false;\r\n            setTimeout(() => {\r\n              this.hideContent = false;\r\n              this.showUploading = true;\r\n            })\r\n\r\n          }\r\n        },\r\n        complete: () => {\r\n          this.commonService.hideLoading();\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * set to initial mode\r\n   */\r\n  setInitialMode(): void {\r\n    this.showUploading = false;\r\n    this.imageStatusSteps = [];\r\n    this.triggerMassUpload = false;\r\n    this.isBulkUploaded = false;\r\n    this.imageUploaders.isReviewSection = false;\r\n    this.isMultipleUpload = false;\r\n    this.currentAdditionalModeMultiple = false;\r\n  }\r\n\r\n  /**\r\n   *handle mode selection\r\n   * @param $event \r\n   */\r\n  handleMode($event: any): void {\r\n    this.monitorService.logEvent('handleMode', [ 'RepairPhotosComponent', 'addenda-quote', {\r\n      $event\r\n    } ]);\r\n    if (!this.inspectionId) {\r\n      this.currentUploadMode.emit({ 'mode': 'error', 'id': this.bookingId });\r\n      return;\r\n    }\r\n    this.currentUploadMode.emit($event);\r\n\r\n    if ($event.mode === 'single') {\r\n\r\n      if (this.imageStatusSteps?.length === 0) {\r\n        this.isMultipleUpload = false;\r\n        this.isBulkUploaded = false;\r\n        this.currentAdditionalModeMultiple = false;\r\n        this.triggerMassUpload = false;\r\n        this.minimumPhotosRequired = this.minimumImageJob || this.inspectionItemTemplates.filter((value: ChqInspectionStep) => {\r\n          return value.isSkipEnabled !== true;\r\n        }).length;\r\n        this.reloadInspection();\r\n      } else {\r\n        this.isMultipleUpload = false;\r\n        this.showUploading = true;\r\n        this.isBulkUploaded = false;\r\n        this.currentAdditionalModeMultiple = false;\r\n        this.minimumPhotosRequired = this.minimumImageJob || this.currentInspectionTemplate.minImageLimit;\r\n        this.triggerMassUpload = false;\r\n      }\r\n\r\n      this.currentObservable = this.uploadFile.bind(this);\r\n    } else {\r\n      this.imageStatusSteps = [];\r\n      this.currentObservable = this.uploadBulkUploadFile.bind(this);\r\n      this.isMultipleUpload = true;\r\n      this.triggerMassUpload = true;\r\n      this.showUploading = true;\r\n    }\r\n  }\r\n}\r\n","<chq-custom-loader [showLoading]=\"isJobLoading\"></chq-custom-loader>\r\n<div *ngIf=\"!showNoAccess\" [ngClass]=\"{'photo-container': photosHeader.isRepairModule}\">\r\n    <ng-container *chqPermission=\"'repairStages'\">\r\n        <add-photos [caseData]=\"caseData\" #addPhotos [caseNumber]=\"photosHeader.caseNumber\"\r\n            [repairUnapproved]=\"isInvalidStatus\" [showSPI]=\"showSPI\" [photosHeader]=\"addPhotosHeader\"\r\n            [showComplete]=\"true\" [isRepairComplete]=\"isRepairComplete\" [showNotify]=\"showNotify\"\r\n            (notify)=\"this.notify.emit()\" [activateRepairButton]=\"activateRepairButton\"\r\n            (completeRepair)=\"this.completeRepair.emit();\" [hideBulk]=\"hideBulk\" (mode)=\"handleMode($event)\"\r\n            *ngIf=\"showUploading === false\" [hidden]=\"hideContent\" [showEstimate]=\"false\"></add-photos>\r\n        <div class=\"wrapper\" *ngIf=\"noImagesData\">\r\n            <div class=\"no-document-div\">\r\n                <img src=\"assets/icons/no-document.svg\">\r\n                <label class=\"no-vehicle-content\">\r\n                    No Content Available\r\n                </label>\r\n\r\n            </div>\r\n            <div class=\"empty-wrapper\">\r\n                <div class=\"step-container\"></div>\r\n                <div class=\"step-container\"></div>\r\n                <div class=\"step-container\"></div>\r\n                <div class=\"step-container\"></div>\r\n            </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"noImagesData\" class=\"footer-full-wrapper\">\r\n            <div class=\"footer-image-wrapper\">\r\n                <div class=\"image-wrapper\">\r\n                    <img\r\n                        src=\"assets/img/{{ + photosHeader.isRepairModule ?'addenda-repair.png':'addenda-quote.png'}}\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <chq-images-uploader [maximumImages]=\"minimumImageJob\" [hideAI]=\"!displayAI\"\r\n            [hidden]=\"showDamageAnalysis || !showUploading\" (handleDeleteAllEvent)=\"handleDeleteAll()\"\r\n            (backToUpload)=\"this.setInitialMode();\" [currentAdditionalModeMultiple]=\"currentAdditionalModeMultiple\"\r\n            [fileUploaderService]=\"currentObservable\" #imageUploaders [footerOptions]=\"footer\"\r\n            (updateMassUpload)=\"updateCurrentStatus($event);\" [isRepairStage]=\"true\"\r\n            *ngIf=\"(showSPI || !hideBulk ) && ((showUploading === true || isMultipleUpload) || (imageStatusSteps && imageStatusSteps.length > 0))\"\r\n            [isMassUpload]=\"isMultipleUpload\" [showReTakeDelete]=\"true\" [imageStatusSteps]=\"imageStatusSteps\"\r\n            [header]=\"photosHeader\" [inspectionId]=\"inspectionId\" [inspection]=\"'photos'\"\r\n            [isRepairComplete]=\"isRepairComplete\" [showComplete]=\"true\" [showNotify]=\"showNotify\"\r\n            (notify)=\"this.notify.emit()\" [activateRepairButton]=\"activateRepairButton\"\r\n            (completeRepair)=\"this.completeRepair.emit();\"></chq-images-uploader>\r\n        <damage-analysis *ngIf=\"showDamageAnalysis\" [isBulkUpload]=\"isMultipleUpload\"\r\n            [minPhotoRequired]=\"minimumPhotosRequired\" [caseDetail]=\"partialCaseDetail || repairDetail\"\r\n            [steps]=\"imageStatusSteps\" [isRepairStage]=\"true\" [isRepairModule]=\"photosHeader.isRepairModule\"\r\n            [jobId]=\"objectId\" (backEvent)=\"handleBack($event)\"></damage-analysis>\r\n    </ng-container>\r\n</div>\r\n<no-access-error *ngIf=\"showNoAccess\"></no-access-error>","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { CommentDialogComponent } from 'src/app/dialogs/comment-dialog/comment-dialog.component';\r\nimport { NotifyDialogComponent } from 'src/app/dialogs/notify-dialog/notify-dialog.component';\r\nimport { ChqWidgetsButtonModel } from 'src/app/model/chq-widgets-button-model';\r\nimport { RepairJobTimerStatus, RepairTaskStatus } from 'src/app/model/chq-widgets-input-model';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\n\r\n@Component({\r\n  selector: 'repair-stages-table',\r\n  templateUrl: './repair-stages-table.component.html',\r\n  styleUrls: [ './repair-stages-table.component.scss' ]\r\n})\r\nexport class RepairStagesTableComponent implements OnInit, OnChanges {\r\n\r\n  @Input() repairDataMappings: any;\r\n  @Input() notifyData: any;\r\n  @Input() activateRepairButton: boolean\r\n  @Input() activateNotifyButton: boolean\r\n  @Input() repairStatus: string;\r\n  @Input() isLastJob:boolean;\r\n  @Output() updateJobs: EventEmitter<any> = new EventEmitter();\r\n  @Output() confirmJob: EventEmitter<any> = new EventEmitter();\r\n  public taskList: any[] = [];\r\n  public mandatoryTasks: number = 0;\r\n  public allMandatoryTasks:number = 0;\r\n\r\n  public notifyButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'notify',\r\n    type: 'outline',\r\n    icon: 'send',\r\n    onclick: this.openNotify.bind(this)\r\n  }\r\n\r\n  public addPartButtonModel: ChqWidgetsButtonModel = {\r\n    label: 'Complete Repair',\r\n    type: 'disabled',\r\n    onclick: this.completeJob.bind(this)\r\n  }\r\n\r\n\r\n  /**\r\n   * \r\n   */\r\n  openNotify(): void {\r\n    const dialogRef = this.dialog.open(NotifyDialogComponent, {\r\n      data: {\r\n        repairGuid: this.notifyData.repairGuid,\r\n        domainId: this.notifyData.domainId,\r\n        templateId: 1,\r\n        communicationList: this.notifyData.communicationList,\r\n        communicatedList: this.notifyData.communicatedList,\r\n        method: 'notifier'\r\n      },\r\n      backdropClass: 'confirmation-popup-backdrop',\r\n      maxHeight: '693px',\r\n      maxWidth: '629px'\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe({\r\n      next: (response: any) => {\r\n        if (response?.notifySend) {\r\n          console.log(response);\r\n          if (response.selectedCommunication) {\r\n            response.selectedCommunication.forEach((element) => {\r\n              this.notifyData.communicatedList.push({ id: 0, eventName: response.templateKey, communicationTypeId: element });\r\n            });\r\n          }\r\n          this.commonService.showInfoToast(1000, 'Message sent');\r\n        }\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * complete jon\r\n   */\r\n  completeJob(): void {\r\n    this.confirmJob.emit();\r\n  }\r\n\r\n  /**\r\n   * constructor\r\n   */\r\n  constructor(\r\n    private monitorService: MonitorService,\r\n    public dialog: MatDialog,\r\n    private bookingService: BookingService,\r\n    private translateService: TranslateService,\r\n    public commonService: CommonService,\r\n  ) {\r\n\r\n  }\r\n\r\n  /**\r\n   * check status of job\r\n   */\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.monitorService.logEvent('ngOnChanges', [ 'ChqEstimateDetailsComponent', 'addenda-repair' ]);\r\n    if (changes) {\r\n      if(this.activateNotifyButton && changes['repairStatus'] && changes['repairStatus'].currentValue){\r\n        this.activateNotifyButton = changes['repairStatus'].currentValue.toLowerCase() === 'repairinprogress';\r\n      }\r\n      if (changes['repairDataMappings'] && changes['repairDataMappings'].currentValue) {\r\n        this.taskList = [ ...this.repairDataMappings.repairJobTasks ];\r\n        this.taskList.forEach((jb) => {\r\n          const repairTypesArr = jb.repairJobMappings.map((jbk) => {\r\n            return jbk.repairServiceTypeName;\r\n          });\r\n          jb.repairTypeNames = repairTypesArr.join(', ');\r\n        });\r\n        this.mandatoryTasks = this.taskList.filter((task) => {\r\n          return task.isMandatory === true && task.statusName !== 'Completed';\r\n        }).length;\r\n\r\n        this.allMandatoryTasks = this.taskList.filter((task) => {\r\n          return task.isMandatory === true;\r\n        }).length;\r\n      }\r\n      if (changes['activateRepairButton'] && changes['activateRepairButton'].currentValue) {\r\n        this.addPartButtonModel = { ...this.addPartButtonModel, type: 'primary' };\r\n      }\r\n      const statuses = [ 'readytoinvoice', 'invoiced', 'paid', 'complete' ];\r\n      if (statuses.includes(this.repairStatus?.toLowerCase()) && this.activateRepairButton) {\r\n        this.addPartButtonModel = { ...this.addPartButtonModel, label: 'go_invoice' }\r\n      }\r\n      setTimeout(() => {\r\n        this.mandatoryTasks = this.taskList.filter((task) => {\r\n          return task.isMandatory === true && task.statusName !== 'Completed';\r\n        }).length;\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * init\r\n   */\r\n  ngOnInit(): void {\r\n    if (this.repairDataMappings) {\r\n      //this.repairDataMappings.repairJobMappings.forEach((mapping) => {\r\n      //if (mapping.repairTasks && mapping.repairTasks.length > 0)\r\n      //this.taskList = [ ...this.taskList, ...mapping.repairTasks ];\r\n      //});\r\n      this.taskList = [ ...this.repairDataMappings.repairJobTasks ];\r\n      this.taskList.forEach((jb) => {\r\n        const repairTypesArr = jb.repairJobMappings.map((jbk) => {\r\n          return jbk.repairServiceTypeName;\r\n        });\r\n        jb.repairTypeNames = repairTypesArr.join(', ');\r\n      });\r\n      this.mandatoryTasks = this.taskList.filter((task) => {\r\n        return task.isMandatory === true && task.statusName !== 'Completed';\r\n      }).length;\r\n\r\n      this.allMandatoryTasks = this.taskList.filter((task) => {\r\n        return task.isMandatory === true;\r\n      }).length;\r\n\r\n    }\r\n\r\n    if (this.repairStatus?.toLowerCase() === 'readytoinvoice' && this.activateRepairButton) {\r\n      this.addPartButtonModel = { ...this.addPartButtonModel, label: 'go_invoice' }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * updateTaskStatus\r\n   */\r\n  updateTaskStatus(currentJob: any): void {\r\n    if(this.commonService.isViewOnly){\r\n      return;\r\n    }\r\n    if (!this.repairDataMappings.startDate) {\r\n      this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('warning_comment')).afterClosed().subscribe();\r\n      return;\r\n    }\r\n\r\n    if (this.repairDataMappings?.timerLog?.statusName === RepairJobTimerStatus.Pause) {\r\n      this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('warning_pause_comment')).afterClosed().subscribe();\r\n      return;\r\n    }\r\n\r\n    if (!this.repairDataMappings.startDate) {\r\n      this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('warning_comment')).afterClosed().subscribe();\r\n      return;\r\n    }\r\n\r\n    if (this.mandatoryTasks <= 1 && currentJob.isMandatory && !currentJob.completedDate) {\r\n      const dialogRef = this.commonService.openConfirmationOkDialog(this.translateService.instant('confirm_action'), this.translateService.instant('job_no_mandatory_task'));\r\n      dialogRef.afterClosed().subscribe((action: boolean) => {\r\n        if (action) {\r\n          this.commonService.showLoading();\r\n          this.bookingService.updateRepairTaskStatus(currentJob.repairTaskGuid, this.notifyData.repairGuid,\r\n            currentJob.completedDate ? RepairTaskStatus.NotStarted :RepairTaskStatus.Completed, this.repairDataMappings.repairJobGuid).subscribe({\r\n            next: (resp) => {\r\n              if(currentJob.completedDate){\r\n                currentJob.completedDate = null;\r\n              }else{\r\n                currentJob.completedDate = new Date();\r\n              }\r\n              this.mandatoryTasks--;\r\n              this.updateJobs.emit(resp);\r\n              this.commonService.hideLoading();\r\n            }, error: () => {\r\n              this.commonService.hideLoading();\r\n            }\r\n          });\r\n        } else {\r\n          this.commonService.hideLoading();\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.commonService.showLoading();\r\n    this.bookingService.updateRepairTaskStatus(currentJob.repairTaskGuid, this.notifyData.repairGuid,\r\n      currentJob.completedDate ? RepairTaskStatus.NotStarted :RepairTaskStatus.Completed, this.repairDataMappings.repairJobGuid).subscribe({\r\n      next: (resp) => {\r\n        if(currentJob.completedDate){\r\n          currentJob.completedDate = null;\r\n        }else{\r\n          currentJob.completedDate = new Date();\r\n        }\r\n        \r\n        this.updateJobs.emit(resp);\r\n        this.commonService.hideLoading();\r\n      }, error: () => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * insert/update comment\r\n   */\r\n  showCommentDialog(currentNote: string, currentJob: any): void {\r\n    let note = '';\r\n    if (currentNote) {\r\n      note = currentNote;\r\n    }\r\n\r\n    this.monitorService.logEvent('showCommentDialog', [ 'CommentDialogComponent', 'addenda-repair' ]);\r\n    this.dialog.open(CommentDialogComponent, {\r\n      data: {\r\n        notes: note\r\n      },\r\n      panelClass: 'comment-modalbox',\r\n      autoFocus: false\r\n    }).afterClosed().subscribe({\r\n      next: (data: any) => {\r\n        if (!data) {\r\n          return;\r\n        }\r\n        if (data.delete) {\r\n          data.comment = '';\r\n        }\r\n        currentJob.isNoteLoading = true;\r\n        this.bookingService.updateRepairTaskNotes(this.notifyData.repairGuid, data.comment, currentJob.repairTaskGuid, this.repairDataMappings.repairJobGuid).subscribe({\r\n          next: (resp) => {\r\n            currentJob.notes = data.comment;\r\n            this.updateJobs.emit(resp);\r\n            currentJob.isNoteLoading = false;\r\n          }, error: () => {\r\n            currentJob.isNoteLoading = false;\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"card\">\r\n    <div class=\"card-header\">\r\n        <h3 class=\"title\">{{repairDataMappings?.name}}</h3>\r\n    </div>\r\n    <div class=\"card-body\">\r\n        <div class=\"wrapper\">\r\n            <div class=\"header-wrapper\">\r\n                <div *ngIf=\"allMandatoryTasks > 0\" class=\"mandatory-div\"><span\r\n                        class=\"mandatory-text text-danger\">{{'label_mandatory' |\r\n                        translate\r\n                        }}</span></div>\r\n                <div class=\"header row header-repair\">\r\n                    <div class=\"col-4\">{{'item_name' | translate }}</div>\r\n                    <div class=\"col-2\">{{'repair_type' | translate }}</div>\r\n                    <div class=\"col-2\">{{'modified_by' | translate }}</div>\r\n                    <div class=\"col-2\">{{'notes' | translate}}</div>\r\n                    <div class=\"col-2\">{{'status'| translate }}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"data-wrapper\">\r\n                <div class=\"data-row row\" *ngFor=\"let jobRow of taskList; let i = index\">\r\n                    <div class=\"col-4\">{{jobRow.name}}<span class=\"text-danger\" *ngIf=\"jobRow.isMandatory\">*</span>\r\n                    </div>\r\n                    <div class=\"col-2\">{{jobRow.repairTypeNames}}</div>\r\n                    <div class=\"col-2\">\r\n                        <div class=\"wrapper-span\">\r\n                            <span>{{jobRow.completedBy}}</span>\r\n                            <span class=\"span-date\" *ngIf=\"jobRow.updatedDate\">{{jobRow.updatedDate | date: 'dd/MM/yyyy\r\n                                hh:mm:ss'}}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-2\">\r\n                        <div class=\"comment-div\">\r\n                            <mat-icon [svgIcon]=\"'comment'\" aria-hidden=\"false\"\r\n                                (click)=\"$event.stopPropagation();showCommentDialog(jobRow?.notes, jobRow);\"\r\n                                aria-label=\"unchecked icon\">\r\n                            </mat-icon>\r\n                            <div class=\"red-icon\" *ngIf=\"jobRow?.notes\"></div>\r\n                        </div>\r\n                        <div class=\"loading\" *ngIf=\"jobRow.isNoteLoading\">\r\n                            <div class=\"overlay\"></div>\r\n                            <div class=\"spinner\">\r\n                                <mat-spinner [strokeWidth]=\"2\" [diameter]=\"20\"></mat-spinner>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-2 relate-spinner\">\r\n                        <span *ngIf=\"jobRow.completedDate && !jobRow.isLoading\" class=\"checked\"\r\n                            [ngClass]=\"{'not-allowed': commonService.isViewOnly}\"\r\n                            (click)=\"updateTaskStatus(jobRow);\"></span>\r\n                        <span *ngIf=\"!jobRow.completedDate && !jobRow.isLoading\" (click)=\"updateTaskStatus(jobRow);\"\r\n                            class=\"circle\"></span>\r\n                        <div class=\"loading\" *ngIf=\"jobRow.isLoading\">\r\n                            <div class=\"overlay\"></div>\r\n                            <div class=\"spinner\">\r\n                                <mat-spinner [strokeWidth]=\"2\" [diameter]=\"20\"></mat-spinner>\r\n                            </div>\r\n                        </div>\r\n                        {{ (jobRow.isLoading ? 'updating_task' : 'task_done') | translate }}\r\n                    </div>\r\n                </div>\r\n                <div class=\"wrapper error-wrapper\" *ngIf=\"taskList && taskList.length === 0\">\r\n                    <label>{{ 'no_repair_tasks_available' | translate }}</label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"footer-full-wrapper\">\r\n        <div class=\"footer-image-wrapper\">\r\n            <div class=\"image-wrapper\">\r\n                <img src=\"assets/img/addenda-repair.png\" />\r\n            </div>\r\n        </div>\r\n        <div class=\"footer-image-wrapper\">\r\n            <ng-container *chqPermission=\"'newBooking'\">\r\n                <chq-button\r\n                    *ngIf=\"activateNotifyButton && !commonService.isViewOnly && notifyData.communicationList.length > 0\"\r\n                    [buttonModel]=\"notifyButtonModel\" class=\"submit-button\"></chq-button>\r\n                <chq-button [buttonModel]=\"addPartButtonModel\"\r\n                    *ngIf=\"isLastJob && (addPartButtonModel.label ==='go_invoice' || !commonService.isViewOnly)\"\r\n                    class=\"submit-button\"></chq-button>\r\n            </ng-container>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { SeverityLevel } from '@microsoft/applicationinsights-web';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { CdTimerComponent } from 'angular-cd-timer';\r\nimport * as dayjs from 'dayjs';\r\nimport { catchError, forkJoin, of } from 'rxjs';\r\nimport { AlertDialogComponent } from 'src/app/dialogs/alert-dialog/alert-dialog.component';\r\nimport { RepairJobTimerStatus } from 'src/app/model/chq-widgets-input-model';\r\nimport { menuItem } from 'src/app/model/menu';\r\nimport { BookingService } from 'src/app/services/booking/booking.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { InspectionService } from 'src/app/services/inspection/inspection.service';\r\nimport { MonitorService } from 'src/app/services/monitor/monitor.service';\r\nimport { RepairStagesTableComponent } from './repair-stages-table/repair-stages-table.component';\r\n\r\n@Component({\r\n  selector: 'app-repair-stages',\r\n  templateUrl: './repair-stages.component.html',\r\n  styleUrls: [ './repair-stages.component.scss' ]\r\n})\r\nexport class RepairStagesComponent implements OnInit {\r\n  public header = {\r\n    title: 'Upload Images',\r\n    step: 0,\r\n    description: '',\r\n    stepName: 'back_bulk_upload',\r\n    rightActionText: 'delete_all',\r\n    rightActionIcon: 'delete',\r\n    isRepairModule: true,\r\n    showTitle: true\r\n  }\r\n  public jobList: any = null;\r\n  public repairDetail: any;\r\n  public currentActiveIndex: number = 0;\r\n  public currentJobStarted: boolean = false;\r\n  public currentJobStopped: boolean = false;\r\n  public currentJobPaused: boolean = false;\r\n  public timeDuration: number = 0;\r\n  public spentTimeDuration: number = 0;\r\n  public currentInspectionTemplate: any;\r\n  public inspectionTemplateId: number;\r\n  public enableCompleteButton: boolean;\r\n  public enableNotifyButton: boolean;\r\n  private repairId: string = '';\r\n  public stopped:boolean = false\r\n  public currentActiveTab = 'tasks';\r\n  public isJobLoading:boolean = true;\r\n  public inspectionTemplates: any;\r\n  public reinitialize: boolean;\r\n  public noJobs:boolean;\r\n  public currentJobList: any = null;\r\n  public menuItems: menuItem[] = [];\r\n  public repairStatus: string = '';\r\n  public inspectionId: number;\r\n  private isResumed: boolean = false;\r\n  public notifyData: any = {};\r\n  private currentUserId:number;\r\n  public isLastJob:boolean;\r\n  public showEffectiveTime:boolean;\r\n  public outBoundStatus: string = '';\r\n  @ViewChild('basicTimer', { static: false }) basicTimer: CdTimerComponent;\r\n  @ViewChild('basicSpentTimer', { static: false }) basicSpentTimer: CdTimerComponent;\r\n  @ViewChild('repairstagetable', { static: false }) repairstagetable:RepairStagesTableComponent;\r\n\r\n  selectedJob: number = null;\r\n\r\n  /**\r\n   * constructor\r\n   */\r\n  constructor(\r\n    private bookingService: BookingService,\r\n    public commonService: CommonService,\r\n    private inspectionService: InspectionService,\r\n    private router: Router,\r\n    private translateService: TranslateService,\r\n    private route: ActivatedRoute,\r\n    private monitorService: MonitorService) {\r\n\r\n    this.commonService.userProfileData.subscribe((res) => {\r\n      if (res && res.data) {\r\n        const { id } = res.data;\r\n        this.currentUserId = id;\r\n        const automotiveServices = res?.data?.userPermission?.automotiveServices;\r\n        this.commonService.setPermission(automotiveServices);\r\n        const automotiveService = automotiveServices?.find(x => x.automotiveServiceName.toLowerCase() === 'addenda repair');\r\n        if(automotiveService) {\r\n          if(automotiveService.roleName.toLowerCase() === 'bodyshop manager') {\r\n            this.showEffectiveTime = true;\r\n          } else if(automotiveService.roleName.toLowerCase() === 'service advisor') {\r\n            this.showEffectiveTime = true;\r\n          } else{\r\n            this.showEffectiveTime = false;\r\n          }\r\n        } else{\r\n          this.showEffectiveTime = false;\r\n        }\r\n\r\n      }\r\n    });\r\n\r\n    this.route.queryParams.subscribe((params)=>{\r\n      this.selectedJob = params['selectedJob'];\r\n    });\r\n  }\r\n\r\n  /**\r\n   * set tab active\r\n   */\r\n  setTabActive(tab: string): void {\r\n    if(tab === 'photos'){\r\n      if (!this.currentJobList.startDate) {\r\n        this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('warning_comment')).afterClosed().subscribe();\r\n        return;\r\n      }\r\n    }\r\n    this.currentActiveTab = tab;\r\n    this.selectedJob = null;\r\n  }\r\n\r\n  /**\r\n   * start job timer\r\n   */\r\n  startJobTimer(): void {\r\n    const bookingStartDate = this.repairDetail?.startDate;\r\n    const repairEndDate = this.repairDetail?.endDate;\r\n    const minutes = dayjs(new Date()).diff(dayjs(bookingStartDate), 'days');\r\n    const endDiff = dayjs(new Date()).diff(dayjs(repairEndDate), 'minutes');\r\n    if(minutes < 0){\r\n      this.commonService.showToast(1000, this.translateService.instant('cannot_start_future_date'));\r\n      return;\r\n    }\r\n    if(endDiff > 0){\r\n      this.commonService.showToast(1000, this.translateService.instant('cannot_start_past_date'));\r\n      return;\r\n    }\r\n    const repairId = this.currentJobList.repairJobGuid;\r\n    this.commonService.showLoading();\r\n    this.updateJobTimerStatus(repairId, RepairJobTimerStatus.Start);\r\n  }\r\n\r\n  /**\r\n   * check repair\r\n   */\r\n  get isRepairComplete():boolean{\r\n    const statuses = [ 'readytoinvoice', 'invoiced', 'paid', 'complete' ];\r\n    return statuses.includes(this.repairStatus?.toLowerCase())\r\n  }\r\n\r\n  /**\r\n   * pauseJobTimer\r\n   */\r\n  pauseJobTimer(): void {\r\n    const repairId = this.currentJobList.repairJobGuid;\r\n    this.commonService.showLoading();\r\n    this.updateJobTimerStatus(repairId, RepairJobTimerStatus.Pause);\r\n  }\r\n\r\n  /**\r\n   * repair status\r\n   */\r\n  get currentStatus():boolean{\r\n    const statusList = [ 'approved', 'repairinprogress', 'partsordered', 'partsorderedpartially', 'readytoinvoice', 'invoiced', 'paid', 'complete' ];\r\n    return statusList.includes(this.repairStatus?.toLowerCase());\r\n  }\r\n\r\n  /**\r\n   * update job timer status\r\n   */\r\n  updateJobTimerStatus(repairJobGuidId:string, status:string):void{\r\n    if(this.currentJobList?.endDate){\r\n      this.commonService.hideLoading();\r\n      return;\r\n    }\r\n    const statusList = [ 'approved', 'repairinprogress', 'partsordered', 'partsorderedpartially', 'readytoinvoice', 'invoiced', 'paid', 'complete' ];\r\n\r\n    if(!statusList.includes(this.repairStatus?.toLowerCase())){\r\n      this.commonService.hideLoading();\r\n      this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('start_job'));\r\n      return;\r\n    }\r\n\r\n    const activeJobList = this.jobList?.filter((x) => {\r\n      return x.startDate && !x.endDate && !x.timerLog?.endDate && x.timerLog?.createdUserID === this.currentUserId;\r\n    });\r\n\r\n    if (activeJobList && activeJobList?.length > 0 && status === RepairJobTimerStatus.Start) {\r\n      if (activeJobList[0].id !== this.currentJobList.id) {\r\n        this.commonService.hideLoading();\r\n        this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('job_in_progress', { value: activeJobList[0].name }));\r\n        return;\r\n      }\r\n    }\r\n\r\n    const repairId = this.route.parent?.snapshot.paramMap.get('id');\r\n    this.bookingService.updateRepairTimerStatus(repairId, status, repairJobGuidId).subscribe({\r\n      next: (resp) => {\r\n        let skip = false;\r\n        if (status === RepairJobTimerStatus.Start) {\r\n          this.timeDuration = 0;\r\n          this.spentTimeDuration = 0;\r\n          this.currentJobStarted = true;\r\n          if (this.currentJobPaused) {\r\n            this.currentJobPaused = false;\r\n            try{\r\n              this.basicTimer?.resume();\r\n              this.basicSpentTimer?.resume();\r\n              this.isResumed = true;\r\n            }catch(e){\r\n              this.isResumed = false;\r\n            }\r\n          }else{\r\n            if(this.repairDetail?.status.toLowerCase() !== 'repairinprogress'){\r\n              this.bookingService.getRepairDetailByGuid(this.repairDetail?.repairGuid).subscribe({\r\n                next: async (result: any) => {\r\n                  if (result?.data) {\r\n                    this.commonService.repairDetails.next(result.data);\r\n                    this.commonService.bookingId.next(result.data.repairNumber);\r\n                  }\r\n                },\r\n                error: (err: any) => {\r\n                  this.monitorService.logException(err, SeverityLevel.Error);\r\n                }\r\n              });\r\n            }\r\n            skip = true;\r\n          }\r\n        } else if (status === RepairJobTimerStatus.Stop) {\r\n          this.currentJobStopped = true;\r\n          if (this.currentJobPaused) {\r\n            this.basicTimer?.stop();\r\n            this.basicSpentTimer?.stop();\r\n            this.currentJobPaused = false;\r\n          }\r\n        } else {\r\n          this.basicTimer?.stop();\r\n          this.basicSpentTimer?.stop();\r\n          this.currentJobPaused = true;\r\n        }\r\n        this.outBoundStatus = 'Repair In Progress';\r\n        this.repairStatus = 'RepairInProgress';\r\n        this.getJobs(true, skip, resp);\r\n      },\r\n      error: () => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * start job timer\r\n   */\r\n  stopJobTimer(): void {\r\n    const repairId = this.currentJobList.repairJobGuid;\r\n    if(this.currentJobList.endDate){\r\n      return;\r\n    }\r\n    const nonmandatoryTasks = this.currentJobList.repairJobTasks.filter((task) => {\r\n      return task.isMandatory === false && task.completedDate === null;\r\n    }).length\r\n\r\n    const mandatoryTasks = this.currentJobList.repairJobTasks.filter((task) => {\r\n      return task.isMandatory === true && task.completedDate === null;\r\n    }).length;\r\n\r\n    if(mandatoryTasks > 0){\r\n      this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('cannot_stop_job_date')).afterClosed().subscribe();\r\n      return;\r\n    }\r\n\r\n    if(nonmandatoryTasks > 0){\r\n      const dialogRef = this.commonService.openConfirmationOkDialog(this.translateService.instant('confirm_action'), this.translateService.instant('confirm_normal_action'));\r\n      dialogRef.afterClosed().subscribe((action: boolean) => {\r\n        if (action) {\r\n          this.commonService.showLoading();\r\n          this.updateJobTimerStatus(repairId, RepairJobTimerStatus.Stop);\r\n        } else {\r\n          this.commonService.hideLoading();\r\n        }\r\n      });\r\n      return;\r\n    }\r\n    this.commonService.showLoading();\r\n    this.updateJobTimerStatus(repairId, RepairJobTimerStatus.Stop);\r\n  }\r\n\r\n  /**\r\n   * get repair and template details\r\n   *\r\n   */\r\n  loadApiData(id: string): void {\r\n    if (id && id != '0') {\r\n      this.commonService.showLoading();\r\n      const basicApi = {\r\n        inspectionList: this.inspectionService.getInspectionTemplateList(),\r\n        repairDetail: this.bookingService.getRepairDetailByGuid(id)\r\n      }\r\n      this.isJobLoading = true;\r\n      const basicServerDetails = forkJoin(basicApi).pipe(\r\n        catchError(error => of(error))\r\n      )\r\n      basicServerDetails.subscribe({\r\n        next: (basicServerMap: any) => {\r\n          const { inspectionList, repairDetail } = basicServerMap;\r\n          if (repairDetail) {\r\n            const { vehicle, status } = repairDetail.data;\r\n            this.setRepairStatus(status);\r\n            this.repairDetail = repairDetail.data;\r\n            this.inspectionId = vehicle.inspectionId;\r\n\r\n\r\n            this.notifyData = {\r\n              repairGuid: this.repairDetail.repairGuid,\r\n              domainId: this.repairDetail.domainId,\r\n              communicationList: this.repairDetail.communicationTypeIds,\r\n              communicatedList: this.repairDetail.communicationEvents\r\n            };\r\n          }\r\n          const repairInspectionTemplate = inspectionList?.data;\r\n          this.outBoundStatus = this.repairDetail.outboundStatus;\r\n\r\n          if (repairInspectionTemplate?.length > 0) {\r\n            this.currentInspectionTemplate = repairInspectionTemplate[0];\r\n            this.inspectionTemplateId = repairInspectionTemplate[0].id\r\n          }\r\n\r\n          const promiseApi: any = {};\r\n          promiseApi.inspectionTemplate = this.inspectionService.getInspectionTemplate(this.inspectionTemplateId);\r\n          const serverDetails = forkJoin(promiseApi).pipe(\r\n            catchError(error => of(error))\r\n          )\r\n\r\n          serverDetails.subscribe({\r\n            next: (serverMap: any) => {\r\n              const { inspectionTemplate, } = serverMap;\r\n              this.inspectionTemplates = inspectionTemplate.inspectionItemTemplates;\r\n              // Send booking data in observable\r\n              setTimeout(()=>{\r\n                this.commonService.repairDetails.next(repairDetail.data)\r\n                this.commonService.bookingId.next(repairDetail.data.repairNumber);\r\n              }, 100);\r\n\r\n              this.getJobsWithApiCall();\r\n              this.isJobLoading = false;\r\n            },\r\n            error: () => {\r\n              this.commonService.hideLoading();\r\n              this.isJobLoading = false;\r\n            }\r\n          });\r\n        },\r\n        error: ()=>{\r\n          this.isJobLoading = false;\r\n        }\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get repair details\r\n   */\r\n  getJobs(background?: boolean, skipLoad?: boolean, resp?:any): void {\r\n    if (!background) {\r\n      this.commonService.showLoading();\r\n    } else {\r\n      this.commonService.hideLoading();\r\n    }\r\n\r\n    this.jobList = [ ...resp.data ];\r\n\r\n    if(this.jobList?.length === 0){\r\n      this.noJobs = true;\r\n      this.commonService.hideLoading();\r\n      return;\r\n    }\r\n\r\n    const unfinishedJobs = this.jobList?.filter((j)=>{\r\n      return !j.endDate;\r\n    });\r\n\r\n    const startedJobs = this.jobList?.filter((k) => { return k.startDate; });\r\n\r\n    this.enableNotifyButton = false;\r\n    if (startedJobs?.length > 0) {\r\n      if(this.outBoundStatus === 'Repair In Progress') {\r\n        this.enableNotifyButton = true;\r\n      }\r\n    }\r\n\r\n    if (unfinishedJobs?.length === 0) {\r\n      this.enableCompleteButton = true;\r\n    } else {\r\n      let currentJobExists = false;\r\n      unfinishedJobs.forEach((job) => {\r\n        if (job.repairJobTasks && job.repairJobTasks.length > 0) {\r\n          const hasMandetoryTask = job.repairJobTasks.filter((jb)=>{\r\n            return jb.isMandatory === true && jb.completedDate === null;\r\n          });\r\n          if(hasMandetoryTask.length > 0){\r\n            currentJobExists = true;\r\n          }\r\n        }\r\n      });\r\n\r\n      this.enableCompleteButton = !currentJobExists;\r\n    }\r\n\r\n    if (!background) {\r\n      this.menuItems = this.jobList.map((job: any) => {\r\n        return {\r\n          name: job.name,\r\n          icon: '',\r\n          displayName: job.taskCompletionPercentage,\r\n          url: '',\r\n          title: job.name,\r\n          subTitle: '',\r\n          color: job.color,\r\n          permission: true,\r\n          jobId: job.jobId\r\n        }\r\n      });\r\n      if(this.selectedJob) {\r\n        const selectedJobIndex = this.menuItems.findIndex((d: any) => d.jobId === Number(this.selectedJob));\r\n        if(selectedJobIndex != -1) this.currentActiveIndex = selectedJobIndex;\r\n      }\r\n      this.setActiveJob(this.menuItems[this.currentActiveIndex]);\r\n    }else{\r\n      this.updateActiveTask(this.currentActiveIndex, skipLoad, background);\r\n    }\r\n\r\n    this.commonService.hideLoading();\r\n  }\r\n\r\n  /**\r\n   * get repair details\r\n   */\r\n  getJobsWithApiCall(background?: boolean, skipLoad?: boolean): void {\r\n    const repairId = this.route.parent?.snapshot.paramMap.get('id');\r\n    if (!background) {\r\n      this.commonService.showLoading();\r\n    } else {\r\n      this.commonService.hideLoading();\r\n    }\r\n    this.bookingService.getRepairTask(repairId).subscribe({\r\n      next: async (result: any) => {\r\n        this.jobList = result.data;\r\n\r\n        if(this.jobList?.length === 0){\r\n          this.noJobs = true;\r\n          this.commonService.hideLoading();\r\n          return;\r\n        }\r\n\r\n        const unfinishedJobs = this.jobList.filter((j)=>{\r\n          return !j.endDate;\r\n        });\r\n\r\n        const startedJobs = this.jobList.filter((k) => { return k.startDate; });\r\n\r\n        this.enableNotifyButton = false;\r\n        if (startedJobs?.length > 0) {\r\n          if(this.outBoundStatus === 'Repair In Progress') {\r\n            this.enableNotifyButton = true;\r\n          }\r\n        }\r\n\r\n        if (unfinishedJobs?.length === 0) {\r\n          this.enableCompleteButton = true;\r\n        } else {\r\n          let currentJobExists = false;\r\n          unfinishedJobs.forEach((job) => {\r\n            if (job.repairJobTasks && job.repairJobTasks.length > 0) {\r\n              const hasMandetoryTask = job.repairJobTasks.filter((jb)=>{\r\n                return jb.isMandatory === true && jb.completedDate === null;\r\n              });\r\n              if(hasMandetoryTask.length > 0){\r\n                currentJobExists = true;\r\n              }\r\n            }\r\n          });\r\n\r\n          this.enableCompleteButton = !currentJobExists;\r\n        }\r\n\r\n        if (!background) {\r\n          this.menuItems = this.jobList.map((job: any) => {\r\n            return {\r\n              name: job.name,\r\n              icon: '',\r\n              displayName: job.taskCompletionPercentage,\r\n              url: '',\r\n              title: job.name,\r\n              subTitle: '',\r\n              color: job.color,\r\n              permission: true,\r\n              jobId: job.jobId\r\n            }\r\n          });\r\n          if(this.selectedJob) {\r\n            const selectedJobIndex = this.menuItems.findIndex((d: any) => d.jobId === Number(this.selectedJob));\r\n            if(selectedJobIndex != -1) this.currentActiveIndex = selectedJobIndex;\r\n            this.selectedJob = null;\r\n          }\r\n          this.setActiveJob(this.menuItems[this.currentActiveIndex]);\r\n        }else{\r\n          this.updateActiveTask(this.currentActiveIndex, skipLoad, background);\r\n        }\r\n\r\n        this.commonService.hideLoading();\r\n      },\r\n      error: () => {\r\n        this.noJobs = true;\r\n        this.commonService.hideLoading();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * set repair status\r\n   */\r\n  setRepairStatus(status: string): void {\r\n    this.repairStatus = status;\r\n  }\r\n\r\n\r\n  /**\r\n   * get effortFromDate\r\n   */\r\n  getTime(totalEffort:string):number{\r\n    const splittedEffort = totalEffort.split(' ');\r\n    const totalEffortInTime = (parseInt(splittedEffort[0]) * 24 * 60 * 60) +\r\n    (parseInt(splittedEffort[2]) * 60 * 60) + (parseInt(splittedEffort[4]) * 60) +\r\n    (parseInt(splittedEffort[6]))\r\n    return totalEffortInTime;\r\n  }\r\n\r\n  /**update active task\r\n   *\r\n   */\r\n  updateActiveTask(currentActiveIndex:number, skipLoad:boolean, isBackground?:boolean):void{\r\n    this.currentJobList = this.jobList[currentActiveIndex];\r\n    const currentUserJob = this.currentJobList.timerLogs?.filter((jb) =>{\r\n      return jb.createdUserID === this.currentUserId;\r\n    });\r\n\r\n    this.currentJobList.timerLog = (currentUserJob && currentUserJob.length > 0) ? currentUserJob[0] : null;\r\n    this.currentJobList = { ...this.currentJobList };\r\n    if (this.menuItems[currentActiveIndex]) {\r\n      this.menuItems[currentActiveIndex].displayName = this.currentJobList.taskCompletionPercentage;\r\n    }\r\n    if (this.currentJobList?.timerLog) {\r\n      const { startDate, endDate, statusName } = this.currentJobList.timerLog;\r\n      const totalEffort = this.currentJobList.effectiveTimeEffort;\r\n      const spentCurrentEffort = this.currentJobList.spentTimeEffort;\r\n      let currentEffort = 0;\r\n      let spentEffort = 0;\r\n      if(spentCurrentEffort){\r\n        spentEffort = this.getTime(spentCurrentEffort);\r\n      }\r\n      if(totalEffort){\r\n        currentEffort = this.getTime(totalEffort);\r\n      }\r\n      const currentDate = dayjs(new Date());\r\n      const startingDate = dayjs(startDate);\r\n      this.currentJobStarted = true;\r\n\r\n      if (RepairJobTimerStatus.Pause === statusName) {\r\n        this.currentJobPaused = true;\r\n        this.timeDuration = currentEffort;\r\n        this.spentTimeDuration = spentEffort;\r\n        this.isResumed = false;\r\n        setTimeout(() => {\r\n          this.basicTimer?.stop();\r\n          this.basicSpentTimer?.stop();\r\n        });\r\n      } else if (RepairJobTimerStatus.Stop === statusName) {\r\n        this.currentJobStopped = true;\r\n        this.timeDuration = currentEffort;\r\n        this.spentTimeDuration = spentEffort;\r\n        if(this.basicSpentTimer){\r\n          this.basicSpentTimer.startTime = spentEffort;\r\n        }\r\n        this.stopped = true;\r\n        this.isResumed = false;\r\n        setTimeout(() => {\r\n          this.stopped = false;\r\n          setTimeout(()=>{\r\n            this.basicTimer?.stop();\r\n            this.basicSpentTimer?.stop();\r\n          });\r\n        }, 50);\r\n      } else {\r\n        if(!skipLoad && isBackground){\r\n          return;\r\n        }\r\n        this.spentTimeDuration = currentDate.diff(startingDate, 'seconds') + spentEffort;\r\n        if(this.spentTimeDuration < 0){\r\n          this.spentTimeDuration = 0;\r\n        }\r\n        if (!skipLoad && this.isResumed) {\r\n          return;\r\n        }\r\n        setTimeout(() => {\r\n          if (skipLoad) {\r\n            this.basicTimer?.start();\r\n            this.basicSpentTimer?.start();\r\n          }else{\r\n            if(!isBackground){\r\n              this.basicTimer?.resume();\r\n              this.basicSpentTimer?.resume();\r\n            }\r\n            this.isResumed = true;\r\n          }\r\n        });\r\n      }\r\n\r\n    }else if(this.currentJobList.endDate && this.currentJobList.statusName === 'Completed' ){\r\n      if(this.showEffectiveTime){\r\n        this.currentJobStarted = true;\r\n      }\r\n\r\n      this.currentJobStopped = true;\r\n      const totalEffort = this.currentJobList.effectiveTimeEffort;\r\n      let currentEffort = 0;\r\n      if(totalEffort){\r\n        currentEffort = this.getTime(totalEffort);\r\n      }\r\n      if (this.currentJobList.endDate) {\r\n        this.isResumed = false;\r\n        this.timeDuration = currentEffort;\r\n        setTimeout(() => {\r\n          this.basicTimer?.stop();\r\n          this.basicSpentTimer?.stop();\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * setActiveJob\r\n   */\r\n  setActiveJob(menuItem: menuItem): void {\r\n    const currentMenu = this.jobList.filter((job) => {\r\n      return job.name === menuItem.name;\r\n    });\r\n\r\n    if (currentMenu.name === menuItem.name) {\r\n      return;\r\n    }\r\n\r\n    if (currentMenu?.length > 0) {\r\n      const menuIndex = this.menuItems.findIndex((menu: menuItem) => {\r\n        return menu.name === menuItem.name;\r\n      });\r\n      this.menuItems.forEach((menuItm: menuItem) => {\r\n        menuItm.active = false;\r\n      });\r\n      menuItem.active = true;\r\n      this.isLastJob = false;\r\n      this.currentJobStarted = false;\r\n      this.currentJobStopped = false;\r\n      this.currentJobPaused = false;\r\n      this.timeDuration = 0;\r\n      this.menuItems[menuIndex] = menuItem;\r\n      this.menuItems = [ ...this.menuItems ];\r\n      if(menuIndex === (this.menuItems.length - 1)){\r\n        this.isLastJob = true;\r\n      }\r\n      this.reinitialize = true;\r\n      this.currentJobList = null;\r\n      this.currentActiveTab = 'tasks';\r\n      setTimeout(() => {\r\n        this.currentActiveIndex = menuIndex;\r\n        this.currentJobList = currentMenu[0];\r\n        const currentUserJob = this.currentJobList.timerLogs?.filter((jb) =>{\r\n          return jb.createdUserID === this.currentUserId;\r\n        });\r\n    \r\n        this.currentJobList.timerLog = (currentUserJob && currentUserJob.length > 0) ? currentUserJob[0] : null;\r\n\r\n        this.reinitialize = false;\r\n        if (this.currentJobList?.timerLog) {\r\n          const { startDate, endDate, statusName } = this.currentJobList.timerLog;\r\n          const currentDate = dayjs(new Date());\r\n          const startingDate = dayjs(startDate);\r\n          const totalEffort = this.currentJobList.effectiveTimeEffort;\r\n          const spentCurrentEffort = this.currentJobList.spentTimeEffort;\r\n          let currentEffort = 0;\r\n          let spentEffort = 0;\r\n\r\n          if(totalEffort){\r\n            currentEffort = this.getTime(totalEffort);\r\n          }\r\n          if(spentCurrentEffort){\r\n            spentEffort = this.getTime(spentCurrentEffort);\r\n          }\r\n\r\n          this.currentJobStarted = true;\r\n          if (RepairJobTimerStatus.Pause === statusName) {\r\n            this.currentJobPaused = true;\r\n            this.timeDuration = currentEffort;\r\n            this.spentTimeDuration = spentEffort;\r\n            this.isResumed = false;\r\n            setTimeout(() => {\r\n              this.basicTimer?.stop();\r\n              this.basicSpentTimer?.stop();\r\n            });\r\n          } else if (RepairJobTimerStatus.Stop === statusName) {\r\n            this.currentJobStopped = true;\r\n            this.timeDuration = currentEffort;\r\n            this.spentTimeDuration = spentEffort;\r\n            this.isResumed = false;\r\n            setTimeout(() => {\r\n              this.basicTimer?.stop();\r\n              this.basicSpentTimer?.stop();\r\n            });\r\n          } else {\r\n            this.spentTimeDuration = currentDate.diff(startingDate, 'seconds') + spentEffort;\r\n\r\n            if(this.spentTimeDuration < 0){\r\n              this.spentTimeDuration = 0;\r\n            }\r\n\r\n            setTimeout(() => {\r\n              this.basicTimer?.resume();\r\n              this.basicSpentTimer?.resume();\r\n            });\r\n          }\r\n        }else if(this.currentJobList.endDate && this.currentJobList.statusName === 'Completed' ){\r\n          if(this.showEffectiveTime){\r\n            this.currentJobStarted = true;\r\n          }\r\n          this.currentJobStopped = true;\r\n          const totalEffort = this.currentJobList.effectiveTimeEffort;\r\n          let currentEffort = 0;\r\n          if(totalEffort){\r\n            currentEffort = this.getTime(totalEffort);\r\n          }\r\n          if (this.currentJobList.endDate) {\r\n            this.isResumed = false;\r\n            this.timeDuration = currentEffort;\r\n            setTimeout(() => {\r\n              this.basicTimer?.stop();\r\n              this.basicSpentTimer?.stop();\r\n            });\r\n          }\r\n        }\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * complete job\r\n   */\r\n  completeJob(): void {\r\n    const currentObjectId = this.route.parent?.snapshot.paramMap.get('id');\r\n\r\n    const inprogressTask = this.jobList.filter((jb)=>{\r\n      return jb.startDate && !jb.endDate;\r\n    });\r\n    let nonMandatoryJobLog = [];\r\n    if(inprogressTask.length > 0){\r\n      let currentJobExists = false;\r\n    \r\n      inprogressTask.forEach((job) => {\r\n        if (job.repairJobTasks && job.repairJobTasks.length > 0) {\r\n          const hasMandetoryTask = job.repairJobTasks.filter((jb)=>{\r\n            return jb.isMandatory === true && jb.completedDate === null;\r\n          });\r\n          const hasNonMandatoryTask = job.repairJobTasks.filter((jb)=>{\r\n            return jb.isMandatory === false && jb.completedDate === null;\r\n          });\r\n          if(hasNonMandatoryTask){\r\n            const inprogressTimelog = job.timerLogs.filter((tl) =>{\r\n              return tl.statusName === RepairJobTimerStatus.Start;\r\n            });\r\n            nonMandatoryJobLog = [ ...nonMandatoryJobLog, ...inprogressTimelog ];\r\n          }\r\n          if(hasMandetoryTask.length > 0){\r\n            currentJobExists = true;\r\n          }\r\n        }\r\n      });\r\n      if(currentJobExists){\r\n        this.commonService.openAlertDialog(this.translateService.instant('warning'), this.translateService.instant('stop_job_complete')).afterClosed().subscribe();\r\n        return;\r\n      }\r\n      \r\n    }\r\n    const statuses = [ 'readytoinvoice', 'invoiced', 'paid', 'complete' ];\r\n    if (statuses.includes(this.repairStatus?.toLowerCase())) {\r\n      this.router.navigate([ `repair/booking/${currentObjectId}/invoices` ]);\r\n      return;\r\n    }\r\n    let pendingUser = '';\r\n    if(nonMandatoryJobLog.length > 0){\r\n      pendingUser = '<li>'\r\n      const users = nonMandatoryJobLog.map((jb) =>{\r\n        return jb.createdBy;\r\n      });\r\n      const uniqueUsers = [ ... new Set(users) ];\r\n      pendingUser += uniqueUsers.join('</li>,<li>');\r\n    }\r\n\r\n    const confirmationDialogMessage = pendingUser ? this.translateService.instant('warning_complete_job').replace('{{{Technician name}}}', `<div><ul class='pending-users'>${pendingUser}</ul></div>`) : 'complete_repair_process';\r\n    this.commonService.openConfirmationOkDialog('confirm_completing', confirmationDialogMessage).afterClosed().subscribe({\r\n      next: (val: boolean) => {\r\n        if (val) {\r\n          this.commonService.showLoading();\r\n          this.bookingService.updateRepairStatus('ReadytoInvoice', currentObjectId, '').subscribe({\r\n            next: () => {\r\n              this.commonService.hideLoading();\r\n              this.router.navigate([ `repair/booking/${currentObjectId}/invoices` ]);\r\n            }\r\n          });\r\n        }\r\n      },\r\n      error: () => {\r\n        this.commonService.hideLoading();\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  /**\r\n   * update title according to option selected\r\n   * @param $event\r\n   */\r\n  handleUpdateMode($event): void {\r\n    if ($event.mode === 'single') {\r\n      this.header = { ...this.header, title: 'back_smart_photo' }\r\n    } else {\r\n      this.header = { ...this.header, title: 'back_bulk_upload' }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ngOninit\r\n   */\r\n  ngOnInit(): void {\r\n    const currentObjectId = this.route.parent?.snapshot.paramMap.get('id');\r\n    this.loadApiData(currentObjectId);\r\n  }\r\n}\r\n","<div *ngIf=\"menuItems && menuItems.length > 0\">\r\n    <button-tabs [menuItems]=\"menuItems\" (menuItemClick)=\"setActiveJob($event);\"></button-tabs>\r\n    <div class=\"content-wrapper\">\r\n        <div class=\"control-nav\">\r\n            <div class=\"switch\">\r\n                <div [ngClass]=\"{'selected': currentActiveTab === 'tasks', 'all-border': !currentJobList?.isUploadPhotosRequired || (!currentJobList?.isSPIEnabled && !currentJobList?.isBulkUploadEnabled) }\"\r\n                    (click)=\"setTabActive('tasks');\">{{'tasks'|translate}}</div>\r\n                <div *ngIf=\"currentJobList?.isUploadPhotosRequired && (currentJobList?.isSPIEnabled || currentJobList?.isBulkUploadEnabled)\"\r\n                    [ngClass]=\"{'selected': currentActiveTab === 'photos'}\" (click)=\"setTabActive('photos');\">{{'photos'\r\n                    |\r\n                    translate}}</div>\r\n            </div>\r\n            <div class=\"time-counter\" *ngIf=\"currentJobList?.repairJobTasks?.length > 0\">\r\n                <div *ngIf=\"!commonService.isViewOnly\"\r\n                    [ngClass]=\"{'row-reverse': currentJobStarted && !currentJobStopped }\" class=\"button-wrapper\">\r\n                    <div *ngIf=\"!currentJobStopped\" class=\"start-capsule\"\r\n                        (click)=\"currentJobStarted && !currentJobPaused ? stopJobTimer() : startJobTimer();\">\r\n                        <mat-icon [svgIcon]=\"currentJobStarted && !currentJobPaused  ? 'stop':'start'\"\r\n                            aria-hidden=\"false\" aria-label=\"unchecked icon\">\r\n                        </mat-icon>\r\n                        {{(currentJobStarted && !currentJobPaused ? 'Stop Job' : ( currentJobPaused ? 'Continue': 'Start\r\n                        Job')) | translate}}\r\n                    </div>\r\n                    <div class=\"stop-capsule\" (click)=\"currentJobPaused ? stopJobTimer() : pauseJobTimer();\">\r\n                        <mat-icon\r\n                            [svgIcon]=\"currentJobStarted && !currentJobPaused && !currentJobStopped  ? 'pause':'stop'\"\r\n                            aria-hidden=\"false\" aria-label=\"unchecked icon\">\r\n                        </mat-icon>\r\n                    </div>\r\n                </div>\r\n                <div class=\"timer-div\"\r\n                    *ngIf=\"currentJobList?.isTimerEnabled && (showEffectiveTime && currentJobStopped) && (currentJobList.timerLog || showEffectiveTime) && currentJobList?.repairJobTasks?.length > 0\">\r\n                    <span>{{(currentJobStopped ? 'effective_time_spent' : 'timer') | translate}}</span>\r\n                    <cd-timer #basicTimer *ngIf=\"currentJobStarted\" [startTime]=\"timeDuration\"></cd-timer>\r\n                </div>\r\n                <div class=\"timer-div\"\r\n                    *ngIf=\"currentJobList?.isTimerEnabled && currentJobList.timerLog && currentJobList?.repairJobTasks?.length > 0\">\r\n                    <span>{{(currentJobStopped ? 'time_spent' : 'timer') | translate}}</span>\r\n                    <cd-timer #basicSpentTimer *ngIf=\"currentJobStarted && !stopped\"\r\n                        [startTime]=\"spentTimeDuration\"></cd-timer>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        <div class=\"estimate-details-no-data-found\" *ngIf=\"noJobs && !commonService.isLoading\">\r\n            <mat-icon class=\"no-data-svg\" [svgIcon]=\"'estimate-no-data'\"></mat-icon>\r\n            <p class=\"no-data-text\">\r\n                {{ 'no_repair_jobs_defined' | translate }}\r\n            </p>\r\n        </div>\r\n        <div class=\"content\" *ngIf=\"!reinitialize\">\r\n            <repair-stages-table [repairStatus]=\"repairStatus\" #repairstagetable\r\n                [activateRepairButton]=\"enableCompleteButton\" [activateNotifyButton]=\"enableNotifyButton\"\r\n                (updateJobs)=\"getJobs(true, false, $event);\" (confirmJob)=\"completeJob();\" *ngIf=\"currentJobList\"\r\n                [hidden]=\"currentActiveTab === 'photos'\" [repairDataMappings]=\"currentJobList\" [isLastJob]=\"isLastJob\"\r\n                [notifyData]=\"notifyData\"></repair-stages-table>\r\n            <repair-photos [isInvalidStatus]=\"!currentStatus\" [inspectionTemplates]=\"this.inspectionTemplates\"\r\n                (confirmJob)=\"completeJob();\" [currentInspectionTemplate]=\"this.currentInspectionTemplate\"\r\n                [repairDetail]=\"repairDetail\" [inspectionId]=\"this.inspectionId\" (setStatus)=\"setRepairStatus($event);\"\r\n                (completeRepair)=\"completeJob();\" (notify)=\"this.repairstagetable.openNotify()\"\r\n                [inspectionTemplateId]=\"inspectionTemplateId\" [minimumImageJob]=\"currentJobList.minNumOfPhotos\"\r\n                [showSPI]=\"currentJobList?.isUploadPhotosRequired && currentJobList.isSPIEnabled\"\r\n                [displayAI]=\"currentJobList.isAIAnalysisEnabled\"\r\n                [showNotify]=\"enableNotifyButton && !commonService.isViewOnly && notifyData?.communicationList?.length > 0\"\r\n                [hideBulk]=\"!currentJobList?.isUploadPhotosRequired || !currentJobList.isBulkUploadEnabled\"\r\n                [objectId]=\"currentJobList?.id\" *ngIf=\"currentJobList\" [hidden]=\"currentActiveTab === 'tasks'\"\r\n                [activateRepairButton]=\"enableCompleteButton\" [photosHeader]=\"header\"\r\n                [isRepairComplete]=\"isRepairComplete\" (currentUploadMode)=\"handleUpdateMode($event)\"></repair-photos>\r\n        </div>\r\n    </div>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\n\r\nimport { catchError, map, Observable, of } from 'rxjs';\r\nimport { CommonService } from '../services/common/common.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VersionControlResolver implements Resolve<Observable<any>> {\r\n  /**\r\n   * contructor\r\n   * @param commonService \r\n   */\r\n  constructor(private commonService: CommonService) { }\r\n  /**\r\n   * resolve the \r\n   * @returns \r\n   */\r\n  resolve(): Observable<any> {\r\n    this.commonService.showLoading();\r\n    return this.commonService.checkVersion().pipe(\r\n      map((res) => {\r\n        this.commonService.hideLoading();\r\n        const localVersion = localStorage.getItem('appVersion');\r\n        const appVersion = res.buildRevision;\r\n        if (localVersion && localVersion != appVersion) {\r\n          localStorage.setItem('appVersion', appVersion);\r\n          setTimeout(() => {\r\n            location.reload();\r\n          }, 10);\r\n          return of('new version available');\r\n        } else {\r\n          localStorage.setItem('appVersion', appVersion);\r\n          return of('new version is not available');\r\n        }\r\n      }),\r\n      catchError(() => {\r\n        this.commonService.hideLoading();\r\n        return of('data not available at this time');\r\n      })\r\n    )\r\n  }\r\n}","/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n */\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nvar float32ArraySupported = typeof Float32Array === 'function';\n\nfunction A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\nfunction B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\nfunction C (aA1)      { return 3.0 * aA1; }\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier (aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT; }\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope (aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1); }\n\nfunction binarySubdivide (aX, aA, aB, mX1, mX2) {\n  var currentX, currentT, i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n}\n\nfunction newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n   var currentSlope = getSlope(aGuessT, mX1, mX2);\n   if (currentSlope === 0.0) {\n     return aGuessT;\n   }\n   var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n   aGuessT -= currentX / currentSlope;\n }\n return aGuessT;\n}\n\nfunction LinearEasing (x) {\n  return x;\n}\n\nmodule.exports = function bezier (mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error('bezier x values must be in [0, 1] range');\n  }\n\n  if (mX1 === mY1 && mX2 === mY2) {\n    return LinearEasing;\n  }\n\n  // Precompute samples table\n  var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  function getTForX (aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n\n    // Interpolate to provide an initial guess for t\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function BezierEasing (x) {\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (x === 0) {\n      return 0;\n    }\n    if (x === 1) {\n      return 1;\n    }\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n};\n","import { asyncScheduler } from '../scheduler/async';\nimport { timer } from './timer';\nexport function interval(period = 0, scheduler = asyncScheduler) {\n    if (period < 0) {\n        period = 0;\n    }\n    return timer(period, period, scheduler);\n}\n","import { operate } from '../util/lift';\nimport { mergeInternals } from './mergeInternals';\nexport function expand(project, concurrent = Infinity, scheduler) {\n    concurrent = (concurrent || 0) < 1 ? Infinity : concurrent;\n    return operate((source, subscriber) => mergeInternals(source, subscriber, project, concurrent, undefined, true, scheduler));\n}\n","import { map } from './map';\nexport function pluck(...properties) {\n    const length = properties.length;\n    if (length === 0) {\n        throw new Error('list of properties cannot be empty.');\n    }\n    return map((x) => {\n        let currentProp = x;\n        for (let i = 0; i < length; i++) {\n            const p = currentProp === null || currentProp === void 0 ? void 0 : currentProp[properties[i]];\n            if (typeof p !== 'undefined') {\n                currentProp = p;\n            }\n            else {\n                return undefined;\n            }\n        }\n        return currentProp;\n    });\n}\n","import * as i0 from '@angular/core';\nimport { Injectable, Inject, InjectionToken, Directive, Input, EventEmitter, Optional, SkipSelf, Output, Self, ContentChildren, ContentChild, NgModule } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport * as i1 from '@angular/cdk/scrolling';\nimport { CdkScrollableModule } from '@angular/cdk/scrolling';\nimport { _getEventTarget, normalizePassiveListenerOptions, _getShadowRoot } from '@angular/cdk/platform';\nimport { coerceBooleanProperty, coerceElement, coerceArray, coerceNumberProperty } from '@angular/cdk/coercion';\nimport { isFakeTouchstartFromScreenReader, isFakeMousedownFromScreenReader } from '@angular/cdk/a11y';\nimport { Subject, Subscription, interval, animationFrameScheduler, Observable, merge } from 'rxjs';\nimport { takeUntil, startWith, map, take, tap, switchMap } from 'rxjs/operators';\nimport * as i3 from '@angular/cdk/bidi';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Shallow-extends a stylesheet object with another stylesheet-like object.\n * Note that the keys in `source` have to be dash-cased.\n * @docs-private\n */\nfunction extendStyles(dest, source, importantProperties) {\n    for (let key in source) {\n        if (source.hasOwnProperty(key)) {\n            const value = source[key];\n            if (value) {\n                dest.setProperty(key, value, importantProperties?.has(key) ? 'important' : '');\n            }\n            else {\n                dest.removeProperty(key);\n            }\n        }\n    }\n    return dest;\n}\n/**\n * Toggles whether the native drag interactions should be enabled for an element.\n * @param element Element on which to toggle the drag interactions.\n * @param enable Whether the drag interactions should be enabled.\n * @docs-private\n */\nfunction toggleNativeDragInteractions(element, enable) {\n    const userSelect = enable ? '' : 'none';\n    extendStyles(element.style, {\n        'touch-action': enable ? '' : 'none',\n        '-webkit-user-drag': enable ? '' : 'none',\n        '-webkit-tap-highlight-color': enable ? '' : 'transparent',\n        'user-select': userSelect,\n        '-ms-user-select': userSelect,\n        '-webkit-user-select': userSelect,\n        '-moz-user-select': userSelect,\n    });\n}\n/**\n * Toggles whether an element is visible while preserving its dimensions.\n * @param element Element whose visibility to toggle\n * @param enable Whether the element should be visible.\n * @param importantProperties Properties to be set as `!important`.\n * @docs-private\n */\nfunction toggleVisibility(element, enable, importantProperties) {\n    extendStyles(element.style, {\n        position: enable ? '' : 'fixed',\n        top: enable ? '' : '0',\n        opacity: enable ? '' : '0',\n        left: enable ? '' : '-999em',\n    }, importantProperties);\n}\n/**\n * Combines a transform string with an optional other transform\n * that exited before the base transform was applied.\n */\nfunction combineTransforms(transform, initialTransform) {\n    return initialTransform && initialTransform != 'none'\n        ? transform + ' ' + initialTransform\n        : transform;\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Parses a CSS time value to milliseconds. */\nfunction parseCssTimeUnitsToMs(value) {\n    // Some browsers will return it in seconds, whereas others will return milliseconds.\n    const multiplier = value.toLowerCase().indexOf('ms') > -1 ? 1 : 1000;\n    return parseFloat(value) * multiplier;\n}\n/** Gets the transform transition duration, including the delay, of an element in milliseconds. */\nfunction getTransformTransitionDurationInMs(element) {\n    const computedStyle = getComputedStyle(element);\n    const transitionedProperties = parseCssPropertyValue(computedStyle, 'transition-property');\n    const property = transitionedProperties.find(prop => prop === 'transform' || prop === 'all');\n    // If there's no transition for `all` or `transform`, we shouldn't do anything.\n    if (!property) {\n        return 0;\n    }\n    // Get the index of the property that we're interested in and match\n    // it up to the same index in `transition-delay` and `transition-duration`.\n    const propertyIndex = transitionedProperties.indexOf(property);\n    const rawDurations = parseCssPropertyValue(computedStyle, 'transition-duration');\n    const rawDelays = parseCssPropertyValue(computedStyle, 'transition-delay');\n    return (parseCssTimeUnitsToMs(rawDurations[propertyIndex]) +\n        parseCssTimeUnitsToMs(rawDelays[propertyIndex]));\n}\n/** Parses out multiple values from a computed style into an array. */\nfunction parseCssPropertyValue(computedStyle, name) {\n    const value = computedStyle.getPropertyValue(name);\n    return value.split(',').map(part => part.trim());\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Gets a mutable version of an element's bounding `ClientRect`. */\nfunction getMutableClientRect(element) {\n    const clientRect = element.getBoundingClientRect();\n    // We need to clone the `clientRect` here, because all the values on it are readonly\n    // and we need to be able to update them. Also we can't use a spread here, because\n    // the values on a `ClientRect` aren't own properties. See:\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect#Notes\n    return {\n        top: clientRect.top,\n        right: clientRect.right,\n        bottom: clientRect.bottom,\n        left: clientRect.left,\n        width: clientRect.width,\n        height: clientRect.height,\n        x: clientRect.x,\n        y: clientRect.y,\n    };\n}\n/**\n * Checks whether some coordinates are within a `ClientRect`.\n * @param clientRect ClientRect that is being checked.\n * @param x Coordinates along the X axis.\n * @param y Coordinates along the Y axis.\n */\nfunction isInsideClientRect(clientRect, x, y) {\n    const { top, bottom, left, right } = clientRect;\n    return y >= top && y <= bottom && x >= left && x <= right;\n}\n/**\n * Updates the top/left positions of a `ClientRect`, as well as their bottom/right counterparts.\n * @param clientRect `ClientRect` that should be updated.\n * @param top Amount to add to the `top` position.\n * @param left Amount to add to the `left` position.\n */\nfunction adjustClientRect(clientRect, top, left) {\n    clientRect.top += top;\n    clientRect.bottom = clientRect.top + clientRect.height;\n    clientRect.left += left;\n    clientRect.right = clientRect.left + clientRect.width;\n}\n/**\n * Checks whether the pointer coordinates are close to a ClientRect.\n * @param rect ClientRect to check against.\n * @param threshold Threshold around the ClientRect.\n * @param pointerX Coordinates along the X axis.\n * @param pointerY Coordinates along the Y axis.\n */\nfunction isPointerNearClientRect(rect, threshold, pointerX, pointerY) {\n    const { top, right, bottom, left, width, height } = rect;\n    const xThreshold = width * threshold;\n    const yThreshold = height * threshold;\n    return (pointerY > top - yThreshold &&\n        pointerY < bottom + yThreshold &&\n        pointerX > left - xThreshold &&\n        pointerX < right + xThreshold);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Keeps track of the scroll position and dimensions of the parents of an element. */\nclass ParentPositionTracker {\n    constructor(_document) {\n        this._document = _document;\n        /** Cached positions of the scrollable parent elements. */\n        this.positions = new Map();\n    }\n    /** Clears the cached positions. */\n    clear() {\n        this.positions.clear();\n    }\n    /** Caches the positions. Should be called at the beginning of a drag sequence. */\n    cache(elements) {\n        this.clear();\n        this.positions.set(this._document, {\n            scrollPosition: this.getViewportScrollPosition(),\n        });\n        elements.forEach(element => {\n            this.positions.set(element, {\n                scrollPosition: { top: element.scrollTop, left: element.scrollLeft },\n                clientRect: getMutableClientRect(element),\n            });\n        });\n    }\n    /** Handles scrolling while a drag is taking place. */\n    handleScroll(event) {\n        const target = _getEventTarget(event);\n        const cachedPosition = this.positions.get(target);\n        if (!cachedPosition) {\n            return null;\n        }\n        const scrollPosition = cachedPosition.scrollPosition;\n        let newTop;\n        let newLeft;\n        if (target === this._document) {\n            const viewportScrollPosition = this.getViewportScrollPosition();\n            newTop = viewportScrollPosition.top;\n            newLeft = viewportScrollPosition.left;\n        }\n        else {\n            newTop = target.scrollTop;\n            newLeft = target.scrollLeft;\n        }\n        const topDifference = scrollPosition.top - newTop;\n        const leftDifference = scrollPosition.left - newLeft;\n        // Go through and update the cached positions of the scroll\n        // parents that are inside the element that was scrolled.\n        this.positions.forEach((position, node) => {\n            if (position.clientRect && target !== node && target.contains(node)) {\n                adjustClientRect(position.clientRect, topDifference, leftDifference);\n            }\n        });\n        scrollPosition.top = newTop;\n        scrollPosition.left = newLeft;\n        return { top: topDifference, left: leftDifference };\n    }\n    /**\n     * Gets the scroll position of the viewport. Note that we use the scrollX and scrollY directly,\n     * instead of going through the `ViewportRuler`, because the first value the ruler looks at is\n     * the top/left offset of the `document.documentElement` which works for most cases, but breaks\n     * if the element is offset by something like the `BlockScrollStrategy`.\n     */\n    getViewportScrollPosition() {\n        return { top: window.scrollY, left: window.scrollX };\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Creates a deep clone of an element. */\nfunction deepCloneNode(node) {\n    const clone = node.cloneNode(true);\n    const descendantsWithId = clone.querySelectorAll('[id]');\n    const nodeName = node.nodeName.toLowerCase();\n    // Remove the `id` to avoid having multiple elements with the same id on the page.\n    clone.removeAttribute('id');\n    for (let i = 0; i < descendantsWithId.length; i++) {\n        descendantsWithId[i].removeAttribute('id');\n    }\n    if (nodeName === 'canvas') {\n        transferCanvasData(node, clone);\n    }\n    else if (nodeName === 'input' || nodeName === 'select' || nodeName === 'textarea') {\n        transferInputData(node, clone);\n    }\n    transferData('canvas', node, clone, transferCanvasData);\n    transferData('input, textarea, select', node, clone, transferInputData);\n    return clone;\n}\n/** Matches elements between an element and its clone and allows for their data to be cloned. */\nfunction transferData(selector, node, clone, callback) {\n    const descendantElements = node.querySelectorAll(selector);\n    if (descendantElements.length) {\n        const cloneElements = clone.querySelectorAll(selector);\n        for (let i = 0; i < descendantElements.length; i++) {\n            callback(descendantElements[i], cloneElements[i]);\n        }\n    }\n}\n// Counter for unique cloned radio button names.\nlet cloneUniqueId = 0;\n/** Transfers the data of one input element to another. */\nfunction transferInputData(source, clone) {\n    // Browsers throw an error when assigning the value of a file input programmatically.\n    if (clone.type !== 'file') {\n        clone.value = source.value;\n    }\n    // Radio button `name` attributes must be unique for radio button groups\n    // otherwise original radio buttons can lose their checked state\n    // once the clone is inserted in the DOM.\n    if (clone.type === 'radio' && clone.name) {\n        clone.name = `mat-clone-${clone.name}-${cloneUniqueId++}`;\n    }\n}\n/** Transfers the data of one canvas element to another. */\nfunction transferCanvasData(source, clone) {\n    const context = clone.getContext('2d');\n    if (context) {\n        // In some cases `drawImage` can throw (e.g. if the canvas size is 0x0).\n        // We can't do much about it so just ignore the error.\n        try {\n            context.drawImage(source, 0, 0);\n        }\n        catch { }\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Options that can be used to bind a passive event listener. */\nconst passiveEventListenerOptions = normalizePassiveListenerOptions({ passive: true });\n/** Options that can be used to bind an active event listener. */\nconst activeEventListenerOptions = normalizePassiveListenerOptions({ passive: false });\n/**\n * Time in milliseconds for which to ignore mouse events, after\n * receiving a touch event. Used to avoid doing double work for\n * touch devices where the browser fires fake mouse events, in\n * addition to touch events.\n */\nconst MOUSE_EVENT_IGNORE_TIME = 800;\n/** Inline styles to be set as `!important` while dragging. */\nconst dragImportantProperties = new Set([\n    // Needs to be important, because some `mat-table` sets `position: sticky !important`. See #22781.\n    'position',\n]);\n/**\n * Reference to a draggable item. Used to manipulate or dispose of the item.\n */\nclass DragRef {\n    /** Whether starting to drag this element is disabled. */\n    get disabled() {\n        return this._disabled || !!(this._dropContainer && this._dropContainer.disabled);\n    }\n    set disabled(value) {\n        const newValue = coerceBooleanProperty(value);\n        if (newValue !== this._disabled) {\n            this._disabled = newValue;\n            this._toggleNativeDragInteractions();\n            this._handles.forEach(handle => toggleNativeDragInteractions(handle, newValue));\n        }\n    }\n    constructor(element, _config, _document, _ngZone, _viewportRuler, _dragDropRegistry) {\n        this._config = _config;\n        this._document = _document;\n        this._ngZone = _ngZone;\n        this._viewportRuler = _viewportRuler;\n        this._dragDropRegistry = _dragDropRegistry;\n        /**\n         * CSS `transform` applied to the element when it isn't being dragged. We need a\n         * passive transform in order for the dragged element to retain its new position\n         * after the user has stopped dragging and because we need to know the relative\n         * position in case they start dragging again. This corresponds to `element.style.transform`.\n         */\n        this._passiveTransform = { x: 0, y: 0 };\n        /** CSS `transform` that is applied to the element while it's being dragged. */\n        this._activeTransform = { x: 0, y: 0 };\n        /**\n         * Whether the dragging sequence has been started. Doesn't\n         * necessarily mean that the element has been moved.\n         */\n        this._hasStartedDragging = false;\n        /** Emits when the item is being moved. */\n        this._moveEvents = new Subject();\n        /** Subscription to pointer movement events. */\n        this._pointerMoveSubscription = Subscription.EMPTY;\n        /** Subscription to the event that is dispatched when the user lifts their pointer. */\n        this._pointerUpSubscription = Subscription.EMPTY;\n        /** Subscription to the viewport being scrolled. */\n        this._scrollSubscription = Subscription.EMPTY;\n        /** Subscription to the viewport being resized. */\n        this._resizeSubscription = Subscription.EMPTY;\n        /** Cached reference to the boundary element. */\n        this._boundaryElement = null;\n        /** Whether the native dragging interactions have been enabled on the root element. */\n        this._nativeInteractionsEnabled = true;\n        /** Elements that can be used to drag the draggable item. */\n        this._handles = [];\n        /** Registered handles that are currently disabled. */\n        this._disabledHandles = new Set();\n        /** Layout direction of the item. */\n        this._direction = 'ltr';\n        /**\n         * Amount of milliseconds to wait after the user has put their\n         * pointer down before starting to drag the element.\n         */\n        this.dragStartDelay = 0;\n        this._disabled = false;\n        /** Emits as the drag sequence is being prepared. */\n        this.beforeStarted = new Subject();\n        /** Emits when the user starts dragging the item. */\n        this.started = new Subject();\n        /** Emits when the user has released a drag item, before any animations have started. */\n        this.released = new Subject();\n        /** Emits when the user stops dragging an item in the container. */\n        this.ended = new Subject();\n        /** Emits when the user has moved the item into a new container. */\n        this.entered = new Subject();\n        /** Emits when the user removes the item its container by dragging it into another container. */\n        this.exited = new Subject();\n        /** Emits when the user drops the item inside a container. */\n        this.dropped = new Subject();\n        /**\n         * Emits as the user is dragging the item. Use with caution,\n         * because this event will fire for every pixel that the user has dragged.\n         */\n        this.moved = this._moveEvents;\n        /** Handler for the `mousedown`/`touchstart` events. */\n        this._pointerDown = (event) => {\n            this.beforeStarted.next();\n            // Delegate the event based on whether it started from a handle or the element itself.\n            if (this._handles.length) {\n                const targetHandle = this._getTargetHandle(event);\n                if (targetHandle && !this._disabledHandles.has(targetHandle) && !this.disabled) {\n                    this._initializeDragSequence(targetHandle, event);\n                }\n            }\n            else if (!this.disabled) {\n                this._initializeDragSequence(this._rootElement, event);\n            }\n        };\n        /** Handler that is invoked when the user moves their pointer after they've initiated a drag. */\n        this._pointerMove = (event) => {\n            const pointerPosition = this._getPointerPositionOnPage(event);\n            if (!this._hasStartedDragging) {\n                const distanceX = Math.abs(pointerPosition.x - this._pickupPositionOnPage.x);\n                const distanceY = Math.abs(pointerPosition.y - this._pickupPositionOnPage.y);\n                const isOverThreshold = distanceX + distanceY >= this._config.dragStartThreshold;\n                // Only start dragging after the user has moved more than the minimum distance in either\n                // direction. Note that this is preferable over doing something like `skip(minimumDistance)`\n                // in the `pointerMove` subscription, because we're not guaranteed to have one move event\n                // per pixel of movement (e.g. if the user moves their pointer quickly).\n                if (isOverThreshold) {\n                    const isDelayElapsed = Date.now() >= this._dragStartTime + this._getDragStartDelay(event);\n                    const container = this._dropContainer;\n                    if (!isDelayElapsed) {\n                        this._endDragSequence(event);\n                        return;\n                    }\n                    // Prevent other drag sequences from starting while something in the container is still\n                    // being dragged. This can happen while we're waiting for the drop animation to finish\n                    // and can cause errors, because some elements might still be moving around.\n                    if (!container || (!container.isDragging() && !container.isReceiving())) {\n                        // Prevent the default action as soon as the dragging sequence is considered as\n                        // \"started\" since waiting for the next event can allow the device to begin scrolling.\n                        event.preventDefault();\n                        this._hasStartedDragging = true;\n                        this._ngZone.run(() => this._startDragSequence(event));\n                    }\n                }\n                return;\n            }\n            // We prevent the default action down here so that we know that dragging has started. This is\n            // important for touch devices where doing this too early can unnecessarily block scrolling,\n            // if there's a dragging delay.\n            event.preventDefault();\n            const constrainedPointerPosition = this._getConstrainedPointerPosition(pointerPosition);\n            this._hasMoved = true;\n            this._lastKnownPointerPosition = pointerPosition;\n            this._updatePointerDirectionDelta(constrainedPointerPosition);\n            if (this._dropContainer) {\n                this._updateActiveDropContainer(constrainedPointerPosition, pointerPosition);\n            }\n            else {\n                // If there's a position constraint function, we want the element's top/left to be at the\n                // specific position on the page. Use the initial position as a reference if that's the case.\n                const offset = this.constrainPosition ? this._initialClientRect : this._pickupPositionOnPage;\n                const activeTransform = this._activeTransform;\n                activeTransform.x = constrainedPointerPosition.x - offset.x + this._passiveTransform.x;\n                activeTransform.y = constrainedPointerPosition.y - offset.y + this._passiveTransform.y;\n                this._applyRootElementTransform(activeTransform.x, activeTransform.y);\n            }\n            // Since this event gets fired for every pixel while dragging, we only\n            // want to fire it if the consumer opted into it. Also we have to\n            // re-enter the zone because we run all of the events on the outside.\n            if (this._moveEvents.observers.length) {\n                this._ngZone.run(() => {\n                    this._moveEvents.next({\n                        source: this,\n                        pointerPosition: constrainedPointerPosition,\n                        event,\n                        distance: this._getDragDistance(constrainedPointerPosition),\n                        delta: this._pointerDirectionDelta,\n                    });\n                });\n            }\n        };\n        /** Handler that is invoked when the user lifts their pointer up, after initiating a drag. */\n        this._pointerUp = (event) => {\n            this._endDragSequence(event);\n        };\n        /** Handles a native `dragstart` event. */\n        this._nativeDragStart = (event) => {\n            if (this._handles.length) {\n                const targetHandle = this._getTargetHandle(event);\n                if (targetHandle && !this._disabledHandles.has(targetHandle) && !this.disabled) {\n                    event.preventDefault();\n                }\n            }\n            else if (!this.disabled) {\n                // Usually this isn't necessary since the we prevent the default action in `pointerDown`,\n                // but some cases like dragging of links can slip through (see #24403).\n                event.preventDefault();\n            }\n        };\n        this.withRootElement(element).withParent(_config.parentDragRef || null);\n        this._parentPositions = new ParentPositionTracker(_document);\n        _dragDropRegistry.registerDragItem(this);\n    }\n    /**\n     * Returns the element that is being used as a placeholder\n     * while the current element is being dragged.\n     */\n    getPlaceholderElement() {\n        return this._placeholder;\n    }\n    /** Returns the root draggable element. */\n    getRootElement() {\n        return this._rootElement;\n    }\n    /**\n     * Gets the currently-visible element that represents the drag item.\n     * While dragging this is the placeholder, otherwise it's the root element.\n     */\n    getVisibleElement() {\n        return this.isDragging() ? this.getPlaceholderElement() : this.getRootElement();\n    }\n    /** Registers the handles that can be used to drag the element. */\n    withHandles(handles) {\n        this._handles = handles.map(handle => coerceElement(handle));\n        this._handles.forEach(handle => toggleNativeDragInteractions(handle, this.disabled));\n        this._toggleNativeDragInteractions();\n        // Delete any lingering disabled handles that may have been destroyed. Note that we re-create\n        // the set, rather than iterate over it and filter out the destroyed handles, because while\n        // the ES spec allows for sets to be modified while they're being iterated over, some polyfills\n        // use an array internally which may throw an error.\n        const disabledHandles = new Set();\n        this._disabledHandles.forEach(handle => {\n            if (this._handles.indexOf(handle) > -1) {\n                disabledHandles.add(handle);\n            }\n        });\n        this._disabledHandles = disabledHandles;\n        return this;\n    }\n    /**\n     * Registers the template that should be used for the drag preview.\n     * @param template Template that from which to stamp out the preview.\n     */\n    withPreviewTemplate(template) {\n        this._previewTemplate = template;\n        return this;\n    }\n    /**\n     * Registers the template that should be used for the drag placeholder.\n     * @param template Template that from which to stamp out the placeholder.\n     */\n    withPlaceholderTemplate(template) {\n        this._placeholderTemplate = template;\n        return this;\n    }\n    /**\n     * Sets an alternate drag root element. The root element is the element that will be moved as\n     * the user is dragging. Passing an alternate root element is useful when trying to enable\n     * dragging on an element that you might not have access to.\n     */\n    withRootElement(rootElement) {\n        const element = coerceElement(rootElement);\n        if (element !== this._rootElement) {\n            if (this._rootElement) {\n                this._removeRootElementListeners(this._rootElement);\n            }\n            this._ngZone.runOutsideAngular(() => {\n                element.addEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\n                element.addEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\n                element.addEventListener('dragstart', this._nativeDragStart, activeEventListenerOptions);\n            });\n            this._initialTransform = undefined;\n            this._rootElement = element;\n        }\n        if (typeof SVGElement !== 'undefined' && this._rootElement instanceof SVGElement) {\n            this._ownerSVGElement = this._rootElement.ownerSVGElement;\n        }\n        return this;\n    }\n    /**\n     * Element to which the draggable's position will be constrained.\n     */\n    withBoundaryElement(boundaryElement) {\n        this._boundaryElement = boundaryElement ? coerceElement(boundaryElement) : null;\n        this._resizeSubscription.unsubscribe();\n        if (boundaryElement) {\n            this._resizeSubscription = this._viewportRuler\n                .change(10)\n                .subscribe(() => this._containInsideBoundaryOnResize());\n        }\n        return this;\n    }\n    /** Sets the parent ref that the ref is nested in.  */\n    withParent(parent) {\n        this._parentDragRef = parent;\n        return this;\n    }\n    /** Removes the dragging functionality from the DOM element. */\n    dispose() {\n        this._removeRootElementListeners(this._rootElement);\n        // Do this check before removing from the registry since it'll\n        // stop being considered as dragged once it is removed.\n        if (this.isDragging()) {\n            // Since we move out the element to the end of the body while it's being\n            // dragged, we have to make sure that it's removed if it gets destroyed.\n            this._rootElement?.remove();\n        }\n        this._anchor?.remove();\n        this._destroyPreview();\n        this._destroyPlaceholder();\n        this._dragDropRegistry.removeDragItem(this);\n        this._removeSubscriptions();\n        this.beforeStarted.complete();\n        this.started.complete();\n        this.released.complete();\n        this.ended.complete();\n        this.entered.complete();\n        this.exited.complete();\n        this.dropped.complete();\n        this._moveEvents.complete();\n        this._handles = [];\n        this._disabledHandles.clear();\n        this._dropContainer = undefined;\n        this._resizeSubscription.unsubscribe();\n        this._parentPositions.clear();\n        this._boundaryElement =\n            this._rootElement =\n                this._ownerSVGElement =\n                    this._placeholderTemplate =\n                        this._previewTemplate =\n                            this._anchor =\n                                this._parentDragRef =\n                                    null;\n    }\n    /** Checks whether the element is currently being dragged. */\n    isDragging() {\n        return this._hasStartedDragging && this._dragDropRegistry.isDragging(this);\n    }\n    /** Resets a standalone drag item to its initial position. */\n    reset() {\n        this._rootElement.style.transform = this._initialTransform || '';\n        this._activeTransform = { x: 0, y: 0 };\n        this._passiveTransform = { x: 0, y: 0 };\n    }\n    /**\n     * Sets a handle as disabled. While a handle is disabled, it'll capture and interrupt dragging.\n     * @param handle Handle element that should be disabled.\n     */\n    disableHandle(handle) {\n        if (!this._disabledHandles.has(handle) && this._handles.indexOf(handle) > -1) {\n            this._disabledHandles.add(handle);\n            toggleNativeDragInteractions(handle, true);\n        }\n    }\n    /**\n     * Enables a handle, if it has been disabled.\n     * @param handle Handle element to be enabled.\n     */\n    enableHandle(handle) {\n        if (this._disabledHandles.has(handle)) {\n            this._disabledHandles.delete(handle);\n            toggleNativeDragInteractions(handle, this.disabled);\n        }\n    }\n    /** Sets the layout direction of the draggable item. */\n    withDirection(direction) {\n        this._direction = direction;\n        return this;\n    }\n    /** Sets the container that the item is part of. */\n    _withDropContainer(container) {\n        this._dropContainer = container;\n    }\n    /**\n     * Gets the current position in pixels the draggable outside of a drop container.\n     */\n    getFreeDragPosition() {\n        const position = this.isDragging() ? this._activeTransform : this._passiveTransform;\n        return { x: position.x, y: position.y };\n    }\n    /**\n     * Sets the current position in pixels the draggable outside of a drop container.\n     * @param value New position to be set.\n     */\n    setFreeDragPosition(value) {\n        this._activeTransform = { x: 0, y: 0 };\n        this._passiveTransform.x = value.x;\n        this._passiveTransform.y = value.y;\n        if (!this._dropContainer) {\n            this._applyRootElementTransform(value.x, value.y);\n        }\n        return this;\n    }\n    /**\n     * Sets the container into which to insert the preview element.\n     * @param value Container into which to insert the preview.\n     */\n    withPreviewContainer(value) {\n        this._previewContainer = value;\n        return this;\n    }\n    /** Updates the item's sort order based on the last-known pointer position. */\n    _sortFromLastPointerPosition() {\n        const position = this._lastKnownPointerPosition;\n        if (position && this._dropContainer) {\n            this._updateActiveDropContainer(this._getConstrainedPointerPosition(position), position);\n        }\n    }\n    /** Unsubscribes from the global subscriptions. */\n    _removeSubscriptions() {\n        this._pointerMoveSubscription.unsubscribe();\n        this._pointerUpSubscription.unsubscribe();\n        this._scrollSubscription.unsubscribe();\n    }\n    /** Destroys the preview element and its ViewRef. */\n    _destroyPreview() {\n        this._preview?.remove();\n        this._previewRef?.destroy();\n        this._preview = this._previewRef = null;\n    }\n    /** Destroys the placeholder element and its ViewRef. */\n    _destroyPlaceholder() {\n        this._placeholder?.remove();\n        this._placeholderRef?.destroy();\n        this._placeholder = this._placeholderRef = null;\n    }\n    /**\n     * Clears subscriptions and stops the dragging sequence.\n     * @param event Browser event object that ended the sequence.\n     */\n    _endDragSequence(event) {\n        // Note that here we use `isDragging` from the service, rather than from `this`.\n        // The difference is that the one from the service reflects whether a dragging sequence\n        // has been initiated, whereas the one on `this` includes whether the user has passed\n        // the minimum dragging threshold.\n        if (!this._dragDropRegistry.isDragging(this)) {\n            return;\n        }\n        this._removeSubscriptions();\n        this._dragDropRegistry.stopDragging(this);\n        this._toggleNativeDragInteractions();\n        if (this._handles) {\n            this._rootElement.style.webkitTapHighlightColor =\n                this._rootElementTapHighlight;\n        }\n        if (!this._hasStartedDragging) {\n            return;\n        }\n        this.released.next({ source: this, event });\n        if (this._dropContainer) {\n            // Stop scrolling immediately, instead of waiting for the animation to finish.\n            this._dropContainer._stopScrolling();\n            this._animatePreviewToPlaceholder().then(() => {\n                this._cleanupDragArtifacts(event);\n                this._cleanupCachedDimensions();\n                this._dragDropRegistry.stopDragging(this);\n            });\n        }\n        else {\n            // Convert the active transform into a passive one. This means that next time\n            // the user starts dragging the item, its position will be calculated relatively\n            // to the new passive transform.\n            this._passiveTransform.x = this._activeTransform.x;\n            const pointerPosition = this._getPointerPositionOnPage(event);\n            this._passiveTransform.y = this._activeTransform.y;\n            this._ngZone.run(() => {\n                this.ended.next({\n                    source: this,\n                    distance: this._getDragDistance(pointerPosition),\n                    dropPoint: pointerPosition,\n                    event,\n                });\n            });\n            this._cleanupCachedDimensions();\n            this._dragDropRegistry.stopDragging(this);\n        }\n    }\n    /** Starts the dragging sequence. */\n    _startDragSequence(event) {\n        if (isTouchEvent(event)) {\n            this._lastTouchEventTime = Date.now();\n        }\n        this._toggleNativeDragInteractions();\n        const dropContainer = this._dropContainer;\n        if (dropContainer) {\n            const element = this._rootElement;\n            const parent = element.parentNode;\n            const placeholder = (this._placeholder = this._createPlaceholderElement());\n            const anchor = (this._anchor = this._anchor || this._document.createComment(''));\n            // Needs to happen before the root element is moved.\n            const shadowRoot = this._getShadowRoot();\n            // Insert an anchor node so that we can restore the element's position in the DOM.\n            parent.insertBefore(anchor, element);\n            // There's no risk of transforms stacking when inside a drop container so\n            // we can keep the initial transform up to date any time dragging starts.\n            this._initialTransform = element.style.transform || '';\n            // Create the preview after the initial transform has\n            // been cached, because it can be affected by the transform.\n            this._preview = this._createPreviewElement();\n            // We move the element out at the end of the body and we make it hidden, because keeping it in\n            // place will throw off the consumer's `:last-child` selectors. We can't remove the element\n            // from the DOM completely, because iOS will stop firing all subsequent events in the chain.\n            toggleVisibility(element, false, dragImportantProperties);\n            this._document.body.appendChild(parent.replaceChild(placeholder, element));\n            this._getPreviewInsertionPoint(parent, shadowRoot).appendChild(this._preview);\n            this.started.next({ source: this, event }); // Emit before notifying the container.\n            dropContainer.start();\n            this._initialContainer = dropContainer;\n            this._initialIndex = dropContainer.getItemIndex(this);\n        }\n        else {\n            this.started.next({ source: this, event });\n            this._initialContainer = this._initialIndex = undefined;\n        }\n        // Important to run after we've called `start` on the parent container\n        // so that it has had time to resolve its scrollable parents.\n        this._parentPositions.cache(dropContainer ? dropContainer.getScrollableParents() : []);\n    }\n    /**\n     * Sets up the different variables and subscriptions\n     * that will be necessary for the dragging sequence.\n     * @param referenceElement Element that started the drag sequence.\n     * @param event Browser event object that started the sequence.\n     */\n    _initializeDragSequence(referenceElement, event) {\n        // Stop propagation if the item is inside another\n        // draggable so we don't start multiple drag sequences.\n        if (this._parentDragRef) {\n            event.stopPropagation();\n        }\n        const isDragging = this.isDragging();\n        const isTouchSequence = isTouchEvent(event);\n        const isAuxiliaryMouseButton = !isTouchSequence && event.button !== 0;\n        const rootElement = this._rootElement;\n        const target = _getEventTarget(event);\n        const isSyntheticEvent = !isTouchSequence &&\n            this._lastTouchEventTime &&\n            this._lastTouchEventTime + MOUSE_EVENT_IGNORE_TIME > Date.now();\n        const isFakeEvent = isTouchSequence\n            ? isFakeTouchstartFromScreenReader(event)\n            : isFakeMousedownFromScreenReader(event);\n        // If the event started from an element with the native HTML drag&drop, it'll interfere\n        // with our own dragging (e.g. `img` tags do it by default). Prevent the default action\n        // to stop it from happening. Note that preventing on `dragstart` also seems to work, but\n        // it's flaky and it fails if the user drags it away quickly. Also note that we only want\n        // to do this for `mousedown` since doing the same for `touchstart` will stop any `click`\n        // events from firing on touch devices.\n        if (target && target.draggable && event.type === 'mousedown') {\n            event.preventDefault();\n        }\n        // Abort if the user is already dragging or is using a mouse button other than the primary one.\n        if (isDragging || isAuxiliaryMouseButton || isSyntheticEvent || isFakeEvent) {\n            return;\n        }\n        // If we've got handles, we need to disable the tap highlight on the entire root element,\n        // otherwise iOS will still add it, even though all the drag interactions on the handle\n        // are disabled.\n        if (this._handles.length) {\n            const rootStyles = rootElement.style;\n            this._rootElementTapHighlight = rootStyles.webkitTapHighlightColor || '';\n            rootStyles.webkitTapHighlightColor = 'transparent';\n        }\n        this._hasStartedDragging = this._hasMoved = false;\n        // Avoid multiple subscriptions and memory leaks when multi touch\n        // (isDragging check above isn't enough because of possible temporal and/or dimensional delays)\n        this._removeSubscriptions();\n        this._initialClientRect = this._rootElement.getBoundingClientRect();\n        this._pointerMoveSubscription = this._dragDropRegistry.pointerMove.subscribe(this._pointerMove);\n        this._pointerUpSubscription = this._dragDropRegistry.pointerUp.subscribe(this._pointerUp);\n        this._scrollSubscription = this._dragDropRegistry\n            .scrolled(this._getShadowRoot())\n            .subscribe(scrollEvent => this._updateOnScroll(scrollEvent));\n        if (this._boundaryElement) {\n            this._boundaryRect = getMutableClientRect(this._boundaryElement);\n        }\n        // If we have a custom preview we can't know ahead of time how large it'll be so we position\n        // it next to the cursor. The exception is when the consumer has opted into making the preview\n        // the same size as the root element, in which case we do know the size.\n        const previewTemplate = this._previewTemplate;\n        this._pickupPositionInElement =\n            previewTemplate && previewTemplate.template && !previewTemplate.matchSize\n                ? { x: 0, y: 0 }\n                : this._getPointerPositionInElement(this._initialClientRect, referenceElement, event);\n        const pointerPosition = (this._pickupPositionOnPage =\n            this._lastKnownPointerPosition =\n                this._getPointerPositionOnPage(event));\n        this._pointerDirectionDelta = { x: 0, y: 0 };\n        this._pointerPositionAtLastDirectionChange = { x: pointerPosition.x, y: pointerPosition.y };\n        this._dragStartTime = Date.now();\n        this._dragDropRegistry.startDragging(this, event);\n    }\n    /** Cleans up the DOM artifacts that were added to facilitate the element being dragged. */\n    _cleanupDragArtifacts(event) {\n        // Restore the element's visibility and insert it at its old position in the DOM.\n        // It's important that we maintain the position, because moving the element around in the DOM\n        // can throw off `NgFor` which does smart diffing and re-creates elements only when necessary,\n        // while moving the existing elements in all other cases.\n        toggleVisibility(this._rootElement, true, dragImportantProperties);\n        this._anchor.parentNode.replaceChild(this._rootElement, this._anchor);\n        this._destroyPreview();\n        this._destroyPlaceholder();\n        this._initialClientRect =\n            this._boundaryRect =\n                this._previewRect =\n                    this._initialTransform =\n                        undefined;\n        // Re-enter the NgZone since we bound `document` events on the outside.\n        this._ngZone.run(() => {\n            const container = this._dropContainer;\n            const currentIndex = container.getItemIndex(this);\n            const pointerPosition = this._getPointerPositionOnPage(event);\n            const distance = this._getDragDistance(pointerPosition);\n            const isPointerOverContainer = container._isOverContainer(pointerPosition.x, pointerPosition.y);\n            this.ended.next({ source: this, distance, dropPoint: pointerPosition, event });\n            this.dropped.next({\n                item: this,\n                currentIndex,\n                previousIndex: this._initialIndex,\n                container: container,\n                previousContainer: this._initialContainer,\n                isPointerOverContainer,\n                distance,\n                dropPoint: pointerPosition,\n                event,\n            });\n            container.drop(this, currentIndex, this._initialIndex, this._initialContainer, isPointerOverContainer, distance, pointerPosition, event);\n            this._dropContainer = this._initialContainer;\n        });\n    }\n    /**\n     * Updates the item's position in its drop container, or moves it\n     * into a new one, depending on its current drag position.\n     */\n    _updateActiveDropContainer({ x, y }, { x: rawX, y: rawY }) {\n        // Drop container that draggable has been moved into.\n        let newContainer = this._initialContainer._getSiblingContainerFromPosition(this, x, y);\n        // If we couldn't find a new container to move the item into, and the item has left its\n        // initial container, check whether the it's over the initial container. This handles the\n        // case where two containers are connected one way and the user tries to undo dragging an\n        // item into a new container.\n        if (!newContainer &&\n            this._dropContainer !== this._initialContainer &&\n            this._initialContainer._isOverContainer(x, y)) {\n            newContainer = this._initialContainer;\n        }\n        if (newContainer && newContainer !== this._dropContainer) {\n            this._ngZone.run(() => {\n                // Notify the old container that the item has left.\n                this.exited.next({ item: this, container: this._dropContainer });\n                this._dropContainer.exit(this);\n                // Notify the new container that the item has entered.\n                this._dropContainer = newContainer;\n                this._dropContainer.enter(this, x, y, newContainer === this._initialContainer &&\n                    // If we're re-entering the initial container and sorting is disabled,\n                    // put item the into its starting index to begin with.\n                    newContainer.sortingDisabled\n                    ? this._initialIndex\n                    : undefined);\n                this.entered.next({\n                    item: this,\n                    container: newContainer,\n                    currentIndex: newContainer.getItemIndex(this),\n                });\n            });\n        }\n        // Dragging may have been interrupted as a result of the events above.\n        if (this.isDragging()) {\n            this._dropContainer._startScrollingIfNecessary(rawX, rawY);\n            this._dropContainer._sortItem(this, x, y, this._pointerDirectionDelta);\n            if (this.constrainPosition) {\n                this._applyPreviewTransform(x, y);\n            }\n            else {\n                this._applyPreviewTransform(x - this._pickupPositionInElement.x, y - this._pickupPositionInElement.y);\n            }\n        }\n    }\n    /**\n     * Creates the element that will be rendered next to the user's pointer\n     * and will be used as a preview of the element that is being dragged.\n     */\n    _createPreviewElement() {\n        const previewConfig = this._previewTemplate;\n        const previewClass = this.previewClass;\n        const previewTemplate = previewConfig ? previewConfig.template : null;\n        let preview;\n        if (previewTemplate && previewConfig) {\n            // Measure the element before we've inserted the preview\n            // since the insertion could throw off the measurement.\n            const rootRect = previewConfig.matchSize ? this._initialClientRect : null;\n            const viewRef = previewConfig.viewContainer.createEmbeddedView(previewTemplate, previewConfig.context);\n            viewRef.detectChanges();\n            preview = getRootNode(viewRef, this._document);\n            this._previewRef = viewRef;\n            if (previewConfig.matchSize) {\n                matchElementSize(preview, rootRect);\n            }\n            else {\n                preview.style.transform = getTransform(this._pickupPositionOnPage.x, this._pickupPositionOnPage.y);\n            }\n        }\n        else {\n            preview = deepCloneNode(this._rootElement);\n            matchElementSize(preview, this._initialClientRect);\n            if (this._initialTransform) {\n                preview.style.transform = this._initialTransform;\n            }\n        }\n        extendStyles(preview.style, {\n            // It's important that we disable the pointer events on the preview, because\n            // it can throw off the `document.elementFromPoint` calls in the `CdkDropList`.\n            'pointer-events': 'none',\n            // We have to reset the margin, because it can throw off positioning relative to the viewport.\n            'margin': '0',\n            'position': 'fixed',\n            'top': '0',\n            'left': '0',\n            'z-index': `${this._config.zIndex || 1000}`,\n        }, dragImportantProperties);\n        toggleNativeDragInteractions(preview, false);\n        preview.classList.add('cdk-drag-preview');\n        preview.setAttribute('dir', this._direction);\n        if (previewClass) {\n            if (Array.isArray(previewClass)) {\n                previewClass.forEach(className => preview.classList.add(className));\n            }\n            else {\n                preview.classList.add(previewClass);\n            }\n        }\n        return preview;\n    }\n    /**\n     * Animates the preview element from its current position to the location of the drop placeholder.\n     * @returns Promise that resolves when the animation completes.\n     */\n    _animatePreviewToPlaceholder() {\n        // If the user hasn't moved yet, the transitionend event won't fire.\n        if (!this._hasMoved) {\n            return Promise.resolve();\n        }\n        const placeholderRect = this._placeholder.getBoundingClientRect();\n        // Apply the class that adds a transition to the preview.\n        this._preview.classList.add('cdk-drag-animating');\n        // Move the preview to the placeholder position.\n        this._applyPreviewTransform(placeholderRect.left, placeholderRect.top);\n        // If the element doesn't have a `transition`, the `transitionend` event won't fire. Since\n        // we need to trigger a style recalculation in order for the `cdk-drag-animating` class to\n        // apply its style, we take advantage of the available info to figure out whether we need to\n        // bind the event in the first place.\n        const duration = getTransformTransitionDurationInMs(this._preview);\n        if (duration === 0) {\n            return Promise.resolve();\n        }\n        return this._ngZone.runOutsideAngular(() => {\n            return new Promise(resolve => {\n                const handler = ((event) => {\n                    if (!event ||\n                        (_getEventTarget(event) === this._preview && event.propertyName === 'transform')) {\n                        this._preview?.removeEventListener('transitionend', handler);\n                        resolve();\n                        clearTimeout(timeout);\n                    }\n                });\n                // If a transition is short enough, the browser might not fire the `transitionend` event.\n                // Since we know how long it's supposed to take, add a timeout with a 50% buffer that'll\n                // fire if the transition hasn't completed when it was supposed to.\n                const timeout = setTimeout(handler, duration * 1.5);\n                this._preview.addEventListener('transitionend', handler);\n            });\n        });\n    }\n    /** Creates an element that will be shown instead of the current element while dragging. */\n    _createPlaceholderElement() {\n        const placeholderConfig = this._placeholderTemplate;\n        const placeholderTemplate = placeholderConfig ? placeholderConfig.template : null;\n        let placeholder;\n        if (placeholderTemplate) {\n            this._placeholderRef = placeholderConfig.viewContainer.createEmbeddedView(placeholderTemplate, placeholderConfig.context);\n            this._placeholderRef.detectChanges();\n            placeholder = getRootNode(this._placeholderRef, this._document);\n        }\n        else {\n            placeholder = deepCloneNode(this._rootElement);\n        }\n        // Stop pointer events on the preview so the user can't\n        // interact with it while the preview is animating.\n        placeholder.style.pointerEvents = 'none';\n        placeholder.classList.add('cdk-drag-placeholder');\n        return placeholder;\n    }\n    /**\n     * Figures out the coordinates at which an element was picked up.\n     * @param referenceElement Element that initiated the dragging.\n     * @param event Event that initiated the dragging.\n     */\n    _getPointerPositionInElement(elementRect, referenceElement, event) {\n        const handleElement = referenceElement === this._rootElement ? null : referenceElement;\n        const referenceRect = handleElement ? handleElement.getBoundingClientRect() : elementRect;\n        const point = isTouchEvent(event) ? event.targetTouches[0] : event;\n        const scrollPosition = this._getViewportScrollPosition();\n        const x = point.pageX - referenceRect.left - scrollPosition.left;\n        const y = point.pageY - referenceRect.top - scrollPosition.top;\n        return {\n            x: referenceRect.left - elementRect.left + x,\n            y: referenceRect.top - elementRect.top + y,\n        };\n    }\n    /** Determines the point of the page that was touched by the user. */\n    _getPointerPositionOnPage(event) {\n        const scrollPosition = this._getViewportScrollPosition();\n        const point = isTouchEvent(event)\n            ? // `touches` will be empty for start/end events so we have to fall back to `changedTouches`.\n                // Also note that on real devices we're guaranteed for either `touches` or `changedTouches`\n                // to have a value, but Firefox in device emulation mode has a bug where both can be empty\n                // for `touchstart` and `touchend` so we fall back to a dummy object in order to avoid\n                // throwing an error. The value returned here will be incorrect, but since this only\n                // breaks inside a developer tool and the value is only used for secondary information,\n                // we can get away with it. See https://bugzilla.mozilla.org/show_bug.cgi?id=1615824.\n                event.touches[0] || event.changedTouches[0] || { pageX: 0, pageY: 0 }\n            : event;\n        const x = point.pageX - scrollPosition.left;\n        const y = point.pageY - scrollPosition.top;\n        // if dragging SVG element, try to convert from the screen coordinate system to the SVG\n        // coordinate system\n        if (this._ownerSVGElement) {\n            const svgMatrix = this._ownerSVGElement.getScreenCTM();\n            if (svgMatrix) {\n                const svgPoint = this._ownerSVGElement.createSVGPoint();\n                svgPoint.x = x;\n                svgPoint.y = y;\n                return svgPoint.matrixTransform(svgMatrix.inverse());\n            }\n        }\n        return { x, y };\n    }\n    /** Gets the pointer position on the page, accounting for any position constraints. */\n    _getConstrainedPointerPosition(point) {\n        const dropContainerLock = this._dropContainer ? this._dropContainer.lockAxis : null;\n        let { x, y } = this.constrainPosition\n            ? this.constrainPosition(point, this, this._initialClientRect, this._pickupPositionInElement)\n            : point;\n        if (this.lockAxis === 'x' || dropContainerLock === 'x') {\n            y = this._pickupPositionOnPage.y;\n        }\n        else if (this.lockAxis === 'y' || dropContainerLock === 'y') {\n            x = this._pickupPositionOnPage.x;\n        }\n        if (this._boundaryRect) {\n            const { x: pickupX, y: pickupY } = this._pickupPositionInElement;\n            const boundaryRect = this._boundaryRect;\n            const { width: previewWidth, height: previewHeight } = this._getPreviewRect();\n            const minY = boundaryRect.top + pickupY;\n            const maxY = boundaryRect.bottom - (previewHeight - pickupY);\n            const minX = boundaryRect.left + pickupX;\n            const maxX = boundaryRect.right - (previewWidth - pickupX);\n            x = clamp$1(x, minX, maxX);\n            y = clamp$1(y, minY, maxY);\n        }\n        return { x, y };\n    }\n    /** Updates the current drag delta, based on the user's current pointer position on the page. */\n    _updatePointerDirectionDelta(pointerPositionOnPage) {\n        const { x, y } = pointerPositionOnPage;\n        const delta = this._pointerDirectionDelta;\n        const positionSinceLastChange = this._pointerPositionAtLastDirectionChange;\n        // Amount of pixels the user has dragged since the last time the direction changed.\n        const changeX = Math.abs(x - positionSinceLastChange.x);\n        const changeY = Math.abs(y - positionSinceLastChange.y);\n        // Because we handle pointer events on a per-pixel basis, we don't want the delta\n        // to change for every pixel, otherwise anything that depends on it can look erratic.\n        // To make the delta more consistent, we track how much the user has moved since the last\n        // delta change and we only update it after it has reached a certain threshold.\n        if (changeX > this._config.pointerDirectionChangeThreshold) {\n            delta.x = x > positionSinceLastChange.x ? 1 : -1;\n            positionSinceLastChange.x = x;\n        }\n        if (changeY > this._config.pointerDirectionChangeThreshold) {\n            delta.y = y > positionSinceLastChange.y ? 1 : -1;\n            positionSinceLastChange.y = y;\n        }\n        return delta;\n    }\n    /** Toggles the native drag interactions, based on how many handles are registered. */\n    _toggleNativeDragInteractions() {\n        if (!this._rootElement || !this._handles) {\n            return;\n        }\n        const shouldEnable = this._handles.length > 0 || !this.isDragging();\n        if (shouldEnable !== this._nativeInteractionsEnabled) {\n            this._nativeInteractionsEnabled = shouldEnable;\n            toggleNativeDragInteractions(this._rootElement, shouldEnable);\n        }\n    }\n    /** Removes the manually-added event listeners from the root element. */\n    _removeRootElementListeners(element) {\n        element.removeEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\n        element.removeEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\n        element.removeEventListener('dragstart', this._nativeDragStart, activeEventListenerOptions);\n    }\n    /**\n     * Applies a `transform` to the root element, taking into account any existing transforms on it.\n     * @param x New transform value along the X axis.\n     * @param y New transform value along the Y axis.\n     */\n    _applyRootElementTransform(x, y) {\n        const transform = getTransform(x, y);\n        const styles = this._rootElement.style;\n        // Cache the previous transform amount only after the first drag sequence, because\n        // we don't want our own transforms to stack on top of each other.\n        // Should be excluded none because none + translate3d(x, y, x) is invalid css\n        if (this._initialTransform == null) {\n            this._initialTransform =\n                styles.transform && styles.transform != 'none' ? styles.transform : '';\n        }\n        // Preserve the previous `transform` value, if there was one. Note that we apply our own\n        // transform before the user's, because things like rotation can affect which direction\n        // the element will be translated towards.\n        styles.transform = combineTransforms(transform, this._initialTransform);\n    }\n    /**\n     * Applies a `transform` to the preview, taking into account any existing transforms on it.\n     * @param x New transform value along the X axis.\n     * @param y New transform value along the Y axis.\n     */\n    _applyPreviewTransform(x, y) {\n        // Only apply the initial transform if the preview is a clone of the original element, otherwise\n        // it could be completely different and the transform might not make sense anymore.\n        const initialTransform = this._previewTemplate?.template ? undefined : this._initialTransform;\n        const transform = getTransform(x, y);\n        this._preview.style.transform = combineTransforms(transform, initialTransform);\n    }\n    /**\n     * Gets the distance that the user has dragged during the current drag sequence.\n     * @param currentPosition Current position of the user's pointer.\n     */\n    _getDragDistance(currentPosition) {\n        const pickupPosition = this._pickupPositionOnPage;\n        if (pickupPosition) {\n            return { x: currentPosition.x - pickupPosition.x, y: currentPosition.y - pickupPosition.y };\n        }\n        return { x: 0, y: 0 };\n    }\n    /** Cleans up any cached element dimensions that we don't need after dragging has stopped. */\n    _cleanupCachedDimensions() {\n        this._boundaryRect = this._previewRect = undefined;\n        this._parentPositions.clear();\n    }\n    /**\n     * Checks whether the element is still inside its boundary after the viewport has been resized.\n     * If not, the position is adjusted so that the element fits again.\n     */\n    _containInsideBoundaryOnResize() {\n        let { x, y } = this._passiveTransform;\n        if ((x === 0 && y === 0) || this.isDragging() || !this._boundaryElement) {\n            return;\n        }\n        // Note: don't use `_clientRectAtStart` here, because we want the latest position.\n        const elementRect = this._rootElement.getBoundingClientRect();\n        const boundaryRect = this._boundaryElement.getBoundingClientRect();\n        // It's possible that the element got hidden away after dragging (e.g. by switching to a\n        // different tab). Don't do anything in this case so we don't clear the user's position.\n        if ((boundaryRect.width === 0 && boundaryRect.height === 0) ||\n            (elementRect.width === 0 && elementRect.height === 0)) {\n            return;\n        }\n        const leftOverflow = boundaryRect.left - elementRect.left;\n        const rightOverflow = elementRect.right - boundaryRect.right;\n        const topOverflow = boundaryRect.top - elementRect.top;\n        const bottomOverflow = elementRect.bottom - boundaryRect.bottom;\n        // If the element has become wider than the boundary, we can't\n        // do much to make it fit so we just anchor it to the left.\n        if (boundaryRect.width > elementRect.width) {\n            if (leftOverflow > 0) {\n                x += leftOverflow;\n            }\n            if (rightOverflow > 0) {\n                x -= rightOverflow;\n            }\n        }\n        else {\n            x = 0;\n        }\n        // If the element has become taller than the boundary, we can't\n        // do much to make it fit so we just anchor it to the top.\n        if (boundaryRect.height > elementRect.height) {\n            if (topOverflow > 0) {\n                y += topOverflow;\n            }\n            if (bottomOverflow > 0) {\n                y -= bottomOverflow;\n            }\n        }\n        else {\n            y = 0;\n        }\n        if (x !== this._passiveTransform.x || y !== this._passiveTransform.y) {\n            this.setFreeDragPosition({ y, x });\n        }\n    }\n    /** Gets the drag start delay, based on the event type. */\n    _getDragStartDelay(event) {\n        const value = this.dragStartDelay;\n        if (typeof value === 'number') {\n            return value;\n        }\n        else if (isTouchEvent(event)) {\n            return value.touch;\n        }\n        return value ? value.mouse : 0;\n    }\n    /** Updates the internal state of the draggable element when scrolling has occurred. */\n    _updateOnScroll(event) {\n        const scrollDifference = this._parentPositions.handleScroll(event);\n        if (scrollDifference) {\n            const target = _getEventTarget(event);\n            // ClientRect dimensions are based on the scroll position of the page and its parent\n            // node so we have to update the cached boundary ClientRect if the user has scrolled.\n            if (this._boundaryRect &&\n                target !== this._boundaryElement &&\n                target.contains(this._boundaryElement)) {\n                adjustClientRect(this._boundaryRect, scrollDifference.top, scrollDifference.left);\n            }\n            this._pickupPositionOnPage.x += scrollDifference.left;\n            this._pickupPositionOnPage.y += scrollDifference.top;\n            // If we're in free drag mode, we have to update the active transform, because\n            // it isn't relative to the viewport like the preview inside a drop list.\n            if (!this._dropContainer) {\n                this._activeTransform.x -= scrollDifference.left;\n                this._activeTransform.y -= scrollDifference.top;\n                this._applyRootElementTransform(this._activeTransform.x, this._activeTransform.y);\n            }\n        }\n    }\n    /** Gets the scroll position of the viewport. */\n    _getViewportScrollPosition() {\n        return (this._parentPositions.positions.get(this._document)?.scrollPosition ||\n            this._parentPositions.getViewportScrollPosition());\n    }\n    /**\n     * Lazily resolves and returns the shadow root of the element. We do this in a function, rather\n     * than saving it in property directly on init, because we want to resolve it as late as possible\n     * in order to ensure that the element has been moved into the shadow DOM. Doing it inside the\n     * constructor might be too early if the element is inside of something like `ngFor` or `ngIf`.\n     */\n    _getShadowRoot() {\n        if (this._cachedShadowRoot === undefined) {\n            this._cachedShadowRoot = _getShadowRoot(this._rootElement);\n        }\n        return this._cachedShadowRoot;\n    }\n    /** Gets the element into which the drag preview should be inserted. */\n    _getPreviewInsertionPoint(initialParent, shadowRoot) {\n        const previewContainer = this._previewContainer || 'global';\n        if (previewContainer === 'parent') {\n            return initialParent;\n        }\n        if (previewContainer === 'global') {\n            const documentRef = this._document;\n            // We can't use the body if the user is in fullscreen mode,\n            // because the preview will render under the fullscreen element.\n            // TODO(crisbeto): dedupe this with the `FullscreenOverlayContainer` eventually.\n            return (shadowRoot ||\n                documentRef.fullscreenElement ||\n                documentRef.webkitFullscreenElement ||\n                documentRef.mozFullScreenElement ||\n                documentRef.msFullscreenElement ||\n                documentRef.body);\n        }\n        return coerceElement(previewContainer);\n    }\n    /** Lazily resolves and returns the dimensions of the preview. */\n    _getPreviewRect() {\n        // Cache the preview element rect if we haven't cached it already or if\n        // we cached it too early before the element dimensions were computed.\n        if (!this._previewRect || (!this._previewRect.width && !this._previewRect.height)) {\n            this._previewRect = this._preview\n                ? this._preview.getBoundingClientRect()\n                : this._initialClientRect;\n        }\n        return this._previewRect;\n    }\n    /** Gets a handle that is the target of an event. */\n    _getTargetHandle(event) {\n        return this._handles.find(handle => {\n            return event.target && (event.target === handle || handle.contains(event.target));\n        });\n    }\n}\n/**\n * Gets a 3d `transform` that can be applied to an element.\n * @param x Desired position of the element along the X axis.\n * @param y Desired position of the element along the Y axis.\n */\nfunction getTransform(x, y) {\n    // Round the transforms since some browsers will\n    // blur the elements for sub-pixel transforms.\n    return `translate3d(${Math.round(x)}px, ${Math.round(y)}px, 0)`;\n}\n/** Clamps a value between a minimum and a maximum. */\nfunction clamp$1(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\n/** Determines whether an event is a touch event. */\nfunction isTouchEvent(event) {\n    // This function is called for every pixel that the user has dragged so we need it to be\n    // as fast as possible. Since we only bind mouse events and touch events, we can assume\n    // that if the event's name starts with `t`, it's a touch event.\n    return event.type[0] === 't';\n}\n/**\n * Gets the root HTML element of an embedded view.\n * If the root is not an HTML element it gets wrapped in one.\n */\nfunction getRootNode(viewRef, _document) {\n    const rootNodes = viewRef.rootNodes;\n    if (rootNodes.length === 1 && rootNodes[0].nodeType === _document.ELEMENT_NODE) {\n        return rootNodes[0];\n    }\n    const wrapper = _document.createElement('div');\n    rootNodes.forEach(node => wrapper.appendChild(node));\n    return wrapper;\n}\n/**\n * Matches the target element's size to the source's size.\n * @param target Element that needs to be resized.\n * @param sourceRect Dimensions of the source element.\n */\nfunction matchElementSize(target, sourceRect) {\n    target.style.width = `${sourceRect.width}px`;\n    target.style.height = `${sourceRect.height}px`;\n    target.style.transform = getTransform(sourceRect.left, sourceRect.top);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Moves an item one index in an array to another.\n * @param array Array in which to move the item.\n * @param fromIndex Starting index of the item.\n * @param toIndex Index to which the item should be moved.\n */\nfunction moveItemInArray(array, fromIndex, toIndex) {\n    const from = clamp(fromIndex, array.length - 1);\n    const to = clamp(toIndex, array.length - 1);\n    if (from === to) {\n        return;\n    }\n    const target = array[from];\n    const delta = to < from ? -1 : 1;\n    for (let i = from; i !== to; i += delta) {\n        array[i] = array[i + delta];\n    }\n    array[to] = target;\n}\n/**\n * Moves an item from one array to another.\n * @param currentArray Array from which to transfer the item.\n * @param targetArray Array into which to put the item.\n * @param currentIndex Index of the item in its current array.\n * @param targetIndex Index at which to insert the item.\n */\nfunction transferArrayItem(currentArray, targetArray, currentIndex, targetIndex) {\n    const from = clamp(currentIndex, currentArray.length - 1);\n    const to = clamp(targetIndex, targetArray.length);\n    if (currentArray.length) {\n        targetArray.splice(to, 0, currentArray.splice(from, 1)[0]);\n    }\n}\n/**\n * Copies an item from one array to another, leaving it in its\n * original position in current array.\n * @param currentArray Array from which to copy the item.\n * @param targetArray Array into which is copy the item.\n * @param currentIndex Index of the item in its current array.\n * @param targetIndex Index at which to insert the item.\n *\n */\nfunction copyArrayItem(currentArray, targetArray, currentIndex, targetIndex) {\n    const to = clamp(targetIndex, targetArray.length);\n    if (currentArray.length) {\n        targetArray.splice(to, 0, currentArray[currentIndex]);\n    }\n}\n/** Clamps a number between zero and a maximum. */\nfunction clamp(value, max) {\n    return Math.max(0, Math.min(max, value));\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Strategy that only supports sorting along a single axis.\n * Items are reordered using CSS transforms which allows for sorting to be animated.\n * @docs-private\n */\nclass SingleAxisSortStrategy {\n    constructor(_element, _dragDropRegistry) {\n        this._element = _element;\n        this._dragDropRegistry = _dragDropRegistry;\n        /** Cache of the dimensions of all the items inside the container. */\n        this._itemPositions = [];\n        /** Direction in which the list is oriented. */\n        this.orientation = 'vertical';\n        /**\n         * Keeps track of the item that was last swapped with the dragged item, as well as what direction\n         * the pointer was moving in when the swap occurred and whether the user's pointer continued to\n         * overlap with the swapped item after the swapping occurred.\n         */\n        this._previousSwap = {\n            drag: null,\n            delta: 0,\n            overlaps: false,\n        };\n    }\n    /**\n     * To be called when the drag sequence starts.\n     * @param items Items that are currently in the list.\n     */\n    start(items) {\n        this.withItems(items);\n    }\n    /**\n     * To be called when an item is being sorted.\n     * @param item Item to be sorted.\n     * @param pointerX Position of the item along the X axis.\n     * @param pointerY Position of the item along the Y axis.\n     * @param pointerDelta Direction in which the pointer is moving along each axis.\n     */\n    sort(item, pointerX, pointerY, pointerDelta) {\n        const siblings = this._itemPositions;\n        const newIndex = this._getItemIndexFromPointerPosition(item, pointerX, pointerY, pointerDelta);\n        if (newIndex === -1 && siblings.length > 0) {\n            return null;\n        }\n        const isHorizontal = this.orientation === 'horizontal';\n        const currentIndex = siblings.findIndex(currentItem => currentItem.drag === item);\n        const siblingAtNewPosition = siblings[newIndex];\n        const currentPosition = siblings[currentIndex].clientRect;\n        const newPosition = siblingAtNewPosition.clientRect;\n        const delta = currentIndex > newIndex ? 1 : -1;\n        // How many pixels the item's placeholder should be offset.\n        const itemOffset = this._getItemOffsetPx(currentPosition, newPosition, delta);\n        // How many pixels all the other items should be offset.\n        const siblingOffset = this._getSiblingOffsetPx(currentIndex, siblings, delta);\n        // Save the previous order of the items before moving the item to its new index.\n        // We use this to check whether an item has been moved as a result of the sorting.\n        const oldOrder = siblings.slice();\n        // Shuffle the array in place.\n        moveItemInArray(siblings, currentIndex, newIndex);\n        siblings.forEach((sibling, index) => {\n            // Don't do anything if the position hasn't changed.\n            if (oldOrder[index] === sibling) {\n                return;\n            }\n            const isDraggedItem = sibling.drag === item;\n            const offset = isDraggedItem ? itemOffset : siblingOffset;\n            const elementToOffset = isDraggedItem\n                ? item.getPlaceholderElement()\n                : sibling.drag.getRootElement();\n            // Update the offset to reflect the new position.\n            sibling.offset += offset;\n            // Since we're moving the items with a `transform`, we need to adjust their cached\n            // client rects to reflect their new position, as well as swap their positions in the cache.\n            // Note that we shouldn't use `getBoundingClientRect` here to update the cache, because the\n            // elements may be mid-animation which will give us a wrong result.\n            if (isHorizontal) {\n                // Round the transforms since some browsers will\n                // blur the elements, for sub-pixel transforms.\n                elementToOffset.style.transform = combineTransforms(`translate3d(${Math.round(sibling.offset)}px, 0, 0)`, sibling.initialTransform);\n                adjustClientRect(sibling.clientRect, 0, offset);\n            }\n            else {\n                elementToOffset.style.transform = combineTransforms(`translate3d(0, ${Math.round(sibling.offset)}px, 0)`, sibling.initialTransform);\n                adjustClientRect(sibling.clientRect, offset, 0);\n            }\n        });\n        // Note that it's important that we do this after the client rects have been adjusted.\n        this._previousSwap.overlaps = isInsideClientRect(newPosition, pointerX, pointerY);\n        this._previousSwap.drag = siblingAtNewPosition.drag;\n        this._previousSwap.delta = isHorizontal ? pointerDelta.x : pointerDelta.y;\n        return { previousIndex: currentIndex, currentIndex: newIndex };\n    }\n    /**\n     * Called when an item is being moved into the container.\n     * @param item Item that was moved into the container.\n     * @param pointerX Position of the item along the X axis.\n     * @param pointerY Position of the item along the Y axis.\n     * @param index Index at which the item entered. If omitted, the container will try to figure it\n     *   out automatically.\n     */\n    enter(item, pointerX, pointerY, index) {\n        const newIndex = index == null || index < 0\n            ? // We use the coordinates of where the item entered the drop\n                // zone to figure out at which index it should be inserted.\n                this._getItemIndexFromPointerPosition(item, pointerX, pointerY)\n            : index;\n        const activeDraggables = this._activeDraggables;\n        const currentIndex = activeDraggables.indexOf(item);\n        const placeholder = item.getPlaceholderElement();\n        let newPositionReference = activeDraggables[newIndex];\n        // If the item at the new position is the same as the item that is being dragged,\n        // it means that we're trying to restore the item to its initial position. In this\n        // case we should use the next item from the list as the reference.\n        if (newPositionReference === item) {\n            newPositionReference = activeDraggables[newIndex + 1];\n        }\n        // If we didn't find a new position reference, it means that either the item didn't start off\n        // in this container, or that the item requested to be inserted at the end of the list.\n        if (!newPositionReference &&\n            (newIndex == null || newIndex === -1 || newIndex < activeDraggables.length - 1) &&\n            this._shouldEnterAsFirstChild(pointerX, pointerY)) {\n            newPositionReference = activeDraggables[0];\n        }\n        // Since the item may be in the `activeDraggables` already (e.g. if the user dragged it\n        // into another container and back again), we have to ensure that it isn't duplicated.\n        if (currentIndex > -1) {\n            activeDraggables.splice(currentIndex, 1);\n        }\n        // Don't use items that are being dragged as a reference, because\n        // their element has been moved down to the bottom of the body.\n        if (newPositionReference && !this._dragDropRegistry.isDragging(newPositionReference)) {\n            const element = newPositionReference.getRootElement();\n            element.parentElement.insertBefore(placeholder, element);\n            activeDraggables.splice(newIndex, 0, item);\n        }\n        else {\n            coerceElement(this._element).appendChild(placeholder);\n            activeDraggables.push(item);\n        }\n        // The transform needs to be cleared so it doesn't throw off the measurements.\n        placeholder.style.transform = '';\n        // Note that usually `start` is called together with `enter` when an item goes into a new\n        // container. This will cache item positions, but we need to refresh them since the amount\n        // of items has changed.\n        this._cacheItemPositions();\n    }\n    /** Sets the items that are currently part of the list. */\n    withItems(items) {\n        this._activeDraggables = items.slice();\n        this._cacheItemPositions();\n    }\n    /** Assigns a sort predicate to the strategy. */\n    withSortPredicate(predicate) {\n        this._sortPredicate = predicate;\n    }\n    /** Resets the strategy to its initial state before dragging was started. */\n    reset() {\n        // TODO(crisbeto): may have to wait for the animations to finish.\n        this._activeDraggables.forEach(item => {\n            const rootElement = item.getRootElement();\n            if (rootElement) {\n                const initialTransform = this._itemPositions.find(p => p.drag === item)?.initialTransform;\n                rootElement.style.transform = initialTransform || '';\n            }\n        });\n        this._itemPositions = [];\n        this._activeDraggables = [];\n        this._previousSwap.drag = null;\n        this._previousSwap.delta = 0;\n        this._previousSwap.overlaps = false;\n    }\n    /**\n     * Gets a snapshot of items currently in the list.\n     * Can include items that we dragged in from another list.\n     */\n    getActiveItemsSnapshot() {\n        return this._activeDraggables;\n    }\n    /** Gets the index of a specific item. */\n    getItemIndex(item) {\n        // Items are sorted always by top/left in the cache, however they flow differently in RTL.\n        // The rest of the logic still stands no matter what orientation we're in, however\n        // we need to invert the array when determining the index.\n        const items = this.orientation === 'horizontal' && this.direction === 'rtl'\n            ? this._itemPositions.slice().reverse()\n            : this._itemPositions;\n        return items.findIndex(currentItem => currentItem.drag === item);\n    }\n    /** Used to notify the strategy that the scroll position has changed. */\n    updateOnScroll(topDifference, leftDifference) {\n        // Since we know the amount that the user has scrolled we can shift all of the\n        // client rectangles ourselves. This is cheaper than re-measuring everything and\n        // we can avoid inconsistent behavior where we might be measuring the element before\n        // its position has changed.\n        this._itemPositions.forEach(({ clientRect }) => {\n            adjustClientRect(clientRect, topDifference, leftDifference);\n        });\n        // We need two loops for this, because we want all of the cached\n        // positions to be up-to-date before we re-sort the item.\n        this._itemPositions.forEach(({ drag }) => {\n            if (this._dragDropRegistry.isDragging(drag)) {\n                // We need to re-sort the item manually, because the pointer move\n                // events won't be dispatched while the user is scrolling.\n                drag._sortFromLastPointerPosition();\n            }\n        });\n    }\n    /** Refreshes the position cache of the items and sibling containers. */\n    _cacheItemPositions() {\n        const isHorizontal = this.orientation === 'horizontal';\n        this._itemPositions = this._activeDraggables\n            .map(drag => {\n            const elementToMeasure = drag.getVisibleElement();\n            return {\n                drag,\n                offset: 0,\n                initialTransform: elementToMeasure.style.transform || '',\n                clientRect: getMutableClientRect(elementToMeasure),\n            };\n        })\n            .sort((a, b) => {\n            return isHorizontal\n                ? a.clientRect.left - b.clientRect.left\n                : a.clientRect.top - b.clientRect.top;\n        });\n    }\n    /**\n     * Gets the offset in pixels by which the item that is being dragged should be moved.\n     * @param currentPosition Current position of the item.\n     * @param newPosition Position of the item where the current item should be moved.\n     * @param delta Direction in which the user is moving.\n     */\n    _getItemOffsetPx(currentPosition, newPosition, delta) {\n        const isHorizontal = this.orientation === 'horizontal';\n        let itemOffset = isHorizontal\n            ? newPosition.left - currentPosition.left\n            : newPosition.top - currentPosition.top;\n        // Account for differences in the item width/height.\n        if (delta === -1) {\n            itemOffset += isHorizontal\n                ? newPosition.width - currentPosition.width\n                : newPosition.height - currentPosition.height;\n        }\n        return itemOffset;\n    }\n    /**\n     * Gets the offset in pixels by which the items that aren't being dragged should be moved.\n     * @param currentIndex Index of the item currently being dragged.\n     * @param siblings All of the items in the list.\n     * @param delta Direction in which the user is moving.\n     */\n    _getSiblingOffsetPx(currentIndex, siblings, delta) {\n        const isHorizontal = this.orientation === 'horizontal';\n        const currentPosition = siblings[currentIndex].clientRect;\n        const immediateSibling = siblings[currentIndex + delta * -1];\n        let siblingOffset = currentPosition[isHorizontal ? 'width' : 'height'] * delta;\n        if (immediateSibling) {\n            const start = isHorizontal ? 'left' : 'top';\n            const end = isHorizontal ? 'right' : 'bottom';\n            // Get the spacing between the start of the current item and the end of the one immediately\n            // after it in the direction in which the user is dragging, or vice versa. We add it to the\n            // offset in order to push the element to where it will be when it's inline and is influenced\n            // by the `margin` of its siblings.\n            if (delta === -1) {\n                siblingOffset -= immediateSibling.clientRect[start] - currentPosition[end];\n            }\n            else {\n                siblingOffset += currentPosition[start] - immediateSibling.clientRect[end];\n            }\n        }\n        return siblingOffset;\n    }\n    /**\n     * Checks if pointer is entering in the first position\n     * @param pointerX Position of the user's pointer along the X axis.\n     * @param pointerY Position of the user's pointer along the Y axis.\n     */\n    _shouldEnterAsFirstChild(pointerX, pointerY) {\n        if (!this._activeDraggables.length) {\n            return false;\n        }\n        const itemPositions = this._itemPositions;\n        const isHorizontal = this.orientation === 'horizontal';\n        // `itemPositions` are sorted by position while `activeDraggables` are sorted by child index\n        // check if container is using some sort of \"reverse\" ordering (eg: flex-direction: row-reverse)\n        const reversed = itemPositions[0].drag !== this._activeDraggables[0];\n        if (reversed) {\n            const lastItemRect = itemPositions[itemPositions.length - 1].clientRect;\n            return isHorizontal ? pointerX >= lastItemRect.right : pointerY >= lastItemRect.bottom;\n        }\n        else {\n            const firstItemRect = itemPositions[0].clientRect;\n            return isHorizontal ? pointerX <= firstItemRect.left : pointerY <= firstItemRect.top;\n        }\n    }\n    /**\n     * Gets the index of an item in the drop container, based on the position of the user's pointer.\n     * @param item Item that is being sorted.\n     * @param pointerX Position of the user's pointer along the X axis.\n     * @param pointerY Position of the user's pointer along the Y axis.\n     * @param delta Direction in which the user is moving their pointer.\n     */\n    _getItemIndexFromPointerPosition(item, pointerX, pointerY, delta) {\n        const isHorizontal = this.orientation === 'horizontal';\n        const index = this._itemPositions.findIndex(({ drag, clientRect }) => {\n            // Skip the item itself.\n            if (drag === item) {\n                return false;\n            }\n            if (delta) {\n                const direction = isHorizontal ? delta.x : delta.y;\n                // If the user is still hovering over the same item as last time, their cursor hasn't left\n                // the item after we made the swap, and they didn't change the direction in which they're\n                // dragging, we don't consider it a direction swap.\n                if (drag === this._previousSwap.drag &&\n                    this._previousSwap.overlaps &&\n                    direction === this._previousSwap.delta) {\n                    return false;\n                }\n            }\n            return isHorizontal\n                ? // Round these down since most browsers report client rects with\n                    // sub-pixel precision, whereas the pointer coordinates are rounded to pixels.\n                    pointerX >= Math.floor(clientRect.left) && pointerX < Math.floor(clientRect.right)\n                : pointerY >= Math.floor(clientRect.top) && pointerY < Math.floor(clientRect.bottom);\n        });\n        return index === -1 || !this._sortPredicate(index, item) ? -1 : index;\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Proximity, as a ratio to width/height, at which a\n * dragged item will affect the drop container.\n */\nconst DROP_PROXIMITY_THRESHOLD = 0.05;\n/**\n * Proximity, as a ratio to width/height at which to start auto-scrolling the drop list or the\n * viewport. The value comes from trying it out manually until it feels right.\n */\nconst SCROLL_PROXIMITY_THRESHOLD = 0.05;\n/**\n * Reference to a drop list. Used to manipulate or dispose of the container.\n */\nclass DropListRef {\n    constructor(element, _dragDropRegistry, _document, _ngZone, _viewportRuler) {\n        this._dragDropRegistry = _dragDropRegistry;\n        this._ngZone = _ngZone;\n        this._viewportRuler = _viewportRuler;\n        /** Whether starting a dragging sequence from this container is disabled. */\n        this.disabled = false;\n        /** Whether sorting items within the list is disabled. */\n        this.sortingDisabled = false;\n        /**\n         * Whether auto-scrolling the view when the user\n         * moves their pointer close to the edges is disabled.\n         */\n        this.autoScrollDisabled = false;\n        /** Number of pixels to scroll for each frame when auto-scrolling an element. */\n        this.autoScrollStep = 2;\n        /**\n         * Function that is used to determine whether an item\n         * is allowed to be moved into a drop container.\n         */\n        this.enterPredicate = () => true;\n        /** Function that is used to determine whether an item can be sorted into a particular index. */\n        this.sortPredicate = () => true;\n        /** Emits right before dragging has started. */\n        this.beforeStarted = new Subject();\n        /**\n         * Emits when the user has moved a new drag item into this container.\n         */\n        this.entered = new Subject();\n        /**\n         * Emits when the user removes an item from the container\n         * by dragging it into another container.\n         */\n        this.exited = new Subject();\n        /** Emits when the user drops an item inside the container. */\n        this.dropped = new Subject();\n        /** Emits as the user is swapping items while actively dragging. */\n        this.sorted = new Subject();\n        /** Emits when a dragging sequence is started in a list connected to the current one. */\n        this.receivingStarted = new Subject();\n        /** Emits when a dragging sequence is stopped from a list connected to the current one. */\n        this.receivingStopped = new Subject();\n        /** Whether an item in the list is being dragged. */\n        this._isDragging = false;\n        /** Draggable items in the container. */\n        this._draggables = [];\n        /** Drop lists that are connected to the current one. */\n        this._siblings = [];\n        /** Connected siblings that currently have a dragged item. */\n        this._activeSiblings = new Set();\n        /** Subscription to the window being scrolled. */\n        this._viewportScrollSubscription = Subscription.EMPTY;\n        /** Vertical direction in which the list is currently scrolling. */\n        this._verticalScrollDirection = 0 /* AutoScrollVerticalDirection.NONE */;\n        /** Horizontal direction in which the list is currently scrolling. */\n        this._horizontalScrollDirection = 0 /* AutoScrollHorizontalDirection.NONE */;\n        /** Used to signal to the current auto-scroll sequence when to stop. */\n        this._stopScrollTimers = new Subject();\n        /** Shadow root of the current element. Necessary for `elementFromPoint` to resolve correctly. */\n        this._cachedShadowRoot = null;\n        /** Starts the interval that'll auto-scroll the element. */\n        this._startScrollInterval = () => {\n            this._stopScrolling();\n            interval(0, animationFrameScheduler)\n                .pipe(takeUntil(this._stopScrollTimers))\n                .subscribe(() => {\n                const node = this._scrollNode;\n                const scrollStep = this.autoScrollStep;\n                if (this._verticalScrollDirection === 1 /* AutoScrollVerticalDirection.UP */) {\n                    node.scrollBy(0, -scrollStep);\n                }\n                else if (this._verticalScrollDirection === 2 /* AutoScrollVerticalDirection.DOWN */) {\n                    node.scrollBy(0, scrollStep);\n                }\n                if (this._horizontalScrollDirection === 1 /* AutoScrollHorizontalDirection.LEFT */) {\n                    node.scrollBy(-scrollStep, 0);\n                }\n                else if (this._horizontalScrollDirection === 2 /* AutoScrollHorizontalDirection.RIGHT */) {\n                    node.scrollBy(scrollStep, 0);\n                }\n            });\n        };\n        this.element = coerceElement(element);\n        this._document = _document;\n        this.withScrollableParents([this.element]);\n        _dragDropRegistry.registerDropContainer(this);\n        this._parentPositions = new ParentPositionTracker(_document);\n        this._sortStrategy = new SingleAxisSortStrategy(this.element, _dragDropRegistry);\n        this._sortStrategy.withSortPredicate((index, item) => this.sortPredicate(index, item, this));\n    }\n    /** Removes the drop list functionality from the DOM element. */\n    dispose() {\n        this._stopScrolling();\n        this._stopScrollTimers.complete();\n        this._viewportScrollSubscription.unsubscribe();\n        this.beforeStarted.complete();\n        this.entered.complete();\n        this.exited.complete();\n        this.dropped.complete();\n        this.sorted.complete();\n        this.receivingStarted.complete();\n        this.receivingStopped.complete();\n        this._activeSiblings.clear();\n        this._scrollNode = null;\n        this._parentPositions.clear();\n        this._dragDropRegistry.removeDropContainer(this);\n    }\n    /** Whether an item from this list is currently being dragged. */\n    isDragging() {\n        return this._isDragging;\n    }\n    /** Starts dragging an item. */\n    start() {\n        this._draggingStarted();\n        this._notifyReceivingSiblings();\n    }\n    /**\n     * Attempts to move an item into the container.\n     * @param item Item that was moved into the container.\n     * @param pointerX Position of the item along the X axis.\n     * @param pointerY Position of the item along the Y axis.\n     * @param index Index at which the item entered. If omitted, the container will try to figure it\n     *   out automatically.\n     */\n    enter(item, pointerX, pointerY, index) {\n        this._draggingStarted();\n        // If sorting is disabled, we want the item to return to its starting\n        // position if the user is returning it to its initial container.\n        if (index == null && this.sortingDisabled) {\n            index = this._draggables.indexOf(item);\n        }\n        this._sortStrategy.enter(item, pointerX, pointerY, index);\n        // Note that this usually happens inside `_draggingStarted` as well, but the dimensions\n        // can change when the sort strategy moves the item around inside `enter`.\n        this._cacheParentPositions();\n        // Notify siblings at the end so that the item has been inserted into the `activeDraggables`.\n        this._notifyReceivingSiblings();\n        this.entered.next({ item, container: this, currentIndex: this.getItemIndex(item) });\n    }\n    /**\n     * Removes an item from the container after it was dragged into another container by the user.\n     * @param item Item that was dragged out.\n     */\n    exit(item) {\n        this._reset();\n        this.exited.next({ item, container: this });\n    }\n    /**\n     * Drops an item into this container.\n     * @param item Item being dropped into the container.\n     * @param currentIndex Index at which the item should be inserted.\n     * @param previousIndex Index of the item when dragging started.\n     * @param previousContainer Container from which the item got dragged in.\n     * @param isPointerOverContainer Whether the user's pointer was over the\n     *    container when the item was dropped.\n     * @param distance Distance the user has dragged since the start of the dragging sequence.\n     * @param event Event that triggered the dropping sequence.\n     *\n     * @breaking-change 15.0.0 `previousIndex` and `event` parameters to become required.\n     */\n    drop(item, currentIndex, previousIndex, previousContainer, isPointerOverContainer, distance, dropPoint, event = {}) {\n        this._reset();\n        this.dropped.next({\n            item,\n            currentIndex,\n            previousIndex,\n            container: this,\n            previousContainer,\n            isPointerOverContainer,\n            distance,\n            dropPoint,\n            event,\n        });\n    }\n    /**\n     * Sets the draggable items that are a part of this list.\n     * @param items Items that are a part of this list.\n     */\n    withItems(items) {\n        const previousItems = this._draggables;\n        this._draggables = items;\n        items.forEach(item => item._withDropContainer(this));\n        if (this.isDragging()) {\n            const draggedItems = previousItems.filter(item => item.isDragging());\n            // If all of the items being dragged were removed\n            // from the list, abort the current drag sequence.\n            if (draggedItems.every(item => items.indexOf(item) === -1)) {\n                this._reset();\n            }\n            else {\n                this._sortStrategy.withItems(this._draggables);\n            }\n        }\n        return this;\n    }\n    /** Sets the layout direction of the drop list. */\n    withDirection(direction) {\n        this._sortStrategy.direction = direction;\n        return this;\n    }\n    /**\n     * Sets the containers that are connected to this one. When two or more containers are\n     * connected, the user will be allowed to transfer items between them.\n     * @param connectedTo Other containers that the current containers should be connected to.\n     */\n    connectedTo(connectedTo) {\n        this._siblings = connectedTo.slice();\n        return this;\n    }\n    /**\n     * Sets the orientation of the container.\n     * @param orientation New orientation for the container.\n     */\n    withOrientation(orientation) {\n        // TODO(crisbeto): eventually we should be constructing the new sort strategy here based on\n        // the new orientation. For now we can assume that it'll always be `SingleAxisSortStrategy`.\n        this._sortStrategy.orientation = orientation;\n        return this;\n    }\n    /**\n     * Sets which parent elements are can be scrolled while the user is dragging.\n     * @param elements Elements that can be scrolled.\n     */\n    withScrollableParents(elements) {\n        const element = coerceElement(this.element);\n        // We always allow the current element to be scrollable\n        // so we need to ensure that it's in the array.\n        this._scrollableElements =\n            elements.indexOf(element) === -1 ? [element, ...elements] : elements.slice();\n        return this;\n    }\n    /** Gets the scrollable parents that are registered with this drop container. */\n    getScrollableParents() {\n        return this._scrollableElements;\n    }\n    /**\n     * Figures out the index of an item in the container.\n     * @param item Item whose index should be determined.\n     */\n    getItemIndex(item) {\n        return this._isDragging\n            ? this._sortStrategy.getItemIndex(item)\n            : this._draggables.indexOf(item);\n    }\n    /**\n     * Whether the list is able to receive the item that\n     * is currently being dragged inside a connected drop list.\n     */\n    isReceiving() {\n        return this._activeSiblings.size > 0;\n    }\n    /**\n     * Sorts an item inside the container based on its position.\n     * @param item Item to be sorted.\n     * @param pointerX Position of the item along the X axis.\n     * @param pointerY Position of the item along the Y axis.\n     * @param pointerDelta Direction in which the pointer is moving along each axis.\n     */\n    _sortItem(item, pointerX, pointerY, pointerDelta) {\n        // Don't sort the item if sorting is disabled or it's out of range.\n        if (this.sortingDisabled ||\n            !this._clientRect ||\n            !isPointerNearClientRect(this._clientRect, DROP_PROXIMITY_THRESHOLD, pointerX, pointerY)) {\n            return;\n        }\n        const result = this._sortStrategy.sort(item, pointerX, pointerY, pointerDelta);\n        if (result) {\n            this.sorted.next({\n                previousIndex: result.previousIndex,\n                currentIndex: result.currentIndex,\n                container: this,\n                item,\n            });\n        }\n    }\n    /**\n     * Checks whether the user's pointer is close to the edges of either the\n     * viewport or the drop list and starts the auto-scroll sequence.\n     * @param pointerX User's pointer position along the x axis.\n     * @param pointerY User's pointer position along the y axis.\n     */\n    _startScrollingIfNecessary(pointerX, pointerY) {\n        if (this.autoScrollDisabled) {\n            return;\n        }\n        let scrollNode;\n        let verticalScrollDirection = 0 /* AutoScrollVerticalDirection.NONE */;\n        let horizontalScrollDirection = 0 /* AutoScrollHorizontalDirection.NONE */;\n        // Check whether we should start scrolling any of the parent containers.\n        this._parentPositions.positions.forEach((position, element) => {\n            // We have special handling for the `document` below. Also this would be\n            // nicer with a  for...of loop, but it requires changing a compiler flag.\n            if (element === this._document || !position.clientRect || scrollNode) {\n                return;\n            }\n            if (isPointerNearClientRect(position.clientRect, DROP_PROXIMITY_THRESHOLD, pointerX, pointerY)) {\n                [verticalScrollDirection, horizontalScrollDirection] = getElementScrollDirections(element, position.clientRect, pointerX, pointerY);\n                if (verticalScrollDirection || horizontalScrollDirection) {\n                    scrollNode = element;\n                }\n            }\n        });\n        // Otherwise check if we can start scrolling the viewport.\n        if (!verticalScrollDirection && !horizontalScrollDirection) {\n            const { width, height } = this._viewportRuler.getViewportSize();\n            const clientRect = {\n                width,\n                height,\n                top: 0,\n                right: width,\n                bottom: height,\n                left: 0,\n            };\n            verticalScrollDirection = getVerticalScrollDirection(clientRect, pointerY);\n            horizontalScrollDirection = getHorizontalScrollDirection(clientRect, pointerX);\n            scrollNode = window;\n        }\n        if (scrollNode &&\n            (verticalScrollDirection !== this._verticalScrollDirection ||\n                horizontalScrollDirection !== this._horizontalScrollDirection ||\n                scrollNode !== this._scrollNode)) {\n            this._verticalScrollDirection = verticalScrollDirection;\n            this._horizontalScrollDirection = horizontalScrollDirection;\n            this._scrollNode = scrollNode;\n            if ((verticalScrollDirection || horizontalScrollDirection) && scrollNode) {\n                this._ngZone.runOutsideAngular(this._startScrollInterval);\n            }\n            else {\n                this._stopScrolling();\n            }\n        }\n    }\n    /** Stops any currently-running auto-scroll sequences. */\n    _stopScrolling() {\n        this._stopScrollTimers.next();\n    }\n    /** Starts the dragging sequence within the list. */\n    _draggingStarted() {\n        const styles = coerceElement(this.element).style;\n        this.beforeStarted.next();\n        this._isDragging = true;\n        // We need to disable scroll snapping while the user is dragging, because it breaks automatic\n        // scrolling. The browser seems to round the value based on the snapping points which means\n        // that we can't increment/decrement the scroll position.\n        this._initialScrollSnap = styles.msScrollSnapType || styles.scrollSnapType || '';\n        styles.scrollSnapType = styles.msScrollSnapType = 'none';\n        this._sortStrategy.start(this._draggables);\n        this._cacheParentPositions();\n        this._viewportScrollSubscription.unsubscribe();\n        this._listenToScrollEvents();\n    }\n    /** Caches the positions of the configured scrollable parents. */\n    _cacheParentPositions() {\n        const element = coerceElement(this.element);\n        this._parentPositions.cache(this._scrollableElements);\n        // The list element is always in the `scrollableElements`\n        // so we can take advantage of the cached `ClientRect`.\n        this._clientRect = this._parentPositions.positions.get(element).clientRect;\n    }\n    /** Resets the container to its initial state. */\n    _reset() {\n        this._isDragging = false;\n        const styles = coerceElement(this.element).style;\n        styles.scrollSnapType = styles.msScrollSnapType = this._initialScrollSnap;\n        this._siblings.forEach(sibling => sibling._stopReceiving(this));\n        this._sortStrategy.reset();\n        this._stopScrolling();\n        this._viewportScrollSubscription.unsubscribe();\n        this._parentPositions.clear();\n    }\n    /**\n     * Checks whether the user's pointer is positioned over the container.\n     * @param x Pointer position along the X axis.\n     * @param y Pointer position along the Y axis.\n     */\n    _isOverContainer(x, y) {\n        return this._clientRect != null && isInsideClientRect(this._clientRect, x, y);\n    }\n    /**\n     * Figures out whether an item should be moved into a sibling\n     * drop container, based on its current position.\n     * @param item Drag item that is being moved.\n     * @param x Position of the item along the X axis.\n     * @param y Position of the item along the Y axis.\n     */\n    _getSiblingContainerFromPosition(item, x, y) {\n        return this._siblings.find(sibling => sibling._canReceive(item, x, y));\n    }\n    /**\n     * Checks whether the drop list can receive the passed-in item.\n     * @param item Item that is being dragged into the list.\n     * @param x Position of the item along the X axis.\n     * @param y Position of the item along the Y axis.\n     */\n    _canReceive(item, x, y) {\n        if (!this._clientRect ||\n            !isInsideClientRect(this._clientRect, x, y) ||\n            !this.enterPredicate(item, this)) {\n            return false;\n        }\n        const elementFromPoint = this._getShadowRoot().elementFromPoint(x, y);\n        // If there's no element at the pointer position, then\n        // the client rect is probably scrolled out of the view.\n        if (!elementFromPoint) {\n            return false;\n        }\n        const nativeElement = coerceElement(this.element);\n        // The `ClientRect`, that we're using to find the container over which the user is\n        // hovering, doesn't give us any information on whether the element has been scrolled\n        // out of the view or whether it's overlapping with other containers. This means that\n        // we could end up transferring the item into a container that's invisible or is positioned\n        // below another one. We use the result from `elementFromPoint` to get the top-most element\n        // at the pointer position and to find whether it's one of the intersecting drop containers.\n        return elementFromPoint === nativeElement || nativeElement.contains(elementFromPoint);\n    }\n    /**\n     * Called by one of the connected drop lists when a dragging sequence has started.\n     * @param sibling Sibling in which dragging has started.\n     */\n    _startReceiving(sibling, items) {\n        const activeSiblings = this._activeSiblings;\n        if (!activeSiblings.has(sibling) &&\n            items.every(item => {\n                // Note that we have to add an exception to the `enterPredicate` for items that started off\n                // in this drop list. The drag ref has logic that allows an item to return to its initial\n                // container, if it has left the initial container and none of the connected containers\n                // allow it to enter. See `DragRef._updateActiveDropContainer` for more context.\n                return this.enterPredicate(item, this) || this._draggables.indexOf(item) > -1;\n            })) {\n            activeSiblings.add(sibling);\n            this._cacheParentPositions();\n            this._listenToScrollEvents();\n            this.receivingStarted.next({\n                initiator: sibling,\n                receiver: this,\n                items,\n            });\n        }\n    }\n    /**\n     * Called by a connected drop list when dragging has stopped.\n     * @param sibling Sibling whose dragging has stopped.\n     */\n    _stopReceiving(sibling) {\n        this._activeSiblings.delete(sibling);\n        this._viewportScrollSubscription.unsubscribe();\n        this.receivingStopped.next({ initiator: sibling, receiver: this });\n    }\n    /**\n     * Starts listening to scroll events on the viewport.\n     * Used for updating the internal state of the list.\n     */\n    _listenToScrollEvents() {\n        this._viewportScrollSubscription = this._dragDropRegistry\n            .scrolled(this._getShadowRoot())\n            .subscribe(event => {\n            if (this.isDragging()) {\n                const scrollDifference = this._parentPositions.handleScroll(event);\n                if (scrollDifference) {\n                    this._sortStrategy.updateOnScroll(scrollDifference.top, scrollDifference.left);\n                }\n            }\n            else if (this.isReceiving()) {\n                this._cacheParentPositions();\n            }\n        });\n    }\n    /**\n     * Lazily resolves and returns the shadow root of the element. We do this in a function, rather\n     * than saving it in property directly on init, because we want to resolve it as late as possible\n     * in order to ensure that the element has been moved into the shadow DOM. Doing it inside the\n     * constructor might be too early if the element is inside of something like `ngFor` or `ngIf`.\n     */\n    _getShadowRoot() {\n        if (!this._cachedShadowRoot) {\n            const shadowRoot = _getShadowRoot(coerceElement(this.element));\n            this._cachedShadowRoot = (shadowRoot || this._document);\n        }\n        return this._cachedShadowRoot;\n    }\n    /** Notifies any siblings that may potentially receive the item. */\n    _notifyReceivingSiblings() {\n        const draggedItems = this._sortStrategy\n            .getActiveItemsSnapshot()\n            .filter(item => item.isDragging());\n        this._siblings.forEach(sibling => sibling._startReceiving(this, draggedItems));\n    }\n}\n/**\n * Gets whether the vertical auto-scroll direction of a node.\n * @param clientRect Dimensions of the node.\n * @param pointerY Position of the user's pointer along the y axis.\n */\nfunction getVerticalScrollDirection(clientRect, pointerY) {\n    const { top, bottom, height } = clientRect;\n    const yThreshold = height * SCROLL_PROXIMITY_THRESHOLD;\n    if (pointerY >= top - yThreshold && pointerY <= top + yThreshold) {\n        return 1 /* AutoScrollVerticalDirection.UP */;\n    }\n    else if (pointerY >= bottom - yThreshold && pointerY <= bottom + yThreshold) {\n        return 2 /* AutoScrollVerticalDirection.DOWN */;\n    }\n    return 0 /* AutoScrollVerticalDirection.NONE */;\n}\n/**\n * Gets whether the horizontal auto-scroll direction of a node.\n * @param clientRect Dimensions of the node.\n * @param pointerX Position of the user's pointer along the x axis.\n */\nfunction getHorizontalScrollDirection(clientRect, pointerX) {\n    const { left, right, width } = clientRect;\n    const xThreshold = width * SCROLL_PROXIMITY_THRESHOLD;\n    if (pointerX >= left - xThreshold && pointerX <= left + xThreshold) {\n        return 1 /* AutoScrollHorizontalDirection.LEFT */;\n    }\n    else if (pointerX >= right - xThreshold && pointerX <= right + xThreshold) {\n        return 2 /* AutoScrollHorizontalDirection.RIGHT */;\n    }\n    return 0 /* AutoScrollHorizontalDirection.NONE */;\n}\n/**\n * Gets the directions in which an element node should be scrolled,\n * assuming that the user's pointer is already within it scrollable region.\n * @param element Element for which we should calculate the scroll direction.\n * @param clientRect Bounding client rectangle of the element.\n * @param pointerX Position of the user's pointer along the x axis.\n * @param pointerY Position of the user's pointer along the y axis.\n */\nfunction getElementScrollDirections(element, clientRect, pointerX, pointerY) {\n    const computedVertical = getVerticalScrollDirection(clientRect, pointerY);\n    const computedHorizontal = getHorizontalScrollDirection(clientRect, pointerX);\n    let verticalScrollDirection = 0 /* AutoScrollVerticalDirection.NONE */;\n    let horizontalScrollDirection = 0 /* AutoScrollHorizontalDirection.NONE */;\n    // Note that we here we do some extra checks for whether the element is actually scrollable in\n    // a certain direction and we only assign the scroll direction if it is. We do this so that we\n    // can allow other elements to be scrolled, if the current element can't be scrolled anymore.\n    // This allows us to handle cases where the scroll regions of two scrollable elements overlap.\n    if (computedVertical) {\n        const scrollTop = element.scrollTop;\n        if (computedVertical === 1 /* AutoScrollVerticalDirection.UP */) {\n            if (scrollTop > 0) {\n                verticalScrollDirection = 1 /* AutoScrollVerticalDirection.UP */;\n            }\n        }\n        else if (element.scrollHeight - scrollTop > element.clientHeight) {\n            verticalScrollDirection = 2 /* AutoScrollVerticalDirection.DOWN */;\n        }\n    }\n    if (computedHorizontal) {\n        const scrollLeft = element.scrollLeft;\n        if (computedHorizontal === 1 /* AutoScrollHorizontalDirection.LEFT */) {\n            if (scrollLeft > 0) {\n                horizontalScrollDirection = 1 /* AutoScrollHorizontalDirection.LEFT */;\n            }\n        }\n        else if (element.scrollWidth - scrollLeft > element.clientWidth) {\n            horizontalScrollDirection = 2 /* AutoScrollHorizontalDirection.RIGHT */;\n        }\n    }\n    return [verticalScrollDirection, horizontalScrollDirection];\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Event options that can be used to bind an active, capturing event. */\nconst activeCapturingEventOptions = normalizePassiveListenerOptions({\n    passive: false,\n    capture: true,\n});\n/**\n * Service that keeps track of all the drag item and drop container\n * instances, and manages global event listeners on the `document`.\n * @docs-private\n */\n// Note: this class is generic, rather than referencing CdkDrag and CdkDropList directly, in order\n// to avoid circular imports. If we were to reference them here, importing the registry into the\n// classes that are registering themselves will introduce a circular import.\nclass DragDropRegistry {\n    constructor(_ngZone, _document) {\n        this._ngZone = _ngZone;\n        /** Registered drop container instances. */\n        this._dropInstances = new Set();\n        /** Registered drag item instances. */\n        this._dragInstances = new Set();\n        /** Drag item instances that are currently being dragged. */\n        this._activeDragInstances = [];\n        /** Keeps track of the event listeners that we've bound to the `document`. */\n        this._globalListeners = new Map();\n        /**\n         * Predicate function to check if an item is being dragged.  Moved out into a property,\n         * because it'll be called a lot and we don't want to create a new function every time.\n         */\n        this._draggingPredicate = (item) => item.isDragging();\n        /**\n         * Emits the `touchmove` or `mousemove` events that are dispatched\n         * while the user is dragging a drag item instance.\n         */\n        this.pointerMove = new Subject();\n        /**\n         * Emits the `touchend` or `mouseup` events that are dispatched\n         * while the user is dragging a drag item instance.\n         */\n        this.pointerUp = new Subject();\n        /**\n         * Emits when the viewport has been scrolled while the user is dragging an item.\n         * @deprecated To be turned into a private member. Use the `scrolled` method instead.\n         * @breaking-change 13.0.0\n         */\n        this.scroll = new Subject();\n        /**\n         * Event listener that will prevent the default browser action while the user is dragging.\n         * @param event Event whose default action should be prevented.\n         */\n        this._preventDefaultWhileDragging = (event) => {\n            if (this._activeDragInstances.length > 0) {\n                event.preventDefault();\n            }\n        };\n        /** Event listener for `touchmove` that is bound even if no dragging is happening. */\n        this._persistentTouchmoveListener = (event) => {\n            if (this._activeDragInstances.length > 0) {\n                // Note that we only want to prevent the default action after dragging has actually started.\n                // Usually this is the same time at which the item is added to the `_activeDragInstances`,\n                // but it could be pushed back if the user has set up a drag delay or threshold.\n                if (this._activeDragInstances.some(this._draggingPredicate)) {\n                    event.preventDefault();\n                }\n                this.pointerMove.next(event);\n            }\n        };\n        this._document = _document;\n    }\n    /** Adds a drop container to the registry. */\n    registerDropContainer(drop) {\n        if (!this._dropInstances.has(drop)) {\n            this._dropInstances.add(drop);\n        }\n    }\n    /** Adds a drag item instance to the registry. */\n    registerDragItem(drag) {\n        this._dragInstances.add(drag);\n        // The `touchmove` event gets bound once, ahead of time, because WebKit\n        // won't preventDefault on a dynamically-added `touchmove` listener.\n        // See https://bugs.webkit.org/show_bug.cgi?id=184250.\n        if (this._dragInstances.size === 1) {\n            this._ngZone.runOutsideAngular(() => {\n                // The event handler has to be explicitly active,\n                // because newer browsers make it passive by default.\n                this._document.addEventListener('touchmove', this._persistentTouchmoveListener, activeCapturingEventOptions);\n            });\n        }\n    }\n    /** Removes a drop container from the registry. */\n    removeDropContainer(drop) {\n        this._dropInstances.delete(drop);\n    }\n    /** Removes a drag item instance from the registry. */\n    removeDragItem(drag) {\n        this._dragInstances.delete(drag);\n        this.stopDragging(drag);\n        if (this._dragInstances.size === 0) {\n            this._document.removeEventListener('touchmove', this._persistentTouchmoveListener, activeCapturingEventOptions);\n        }\n    }\n    /**\n     * Starts the dragging sequence for a drag instance.\n     * @param drag Drag instance which is being dragged.\n     * @param event Event that initiated the dragging.\n     */\n    startDragging(drag, event) {\n        // Do not process the same drag twice to avoid memory leaks and redundant listeners\n        if (this._activeDragInstances.indexOf(drag) > -1) {\n            return;\n        }\n        this._activeDragInstances.push(drag);\n        if (this._activeDragInstances.length === 1) {\n            const isTouchEvent = event.type.startsWith('touch');\n            // We explicitly bind __active__ listeners here, because newer browsers will default to\n            // passive ones for `mousemove` and `touchmove`. The events need to be active, because we\n            // use `preventDefault` to prevent the page from scrolling while the user is dragging.\n            this._globalListeners\n                .set(isTouchEvent ? 'touchend' : 'mouseup', {\n                handler: (e) => this.pointerUp.next(e),\n                options: true,\n            })\n                .set('scroll', {\n                handler: (e) => this.scroll.next(e),\n                // Use capturing so that we pick up scroll changes in any scrollable nodes that aren't\n                // the document. See https://github.com/angular/components/issues/17144.\n                options: true,\n            })\n                // Preventing the default action on `mousemove` isn't enough to disable text selection\n                // on Safari so we need to prevent the selection event as well. Alternatively this can\n                // be done by setting `user-select: none` on the `body`, however it has causes a style\n                // recalculation which can be expensive on pages with a lot of elements.\n                .set('selectstart', {\n                handler: this._preventDefaultWhileDragging,\n                options: activeCapturingEventOptions,\n            });\n            // We don't have to bind a move event for touch drag sequences, because\n            // we already have a persistent global one bound from `registerDragItem`.\n            if (!isTouchEvent) {\n                this._globalListeners.set('mousemove', {\n                    handler: (e) => this.pointerMove.next(e),\n                    options: activeCapturingEventOptions,\n                });\n            }\n            this._ngZone.runOutsideAngular(() => {\n                this._globalListeners.forEach((config, name) => {\n                    this._document.addEventListener(name, config.handler, config.options);\n                });\n            });\n        }\n    }\n    /** Stops dragging a drag item instance. */\n    stopDragging(drag) {\n        const index = this._activeDragInstances.indexOf(drag);\n        if (index > -1) {\n            this._activeDragInstances.splice(index, 1);\n            if (this._activeDragInstances.length === 0) {\n                this._clearGlobalListeners();\n            }\n        }\n    }\n    /** Gets whether a drag item instance is currently being dragged. */\n    isDragging(drag) {\n        return this._activeDragInstances.indexOf(drag) > -1;\n    }\n    /**\n     * Gets a stream that will emit when any element on the page is scrolled while an item is being\n     * dragged.\n     * @param shadowRoot Optional shadow root that the current dragging sequence started from.\n     *   Top-level listeners won't pick up events coming from the shadow DOM so this parameter can\n     *   be used to include an additional top-level listener at the shadow root level.\n     */\n    scrolled(shadowRoot) {\n        const streams = [this.scroll];\n        if (shadowRoot && shadowRoot !== this._document) {\n            // Note that this is basically the same as `fromEvent` from rxjs, but we do it ourselves,\n            // because we want to guarantee that the event is bound outside of the `NgZone`. With\n            // `fromEvent` it'll only happen if the subscription is outside the `NgZone`.\n            streams.push(new Observable((observer) => {\n                return this._ngZone.runOutsideAngular(() => {\n                    const eventOptions = true;\n                    const callback = (event) => {\n                        if (this._activeDragInstances.length) {\n                            observer.next(event);\n                        }\n                    };\n                    shadowRoot.addEventListener('scroll', callback, eventOptions);\n                    return () => {\n                        shadowRoot.removeEventListener('scroll', callback, eventOptions);\n                    };\n                });\n            }));\n        }\n        return merge(...streams);\n    }\n    ngOnDestroy() {\n        this._dragInstances.forEach(instance => this.removeDragItem(instance));\n        this._dropInstances.forEach(instance => this.removeDropContainer(instance));\n        this._clearGlobalListeners();\n        this.pointerMove.complete();\n        this.pointerUp.complete();\n    }\n    /** Clears out the global event listeners from the `document`. */\n    _clearGlobalListeners() {\n        this._globalListeners.forEach((config, name) => {\n            this._document.removeEventListener(name, config.handler, config.options);\n        });\n        this._globalListeners.clear();\n    }\n}\nDragDropRegistry.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: DragDropRegistry, deps: [{ token: i0.NgZone }, { token: DOCUMENT }], target: i0.ɵɵFactoryTarget.Injectable });\nDragDropRegistry.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: DragDropRegistry, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: DragDropRegistry, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () { return [{ type: i0.NgZone }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }]; } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Default configuration to be used when creating a `DragRef`. */\nconst DEFAULT_CONFIG = {\n    dragStartThreshold: 5,\n    pointerDirectionChangeThreshold: 5,\n};\n/**\n * Service that allows for drag-and-drop functionality to be attached to DOM elements.\n */\nclass DragDrop {\n    constructor(_document, _ngZone, _viewportRuler, _dragDropRegistry) {\n        this._document = _document;\n        this._ngZone = _ngZone;\n        this._viewportRuler = _viewportRuler;\n        this._dragDropRegistry = _dragDropRegistry;\n    }\n    /**\n     * Turns an element into a draggable item.\n     * @param element Element to which to attach the dragging functionality.\n     * @param config Object used to configure the dragging behavior.\n     */\n    createDrag(element, config = DEFAULT_CONFIG) {\n        return new DragRef(element, config, this._document, this._ngZone, this._viewportRuler, this._dragDropRegistry);\n    }\n    /**\n     * Turns an element into a drop list.\n     * @param element Element to which to attach the drop list functionality.\n     */\n    createDropList(element) {\n        return new DropListRef(element, this._dragDropRegistry, this._document, this._ngZone, this._viewportRuler);\n    }\n}\nDragDrop.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: DragDrop, deps: [{ token: DOCUMENT }, { token: i0.NgZone }, { token: i1.ViewportRuler }, { token: DragDropRegistry }], target: i0.ɵɵFactoryTarget.Injectable });\nDragDrop.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: DragDrop, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: DragDrop, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }, { type: i0.NgZone }, { type: i1.ViewportRuler }, { type: DragDropRegistry }]; } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used for a `CdkDrag` to provide itself as a parent to the\n * drag-specific child directive (`CdkDragHandle`, `CdkDragPreview` etc.). Used primarily\n * to avoid circular imports.\n * @docs-private\n */\nconst CDK_DRAG_PARENT = new InjectionToken('CDK_DRAG_PARENT');\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used to reference instances of `CdkDropListGroup`. It serves as\n * alternative token to the actual `CdkDropListGroup` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst CDK_DROP_LIST_GROUP = new InjectionToken('CdkDropListGroup');\n/**\n * Declaratively connects sibling `cdkDropList` instances together. All of the `cdkDropList`\n * elements that are placed inside a `cdkDropListGroup` will be connected to each other\n * automatically. Can be used as an alternative to the `cdkDropListConnectedTo` input\n * from `cdkDropList`.\n */\nclass CdkDropListGroup {\n    constructor() {\n        /** Drop lists registered inside the group. */\n        this._items = new Set();\n        this._disabled = false;\n    }\n    /** Whether starting a dragging sequence from inside this group is disabled. */\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n    }\n    ngOnDestroy() {\n        this._items.clear();\n    }\n}\nCdkDropListGroup.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: CdkDropListGroup, deps: [], target: i0.ɵɵFactoryTarget.Directive });\nCdkDropListGroup.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.2.0-rc.0\", type: CdkDropListGroup, isStandalone: true, selector: \"[cdkDropListGroup]\", inputs: { disabled: [\"cdkDropListGroupDisabled\", \"disabled\"] }, providers: [{ provide: CDK_DROP_LIST_GROUP, useExisting: CdkDropListGroup }], exportAs: [\"cdkDropListGroup\"], ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: CdkDropListGroup, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cdkDropListGroup]',\n                    exportAs: 'cdkDropListGroup',\n                    standalone: true,\n                    providers: [{ provide: CDK_DROP_LIST_GROUP, useExisting: CdkDropListGroup }],\n                }]\n        }], propDecorators: { disabled: [{\n                type: Input,\n                args: ['cdkDropListGroupDisabled']\n            }] } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used to configure the\n * behavior of the drag&drop-related components.\n */\nconst CDK_DRAG_CONFIG = new InjectionToken('CDK_DRAG_CONFIG');\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Asserts that a particular node is an element.\n * @param node Node to be checked.\n * @param name Name to attach to the error message.\n */\nfunction assertElementNode(node, name) {\n    if (node.nodeType !== 1) {\n        throw Error(`${name} must be attached to an element node. ` + `Currently attached to \"${node.nodeName}\".`);\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Counter used to generate unique ids for drop zones. */\nlet _uniqueIdCounter = 0;\n/**\n * Injection token that can be used to reference instances of `CdkDropList`. It serves as\n * alternative token to the actual `CdkDropList` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst CDK_DROP_LIST = new InjectionToken('CdkDropList');\n/** Container that wraps a set of draggable items. */\nclass CdkDropList {\n    /** Whether starting a dragging sequence from this container is disabled. */\n    get disabled() {\n        return this._disabled || (!!this._group && this._group.disabled);\n    }\n    set disabled(value) {\n        // Usually we sync the directive and ref state right before dragging starts, in order to have\n        // a single point of failure and to avoid having to use setters for everything. `disabled` is\n        // a special case, because it can prevent the `beforeStarted` event from firing, which can lock\n        // the user in a disabled state, so we also need to sync it as it's being set.\n        this._dropListRef.disabled = this._disabled = coerceBooleanProperty(value);\n    }\n    constructor(\n    /** Element that the drop list is attached to. */\n    element, dragDrop, _changeDetectorRef, _scrollDispatcher, _dir, _group, config) {\n        this.element = element;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._scrollDispatcher = _scrollDispatcher;\n        this._dir = _dir;\n        this._group = _group;\n        /** Emits when the list has been destroyed. */\n        this._destroyed = new Subject();\n        /**\n         * Other draggable containers that this container is connected to and into which the\n         * container's items can be transferred. Can either be references to other drop containers,\n         * or their unique IDs.\n         */\n        this.connectedTo = [];\n        /**\n         * Unique ID for the drop zone. Can be used as a reference\n         * in the `connectedTo` of another `CdkDropList`.\n         */\n        this.id = `cdk-drop-list-${_uniqueIdCounter++}`;\n        /**\n         * Function that is used to determine whether an item\n         * is allowed to be moved into a drop container.\n         */\n        this.enterPredicate = () => true;\n        /** Functions that is used to determine whether an item can be sorted into a particular index. */\n        this.sortPredicate = () => true;\n        /** Emits when the user drops an item inside the container. */\n        this.dropped = new EventEmitter();\n        /**\n         * Emits when the user has moved a new drag item into this container.\n         */\n        this.entered = new EventEmitter();\n        /**\n         * Emits when the user removes an item from the container\n         * by dragging it into another container.\n         */\n        this.exited = new EventEmitter();\n        /** Emits as the user is swapping items while actively dragging. */\n        this.sorted = new EventEmitter();\n        /**\n         * Keeps track of the items that are registered with this container. Historically we used to\n         * do this with a `ContentChildren` query, however queries don't handle transplanted views very\n         * well which means that we can't handle cases like dragging the headers of a `mat-table`\n         * correctly. What we do instead is to have the items register themselves with the container\n         * and then we sort them based on their position in the DOM.\n         */\n        this._unsortedItems = new Set();\n        if (typeof ngDevMode === 'undefined' || ngDevMode) {\n            assertElementNode(element.nativeElement, 'cdkDropList');\n        }\n        this._dropListRef = dragDrop.createDropList(element);\n        this._dropListRef.data = this;\n        if (config) {\n            this._assignDefaults(config);\n        }\n        this._dropListRef.enterPredicate = (drag, drop) => {\n            return this.enterPredicate(drag.data, drop.data);\n        };\n        this._dropListRef.sortPredicate = (index, drag, drop) => {\n            return this.sortPredicate(index, drag.data, drop.data);\n        };\n        this._setupInputSyncSubscription(this._dropListRef);\n        this._handleEvents(this._dropListRef);\n        CdkDropList._dropLists.push(this);\n        if (_group) {\n            _group._items.add(this);\n        }\n    }\n    /** Registers an items with the drop list. */\n    addItem(item) {\n        this._unsortedItems.add(item);\n        if (this._dropListRef.isDragging()) {\n            this._syncItemsWithRef();\n        }\n    }\n    /** Removes an item from the drop list. */\n    removeItem(item) {\n        this._unsortedItems.delete(item);\n        if (this._dropListRef.isDragging()) {\n            this._syncItemsWithRef();\n        }\n    }\n    /** Gets the registered items in the list, sorted by their position in the DOM. */\n    getSortedItems() {\n        return Array.from(this._unsortedItems).sort((a, b) => {\n            const documentPosition = a._dragRef\n                .getVisibleElement()\n                .compareDocumentPosition(b._dragRef.getVisibleElement());\n            // `compareDocumentPosition` returns a bitmask so we have to use a bitwise operator.\n            // https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n            // tslint:disable-next-line:no-bitwise\n            return documentPosition & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : 1;\n        });\n    }\n    ngOnDestroy() {\n        const index = CdkDropList._dropLists.indexOf(this);\n        if (index > -1) {\n            CdkDropList._dropLists.splice(index, 1);\n        }\n        if (this._group) {\n            this._group._items.delete(this);\n        }\n        this._unsortedItems.clear();\n        this._dropListRef.dispose();\n        this._destroyed.next();\n        this._destroyed.complete();\n    }\n    /** Syncs the inputs of the CdkDropList with the options of the underlying DropListRef. */\n    _setupInputSyncSubscription(ref) {\n        if (this._dir) {\n            this._dir.change\n                .pipe(startWith(this._dir.value), takeUntil(this._destroyed))\n                .subscribe(value => ref.withDirection(value));\n        }\n        ref.beforeStarted.subscribe(() => {\n            const siblings = coerceArray(this.connectedTo).map(drop => {\n                if (typeof drop === 'string') {\n                    const correspondingDropList = CdkDropList._dropLists.find(list => list.id === drop);\n                    if (!correspondingDropList && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n                        console.warn(`CdkDropList could not find connected drop list with id \"${drop}\"`);\n                    }\n                    return correspondingDropList;\n                }\n                return drop;\n            });\n            if (this._group) {\n                this._group._items.forEach(drop => {\n                    if (siblings.indexOf(drop) === -1) {\n                        siblings.push(drop);\n                    }\n                });\n            }\n            // Note that we resolve the scrollable parents here so that we delay the resolution\n            // as long as possible, ensuring that the element is in its final place in the DOM.\n            if (!this._scrollableParentsResolved) {\n                const scrollableParents = this._scrollDispatcher\n                    .getAncestorScrollContainers(this.element)\n                    .map(scrollable => scrollable.getElementRef().nativeElement);\n                this._dropListRef.withScrollableParents(scrollableParents);\n                // Only do this once since it involves traversing the DOM and the parents\n                // shouldn't be able to change without the drop list being destroyed.\n                this._scrollableParentsResolved = true;\n            }\n            ref.disabled = this.disabled;\n            ref.lockAxis = this.lockAxis;\n            ref.sortingDisabled = coerceBooleanProperty(this.sortingDisabled);\n            ref.autoScrollDisabled = coerceBooleanProperty(this.autoScrollDisabled);\n            ref.autoScrollStep = coerceNumberProperty(this.autoScrollStep, 2);\n            ref\n                .connectedTo(siblings.filter(drop => drop && drop !== this).map(list => list._dropListRef))\n                .withOrientation(this.orientation);\n        });\n    }\n    /** Handles events from the underlying DropListRef. */\n    _handleEvents(ref) {\n        ref.beforeStarted.subscribe(() => {\n            this._syncItemsWithRef();\n            this._changeDetectorRef.markForCheck();\n        });\n        ref.entered.subscribe(event => {\n            this.entered.emit({\n                container: this,\n                item: event.item.data,\n                currentIndex: event.currentIndex,\n            });\n        });\n        ref.exited.subscribe(event => {\n            this.exited.emit({\n                container: this,\n                item: event.item.data,\n            });\n            this._changeDetectorRef.markForCheck();\n        });\n        ref.sorted.subscribe(event => {\n            this.sorted.emit({\n                previousIndex: event.previousIndex,\n                currentIndex: event.currentIndex,\n                container: this,\n                item: event.item.data,\n            });\n        });\n        ref.dropped.subscribe(dropEvent => {\n            this.dropped.emit({\n                previousIndex: dropEvent.previousIndex,\n                currentIndex: dropEvent.currentIndex,\n                previousContainer: dropEvent.previousContainer.data,\n                container: dropEvent.container.data,\n                item: dropEvent.item.data,\n                isPointerOverContainer: dropEvent.isPointerOverContainer,\n                distance: dropEvent.distance,\n                dropPoint: dropEvent.dropPoint,\n                event: dropEvent.event,\n            });\n            // Mark for check since all of these events run outside of change\n            // detection and we're not guaranteed for something else to have triggered it.\n            this._changeDetectorRef.markForCheck();\n        });\n        merge(ref.receivingStarted, ref.receivingStopped).subscribe(() => this._changeDetectorRef.markForCheck());\n    }\n    /** Assigns the default input values based on a provided config object. */\n    _assignDefaults(config) {\n        const { lockAxis, draggingDisabled, sortingDisabled, listAutoScrollDisabled, listOrientation } = config;\n        this.disabled = draggingDisabled == null ? false : draggingDisabled;\n        this.sortingDisabled = sortingDisabled == null ? false : sortingDisabled;\n        this.autoScrollDisabled = listAutoScrollDisabled == null ? false : listAutoScrollDisabled;\n        this.orientation = listOrientation || 'vertical';\n        if (lockAxis) {\n            this.lockAxis = lockAxis;\n        }\n    }\n    /** Syncs up the registered drag items with underlying drop list ref. */\n    _syncItemsWithRef() {\n        this._dropListRef.withItems(this.getSortedItems().map(item => item._dragRef));\n    }\n}\n/** Keeps track of the drop lists that are currently on the page. */\nCdkDropList._dropLists = [];\nCdkDropList.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: CdkDropList, deps: [{ token: i0.ElementRef }, { token: DragDrop }, { token: i0.ChangeDetectorRef }, { token: i1.ScrollDispatcher }, { token: i3.Directionality, optional: true }, { token: CDK_DROP_LIST_GROUP, optional: true, skipSelf: true }, { token: CDK_DRAG_CONFIG, optional: true }], target: i0.ɵɵFactoryTarget.Directive });\nCdkDropList.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.2.0-rc.0\", type: CdkDropList, isStandalone: true, selector: \"[cdkDropList], cdk-drop-list\", inputs: { connectedTo: [\"cdkDropListConnectedTo\", \"connectedTo\"], data: [\"cdkDropListData\", \"data\"], orientation: [\"cdkDropListOrientation\", \"orientation\"], id: \"id\", lockAxis: [\"cdkDropListLockAxis\", \"lockAxis\"], disabled: [\"cdkDropListDisabled\", \"disabled\"], sortingDisabled: [\"cdkDropListSortingDisabled\", \"sortingDisabled\"], enterPredicate: [\"cdkDropListEnterPredicate\", \"enterPredicate\"], sortPredicate: [\"cdkDropListSortPredicate\", \"sortPredicate\"], autoScrollDisabled: [\"cdkDropListAutoScrollDisabled\", \"autoScrollDisabled\"], autoScrollStep: [\"cdkDropListAutoScrollStep\", \"autoScrollStep\"] }, outputs: { dropped: \"cdkDropListDropped\", entered: \"cdkDropListEntered\", exited: \"cdkDropListExited\", sorted: \"cdkDropListSorted\" }, host: { properties: { \"attr.id\": \"id\", \"class.cdk-drop-list-disabled\": \"disabled\", \"class.cdk-drop-list-dragging\": \"_dropListRef.isDragging()\", \"class.cdk-drop-list-receiving\": \"_dropListRef.isReceiving()\" }, classAttribute: \"cdk-drop-list\" }, providers: [\n        // Prevent child drop lists from picking up the same group as their parent.\n        { provide: CDK_DROP_LIST_GROUP, useValue: undefined },\n        { provide: CDK_DROP_LIST, useExisting: CdkDropList },\n    ], exportAs: [\"cdkDropList\"], ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: CdkDropList, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cdkDropList], cdk-drop-list',\n                    exportAs: 'cdkDropList',\n                    standalone: true,\n                    providers: [\n                        // Prevent child drop lists from picking up the same group as their parent.\n                        { provide: CDK_DROP_LIST_GROUP, useValue: undefined },\n                        { provide: CDK_DROP_LIST, useExisting: CdkDropList },\n                    ],\n                    host: {\n                        'class': 'cdk-drop-list',\n                        '[attr.id]': 'id',\n                        '[class.cdk-drop-list-disabled]': 'disabled',\n                        '[class.cdk-drop-list-dragging]': '_dropListRef.isDragging()',\n                        '[class.cdk-drop-list-receiving]': '_dropListRef.isReceiving()',\n                    },\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: DragDrop }, { type: i0.ChangeDetectorRef }, { type: i1.ScrollDispatcher }, { type: i3.Directionality, decorators: [{\n                    type: Optional\n                }] }, { type: CdkDropListGroup, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [CDK_DROP_LIST_GROUP]\n                }, {\n                    type: SkipSelf\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [CDK_DRAG_CONFIG]\n                }] }]; }, propDecorators: { connectedTo: [{\n                type: Input,\n                args: ['cdkDropListConnectedTo']\n            }], data: [{\n                type: Input,\n                args: ['cdkDropListData']\n            }], orientation: [{\n                type: Input,\n                args: ['cdkDropListOrientation']\n            }], id: [{\n                type: Input\n            }], lockAxis: [{\n                type: Input,\n                args: ['cdkDropListLockAxis']\n            }], disabled: [{\n                type: Input,\n                args: ['cdkDropListDisabled']\n            }], sortingDisabled: [{\n                type: Input,\n                args: ['cdkDropListSortingDisabled']\n            }], enterPredicate: [{\n                type: Input,\n                args: ['cdkDropListEnterPredicate']\n            }], sortPredicate: [{\n                type: Input,\n                args: ['cdkDropListSortPredicate']\n            }], autoScrollDisabled: [{\n                type: Input,\n                args: ['cdkDropListAutoScrollDisabled']\n            }], autoScrollStep: [{\n                type: Input,\n                args: ['cdkDropListAutoScrollStep']\n            }], dropped: [{\n                type: Output,\n                args: ['cdkDropListDropped']\n            }], entered: [{\n                type: Output,\n                args: ['cdkDropListEntered']\n            }], exited: [{\n                type: Output,\n                args: ['cdkDropListExited']\n            }], sorted: [{\n                type: Output,\n                args: ['cdkDropListSorted']\n            }] } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used to reference instances of `CdkDragHandle`. It serves as\n * alternative token to the actual `CdkDragHandle` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst CDK_DRAG_HANDLE = new InjectionToken('CdkDragHandle');\n/** Handle that can be used to drag a CdkDrag instance. */\nclass CdkDragHandle {\n    /** Whether starting to drag through this handle is disabled. */\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n        this._stateChanges.next(this);\n    }\n    constructor(element, parentDrag) {\n        this.element = element;\n        /** Emits when the state of the handle has changed. */\n        this._stateChanges = new Subject();\n        this._disabled = false;\n        if (typeof ngDevMode === 'undefined' || ngDevMode) {\n            assertElementNode(element.nativeElement, 'cdkDragHandle');\n        }\n        this._parentDrag = parentDrag;\n    }\n    ngOnDestroy() {\n        this._stateChanges.complete();\n    }\n}\nCdkDragHandle.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: CdkDragHandle, deps: [{ token: i0.ElementRef }, { token: CDK_DRAG_PARENT, optional: true, skipSelf: true }], target: i0.ɵɵFactoryTarget.Directive });\nCdkDragHandle.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.2.0-rc.0\", type: CdkDragHandle, isStandalone: true, selector: \"[cdkDragHandle]\", inputs: { disabled: [\"cdkDragHandleDisabled\", \"disabled\"] }, host: { classAttribute: \"cdk-drag-handle\" }, providers: [{ provide: CDK_DRAG_HANDLE, useExisting: CdkDragHandle }], ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: CdkDragHandle, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cdkDragHandle]',\n                    standalone: true,\n                    host: {\n                        'class': 'cdk-drag-handle',\n                    },\n                    providers: [{ provide: CDK_DRAG_HANDLE, useExisting: CdkDragHandle }],\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [CDK_DRAG_PARENT]\n                }, {\n                    type: Optional\n                }, {\n                    type: SkipSelf\n                }] }]; }, propDecorators: { disabled: [{\n                type: Input,\n                args: ['cdkDragHandleDisabled']\n            }] } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used to reference instances of `CdkDragPlaceholder`. It serves as\n * alternative token to the actual `CdkDragPlaceholder` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst CDK_DRAG_PLACEHOLDER = new InjectionToken('CdkDragPlaceholder');\n/**\n * Element that will be used as a template for the placeholder of a CdkDrag when\n * it is being dragged. The placeholder is displayed in place of the element being dragged.\n */\nclass CdkDragPlaceholder {\n    constructor(templateRef) {\n        this.templateRef = templateRef;\n    }\n}\nCdkDragPlaceholder.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: CdkDragPlaceholder, deps: [{ token: i0.TemplateRef }], target: i0.ɵɵFactoryTarget.Directive });\nCdkDragPlaceholder.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.2.0-rc.0\", type: CdkDragPlaceholder, isStandalone: true, selector: \"ng-template[cdkDragPlaceholder]\", inputs: { data: \"data\" }, providers: [{ provide: CDK_DRAG_PLACEHOLDER, useExisting: CdkDragPlaceholder }], ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: CdkDragPlaceholder, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'ng-template[cdkDragPlaceholder]',\n                    standalone: true,\n                    providers: [{ provide: CDK_DRAG_PLACEHOLDER, useExisting: CdkDragPlaceholder }],\n                }]\n        }], ctorParameters: function () { return [{ type: i0.TemplateRef }]; }, propDecorators: { data: [{\n                type: Input\n            }] } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used to reference instances of `CdkDragPreview`. It serves as\n * alternative token to the actual `CdkDragPreview` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst CDK_DRAG_PREVIEW = new InjectionToken('CdkDragPreview');\n/**\n * Element that will be used as a template for the preview\n * of a CdkDrag when it is being dragged.\n */\nclass CdkDragPreview {\n    /** Whether the preview should preserve the same size as the item that is being dragged. */\n    get matchSize() {\n        return this._matchSize;\n    }\n    set matchSize(value) {\n        this._matchSize = coerceBooleanProperty(value);\n    }\n    constructor(templateRef) {\n        this.templateRef = templateRef;\n        this._matchSize = false;\n    }\n}\nCdkDragPreview.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: CdkDragPreview, deps: [{ token: i0.TemplateRef }], target: i0.ɵɵFactoryTarget.Directive });\nCdkDragPreview.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.2.0-rc.0\", type: CdkDragPreview, isStandalone: true, selector: \"ng-template[cdkDragPreview]\", inputs: { data: \"data\", matchSize: \"matchSize\" }, providers: [{ provide: CDK_DRAG_PREVIEW, useExisting: CdkDragPreview }], ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: CdkDragPreview, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'ng-template[cdkDragPreview]',\n                    standalone: true,\n                    providers: [{ provide: CDK_DRAG_PREVIEW, useExisting: CdkDragPreview }],\n                }]\n        }], ctorParameters: function () { return [{ type: i0.TemplateRef }]; }, propDecorators: { data: [{\n                type: Input\n            }], matchSize: [{\n                type: Input\n            }] } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst DRAG_HOST_CLASS = 'cdk-drag';\n/** Element that can be moved inside a CdkDropList container. */\nclass CdkDrag {\n    /** Whether starting to drag this element is disabled. */\n    get disabled() {\n        return this._disabled || (this.dropContainer && this.dropContainer.disabled);\n    }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n        this._dragRef.disabled = this._disabled;\n    }\n    constructor(\n    /** Element that the draggable is attached to. */\n    element, \n    /** Droppable container that the draggable is a part of. */\n    dropContainer, \n    /**\n     * @deprecated `_document` parameter no longer being used and will be removed.\n     * @breaking-change 12.0.0\n     */\n    _document, _ngZone, _viewContainerRef, config, _dir, dragDrop, _changeDetectorRef, _selfHandle, _parentDrag) {\n        this.element = element;\n        this.dropContainer = dropContainer;\n        this._ngZone = _ngZone;\n        this._viewContainerRef = _viewContainerRef;\n        this._dir = _dir;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._selfHandle = _selfHandle;\n        this._parentDrag = _parentDrag;\n        this._destroyed = new Subject();\n        /** Emits when the user starts dragging the item. */\n        this.started = new EventEmitter();\n        /** Emits when the user has released a drag item, before any animations have started. */\n        this.released = new EventEmitter();\n        /** Emits when the user stops dragging an item in the container. */\n        this.ended = new EventEmitter();\n        /** Emits when the user has moved the item into a new container. */\n        this.entered = new EventEmitter();\n        /** Emits when the user removes the item its container by dragging it into another container. */\n        this.exited = new EventEmitter();\n        /** Emits when the user drops the item inside a container. */\n        this.dropped = new EventEmitter();\n        /**\n         * Emits as the user is dragging the item. Use with caution,\n         * because this event will fire for every pixel that the user has dragged.\n         */\n        this.moved = new Observable((observer) => {\n            const subscription = this._dragRef.moved\n                .pipe(map(movedEvent => ({\n                source: this,\n                pointerPosition: movedEvent.pointerPosition,\n                event: movedEvent.event,\n                delta: movedEvent.delta,\n                distance: movedEvent.distance,\n            })))\n                .subscribe(observer);\n            return () => {\n                subscription.unsubscribe();\n            };\n        });\n        this._dragRef = dragDrop.createDrag(element, {\n            dragStartThreshold: config && config.dragStartThreshold != null ? config.dragStartThreshold : 5,\n            pointerDirectionChangeThreshold: config && config.pointerDirectionChangeThreshold != null\n                ? config.pointerDirectionChangeThreshold\n                : 5,\n            zIndex: config?.zIndex,\n        });\n        this._dragRef.data = this;\n        // We have to keep track of the drag instances in order to be able to match an element to\n        // a drag instance. We can't go through the global registry of `DragRef`, because the root\n        // element could be different.\n        CdkDrag._dragInstances.push(this);\n        if (config) {\n            this._assignDefaults(config);\n        }\n        // Note that usually the container is assigned when the drop list is picks up the item, but in\n        // some cases (mainly transplanted views with OnPush, see #18341) we may end up in a situation\n        // where there are no items on the first change detection pass, but the items get picked up as\n        // soon as the user triggers another pass by dragging. This is a problem, because the item would\n        // have to switch from standalone mode to drag mode in the middle of the dragging sequence which\n        // is too late since the two modes save different kinds of information. We work around it by\n        // assigning the drop container both from here and the list.\n        if (dropContainer) {\n            this._dragRef._withDropContainer(dropContainer._dropListRef);\n            dropContainer.addItem(this);\n        }\n        this._syncInputs(this._dragRef);\n        this._handleEvents(this._dragRef);\n    }\n    /**\n     * Returns the element that is being used as a placeholder\n     * while the current element is being dragged.\n     */\n    getPlaceholderElement() {\n        return this._dragRef.getPlaceholderElement();\n    }\n    /** Returns the root draggable element. */\n    getRootElement() {\n        return this._dragRef.getRootElement();\n    }\n    /** Resets a standalone drag item to its initial position. */\n    reset() {\n        this._dragRef.reset();\n    }\n    /**\n     * Gets the pixel coordinates of the draggable outside of a drop container.\n     */\n    getFreeDragPosition() {\n        return this._dragRef.getFreeDragPosition();\n    }\n    /**\n     * Sets the current position in pixels the draggable outside of a drop container.\n     * @param value New position to be set.\n     */\n    setFreeDragPosition(value) {\n        this._dragRef.setFreeDragPosition(value);\n    }\n    ngAfterViewInit() {\n        // Normally this isn't in the zone, but it can cause major performance regressions for apps\n        // using `zone-patch-rxjs` because it'll trigger a change detection when it unsubscribes.\n        this._ngZone.runOutsideAngular(() => {\n            // We need to wait for the zone to stabilize, in order for the reference\n            // element to be in the proper place in the DOM. This is mostly relevant\n            // for draggable elements inside portals since they get stamped out in\n            // their original DOM position and then they get transferred to the portal.\n            this._ngZone.onStable.pipe(take(1), takeUntil(this._destroyed)).subscribe(() => {\n                this._updateRootElement();\n                this._setupHandlesListener();\n                if (this.freeDragPosition) {\n                    this._dragRef.setFreeDragPosition(this.freeDragPosition);\n                }\n            });\n        });\n    }\n    ngOnChanges(changes) {\n        const rootSelectorChange = changes['rootElementSelector'];\n        const positionChange = changes['freeDragPosition'];\n        // We don't have to react to the first change since it's being\n        // handled in `ngAfterViewInit` where it needs to be deferred.\n        if (rootSelectorChange && !rootSelectorChange.firstChange) {\n            this._updateRootElement();\n        }\n        // Skip the first change since it's being handled in `ngAfterViewInit`.\n        if (positionChange && !positionChange.firstChange && this.freeDragPosition) {\n            this._dragRef.setFreeDragPosition(this.freeDragPosition);\n        }\n    }\n    ngOnDestroy() {\n        if (this.dropContainer) {\n            this.dropContainer.removeItem(this);\n        }\n        const index = CdkDrag._dragInstances.indexOf(this);\n        if (index > -1) {\n            CdkDrag._dragInstances.splice(index, 1);\n        }\n        // Unnecessary in most cases, but used to avoid extra change detections with `zone-paths-rxjs`.\n        this._ngZone.runOutsideAngular(() => {\n            this._destroyed.next();\n            this._destroyed.complete();\n            this._dragRef.dispose();\n        });\n    }\n    /** Syncs the root element with the `DragRef`. */\n    _updateRootElement() {\n        const element = this.element.nativeElement;\n        let rootElement = element;\n        if (this.rootElementSelector) {\n            rootElement =\n                element.closest !== undefined\n                    ? element.closest(this.rootElementSelector)\n                    : // Comment tag doesn't have closest method, so use parent's one.\n                        element.parentElement?.closest(this.rootElementSelector);\n        }\n        if (rootElement && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n            assertElementNode(rootElement, 'cdkDrag');\n        }\n        this._dragRef.withRootElement(rootElement || element);\n    }\n    /** Gets the boundary element, based on the `boundaryElement` value. */\n    _getBoundaryElement() {\n        const boundary = this.boundaryElement;\n        if (!boundary) {\n            return null;\n        }\n        if (typeof boundary === 'string') {\n            return this.element.nativeElement.closest(boundary);\n        }\n        return coerceElement(boundary);\n    }\n    /** Syncs the inputs of the CdkDrag with the options of the underlying DragRef. */\n    _syncInputs(ref) {\n        ref.beforeStarted.subscribe(() => {\n            if (!ref.isDragging()) {\n                const dir = this._dir;\n                const dragStartDelay = this.dragStartDelay;\n                const placeholder = this._placeholderTemplate\n                    ? {\n                        template: this._placeholderTemplate.templateRef,\n                        context: this._placeholderTemplate.data,\n                        viewContainer: this._viewContainerRef,\n                    }\n                    : null;\n                const preview = this._previewTemplate\n                    ? {\n                        template: this._previewTemplate.templateRef,\n                        context: this._previewTemplate.data,\n                        matchSize: this._previewTemplate.matchSize,\n                        viewContainer: this._viewContainerRef,\n                    }\n                    : null;\n                ref.disabled = this.disabled;\n                ref.lockAxis = this.lockAxis;\n                ref.dragStartDelay =\n                    typeof dragStartDelay === 'object' && dragStartDelay\n                        ? dragStartDelay\n                        : coerceNumberProperty(dragStartDelay);\n                ref.constrainPosition = this.constrainPosition;\n                ref.previewClass = this.previewClass;\n                ref\n                    .withBoundaryElement(this._getBoundaryElement())\n                    .withPlaceholderTemplate(placeholder)\n                    .withPreviewTemplate(preview)\n                    .withPreviewContainer(this.previewContainer || 'global');\n                if (dir) {\n                    ref.withDirection(dir.value);\n                }\n            }\n        });\n        // This only needs to be resolved once.\n        ref.beforeStarted.pipe(take(1)).subscribe(() => {\n            // If we managed to resolve a parent through DI, use it.\n            if (this._parentDrag) {\n                ref.withParent(this._parentDrag._dragRef);\n                return;\n            }\n            // Otherwise fall back to resolving the parent by looking up the DOM. This can happen if\n            // the item was projected into another item by something like `ngTemplateOutlet`.\n            let parent = this.element.nativeElement.parentElement;\n            while (parent) {\n                if (parent.classList.contains(DRAG_HOST_CLASS)) {\n                    ref.withParent(CdkDrag._dragInstances.find(drag => {\n                        return drag.element.nativeElement === parent;\n                    })?._dragRef || null);\n                    break;\n                }\n                parent = parent.parentElement;\n            }\n        });\n    }\n    /** Handles the events from the underlying `DragRef`. */\n    _handleEvents(ref) {\n        ref.started.subscribe(startEvent => {\n            this.started.emit({ source: this, event: startEvent.event });\n            // Since all of these events run outside of change detection,\n            // we need to ensure that everything is marked correctly.\n            this._changeDetectorRef.markForCheck();\n        });\n        ref.released.subscribe(releaseEvent => {\n            this.released.emit({ source: this, event: releaseEvent.event });\n        });\n        ref.ended.subscribe(endEvent => {\n            this.ended.emit({\n                source: this,\n                distance: endEvent.distance,\n                dropPoint: endEvent.dropPoint,\n                event: endEvent.event,\n            });\n            // Since all of these events run outside of change detection,\n            // we need to ensure that everything is marked correctly.\n            this._changeDetectorRef.markForCheck();\n        });\n        ref.entered.subscribe(enterEvent => {\n            this.entered.emit({\n                container: enterEvent.container.data,\n                item: this,\n                currentIndex: enterEvent.currentIndex,\n            });\n        });\n        ref.exited.subscribe(exitEvent => {\n            this.exited.emit({\n                container: exitEvent.container.data,\n                item: this,\n            });\n        });\n        ref.dropped.subscribe(dropEvent => {\n            this.dropped.emit({\n                previousIndex: dropEvent.previousIndex,\n                currentIndex: dropEvent.currentIndex,\n                previousContainer: dropEvent.previousContainer.data,\n                container: dropEvent.container.data,\n                isPointerOverContainer: dropEvent.isPointerOverContainer,\n                item: this,\n                distance: dropEvent.distance,\n                dropPoint: dropEvent.dropPoint,\n                event: dropEvent.event,\n            });\n        });\n    }\n    /** Assigns the default input values based on a provided config object. */\n    _assignDefaults(config) {\n        const { lockAxis, dragStartDelay, constrainPosition, previewClass, boundaryElement, draggingDisabled, rootElementSelector, previewContainer, } = config;\n        this.disabled = draggingDisabled == null ? false : draggingDisabled;\n        this.dragStartDelay = dragStartDelay || 0;\n        if (lockAxis) {\n            this.lockAxis = lockAxis;\n        }\n        if (constrainPosition) {\n            this.constrainPosition = constrainPosition;\n        }\n        if (previewClass) {\n            this.previewClass = previewClass;\n        }\n        if (boundaryElement) {\n            this.boundaryElement = boundaryElement;\n        }\n        if (rootElementSelector) {\n            this.rootElementSelector = rootElementSelector;\n        }\n        if (previewContainer) {\n            this.previewContainer = previewContainer;\n        }\n    }\n    /** Sets up the listener that syncs the handles with the drag ref. */\n    _setupHandlesListener() {\n        // Listen for any newly-added handles.\n        this._handles.changes\n            .pipe(startWith(this._handles), \n        // Sync the new handles with the DragRef.\n        tap((handles) => {\n            const childHandleElements = handles\n                .filter(handle => handle._parentDrag === this)\n                .map(handle => handle.element);\n            // Usually handles are only allowed to be a descendant of the drag element, but if\n            // the consumer defined a different drag root, we should allow the drag element\n            // itself to be a handle too.\n            if (this._selfHandle && this.rootElementSelector) {\n                childHandleElements.push(this.element);\n            }\n            this._dragRef.withHandles(childHandleElements);\n        }), \n        // Listen if the state of any of the handles changes.\n        switchMap((handles) => {\n            return merge(...handles.map(item => {\n                return item._stateChanges.pipe(startWith(item));\n            }));\n        }), takeUntil(this._destroyed))\n            .subscribe(handleInstance => {\n            // Enabled/disable the handle that changed in the DragRef.\n            const dragRef = this._dragRef;\n            const handle = handleInstance.element.nativeElement;\n            handleInstance.disabled ? dragRef.disableHandle(handle) : dragRef.enableHandle(handle);\n        });\n    }\n}\nCdkDrag._dragInstances = [];\nCdkDrag.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: CdkDrag, deps: [{ token: i0.ElementRef }, { token: CDK_DROP_LIST, optional: true, skipSelf: true }, { token: DOCUMENT }, { token: i0.NgZone }, { token: i0.ViewContainerRef }, { token: CDK_DRAG_CONFIG, optional: true }, { token: i3.Directionality, optional: true }, { token: DragDrop }, { token: i0.ChangeDetectorRef }, { token: CDK_DRAG_HANDLE, optional: true, self: true }, { token: CDK_DRAG_PARENT, optional: true, skipSelf: true }], target: i0.ɵɵFactoryTarget.Directive });\nCdkDrag.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.2.0-rc.0\", type: CdkDrag, isStandalone: true, selector: \"[cdkDrag]\", inputs: { data: [\"cdkDragData\", \"data\"], lockAxis: [\"cdkDragLockAxis\", \"lockAxis\"], rootElementSelector: [\"cdkDragRootElement\", \"rootElementSelector\"], boundaryElement: [\"cdkDragBoundary\", \"boundaryElement\"], dragStartDelay: [\"cdkDragStartDelay\", \"dragStartDelay\"], freeDragPosition: [\"cdkDragFreeDragPosition\", \"freeDragPosition\"], disabled: [\"cdkDragDisabled\", \"disabled\"], constrainPosition: [\"cdkDragConstrainPosition\", \"constrainPosition\"], previewClass: [\"cdkDragPreviewClass\", \"previewClass\"], previewContainer: [\"cdkDragPreviewContainer\", \"previewContainer\"] }, outputs: { started: \"cdkDragStarted\", released: \"cdkDragReleased\", ended: \"cdkDragEnded\", entered: \"cdkDragEntered\", exited: \"cdkDragExited\", dropped: \"cdkDragDropped\", moved: \"cdkDragMoved\" }, host: { properties: { \"class.cdk-drag-disabled\": \"disabled\", \"class.cdk-drag-dragging\": \"_dragRef.isDragging()\" }, classAttribute: \"cdk-drag\" }, providers: [{ provide: CDK_DRAG_PARENT, useExisting: CdkDrag }], queries: [{ propertyName: \"_previewTemplate\", first: true, predicate: CDK_DRAG_PREVIEW, descendants: true }, { propertyName: \"_placeholderTemplate\", first: true, predicate: CDK_DRAG_PLACEHOLDER, descendants: true }, { propertyName: \"_handles\", predicate: CDK_DRAG_HANDLE, descendants: true }], exportAs: [\"cdkDrag\"], usesOnChanges: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: CdkDrag, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cdkDrag]',\n                    exportAs: 'cdkDrag',\n                    standalone: true,\n                    host: {\n                        'class': DRAG_HOST_CLASS,\n                        '[class.cdk-drag-disabled]': 'disabled',\n                        '[class.cdk-drag-dragging]': '_dragRef.isDragging()',\n                    },\n                    providers: [{ provide: CDK_DRAG_PARENT, useExisting: CdkDrag }],\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [CDK_DROP_LIST]\n                }, {\n                    type: Optional\n                }, {\n                    type: SkipSelf\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }, { type: i0.NgZone }, { type: i0.ViewContainerRef }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [CDK_DRAG_CONFIG]\n                }] }, { type: i3.Directionality, decorators: [{\n                    type: Optional\n                }] }, { type: DragDrop }, { type: i0.ChangeDetectorRef }, { type: CdkDragHandle, decorators: [{\n                    type: Optional\n                }, {\n                    type: Self\n                }, {\n                    type: Inject,\n                    args: [CDK_DRAG_HANDLE]\n                }] }, { type: CdkDrag, decorators: [{\n                    type: Optional\n                }, {\n                    type: SkipSelf\n                }, {\n                    type: Inject,\n                    args: [CDK_DRAG_PARENT]\n                }] }]; }, propDecorators: { _handles: [{\n                type: ContentChildren,\n                args: [CDK_DRAG_HANDLE, { descendants: true }]\n            }], _previewTemplate: [{\n                type: ContentChild,\n                args: [CDK_DRAG_PREVIEW]\n            }], _placeholderTemplate: [{\n                type: ContentChild,\n                args: [CDK_DRAG_PLACEHOLDER]\n            }], data: [{\n                type: Input,\n                args: ['cdkDragData']\n            }], lockAxis: [{\n                type: Input,\n                args: ['cdkDragLockAxis']\n            }], rootElementSelector: [{\n                type: Input,\n                args: ['cdkDragRootElement']\n            }], boundaryElement: [{\n                type: Input,\n                args: ['cdkDragBoundary']\n            }], dragStartDelay: [{\n                type: Input,\n                args: ['cdkDragStartDelay']\n            }], freeDragPosition: [{\n                type: Input,\n                args: ['cdkDragFreeDragPosition']\n            }], disabled: [{\n                type: Input,\n                args: ['cdkDragDisabled']\n            }], constrainPosition: [{\n                type: Input,\n                args: ['cdkDragConstrainPosition']\n            }], previewClass: [{\n                type: Input,\n                args: ['cdkDragPreviewClass']\n            }], previewContainer: [{\n                type: Input,\n                args: ['cdkDragPreviewContainer']\n            }], started: [{\n                type: Output,\n                args: ['cdkDragStarted']\n            }], released: [{\n                type: Output,\n                args: ['cdkDragReleased']\n            }], ended: [{\n                type: Output,\n                args: ['cdkDragEnded']\n            }], entered: [{\n                type: Output,\n                args: ['cdkDragEntered']\n            }], exited: [{\n                type: Output,\n                args: ['cdkDragExited']\n            }], dropped: [{\n                type: Output,\n                args: ['cdkDragDropped']\n            }], moved: [{\n                type: Output,\n                args: ['cdkDragMoved']\n            }] } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst DRAG_DROP_DIRECTIVES = [\n    CdkDropList,\n    CdkDropListGroup,\n    CdkDrag,\n    CdkDragHandle,\n    CdkDragPreview,\n    CdkDragPlaceholder,\n];\nclass DragDropModule {\n}\nDragDropModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: DragDropModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nDragDropModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: DragDropModule, imports: [CdkDropList,\n        CdkDropListGroup,\n        CdkDrag,\n        CdkDragHandle,\n        CdkDragPreview,\n        CdkDragPlaceholder], exports: [CdkScrollableModule, CdkDropList,\n        CdkDropListGroup,\n        CdkDrag,\n        CdkDragHandle,\n        CdkDragPreview,\n        CdkDragPlaceholder] });\nDragDropModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: DragDropModule, providers: [DragDrop], imports: [CdkScrollableModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0-rc.0\", ngImport: i0, type: DragDropModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: DRAG_DROP_DIRECTIVES,\n                    exports: [CdkScrollableModule, ...DRAG_DROP_DIRECTIVES],\n                    providers: [DragDrop],\n                }]\n        }] });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CDK_DRAG_CONFIG, CDK_DRAG_HANDLE, CDK_DRAG_PARENT, CDK_DRAG_PLACEHOLDER, CDK_DRAG_PREVIEW, CDK_DROP_LIST, CDK_DROP_LIST_GROUP, CdkDrag, CdkDragHandle, CdkDragPlaceholder, CdkDragPreview, CdkDropList, CdkDropListGroup, DragDrop, DragDropModule, DragDropRegistry, DragRef, DropListRef, copyArrayItem, moveItemInArray, transferArrayItem };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, Component, Input, Output, NgModule } from '@angular/core';\n\nclass CdTimerComponent {\n    constructor(elt, renderer) {\n        this.elt = elt;\n        this.renderer = renderer;\n        this.onStart = new EventEmitter();\n        this.onStop = new EventEmitter();\n        this.onTick = new EventEmitter();\n        this.onComplete = new EventEmitter();\n        // Initialization\n        this.autoStart = true;\n        this.startTime = 0;\n        this.endTime = 0;\n        this.timeoutId = null;\n        this.countdown = false;\n        this.format = 'default';\n    }\n    ngAfterViewInit() {\n        const ngContentNode = this.elt.nativeElement.lastChild; // Get last child, defined by user or span\n        this.ngContentSchema = ngContentNode ? ngContentNode.nodeValue : '';\n        if (this.autoStart === undefined || this.autoStart === true) {\n            this.start();\n        }\n    }\n    ngOnDestroy() {\n        this.resetTimeout();\n    }\n    /**\n     * Start the timer\n     */\n    start() {\n        this.initVar();\n        this.resetTimeout();\n        this.computeTimeUnits();\n        this.startTickCount();\n        this.onStart.emit(this);\n    }\n    /**\n     * Resume the timer\n     */\n    resume() {\n        this.resetTimeout();\n        this.startTickCount();\n    }\n    /**\n     * Stop the timer\n     */\n    stop() {\n        this.clear();\n        this.onStop.emit(this);\n    }\n    /**\n     * Reset the timer\n     */\n    reset() {\n        this.initVar();\n        this.resetTimeout();\n        this.clear();\n        this.computeTimeUnits();\n        this.renderText();\n    }\n    /**\n     * Get the time information\n     * @returns TimeInterface\n     */\n    get() {\n        return {\n            seconds: this.seconds,\n            minutes: this.minutes,\n            hours: this.hours,\n            days: this.days,\n            timer: this.timeoutId,\n            tick_count: this.tickCounter\n        };\n    }\n    /**\n     * Initialize variable before start\n     */\n    initVar() {\n        this.startTime = this.startTime || 0;\n        this.endTime = this.endTime || 0;\n        this.countdown = this.countdown || false;\n        this.tickCounter = this.startTime;\n        // Disable countdown if start time not defined\n        if (this.countdown && this.startTime === 0) {\n            this.countdown = false;\n        }\n        // Determine auto format\n        if (!this.format) {\n            this.format = (this.ngContentSchema.length > 5) ? 'user' : 'default';\n        }\n    }\n    /**\n     * Reset timeout\n     */\n    resetTimeout() {\n        if (this.timeoutId) {\n            clearInterval(this.timeoutId);\n        }\n    }\n    /**\n     * Render the time to DOM\n     */\n    renderText() {\n        let outputText;\n        if (this.format === 'user') {\n            // User presentation\n            const items = {\n                'seconds': this.seconds,\n                'minutes': this.minutes,\n                'hours': this.hours,\n                'days': this.days\n            };\n            outputText = this.ngContentSchema;\n            for (const key of Object.keys(items)) {\n                outputText = outputText.replace('[' + key + ']', items[key].toString());\n            }\n        }\n        else if (this.format === 'intelli') {\n            // Intelli presentation\n            outputText = '';\n            if (this.days > 0) {\n                outputText += this.days.toString() + 'day' + ((this.days > 1) ? 's' : '') + ' ';\n            }\n            if ((this.hours > 0) || (this.days > 0)) {\n                outputText += this.hours.toString() + 'h ';\n            }\n            if (((this.minutes > 0) || (this.hours > 0)) && (this.days === 0)) {\n                outputText += this.minutes.toString().padStart(2, '0') + 'min ';\n            }\n            if ((this.hours === 0) && (this.days === 0)) {\n                outputText += this.seconds.toString().padStart(2, '0') + 's';\n            }\n        }\n        else if (this.format === 'hms') {\n            // Hms presentation\n            outputText = this.hours.toString().padStart(2, '0') + ':';\n            outputText += this.minutes.toString().padStart(2, '0') + ':';\n            outputText += this.seconds.toString().padStart(2, '0');\n        }\n        else if (this.format === 'ms') {\n            // ms presentation\n            outputText = '';\n            if (this.hours > 0) {\n                outputText = this.hours.toString().padStart(2, '0') + ':';\n            }\n            outputText += this.minutes.toString().padStart(2, '0') + ':';\n            outputText += this.seconds.toString().padStart(2, '0');\n        }\n        else {\n            // Default presentation\n            outputText = this.days.toString() + 'd ';\n            outputText += this.hours.toString() + 'h ';\n            outputText += this.minutes.toString() + 'm ';\n            outputText += this.seconds.toString() + 's';\n        }\n        this.renderer.setProperty(this.elt.nativeElement, 'innerHTML', outputText);\n    }\n    clear() {\n        this.resetTimeout();\n        this.timeoutId = null;\n    }\n    /**\n     * Compute each unit (seconds, minutes, hours, days) for further manipulation\n     * @protected\n     */\n    computeTimeUnits() {\n        if (!this.maxTimeUnit || this.maxTimeUnit === 'day') {\n            this.seconds = Math.floor(this.tickCounter % 60);\n            this.minutes = Math.floor((this.tickCounter / 60) % 60);\n            this.hours = Math.floor((this.tickCounter / 3600) % 24);\n            this.days = Math.floor((this.tickCounter / 3600) / 24);\n        }\n        else if (this.maxTimeUnit === 'second') {\n            this.seconds = this.tickCounter;\n            this.minutes = 0;\n            this.hours = 0;\n            this.days = 0;\n        }\n        else if (this.maxTimeUnit === 'minute') {\n            this.seconds = Math.floor(this.tickCounter % 60);\n            this.minutes = Math.floor(this.tickCounter / 60);\n            this.hours = 0;\n            this.days = 0;\n        }\n        else if (this.maxTimeUnit === 'hour') {\n            this.seconds = Math.floor(this.tickCounter % 60);\n            this.minutes = Math.floor((this.tickCounter / 60) % 60);\n            this.hours = Math.floor(this.tickCounter / 3600);\n            this.days = 0;\n        }\n        this.renderText();\n    }\n    /**\n     * Start tick count, base of this component\n     * @protected\n     */\n    startTickCount() {\n        const that = this;\n        that.timeoutId = setInterval(function () {\n            let counter;\n            if (that.countdown) {\n                // Compute finish counter for countdown\n                counter = that.tickCounter;\n                if (that.startTime > that.endTime) {\n                    counter = that.tickCounter - that.endTime - 1;\n                }\n            }\n            else {\n                // Compute finish counter for timer\n                counter = that.tickCounter - that.startTime;\n                if (that.endTime > that.startTime) {\n                    counter = that.endTime - that.tickCounter - 1;\n                }\n            }\n            that.computeTimeUnits();\n            const timer = {\n                seconds: that.seconds,\n                minutes: that.minutes,\n                hours: that.hours,\n                days: that.days,\n                timer: that.timeoutId,\n                tick_count: that.tickCounter\n            };\n            that.onTick.emit(timer);\n            if (counter < 0) {\n                that.stop();\n                that.onComplete.emit(that);\n                return;\n            }\n            if (that.countdown) {\n                that.tickCounter--;\n            }\n            else {\n                that.tickCounter++;\n            }\n        }, 1000); // Each seconds\n    }\n}\nCdTimerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.3\", ngImport: i0, type: CdTimerComponent, deps: [{ token: i0.ElementRef }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component });\nCdTimerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.3\", type: CdTimerComponent, selector: \"cd-timer\", inputs: { startTime: \"startTime\", endTime: \"endTime\", countdown: \"countdown\", autoStart: \"autoStart\", maxTimeUnit: \"maxTimeUnit\", format: \"format\" }, outputs: { onStart: \"onStart\", onStop: \"onStop\", onTick: \"onTick\", onComplete: \"onComplete\" }, ngImport: i0, template: ' <ng-content></ng-content>', isInline: true });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.3\", ngImport: i0, type: CdTimerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cd-timer',\n                    template: ' <ng-content></ng-content>'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.Renderer2 }]; }, propDecorators: { startTime: [{\n                type: Input\n            }], endTime: [{\n                type: Input\n            }], countdown: [{\n                type: Input\n            }], autoStart: [{\n                type: Input\n            }], maxTimeUnit: [{\n                type: Input\n            }], format: [{\n                type: Input\n            }], onStart: [{\n                type: Output\n            }], onStop: [{\n                type: Output\n            }], onTick: [{\n                type: Output\n            }], onComplete: [{\n                type: Output\n            }] } });\n\nclass CdTimerModule {\n}\nCdTimerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.3\", ngImport: i0, type: CdTimerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nCdTimerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.3\", ngImport: i0, type: CdTimerModule, declarations: [CdTimerComponent], exports: [CdTimerComponent] });\nCdTimerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.3\", ngImport: i0, type: CdTimerModule, imports: [[]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.3\", ngImport: i0, type: CdTimerModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [CdTimerComponent],\n                    imports: [],\n                    exports: [CdTimerComponent]\n                }]\n        }] });\n\n/*\n * Public API Surface of angular-cd-timer\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CdTimerComponent, CdTimerModule };\n","import * as i0 from '@angular/core';\nimport { InjectionToken, PLATFORM_ID, Injectable, Inject, Optional, Directive, NgModule } from '@angular/core';\nimport { isPlatformBrowser, DOCUMENT } from '@angular/common';\nimport { coerceElement } from '@angular/cdk/coercion';\nimport { getRtlScrollAxisType } from '@angular/cdk/platform';\nimport { Subject, merge, fromEvent, Observable, animationFrameScheduler, of } from 'rxjs';\nimport { take, expand, takeWhile, takeUntil, finalize } from 'rxjs/operators';\nimport BezierEasing from 'bezier-easing';\n\nconst SMOOTH_SCROLL_OPTIONS = new InjectionToken('SMOOTH_SCROLL_OPTIONS');\n\n// @dynamic\r\nclass SmoothScrollManager {\r\n    get _w() {\r\n        return this._document.defaultView;\r\n    }\r\n    /**\r\n     * Timing method\r\n     */\r\n    get _now() {\r\n        return this._w.performance && this._w.performance.now\r\n            ? this._w.performance.now.bind(this._w.performance)\r\n            : Date.now;\r\n    }\r\n    constructor(_document, _platform, customDefaultOptions) {\r\n        this._document = _document;\r\n        this._platform = _platform;\r\n        // Keeps track of the ongoing SmoothScroll functions so they can be handled in case of duplication.\r\n        // Each scrolled element gets a destroyer stream which gets deleted immediately after it completes.\r\n        // Purpose: If user called a scroll function again on the same element before the scrolls completes,\r\n        // it cancels the ongoing scroll and starts a new one\r\n        this._onGoingScrolls = new Map();\r\n        this._defaultOptions = {\r\n            duration: 468,\r\n            easing: {\r\n                x1: 0.42,\r\n                y1: 0,\r\n                x2: 0.58,\r\n                y2: 1\r\n            },\r\n            ...customDefaultOptions,\r\n        };\r\n    }\r\n    /**\r\n     * changes scroll position inside an element\r\n     */\r\n    _scrollElement(el, x, y) {\r\n        el.scrollLeft = x;\r\n        el.scrollTop = y;\r\n    }\r\n    /**\r\n     * Handles a given parameter of type HTMLElement, ElementRef or selector\r\n     */\r\n    _getElement(el, parent) {\r\n        if (typeof el === 'string') {\r\n            return (parent || this._document).querySelector(el);\r\n        }\r\n        return coerceElement(el);\r\n    }\r\n    /**\r\n     * Initializes a destroyer stream, re-initializes it if the element is already being scrolled\r\n     */\r\n    _initSmoothScroll(el) {\r\n        if (this._onGoingScrolls.has(el)) {\r\n            this._onGoingScrolls.get(el).next();\r\n        }\r\n        return this._onGoingScrolls.set(el, new Subject()).get(el);\r\n    }\r\n    /**\r\n     * Checks if smooth scroll has reached, cleans up the smooth scroll stream and resolves its promise\r\n     */\r\n    _isFinished(context, destroyed, resolve) {\r\n        if (context.currentX !== context.x || context.currentY !== context.y) {\r\n            return true;\r\n        }\r\n        destroyed.next();\r\n        resolve();\r\n        return false;\r\n    }\r\n    /**\r\n     * Terminates an ongoing smooth scroll\r\n     */\r\n    _interrupted(el, destroyed) {\r\n        return merge(fromEvent(el, 'wheel', { passive: true, capture: true }), fromEvent(el, 'touchmove', { passive: true, capture: true }), destroyed).pipe(take(1));\r\n    }\r\n    /**\r\n     * Deletes the destroyer function, runs if the smooth scroll has finished or interrupted\r\n     */\r\n    _destroy(el, destroyed) {\r\n        destroyed.complete();\r\n        this._onGoingScrolls.delete(el);\r\n    }\r\n    /**\r\n     * A function called recursively that, given a context, steps through scrolling\r\n     */\r\n    _step(context) {\r\n        return new Observable((subscriber) => {\r\n            let elapsed = (this._now() - context.startTime) / context.duration;\r\n            // avoid elapsed times higher than one\r\n            elapsed = elapsed > 1 ? 1 : elapsed;\r\n            // apply easing to elapsed time\r\n            const value = context.easing(elapsed);\r\n            context.currentX = context.startX + (context.x - context.startX) * value;\r\n            context.currentY = context.startY + (context.y - context.startY) * value;\r\n            this._scrollElement(context.scrollable, context.currentX, context.currentY);\r\n            // Proceed to the step\r\n            animationFrameScheduler.schedule(() => subscriber.next(context));\r\n        });\r\n    }\r\n    _applyScrollToOptions(el, options) {\r\n        if (!options.duration) {\r\n            this._scrollElement(el, options.left, options.top);\r\n            return Promise.resolve();\r\n        }\r\n        // Initialize a destroyer stream, reinitialize it if the element is already being scrolled\r\n        const destroyed = this._initSmoothScroll(el);\r\n        const context = {\r\n            scrollable: el,\r\n            startTime: this._now(),\r\n            startX: el.scrollLeft,\r\n            startY: el.scrollTop,\r\n            x: options.left == null ? el.scrollLeft : ~~options.left,\r\n            y: options.top == null ? el.scrollTop : ~~options.top,\r\n            duration: options.duration,\r\n            easing: BezierEasing(options.easing.x1, options.easing.y1, options.easing.x2, options.easing.y2)\r\n        };\r\n        return new Promise(resolve => {\r\n            // Scroll each step recursively\r\n            of(null).pipe(expand(() => this._step(context).pipe(takeWhile((currContext) => this._isFinished(currContext, destroyed, resolve)))), takeUntil(this._interrupted(el, destroyed)), finalize(() => this._destroy(el, destroyed))).subscribe();\r\n        });\r\n    }\r\n    /**\r\n     * Scrolls to the specified offsets. This is a normalized version of the browser's native scrollTo\r\n     * method, since browsers are not consistent about what scrollLeft means in RTL. For this method\r\n     * left and right always refer to the left and right side of the scrolling container irrespective\r\n     * of the layout direction. start and end refer to left and right in an LTR context and vice-versa\r\n     * in an RTL context.\r\n     * @param scrollable element\r\n     * @param customOptions specified the offsets to scroll to.\r\n     */\r\n    scrollTo(scrollable, customOptions) {\r\n        if (isPlatformBrowser(this._platform)) {\r\n            const el = this._getElement(scrollable);\r\n            const isRtl = getComputedStyle(el).direction === 'rtl';\r\n            const rtlScrollAxisType = getRtlScrollAxisType();\r\n            const options = {\r\n                ...this._defaultOptions,\r\n                ...customOptions,\r\n                ...{\r\n                    // Rewrite start & end offsets as right or left offsets.\r\n                    left: customOptions.left == null ? (isRtl ? customOptions.end : customOptions.start) : customOptions.left,\r\n                    right: customOptions.right == null ? (isRtl ? customOptions.start : customOptions.end) : customOptions.right\r\n                }\r\n            };\r\n            // Rewrite the bottom offset as a top offset.\r\n            if (options.bottom != null) {\r\n                options.top = el.scrollHeight - el.clientHeight - options.bottom;\r\n            }\r\n            // Rewrite the right offset as a left offset.\r\n            if (isRtl && rtlScrollAxisType !== 0 /* RtlScrollAxisType.NORMAL */) {\r\n                if (options.left != null) {\r\n                    options.right = el.scrollWidth - el.clientWidth - options.left;\r\n                }\r\n                if (rtlScrollAxisType === 2 /* RtlScrollAxisType.INVERTED */) {\r\n                    options.left = options.right;\r\n                }\r\n                else if (rtlScrollAxisType === 1 /* RtlScrollAxisType.NEGATED */) {\r\n                    options.left = options.right ? -options.right : options.right;\r\n                }\r\n            }\r\n            else {\r\n                if (options.right != null) {\r\n                    options.left = el.scrollWidth - el.clientWidth - options.right;\r\n                }\r\n            }\r\n            return this._applyScrollToOptions(el, options);\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n    /**\r\n     * Scroll to element by reference or selector\r\n     */\r\n    scrollToElement(scrollable, target, customOptions = {}) {\r\n        const scrollableEl = this._getElement(scrollable);\r\n        const targetEl = this._getElement(target, scrollableEl);\r\n        const options = {\r\n            ...customOptions,\r\n            ...{\r\n                left: targetEl.offsetLeft + (customOptions.left || 0),\r\n                top: targetEl.offsetTop + (customOptions.top || 0)\r\n            }\r\n        };\r\n        return targetEl ? this.scrollTo(scrollableEl, options) : Promise.resolve();\r\n    }\r\n}\r\nSmoothScrollManager.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: SmoothScrollManager, deps: [{ token: DOCUMENT }, { token: PLATFORM_ID }, { token: SMOOTH_SCROLL_OPTIONS, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\r\nSmoothScrollManager.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: SmoothScrollManager, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: SmoothScrollManager, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: Document, decorators: [{\r\n                    type: Inject,\r\n                    args: [DOCUMENT]\r\n                }] }, { type: undefined, decorators: [{\r\n                    type: Inject,\r\n                    args: [PLATFORM_ID]\r\n                }] }, { type: undefined, decorators: [{\r\n                    type: Optional\r\n                }, {\r\n                    type: Inject,\r\n                    args: [SMOOTH_SCROLL_OPTIONS]\r\n                }] }]; } });\n\nclass SmoothScroll {\r\n    constructor(element, smoothScroll) {\r\n        this.element = element;\r\n        this.smoothScroll = smoothScroll;\r\n    }\r\n    scrollTo(options) {\r\n        return this.smoothScroll.scrollTo(this.element, options);\r\n    }\r\n    scrollToElement(target, options) {\r\n        return this.smoothScroll.scrollToElement(this.element, target, options);\r\n    }\r\n}\r\nSmoothScroll.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: SmoothScroll, deps: [{ token: i0.ElementRef }, { token: SmoothScrollManager }], target: i0.ɵɵFactoryTarget.Directive });\r\nSmoothScroll.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.1.4\", type: SmoothScroll, selector: \"[smoothScroll], [smooth-scroll]\", exportAs: [\"smoothScroll\"], ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: SmoothScroll, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[smoothScroll], [smooth-scroll]',\r\n                    exportAs: 'smoothScroll'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: SmoothScrollManager }]; } });\n\nclass SmoothScrollModule {\r\n}\r\nSmoothScrollModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: SmoothScrollModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nSmoothScrollModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"15.1.4\", ngImport: i0, type: SmoothScrollModule, declarations: [SmoothScroll], exports: [SmoothScroll] });\r\nSmoothScrollModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: SmoothScrollModule });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: SmoothScrollModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [SmoothScroll],\r\n                    exports: [SmoothScroll]\r\n                }]\r\n        }] });\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { SMOOTH_SCROLL_OPTIONS, SmoothScroll, SmoothScrollManager, SmoothScrollModule };\n","import * as i0 from '@angular/core';\nimport { Directive, InjectionToken, Injectable, Optional, Inject, RendererStyleFlags2, Input, EventEmitter, Output, Component, ChangeDetectionStrategy, ViewChild, ElementRef, ContentChild, NgModule } from '@angular/core';\nimport * as i4 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i3 from '@angular/cdk/bidi';\nimport { BidiModule } from '@angular/cdk/bidi';\nimport { PortalModule } from '@angular/cdk/portal';\nimport * as i2 from '@angular/cdk/platform';\nimport { getRtlScrollAxisType, PlatformModule } from '@angular/cdk/platform';\nimport * as i2$1 from 'ngx-scrollbar/smooth-scroll';\nimport { SmoothScrollModule } from 'ngx-scrollbar/smooth-scroll';\nimport { coerceNumberProperty, coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { Observable, fromEvent, merge, BehaviorSubject, Subscription, EMPTY, of, Subject, animationFrameScheduler } from 'rxjs';\nimport { tap, map, takeUntil, switchMap, debounceTime, distinctUntilChanged, pluck, mergeMap, pairwise, filter, auditTime } from 'rxjs/operators';\n\nfunction preventSelection(doc) {\r\n    return tap(() => {\r\n        doc.onselectstart = () => false;\r\n    });\r\n}\r\nfunction enableSelection(doc) {\r\n    return tap(() => {\r\n        doc.onselectstart = null;\r\n    });\r\n}\r\nfunction stopPropagation() {\r\n    return tap((e) => e.stopPropagation());\r\n}\r\n/**\r\n * Check if pointer is within scrollbar bounds\r\n */\r\nfunction isWithinBounds(e, rect) {\r\n    return (e.clientX >= rect.left &&\r\n        e.clientX <= rect.left + rect.width &&\r\n        e.clientY >= rect.top &&\r\n        e.clientY <= rect.top + rect.height);\r\n}\n\nclass ScrollViewport {\r\n    // Get viewport size, clientHeight or clientWidth\r\n    get clientHeight() {\r\n        return this.nativeElement.clientHeight;\r\n    }\r\n    get clientWidth() {\r\n        return this.nativeElement.clientWidth;\r\n    }\r\n    get scrollHeight() {\r\n        return this.nativeElement.scrollHeight;\r\n    }\r\n    get scrollWidth() {\r\n        return this.nativeElement.scrollWidth;\r\n    }\r\n    // Get viewport scroll offset, scrollTop or scrollLeft\r\n    get scrollTop() {\r\n        return this.nativeElement.scrollTop;\r\n    }\r\n    get scrollLeft() {\r\n        return this.nativeElement.scrollLeft;\r\n    }\r\n    // Get the available scrollable size\r\n    get scrollMaxX() {\r\n        return this.scrollWidth - this.clientWidth;\r\n    }\r\n    get scrollMaxY() {\r\n        return this.scrollHeight - this.clientHeight;\r\n    }\r\n    get contentHeight() {\r\n        return this.contentWrapperElement?.clientHeight || 0;\r\n    }\r\n    get contentWidth() {\r\n        return this.contentWrapperElement?.clientWidth || 0;\r\n    }\r\n    constructor(viewPort) {\r\n        this.viewPort = viewPort;\r\n        this.nativeElement = viewPort.nativeElement;\r\n    }\r\n    /**\r\n     * Activate viewport pointer events such as 'hovered' and 'clicked' events\r\n     */\r\n    activatePointerEvents(propagate, destroyed) {\r\n        this.hovered = new Observable((subscriber) => {\r\n            // Stream that emits when pointer is moved over the viewport (used to set the hovered state)\r\n            const mouseMoveStream = fromEvent(this.nativeElement, 'mousemove', { passive: true });\r\n            const mouseMove = propagate ? mouseMoveStream : mouseMoveStream.pipe(stopPropagation());\r\n            // Stream that emits when pointer leaves the viewport (used to remove the hovered state)\r\n            const mouseLeave = fromEvent(this.nativeElement, 'mouseleave', { passive: true }).pipe(map(() => false));\r\n            merge(mouseMove, mouseLeave).pipe(tap((e) => subscriber.next(e)), takeUntil(destroyed)).subscribe();\r\n        });\r\n        this.clicked = new Observable((subscriber) => {\r\n            const mouseDown = fromEvent(this.nativeElement, 'mousedown', { passive: true }).pipe(tap((e) => subscriber.next(e)));\r\n            const mouseUp = fromEvent(this.nativeElement, 'mouseup', { passive: true }).pipe(tap(() => subscriber.next(false)));\r\n            mouseDown.pipe(switchMap(() => mouseUp), takeUntil(destroyed)).subscribe();\r\n        });\r\n    }\r\n    /**\r\n     * Set this directive as a non-functional wrapper, called when a custom viewport is used\r\n     */\r\n    setAsWrapper() {\r\n        // In this case the default viewport and the default content wrapper will act as a mask\r\n        this.nativeElement.className = 'ng-native-scrollbar-hider ng-scroll-layer';\r\n        if (this.nativeElement.firstElementChild) {\r\n            this.nativeElement.firstElementChild.className = 'ng-scroll-layer';\r\n        }\r\n    }\r\n    /**\r\n     * Set this directive as  the viewport, called when no custom viewport is used\r\n     */\r\n    setAsViewport(customClassName) {\r\n        this.nativeElement.className = `ng-native-scrollbar-hider ng-scroll-viewport ${customClassName}`;\r\n        // Check if the custom viewport has only one child and set it as the content wrapper\r\n        if (this.nativeElement.firstElementChild) {\r\n            this.contentWrapperElement = this.nativeElement.firstElementChild;\r\n            this.contentWrapperElement.classList.add('ng-scroll-content');\r\n        }\r\n    }\r\n    /**\r\n     * Scroll viewport vertically\r\n     */\r\n    scrollYTo(value) {\r\n        this.nativeElement.scrollTop = value;\r\n    }\r\n    /**\r\n     * Scroll viewport horizontally\r\n     */\r\n    scrollXTo(value) {\r\n        this.nativeElement.scrollLeft = value;\r\n    }\r\n}\r\nScrollViewport.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ScrollViewport, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Directive });\r\nScrollViewport.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.1.4\", type: ScrollViewport, selector: \"[scrollViewport]\", ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ScrollViewport, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[scrollViewport]'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; } });\n\nclass NgScrollbarBase {\r\n}\r\nNgScrollbarBase.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: NgScrollbarBase, deps: [], target: i0.ɵɵFactoryTarget.Directive });\r\nNgScrollbarBase.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.1.4\", type: NgScrollbarBase, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: NgScrollbarBase, decorators: [{\r\n            type: Directive\r\n        }] });\n\nconst NG_SCROLLBAR_OPTIONS = new InjectionToken('NG_SCROLLBAR_OPTIONS');\n\nconst defaultOptions = {\r\n    viewClass: '',\r\n    trackClass: '',\r\n    thumbClass: '',\r\n    track: 'vertical',\r\n    appearance: 'compact',\r\n    visibility: 'native',\r\n    position: 'native',\r\n    pointerEventsMethod: 'viewport',\r\n    trackClickScrollDuration: 300,\r\n    minThumbSize: 20,\r\n    windowResizeDebounce: 0,\r\n    sensorDebounce: 0,\r\n    scrollAuditTime: 0,\r\n    viewportPropagateMouseMove: true,\r\n    autoHeightDisabled: true,\r\n    autoWidthDisabled: true,\r\n    sensorDisabled: false,\r\n    pointerEventsDisabled: false\r\n};\r\nclass ScrollbarManager {\r\n    constructor(options) {\r\n        this.globalOptions = options ? { ...defaultOptions, ...options } : defaultOptions;\r\n        this.rtlScrollAxisType = getRtlScrollAxisType();\r\n    }\r\n}\r\nScrollbarManager.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ScrollbarManager, deps: [{ token: NG_SCROLLBAR_OPTIONS, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\r\nScrollbarManager.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ScrollbarManager, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ScrollbarManager, decorators: [{\r\n            type: Injectable,\r\n            args: [{ providedIn: 'root' }]\r\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\r\n                    type: Optional\r\n                }, {\r\n                    type: Inject,\r\n                    args: [NG_SCROLLBAR_OPTIONS]\r\n                }] }]; } });\n\nclass NativeScrollbarSizeFactory {\r\n    constructor(document, manager, platform) {\r\n        this.document = document;\r\n        this.manager = manager;\r\n        this.platform = platform;\r\n        this._scrollbarSize = new BehaviorSubject(this.getNativeScrollbarSize());\r\n        this.scrollbarSize = this._scrollbarSize.asObservable();\r\n        // Calculate native scrollbar size on window resize event, because the size changes if use zoomed in/out\r\n        if (platform.isBrowser) {\r\n            fromEvent(this.document.defaultView, 'resize', { passive: true }).pipe(debounceTime(this.manager.globalOptions.windowResizeDebounce), map(() => this.getNativeScrollbarSize()), distinctUntilChanged(), tap((size) => this._scrollbarSize.next(size))).subscribe();\r\n        }\r\n    }\r\n    /**\r\n     * Get native scrollbar size\r\n     */\r\n    getNativeScrollbarSize() {\r\n        // Avoid executing browser code in server side rendering\r\n        if (!this.platform.isBrowser) {\r\n            return 0;\r\n        }\r\n        // Hide iOS browsers native scrollbar\r\n        if (this.platform.IOS) {\r\n            return 6;\r\n        }\r\n        const box = this.document.createElement('div');\r\n        box.className = 'ng-scrollbar-measure';\r\n        box.style.left = '0px';\r\n        box.style.overflow = 'scroll';\r\n        box.style.position = 'fixed';\r\n        box.style.top = '-9999px';\r\n        this.document.body.appendChild(box);\r\n        const size = box.getBoundingClientRect().right;\r\n        this.document.body.removeChild(box);\r\n        return size;\r\n    }\r\n}\r\nNativeScrollbarSizeFactory.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: NativeScrollbarSizeFactory, deps: [{ token: DOCUMENT }, { token: ScrollbarManager }, { token: i2.Platform }], target: i0.ɵɵFactoryTarget.Injectable });\r\nNativeScrollbarSizeFactory.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: NativeScrollbarSizeFactory, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: NativeScrollbarSizeFactory, decorators: [{\r\n            type: Injectable,\r\n            args: [{ providedIn: 'root' }]\r\n        }], ctorParameters: function () { return [{ type: Document, decorators: [{\r\n                    type: Inject,\r\n                    args: [DOCUMENT]\r\n                }] }, { type: ScrollbarManager }, { type: i2.Platform }]; } });\n\nclass HideNativeScrollbar {\r\n    constructor(el, renderer, hideNativeScrollbar) {\r\n        this.renderer = renderer;\r\n        this.hideNativeScrollbar = hideNativeScrollbar;\r\n        this._subscriber = Subscription.EMPTY;\r\n        this._subscriber = hideNativeScrollbar.scrollbarSize.subscribe((size) => {\r\n            this.renderer.setStyle(el.nativeElement, '--native-scrollbar-size', `-${size}px`, RendererStyleFlags2.DashCase);\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this._subscriber.unsubscribe();\r\n    }\r\n}\r\nHideNativeScrollbar.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: HideNativeScrollbar, deps: [{ token: i0.ElementRef }, { token: i0.Renderer2 }, { token: NativeScrollbarSizeFactory }], target: i0.ɵɵFactoryTarget.Directive });\r\nHideNativeScrollbar.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.1.4\", type: HideNativeScrollbar, selector: \"[hideNativeScrollbar]\", ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: HideNativeScrollbar, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[hideNativeScrollbar]'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.Renderer2 }, { type: NativeScrollbarSizeFactory }]; } });\n\nclass NgAttr {\r\n    constructor(el) {\r\n        this.el = el;\r\n    }\r\n    set ngAttr(attrs) {\r\n        for (const [key, value] of Object.entries(attrs)) {\r\n            this.el.nativeElement.setAttribute(key, value);\r\n        }\r\n    }\r\n}\r\nNgAttr.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: NgAttr, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Directive });\r\nNgAttr.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.1.4\", type: NgAttr, selector: \"[ngAttr]\", inputs: { ngAttr: \"ngAttr\" }, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: NgAttr, decorators: [{\r\n            type: Directive,\r\n            args: [{ selector: '[ngAttr]' }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { ngAttr: [{\r\n                type: Input\r\n            }] } });\n\nclass ResizeSensor {\r\n    /** Debounce interval for emitting the changes. */\r\n    get debounce() {\r\n        return this._debounce;\r\n    }\r\n    set debounce(value) {\r\n        this._debounce = coerceNumberProperty(value);\r\n        this._subscribe();\r\n    }\r\n    /** Whether ResizeObserver is disabled. */\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    set disabled(value) {\r\n        this._disabled = coerceBooleanProperty(value);\r\n        this._disabled ? this._unsubscribe() : this._subscribe();\r\n    }\r\n    constructor(zone, platform, scrollbar) {\r\n        this.zone = zone;\r\n        this.platform = platform;\r\n        this.scrollbar = scrollbar;\r\n        this._disabled = false;\r\n        this._currentSubscription = null;\r\n        this.event = new EventEmitter();\r\n        if (!scrollbar) {\r\n            throw new Error('[NgScrollbar Resize Sensor Directive]: Host element must be an NgScrollbar component.');\r\n        }\r\n    }\r\n    ngAfterContentInit() {\r\n        if (!this._currentSubscription && !this._disabled) {\r\n            this._subscribe();\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        this._unsubscribe();\r\n    }\r\n    _subscribe() {\r\n        this._unsubscribe();\r\n        if (this.platform.isBrowser) {\r\n            const stream = new Observable((observer) => {\r\n                this._resizeObserver = new ResizeObserver((e) => observer.next(e));\r\n                this._resizeObserver.observe(this.scrollbar.viewport.nativeElement);\r\n                if (this.scrollbar.viewport.contentWrapperElement) {\r\n                    this._resizeObserver.observe(this.scrollbar.viewport.contentWrapperElement);\r\n                }\r\n            });\r\n            this.zone.runOutsideAngular(() => {\r\n                this._currentSubscription = (this._debounce ? stream.pipe(debounceTime(this._debounce)) : stream).subscribe(this.event);\r\n            });\r\n        }\r\n    }\r\n    _unsubscribe() {\r\n        this._resizeObserver?.disconnect();\r\n        this._currentSubscription?.unsubscribe();\r\n    }\r\n}\r\nResizeSensor.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ResizeSensor, deps: [{ token: i0.NgZone }, { token: i2.Platform }, { token: NgScrollbarBase }], target: i0.ɵɵFactoryTarget.Directive });\r\nResizeSensor.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.1.4\", type: ResizeSensor, selector: \"[resizeSensor]\", inputs: { debounce: [\"sensorDebounce\", \"debounce\"], disabled: [\"sensorDisabled\", \"disabled\"] }, outputs: { event: \"resizeSensor\" }, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ResizeSensor, decorators: [{\r\n            type: Directive,\r\n            args: [{ selector: '[resizeSensor]' }]\r\n        }], ctorParameters: function () { return [{ type: i0.NgZone }, { type: i2.Platform }, { type: NgScrollbarBase }]; }, propDecorators: { debounce: [{\r\n                type: Input,\r\n                args: ['sensorDebounce']\r\n            }], disabled: [{\r\n                type: Input,\r\n                args: ['sensorDisabled']\r\n            }], event: [{\r\n                type: Output,\r\n                args: ['resizeSensor']\r\n            }] } });\n\n// @dynamic\r\nclass TrackAdapter {\r\n    // Stream that emits when the track element is clicked\r\n    get clicked() {\r\n        const mouseDown = fromEvent(this.trackElement, 'mousedown', { passive: true }).pipe(stopPropagation(), preventSelection(this.document));\r\n        const mouseup = fromEvent(this.document, 'mouseup', { passive: true }).pipe(stopPropagation(), enableSelection(this.document), switchMap(() => EMPTY));\r\n        return merge(mouseDown, mouseup);\r\n    }\r\n    // Get track client rect\r\n    get clientRect() {\r\n        return this.trackElement.getBoundingClientRect();\r\n    }\r\n    constructor(cmp, trackElement, document) {\r\n        this.cmp = cmp;\r\n        this.trackElement = trackElement;\r\n        this.document = document;\r\n    }\r\n    /**\r\n     * Stream that emits when scrollbar track is clicked\r\n     */\r\n    onTrackClicked(e, thumbSize, scrollSize) {\r\n        return of(e).pipe(pluck(this.pageProperty), \r\n        // Calculate scrollTo position\r\n        map((pageOffset) => {\r\n            const clickOffset = pageOffset - this.offset;\r\n            const offset = clickOffset - (thumbSize / 2);\r\n            const ratio = offset / this.size;\r\n            return ratio * scrollSize;\r\n        }), \r\n        // Smooth scroll to position\r\n        tap((value) => {\r\n            this.cmp.scrollTo({\r\n                ...this.mapToScrollToOption(value),\r\n                duration: coerceNumberProperty(this.cmp.trackClickScrollDuration)\r\n            });\r\n        }));\r\n    }\r\n}\r\nTrackAdapter.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: TrackAdapter, deps: [{ token: NgScrollbarBase }, { token: HTMLElement }, { token: Document }], target: i0.ɵɵFactoryTarget.Directive });\r\nTrackAdapter.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.1.4\", type: TrackAdapter, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: TrackAdapter, decorators: [{\r\n            type: Directive\r\n        }], ctorParameters: function () { return [{ type: NgScrollbarBase }, { type: HTMLElement }, { type: Document }]; } });\n\nclass TrackXDirective extends TrackAdapter {\r\n    get pageProperty() {\r\n        return 'pageX';\r\n    }\r\n    get offset() {\r\n        return this.clientRect.left;\r\n    }\r\n    get size() {\r\n        return this.trackElement.clientWidth;\r\n    }\r\n    constructor(cmp, trackElement, document) {\r\n        super(cmp, trackElement.nativeElement, document);\r\n        this.cmp = cmp;\r\n        this.document = document;\r\n    }\r\n    mapToScrollToOption(value) {\r\n        return { left: value };\r\n    }\r\n}\r\nTrackXDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: TrackXDirective, deps: [{ token: NgScrollbarBase }, { token: i0.ElementRef }, { token: DOCUMENT }], target: i0.ɵɵFactoryTarget.Directive });\r\nTrackXDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.1.4\", type: TrackXDirective, selector: \"[scrollbarTrackX]\", usesInheritance: true, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: TrackXDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{ selector: '[scrollbarTrackX]' }]\r\n        }], ctorParameters: function () { return [{ type: NgScrollbarBase }, { type: i0.ElementRef }, { type: Document, decorators: [{\r\n                    type: Inject,\r\n                    args: [DOCUMENT]\r\n                }] }]; } });\r\nclass TrackYDirective extends TrackAdapter {\r\n    get pageProperty() {\r\n        return 'pageY';\r\n    }\r\n    get offset() {\r\n        return this.clientRect.top;\r\n    }\r\n    get size() {\r\n        return this.trackElement.clientHeight;\r\n    }\r\n    constructor(cmp, trackElement, document) {\r\n        super(cmp, trackElement.nativeElement, document);\r\n        this.cmp = cmp;\r\n        this.document = document;\r\n    }\r\n    mapToScrollToOption(value) {\r\n        return { top: value };\r\n    }\r\n}\r\nTrackYDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: TrackYDirective, deps: [{ token: NgScrollbarBase }, { token: i0.ElementRef }, { token: DOCUMENT }], target: i0.ɵɵFactoryTarget.Directive });\r\nTrackYDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.1.4\", type: TrackYDirective, selector: \"[scrollbarTrackY]\", usesInheritance: true, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: TrackYDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{ selector: '[scrollbarTrackY]' }]\r\n        }], ctorParameters: function () { return [{ type: NgScrollbarBase }, { type: i0.ElementRef }, { type: Document, decorators: [{\r\n                    type: Inject,\r\n                    args: [DOCUMENT]\r\n                }] }]; } });\n\n// @dynamic\r\nclass ThumbAdapter {\r\n    get trackMax() {\r\n        return this.track.size - this.size;\r\n    }\r\n    // Get thumb client rect\r\n    get clientRect() {\r\n        return this.thumbElement.getBoundingClientRect();\r\n    }\r\n    // Stream that emits when scrollbar thumb is clicked\r\n    get clicked() {\r\n        return fromEvent(this.thumbElement, 'mousedown', { passive: true }).pipe(stopPropagation());\r\n    }\r\n    constructor(cmp, track, thumbElement, document) {\r\n        this.cmp = cmp;\r\n        this.track = track;\r\n        this.thumbElement = thumbElement;\r\n        this.document = document;\r\n        // Stream that emits dragging state\r\n        this._dragging = new Subject();\r\n        this.dragging = this._dragging.pipe(distinctUntilChanged());\r\n    }\r\n    // Calculate and update thumb position and size\r\n    update() {\r\n        const size = calculateThumbSize(this.track.size, this.viewportScrollSize, this.cmp.minThumbSize);\r\n        const position = calculateThumbPosition(this.viewportScrollOffset, this.viewportScrollMax, this.trackMax);\r\n        animationFrameScheduler.schedule(() => this.updateStyles(this.handleDirection(position, this.trackMax), size));\r\n    }\r\n    /**\r\n     * Stream that emits the 'scrollTo' position when a scrollbar thumb element is dragged\r\n     * This function is called by thumb drag event using viewport or scrollbar pointer events\r\n     */\r\n    dragged(event) {\r\n        let trackMaxStart;\r\n        let scrollMaxStart;\r\n        const dragStart = of(event).pipe(preventSelection(this.document), tap(() => {\r\n            // Capture scrollMax and trackMax once\r\n            trackMaxStart = this.trackMax;\r\n            scrollMaxStart = this.viewportScrollMax;\r\n            this.setDragging(true);\r\n        }));\r\n        const dragging = fromEvent(this.document, 'mousemove', { capture: true, passive: true }).pipe(stopPropagation());\r\n        const dragEnd = fromEvent(this.document, 'mouseup', { capture: true }).pipe(stopPropagation(), enableSelection(this.document), tap(() => this.setDragging(false)));\r\n        return dragStart.pipe(pluck(this.pageProperty), map((pageOffset) => pageOffset - this.dragStartOffset), mergeMap((mouseDownOffset) => dragging.pipe(pluck(this.clientProperty), \r\n        // Calculate how far the pointer is from the top/left of the scrollbar (minus the dragOffset).\r\n        map((mouseOffset) => mouseOffset - this.track.offset), map((offset) => scrollMaxStart * (offset - mouseDownOffset) / trackMaxStart), map((position) => this.handleDrag(position, scrollMaxStart)), tap((position) => this.scrollTo(position)), takeUntil(dragEnd))));\r\n    }\r\n}\r\nThumbAdapter.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ThumbAdapter, deps: [{ token: NgScrollbarBase }, { token: TrackAdapter }, { token: HTMLElement }, { token: Document }], target: i0.ɵɵFactoryTarget.Directive });\r\nThumbAdapter.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.1.4\", type: ThumbAdapter, outputs: { dragging: \"dragging\" }, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ThumbAdapter, decorators: [{\r\n            type: Directive\r\n        }], ctorParameters: function () { return [{ type: NgScrollbarBase }, { type: TrackAdapter }, { type: HTMLElement }, { type: Document }]; }, propDecorators: { dragging: [{\r\n                type: Output\r\n            }] } });\r\n/**\r\n * Calculate scrollbar thumb size\r\n */\r\nfunction calculateThumbSize(trackSize, contentSize, minThumbSize) {\r\n    const scrollbarRatio = trackSize / contentSize;\r\n    const thumbSize = scrollbarRatio * trackSize;\r\n    return Math.max(~~thumbSize, minThumbSize);\r\n}\r\n/**\r\n * Calculate scrollbar thumb position\r\n */\r\nfunction calculateThumbPosition(scrollPosition, scrollMax, trackMax) {\r\n    return scrollPosition * trackMax / scrollMax;\r\n}\n\nclass ThumbXDirective extends ThumbAdapter {\r\n    get clientProperty() {\r\n        return 'clientX';\r\n    }\r\n    get pageProperty() {\r\n        return 'pageX';\r\n    }\r\n    get viewportScrollSize() {\r\n        return this.cmp.viewport.scrollWidth;\r\n    }\r\n    get viewportScrollOffset() {\r\n        return this.cmp.viewport.scrollLeft;\r\n    }\r\n    get viewportScrollMax() {\r\n        return this.cmp.viewport.scrollMaxX;\r\n    }\r\n    get dragStartOffset() {\r\n        return this.clientRect.left + this.document.defaultView.pageXOffset || 0;\r\n    }\r\n    get size() {\r\n        return this.thumbElement.clientWidth;\r\n    }\r\n    constructor(cmp, track, element, document, dir) {\r\n        super(cmp, track, element.nativeElement, document);\r\n        this.cmp = cmp;\r\n        this.track = track;\r\n        this.element = element;\r\n        this.document = document;\r\n        this.dir = dir;\r\n    }\r\n    updateStyles(position, size) {\r\n        this.thumbElement.style.width = `${size}px`;\r\n        this.thumbElement.style.transform = `translate3d(${position}px, 0, 0)`;\r\n    }\r\n    handleDrag(position, scrollMax) {\r\n        if (this.dir.value === 'rtl') {\r\n            if (this.cmp.manager.rtlScrollAxisType === 1 /* RtlScrollAxisType.NEGATED */) {\r\n                return position - scrollMax;\r\n            }\r\n            if (this.cmp.manager.rtlScrollAxisType === 2 /* RtlScrollAxisType.INVERTED */) {\r\n                return scrollMax - position;\r\n            }\r\n            // Keeping this as a memo\r\n            // if (this.rtlScrollAxisType === RtlScrollAxisType.NORMAL) {\r\n            //   return position;\r\n            // }\r\n        }\r\n        return position;\r\n    }\r\n    handleDirection(position, trackMax) {\r\n        if (this.dir.value === 'rtl') {\r\n            if (this.cmp.manager.rtlScrollAxisType === 2 /* RtlScrollAxisType.INVERTED */) {\r\n                return -position;\r\n            }\r\n            if (this.cmp.manager.rtlScrollAxisType === 0 /* RtlScrollAxisType.NORMAL */) {\r\n                return position - trackMax;\r\n            }\r\n            // Keeping this as a memo\r\n            // if (this.rtlScrollAxisType === RtlScrollAxisType.NEGATED) {\r\n            //   return position;\r\n            // }\r\n        }\r\n        return position;\r\n    }\r\n    setDragging(value) {\r\n        this.cmp.setDragging({ horizontalDragging: value });\r\n    }\r\n    scrollTo(position) {\r\n        this.cmp.viewport.scrollXTo(position);\r\n    }\r\n}\r\nThumbXDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ThumbXDirective, deps: [{ token: NgScrollbarBase }, { token: TrackXDirective }, { token: i0.ElementRef }, { token: DOCUMENT }, { token: i3.Directionality }], target: i0.ɵɵFactoryTarget.Directive });\r\nThumbXDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.1.4\", type: ThumbXDirective, selector: \"[scrollbarThumbX]\", usesInheritance: true, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ThumbXDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{ selector: '[scrollbarThumbX]' }]\r\n        }], ctorParameters: function () { return [{ type: NgScrollbarBase }, { type: TrackXDirective }, { type: i0.ElementRef }, { type: Document, decorators: [{\r\n                    type: Inject,\r\n                    args: [DOCUMENT]\r\n                }] }, { type: i3.Directionality }]; } });\r\nclass ThumbYDirective extends ThumbAdapter {\r\n    get pageProperty() {\r\n        return 'pageY';\r\n    }\r\n    get viewportScrollSize() {\r\n        return this.cmp.viewport.scrollHeight;\r\n    }\r\n    get viewportScrollOffset() {\r\n        return this.cmp.viewport.scrollTop;\r\n    }\r\n    get viewportScrollMax() {\r\n        return this.cmp.viewport.scrollMaxY;\r\n    }\r\n    get clientProperty() {\r\n        return 'clientY';\r\n    }\r\n    get dragStartOffset() {\r\n        return this.clientRect.top + this.document.defaultView.pageYOffset || 0;\r\n    }\r\n    get size() {\r\n        return this.thumbElement.clientHeight;\r\n    }\r\n    constructor(cmp, track, element, document) {\r\n        super(cmp, track, element.nativeElement, document);\r\n        this.cmp = cmp;\r\n        this.track = track;\r\n        this.element = element;\r\n        this.document = document;\r\n    }\r\n    updateStyles(position, size) {\r\n        this.thumbElement.style.height = `${size}px`;\r\n        this.thumbElement.style.transform = `translate3d(0px, ${position}px, 0)`;\r\n    }\r\n    handleDrag(position) {\r\n        return position;\r\n    }\r\n    handleDirection(position) {\r\n        return position;\r\n    }\r\n    setDragging(value) {\r\n        this.cmp.setDragging({ verticalDragging: value });\r\n    }\r\n    scrollTo(position) {\r\n        this.cmp.viewport.scrollYTo(position);\r\n    }\r\n}\r\nThumbYDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ThumbYDirective, deps: [{ token: NgScrollbarBase }, { token: TrackYDirective }, { token: i0.ElementRef }, { token: DOCUMENT }], target: i0.ɵɵFactoryTarget.Directive });\r\nThumbYDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.1.4\", type: ThumbYDirective, selector: \"[scrollbarThumbY]\", usesInheritance: true, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ThumbYDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{ selector: '[scrollbarThumbY]' }]\r\n        }], ctorParameters: function () { return [{ type: NgScrollbarBase }, { type: TrackYDirective }, { type: i0.ElementRef }, { type: Document, decorators: [{\r\n                    type: Inject,\r\n                    args: [DOCUMENT]\r\n                }] }]; } });\n\n// @dynamic\r\nclass Scrollbar {\r\n    constructor(el, cmp, platform, document, zone) {\r\n        this.el = el;\r\n        this.cmp = cmp;\r\n        this.platform = platform;\r\n        this.document = document;\r\n        this.zone = zone;\r\n        // Stream that emits to unsubscribe from all streams\r\n        this.destroyed = new Subject();\r\n    }\r\n    /**\r\n     * Activate scrollbar pointer events\r\n     */\r\n    activatePointerEvents() {\r\n        // Stream that emits when scrollbar thumb is dragged\r\n        let thumbDragEvent;\r\n        // Stream that emits when scrollbar track is clicked\r\n        let trackClickEvent;\r\n        // Stream that emits when scrollbar track is hovered\r\n        let trackHoveredEvent;\r\n        // Set the method used for the pointer events option\r\n        if (this.cmp.pointerEventsMethod === 'viewport') {\r\n            // Pointer events using the viewport\r\n            this.viewportTrackClicked = new Subject();\r\n            this.viewportThumbClicked = new Subject();\r\n            // Activate the pointer events of the viewport directive\r\n            this.cmp.viewport.activatePointerEvents(this.cmp.viewportPropagateMouseMove, this.destroyed);\r\n            // Set streams\r\n            thumbDragEvent = this.viewportThumbClicked;\r\n            trackClickEvent = this.viewportTrackClicked;\r\n            trackHoveredEvent = this.cmp.viewport.hovered.pipe(\r\n            // Check if track is hovered\r\n            map((e) => e ? isWithinBounds(e, this.el.getBoundingClientRect()) : false), distinctUntilChanged(), \r\n            // Enable / disable text selection\r\n            tap((hovered) => this.document.onselectstart = hovered ? () => false : null));\r\n            this.cmp.viewport.clicked.pipe(tap((e) => {\r\n                if (e) {\r\n                    if (isWithinBounds(e, this.thumb.clientRect)) {\r\n                        this.viewportThumbClicked.next(e);\r\n                    }\r\n                    else if (isWithinBounds(e, this.track.clientRect)) {\r\n                        this.cmp.setClicked(true);\r\n                        this.viewportTrackClicked.next(e);\r\n                    }\r\n                }\r\n                else {\r\n                    this.cmp.setClicked(false);\r\n                }\r\n            }), takeUntil(this.destroyed)).subscribe();\r\n        }\r\n        else {\r\n            // Pointer events method is using 'scrollbar'\r\n            thumbDragEvent = this.thumb.clicked;\r\n            trackClickEvent = this.track.clicked;\r\n            trackHoveredEvent = this.hovered;\r\n        }\r\n        return merge(\r\n        // Activate scrollbar hovered event\r\n        trackHoveredEvent.pipe(tap((e) => this.setHovered(e))), \r\n        // Activate scrollbar thumb drag event\r\n        thumbDragEvent.pipe(switchMap((e) => this.thumb.dragged(e))), \r\n        // Activate scrollbar track click event\r\n        trackClickEvent.pipe(switchMap((e) => this.track.onTrackClicked(e, this.thumb.size, this.viewportScrollSize))));\r\n    }\r\n    // Stream that emits when the track element is hovered\r\n    get hovered() {\r\n        const mouseEnter = fromEvent(this.el, 'mouseenter', { passive: true }).pipe(stopPropagation(), map(() => true));\r\n        const mouseLeave = fromEvent(this.el, 'mouseleave', { passive: true }).pipe(stopPropagation(), map(() => false));\r\n        return merge(mouseEnter, mouseLeave);\r\n    }\r\n    ngOnInit() {\r\n        this.zone.runOutsideAngular(() => {\r\n            // Activate pointer events on Desktop only\r\n            if (!(this.platform.IOS || this.platform.ANDROID) && !this.cmp.pointerEventsDisabled) {\r\n                this.activatePointerEvents().pipe(takeUntil(this.destroyed)).subscribe();\r\n            }\r\n            // Update scrollbar thumb when viewport is scrolled and when scrollbar component is updated\r\n            merge(this.cmp.scrolled, this.cmp.updated).pipe(tap(() => this.thumb?.update()), takeUntil(this.destroyed)).subscribe();\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this.destroyed.next();\r\n        this.destroyed.complete();\r\n        // Clean up viewport streams if used\r\n        if (this.viewportThumbClicked && this.viewportTrackClicked) {\r\n            this.viewportTrackClicked.complete();\r\n            this.viewportThumbClicked.complete();\r\n        }\r\n    }\r\n}\r\nScrollbar.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: Scrollbar, deps: [{ token: HTMLElement }, { token: NgScrollbarBase }, { token: i2.Platform }, { token: Document }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Directive });\r\nScrollbar.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.1.4\", type: Scrollbar, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: Scrollbar, decorators: [{\r\n            type: Directive\r\n        }], ctorParameters: function () { return [{ type: HTMLElement }, { type: NgScrollbarBase }, { type: i2.Platform }, { type: Document }, { type: i0.NgZone }]; } });\n\nclass ScrollbarY extends Scrollbar {\r\n    get viewportScrollSize() {\r\n        return this.cmp.viewport.scrollHeight;\r\n    }\r\n    constructor(el, cmp, platform, document, zone) {\r\n        super(el.nativeElement, cmp, platform, document, zone);\r\n        this.cmp = cmp;\r\n        this.platform = platform;\r\n        this.document = document;\r\n        this.zone = zone;\r\n    }\r\n    setHovered(value) {\r\n        this.cmp.setHovered({ verticalHovered: value });\r\n    }\r\n}\r\nScrollbarY.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ScrollbarY, deps: [{ token: i0.ElementRef }, { token: NgScrollbarBase }, { token: i2.Platform }, { token: DOCUMENT }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });\r\nScrollbarY.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.1.4\", type: ScrollbarY, selector: \"scrollbar-y\", host: { properties: { \"class.scrollbar-control\": \"true\" } }, viewQueries: [{ propertyName: \"track\", first: true, predicate: TrackYDirective, descendants: true, static: true }, { propertyName: \"thumb\", first: true, predicate: ThumbYDirective, descendants: true, static: true }], usesInheritance: true, ngImport: i0, template: `\n    <div scrollbarTrackY class=\"ng-scrollbar-track {{cmp.trackClass}}\">\n      <div scrollbarThumbY class=\"ng-scrollbar-thumb {{cmp.thumbClass}}\"></div>\n    </div>\n  `, isInline: true, styles: [\"::ng-deep .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control{width:var(--vertical-scrollbar-total-size)}::ng-deep .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track{width:var(--vertical-scrollbar-size);height:calc(100% - var(--scrollbar-padding) * 2)}::ng-deep .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{height:0;width:100%}::ng-deep .ng-scrollbar-wrapper[verticalHovered=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb,::ng-deep .ng-scrollbar-wrapper[verticalDragging=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}::ng-deep .ng-scrollbar-wrapper[deactivated=false]>scrollbar-y.scrollbar-control{top:0;bottom:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=ltr]>scrollbar-y.scrollbar-control{right:0;left:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertY]>scrollbar-y.scrollbar-control,::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertAll]>scrollbar-y.scrollbar-control{left:0;right:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=rtl]>scrollbar-y.scrollbar-control{left:0;right:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertY]>scrollbar-y.scrollbar-control,::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertAll]>scrollbar-y.scrollbar-control{left:unset;right:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all]>scrollbar-y.scrollbar-control[fit=true]{bottom:var(--scrollbar-total-size);top:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertX]>scrollbar-y.scrollbar-control[fit=true],::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertAll]>scrollbar-y.scrollbar-control[fit=true]{top:var(--scrollbar-total-size);bottom:0}\\n\"], dependencies: [{ kind: \"directive\", type: ThumbYDirective, selector: \"[scrollbarThumbY]\" }, { kind: \"directive\", type: TrackYDirective, selector: \"[scrollbarTrackY]\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ScrollbarY, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'scrollbar-y', host: { '[class.scrollbar-control]': 'true' }, changeDetection: ChangeDetectionStrategy.OnPush, template: `\n    <div scrollbarTrackY class=\"ng-scrollbar-track {{cmp.trackClass}}\">\n      <div scrollbarThumbY class=\"ng-scrollbar-thumb {{cmp.thumbClass}}\"></div>\n    </div>\n  `, styles: [\"::ng-deep .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control{width:var(--vertical-scrollbar-total-size)}::ng-deep .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track{width:var(--vertical-scrollbar-size);height:calc(100% - var(--scrollbar-padding) * 2)}::ng-deep .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{height:0;width:100%}::ng-deep .ng-scrollbar-wrapper[verticalHovered=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb,::ng-deep .ng-scrollbar-wrapper[verticalDragging=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}::ng-deep .ng-scrollbar-wrapper[deactivated=false]>scrollbar-y.scrollbar-control{top:0;bottom:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=ltr]>scrollbar-y.scrollbar-control{right:0;left:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertY]>scrollbar-y.scrollbar-control,::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertAll]>scrollbar-y.scrollbar-control{left:0;right:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=rtl]>scrollbar-y.scrollbar-control{left:0;right:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertY]>scrollbar-y.scrollbar-control,::ng-deep .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertAll]>scrollbar-y.scrollbar-control{left:unset;right:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all]>scrollbar-y.scrollbar-control[fit=true]{bottom:var(--scrollbar-total-size);top:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertX]>scrollbar-y.scrollbar-control[fit=true],::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertAll]>scrollbar-y.scrollbar-control[fit=true]{top:var(--scrollbar-total-size);bottom:0}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: NgScrollbarBase }, { type: i2.Platform }, { type: Document, decorators: [{\r\n                    type: Inject,\r\n                    args: [DOCUMENT]\r\n                }] }, { type: i0.NgZone }]; }, propDecorators: { track: [{\r\n                type: ViewChild,\r\n                args: [TrackYDirective, { static: true }]\r\n            }], thumb: [{\r\n                type: ViewChild,\r\n                args: [ThumbYDirective, { static: true }]\r\n            }] } });\r\nclass ScrollbarX extends Scrollbar {\r\n    get viewportScrollSize() {\r\n        return this.cmp.viewport.scrollWidth;\r\n    }\r\n    constructor(el, cmp, platform, document, zone) {\r\n        super(el.nativeElement, cmp, platform, document, zone);\r\n        this.cmp = cmp;\r\n        this.platform = platform;\r\n        this.document = document;\r\n        this.zone = zone;\r\n    }\r\n    setHovered(value) {\r\n        this.cmp.setHovered({ horizontalHovered: value });\r\n    }\r\n}\r\nScrollbarX.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ScrollbarX, deps: [{ token: i0.ElementRef }, { token: NgScrollbarBase }, { token: i2.Platform }, { token: DOCUMENT }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });\r\nScrollbarX.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.1.4\", type: ScrollbarX, selector: \"scrollbar-x\", host: { properties: { \"class.scrollbar-control\": \"true\" } }, viewQueries: [{ propertyName: \"track\", first: true, predicate: TrackXDirective, descendants: true, static: true }, { propertyName: \"thumb\", first: true, predicate: ThumbXDirective, descendants: true, static: true }], usesInheritance: true, ngImport: i0, template: `\n    <div scrollbarTrackX class=\"ng-scrollbar-track {{cmp.trackClass}}\">\n      <div scrollbarThumbX class=\"ng-scrollbar-thumb {{cmp.thumbClass}}\"></div>\n    </div>\n  `, isInline: true, styles: [\"::ng-deep .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control{height:var(--horizontal-scrollbar-total-size)}::ng-deep .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track{height:var(--horizontal-scrollbar-size);width:calc(100% - var(--scrollbar-padding) * 2)}::ng-deep .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{width:0;height:100%}::ng-deep .ng-scrollbar-wrapper[horizontalHovered=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb,::ng-deep .ng-scrollbar-wrapper[horizontalDragging=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}::ng-deep .ng-scrollbar-wrapper[position=invertX]>scrollbar-x.scrollbar-control,::ng-deep .ng-scrollbar-wrapper[position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false]>scrollbar-x.scrollbar-control{left:0;right:0;bottom:0;top:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][position=invertX]>scrollbar-x.scrollbar-control,::ng-deep .ng-scrollbar-wrapper[deactivated=false][position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertY]>scrollbar-x.scrollbar-control[fit=true],::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertY]>scrollbar-x.scrollbar-control[fit=true],::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}\\n\"], dependencies: [{ kind: \"directive\", type: ThumbXDirective, selector: \"[scrollbarThumbX]\" }, { kind: \"directive\", type: TrackXDirective, selector: \"[scrollbarTrackX]\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: ScrollbarX, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'scrollbar-x', host: { '[class.scrollbar-control]': 'true' }, changeDetection: ChangeDetectionStrategy.OnPush, template: `\n    <div scrollbarTrackX class=\"ng-scrollbar-track {{cmp.trackClass}}\">\n      <div scrollbarThumbX class=\"ng-scrollbar-thumb {{cmp.thumbClass}}\"></div>\n    </div>\n  `, styles: [\"::ng-deep .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control{height:var(--horizontal-scrollbar-total-size)}::ng-deep .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track{height:var(--horizontal-scrollbar-size);width:calc(100% - var(--scrollbar-padding) * 2)}::ng-deep .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{width:0;height:100%}::ng-deep .ng-scrollbar-wrapper[horizontalHovered=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb,::ng-deep .ng-scrollbar-wrapper[horizontalDragging=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}::ng-deep .ng-scrollbar-wrapper[position=invertX]>scrollbar-x.scrollbar-control,::ng-deep .ng-scrollbar-wrapper[position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false]>scrollbar-x.scrollbar-control{left:0;right:0;bottom:0;top:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][position=invertX]>scrollbar-x.scrollbar-control,::ng-deep .ng-scrollbar-wrapper[deactivated=false][position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertY]>scrollbar-x.scrollbar-control[fit=true],::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertY]>scrollbar-x.scrollbar-control[fit=true],::ng-deep .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: NgScrollbarBase }, { type: i2.Platform }, { type: Document, decorators: [{\r\n                    type: Inject,\r\n                    args: [DOCUMENT]\r\n                }] }, { type: i0.NgZone }]; }, propDecorators: { track: [{\r\n                type: ViewChild,\r\n                args: [TrackXDirective, { static: true }]\r\n            }], thumb: [{\r\n                type: ViewChild,\r\n                args: [ThumbXDirective, { static: true }]\r\n            }] } });\n\nclass NgScrollbar {\r\n    /** Disable custom scrollbar and switch back to native scrollbar */\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    set disabled(disabled) {\r\n        this._disabled = coerceBooleanProperty(disabled);\r\n    }\r\n    /** Whether ResizeObserver is disabled */\r\n    get sensorDisabled() {\r\n        return this._sensorDisabled;\r\n    }\r\n    set sensorDisabled(disabled) {\r\n        this._sensorDisabled = coerceBooleanProperty(disabled);\r\n    }\r\n    /** A flag used to enable/disable the scrollbar thumb dragged event */\r\n    get pointerEventsDisabled() {\r\n        return this._pointerEventsDisabled;\r\n    }\r\n    set pointerEventsDisabled(disabled) {\r\n        this._pointerEventsDisabled = coerceBooleanProperty(disabled);\r\n    }\r\n    /** Enable viewport mousemove event propagation (only when pointerEventsMethod=\"viewport\") */\r\n    get viewportPropagateMouseMove() {\r\n        return this._viewportPropagateMouseMove;\r\n    }\r\n    set viewportPropagateMouseMove(disabled) {\r\n        this._viewportPropagateMouseMove = coerceBooleanProperty(disabled);\r\n    }\r\n    /** Disable auto-height */\r\n    get autoHeightDisabled() {\r\n        return this._autoHeightDisabled;\r\n    }\r\n    set autoHeightDisabled(disabled) {\r\n        this._autoHeightDisabled = coerceBooleanProperty(disabled);\r\n    }\r\n    /** Disable auto-width */\r\n    get autoWidthDisabled() {\r\n        return this._autoWidthDisabled;\r\n    }\r\n    set autoWidthDisabled(disabled) {\r\n        this._autoWidthDisabled = coerceBooleanProperty(disabled);\r\n    }\r\n    get nativeElement() {\r\n        return this.el.nativeElement;\r\n    }\r\n    constructor(el, zone, changeDetectorRef, dir, smoothScroll, manager) {\r\n        this.el = el;\r\n        this.zone = zone;\r\n        this.changeDetectorRef = changeDetectorRef;\r\n        this.dir = dir;\r\n        this.smoothScroll = smoothScroll;\r\n        this.manager = manager;\r\n        this._disabled = false;\r\n        this._sensorDisabled = this.manager.globalOptions.sensorDisabled;\r\n        this._pointerEventsDisabled = this.manager.globalOptions.pointerEventsDisabled;\r\n        this._autoHeightDisabled = this.manager.globalOptions.autoHeightDisabled;\r\n        this._autoWidthDisabled = this.manager.globalOptions.autoWidthDisabled;\r\n        this._viewportPropagateMouseMove = this.manager.globalOptions.viewportPropagateMouseMove;\r\n        /** A class forwarded to scrollable viewport element */\r\n        this.viewClass = this.manager.globalOptions.viewClass;\r\n        /** A class forwarded to the scrollbar track element */\r\n        this.trackClass = this.manager.globalOptions.trackClass;\r\n        /** A class forwarded to the scrollbar thumb element */\r\n        this.thumbClass = this.manager.globalOptions.thumbClass;\r\n        /** Minimum scrollbar thumb size */\r\n        this.minThumbSize = this.manager.globalOptions.minThumbSize;\r\n        /** The duration which the scrolling takes to reach its target when scrollbar rail is clicked */\r\n        this.trackClickScrollDuration = this.manager.globalOptions.trackClickScrollDuration;\r\n        /**\r\n         * Sets the pointer events method\r\n         * Use viewport pointer events  to handle dragging and track click (This makes scrolling work when mouse is over the scrollbar)\r\n         * Use scrollbar pointer events to handle dragging and track click\r\n         */\r\n        this.pointerEventsMethod = this.manager.globalOptions.pointerEventsMethod;\r\n        /**\r\n         * Sets the supported scroll track of the viewport, there are 3 options:\r\n         *\r\n         * - `vertical` Use both vertical and horizontal scrollbar\r\n         * - `horizontal` Use both vertical and horizontal scrollbar\r\n         * - `all` Use both vertical and horizontal scrollbar\r\n         */\r\n        this.track = this.manager.globalOptions.track;\r\n        /**\r\n         * When to show the scrollbar, and there are 3 options:\r\n         *\r\n         * - `native` (default) Scrollbar will be visible when viewport is scrollable like with native scrollbar\r\n         * - `hover` Scrollbars are hidden by default, only visible on scrolling or hovering\r\n         * - `always` Scrollbars are always shown even if the viewport is not scrollable\r\n         */\r\n        this.visibility = this.manager.globalOptions.visibility;\r\n        /**\r\n         *  Sets the appearance of the scrollbar, there are 2 options:\r\n         *\r\n         * - `standard` (default) scrollbar space will be reserved just like with native scrollbar.\r\n         * - `compact` scrollbar doesn't reserve any space, they are placed over the viewport.\r\n         */\r\n        this.appearance = this.manager.globalOptions.appearance;\r\n        /**\r\n         * Sets the position of each scrollbar, there are 4 options:\r\n         *\r\n         * - `native` (Default) Use the default position like in native scrollbar.\r\n         * - `invertY` Inverts vertical scrollbar position\r\n         * - `invertX` Inverts Horizontal scrollbar position\r\n         * - `invertAll` Inverts both scrollbar positions\r\n         */\r\n        this.position = this.manager.globalOptions.position;\r\n        /** Debounce interval for detecting changes via ResizeObserver */\r\n        this.sensorDebounce = this.manager.globalOptions.sensorDebounce;\r\n        /** Scroll Audit Time */\r\n        this.scrollAuditTime = this.manager.globalOptions.scrollAuditTime;\r\n        /** Steam that emits when scrollbar is updated */\r\n        this.updated = new EventEmitter();\r\n        /** Set of attributes added on the scrollbar wrapper */\r\n        this.state = {};\r\n        /** Stream that destroys components' observables */\r\n        this.destroyed = new Subject();\r\n    }\r\n    /**\r\n     * Update local state with each change detection\r\n     */\r\n    updateState() {\r\n        let verticalUsed = false;\r\n        let horizontalUsed = false;\r\n        let isVerticallyScrollable = false;\r\n        let isHorizontallyScrollable = false;\r\n        // Check if vertical scrollbar should be displayed\r\n        if (this.track === 'all' || this.track === 'vertical') {\r\n            isVerticallyScrollable = this.viewport.scrollHeight > this.viewport.clientHeight;\r\n            verticalUsed = this.visibility === 'always' || isVerticallyScrollable;\r\n        }\r\n        // Check if horizontal scrollbar should be displayed\r\n        if (this.track === 'all' || this.track === 'horizontal') {\r\n            isHorizontallyScrollable = this.viewport.scrollWidth > this.viewport.clientWidth;\r\n            horizontalUsed = this.visibility === 'always' || isHorizontallyScrollable;\r\n        }\r\n        // Update inner wrapper attributes\r\n        this.setState({\r\n            position: this.position,\r\n            track: this.track,\r\n            appearance: this.appearance,\r\n            visibility: this.visibility,\r\n            deactivated: this.disabled,\r\n            dir: this.dir.value,\r\n            pointerEventsMethod: this.pointerEventsMethod,\r\n            verticalUsed,\r\n            horizontalUsed,\r\n            isVerticallyScrollable,\r\n            isHorizontallyScrollable\r\n        });\r\n    }\r\n    setState(state) {\r\n        this.state = { ...this.state, ...state };\r\n        this.changeDetectorRef.detectChanges();\r\n    }\r\n    getScrolledByDirection(property) {\r\n        let event;\r\n        return this.scrolled.pipe(tap((e) => event = e), pluck('target', property), pairwise(), filter(([prev, curr]) => prev !== curr), map(() => event));\r\n    }\r\n    /**\r\n     * Set hovered state if a scrollbar is being hovered\r\n     */\r\n    setHovered(hovered) {\r\n        this.zone.run(() => this.setState({ ...hovered }));\r\n    }\r\n    /**\r\n     * Set dragging state if a scrollbar is being dragged\r\n     */\r\n    setDragging(dragging) {\r\n        this.zone.run(() => this.setState({ ...dragging }));\r\n    }\r\n    /**\r\n     * Set clicked state if a scrollbar track is being click\r\n     */\r\n    setClicked(scrollbarClicked) {\r\n        this.zone.run(() => this.setState({ scrollbarClicked }));\r\n    }\r\n    ngOnInit() {\r\n        // Set the viewport based on user choice\r\n        this.zone.runOutsideAngular(() => {\r\n            if (this.customViewPort) {\r\n                this.viewport = this.customViewPort;\r\n                this.defaultViewPort.setAsWrapper();\r\n            }\r\n            else {\r\n                this.viewport = this.defaultViewPort;\r\n            }\r\n            // Activate the selected viewport\r\n            this.viewport.setAsViewport(this.viewClass);\r\n            let scrollStream = fromEvent(this.viewport.nativeElement, 'scroll', { passive: true });\r\n            // Throttle scroll event if 'scrollAuditTime' is set\r\n            scrollStream = this.scrollAuditTime ? scrollStream.pipe(auditTime(this.scrollAuditTime)) : scrollStream;\r\n            // Initialize scroll streams\r\n            this.scrolled = scrollStream.pipe(takeUntil(this.destroyed));\r\n            this.verticalScrolled = this.getScrolledByDirection('scrollTop');\r\n            this.horizontalScrolled = this.getScrolledByDirection('scrollLeft');\r\n        });\r\n    }\r\n    ngOnChanges(changes) {\r\n        // Update only when the viewport is initialized\r\n        if (this.viewport) {\r\n            this.update();\r\n        }\r\n    }\r\n    ngAfterViewInit() {\r\n        // Initial update\r\n        this.update();\r\n        // Update on dir changes\r\n        this.dir.change.pipe(tap(() => this.update()), takeUntil(this.destroyed)).subscribe();\r\n    }\r\n    ngOnDestroy() {\r\n        this.destroyed.next();\r\n        this.destroyed.complete();\r\n    }\r\n    /**\r\n     * Update local state and the internal scrollbar controls\r\n     */\r\n    update() {\r\n        if (!this.autoHeightDisabled) {\r\n            this.updateHeight();\r\n        }\r\n        if (!this.autoWidthDisabled) {\r\n            this.updateWidth();\r\n        }\r\n        // Re-evaluate the state after setting height or width\r\n        this.updateState();\r\n        this.updated.next();\r\n    }\r\n    /**\r\n     * Smooth scroll functions\r\n     */\r\n    scrollTo(options) {\r\n        return this.smoothScroll.scrollTo(this.viewport.nativeElement, options);\r\n    }\r\n    /**\r\n     * Scroll to element by reference or selector\r\n     */\r\n    scrollToElement(target, options) {\r\n        return this.smoothScroll.scrollToElement(this.viewport.nativeElement, target, options);\r\n    }\r\n    updateHeight() {\r\n        // Auto-height: Set component height to content height\r\n        if (this.appearance === 'standard' && this.scrollbarX) {\r\n            // if scrollbar-x is displayed in standard mode\r\n            this.nativeElement.style.height = `${this.viewport.contentHeight + this.scrollbarX.nativeElement.clientHeight}px`;\r\n        }\r\n        else {\r\n            this.nativeElement.style.height = `${this.viewport.contentHeight}px`;\r\n        }\r\n    }\r\n    updateWidth() {\r\n        // Auto-width: Set component minWidth to content width\r\n        if (this.appearance === 'standard' && this.scrollbarY) {\r\n            // if scrollbar-y is displayed in standard mode\r\n            this.nativeElement.style.width = `${this.viewport.contentWidth + this.scrollbarY.nativeElement.clientWidth}px`;\r\n        }\r\n        else {\r\n            this.nativeElement.style.width = `${this.viewport.contentWidth}px`;\r\n        }\r\n    }\r\n}\r\nNgScrollbar.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: NgScrollbar, deps: [{ token: i0.ElementRef }, { token: i0.NgZone }, { token: i0.ChangeDetectorRef }, { token: i3.Directionality }, { token: i2$1.SmoothScrollManager }, { token: ScrollbarManager }], target: i0.ɵɵFactoryTarget.Component });\r\nNgScrollbar.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.1.4\", type: NgScrollbar, selector: \"ng-scrollbar\", inputs: { disabled: \"disabled\", sensorDisabled: \"sensorDisabled\", pointerEventsDisabled: \"pointerEventsDisabled\", viewportPropagateMouseMove: \"viewportPropagateMouseMove\", autoHeightDisabled: \"autoHeightDisabled\", autoWidthDisabled: \"autoWidthDisabled\", viewClass: \"viewClass\", trackClass: \"trackClass\", thumbClass: \"thumbClass\", minThumbSize: \"minThumbSize\", trackClickScrollDuration: \"trackClickScrollDuration\", pointerEventsMethod: \"pointerEventsMethod\", track: \"track\", visibility: \"visibility\", appearance: \"appearance\", position: \"position\", sensorDebounce: \"sensorDebounce\", scrollAuditTime: \"scrollAuditTime\" }, outputs: { updated: \"updated\" }, host: { properties: { \"class.ng-scrollbar\": \"true\" } }, providers: [{ provide: NgScrollbarBase, useExisting: NgScrollbar }], queries: [{ propertyName: \"customViewPort\", first: true, predicate: ScrollViewport, descendants: true, static: true }], viewQueries: [{ propertyName: \"scrollbarY\", first: true, predicate: [\"scrollbarY\"], descendants: true, read: ElementRef }, { propertyName: \"scrollbarX\", first: true, predicate: [\"scrollbarX\"], descendants: true, read: ElementRef }, { propertyName: \"defaultViewPort\", first: true, predicate: ScrollViewport, descendants: true, static: true }], exportAs: [\"ngScrollbar\"], usesOnChanges: true, ngImport: i0, template: \"<div class=\\\"ng-scrollbar-wrapper\\\" [ngAttr]=\\\"state\\\">\\r\\n  <div class=\\\"ng-scroll-viewport-wrapper\\\"\\r\\n       (resizeSensor)=\\\"update()\\\"\\r\\n       [sensorDebounce]=\\\"sensorDebounce\\\"\\r\\n       [sensorDisabled]=\\\"sensorDisabled\\\">\\r\\n    <div scrollViewport\\r\\n         hideNativeScrollbar>\\r\\n      <div>\\r\\n        <ng-content></ng-content>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <ng-container *ngIf=\\\"!disabled\\\">\\r\\n    <scrollbar-x #scrollbarX\\r\\n                 *ngIf=\\\"state.horizontalUsed\\\"\\r\\n                 [attr.scrollable]=\\\"state.isHorizontallyScrollable\\\"\\r\\n                 [attr.fit]=\\\"state.verticalUsed\\\">\\r\\n    </scrollbar-x>\\r\\n    <scrollbar-y #scrollbarY\\r\\n                 *ngIf=\\\"state.verticalUsed\\\"\\r\\n                 [attr.scrollable]=\\\"state.isVerticallyScrollable\\\"\\r\\n                 [attr.fit]=\\\"state.horizontalUsed\\\">\\r\\n    </scrollbar-y>\\r\\n  </ng-container>\\r\\n</div>\\r\\n\\r\\n\", styles: [\"::ng-deep .ng-scrollbar-measure{scrollbar-width:none;-ms-overflow-style:none}::ng-deep .ng-scrollbar-measure::-webkit-scrollbar{display:none}:host{--scrollbar-border-radius: 7px;--scrollbar-padding: 4px;--scrollbar-track-color: transparent;--scrollbar-thumb-color: rgba(0, 0, 0, .2);--scrollbar-thumb-hover-color: var(--scrollbar-thumb-color);--scrollbar-size: 5px;--scrollbar-hover-size: var(--scrollbar-size);--scrollbar-overscroll-behavior: initial;--scrollbar-transition-duration: .4s;--scrollbar-transition-delay: .8s;--scrollbar-thumb-transition: height ease-out .15s, width ease-out .15s;--scrollbar-track-transition: height ease-out .15s, width ease-out .15s;display:block;position:relative;height:100%;max-height:100%;max-width:100%;box-sizing:content-box!important}:host>.ng-scrollbar-wrapper{--scrollbar-total-size: calc(var(--scrollbar-size) + var(--scrollbar-padding) * 2);--vertical-scrollbar-size: var(--scrollbar-size);--horizontal-scrollbar-size: var(--scrollbar-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2)}:host>.ng-scrollbar-wrapper[verticalHovered=true],:host>.ng-scrollbar-wrapper[verticalDragging=true]{--vertical-scrollbar-size: var(--scrollbar-hover-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}:host>.ng-scrollbar-wrapper[horizontalHovered=true],:host>.ng-scrollbar-wrapper[horizontalDragging=true]{--horizontal-scrollbar-size: var(--scrollbar-hover-size);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper{left:0;right:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper{left:var(--scrollbar-total-size);right:0}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper{left:var(--scrollbar-total-size);right:0}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper{left:0;right:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper{top:0;bottom:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{padding-bottom:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content{padding-bottom:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper{top:var(--scrollbar-total-size);bottom:0}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{padding-top:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content{padding-top:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{scrollbar-width:none;-ms-overflow-style:none}:host>.ng-scrollbar-wrapper[deactivated=false]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport::-webkit-scrollbar,:host>.ng-scrollbar-wrapper[deactivated=false]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport::-webkit-scrollbar{display:none}:host>.ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true]>.ng-scroll-viewport-wrapper>.ng-native-scrollbar-hider,:host>.ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-native-scrollbar-hider{bottom:var(--native-scrollbar-size)}:host>.ng-scrollbar-wrapper[deactivated=false][verticalUsed=true]>.ng-scroll-viewport-wrapper>.ng-native-scrollbar-hider,:host>.ng-scrollbar-wrapper[deactivated=false][verticalUsed=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-native-scrollbar-hider{left:0;right:var(--native-scrollbar-size)}:host>.ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl]>.ng-scroll-viewport-wrapper>.ng-native-scrollbar-hider,:host>.ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-native-scrollbar-hider{right:0;left:var(--native-scrollbar-size)}:host>.ng-scrollbar-wrapper[deactivated=false][visibility=hover]>.scrollbar-control{opacity:0;transition-property:opacity;transition-duration:var(--scrollbar-transition-duration);transition-delay:var(--scrollbar-transition-delay)}:host>.ng-scrollbar-wrapper[deactivated=false][visibility=hover]:hover>.scrollbar-control,:host>.ng-scrollbar-wrapper[deactivated=false][visibility=hover]:active>.scrollbar-control,:host>.ng-scrollbar-wrapper[deactivated=false][visibility=hover]:focus>.scrollbar-control{opacity:1;transition-duration:var(--scrollbar-transition-duration);transition-delay:0ms}:host>.ng-scrollbar-wrapper[horizontalUsed=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[horizontalUsed=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{overflow-x:auto;overflow-y:hidden}:host>.ng-scrollbar-wrapper[verticalUsed=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[verticalUsed=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{overflow-y:auto;overflow-x:hidden}:host>.ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{overflow:auto}.ng-scroll-viewport-wrapper{overflow:hidden}.ng-scroll-viewport{-webkit-overflow-scrolling:touch;contain:strict;will-change:scroll-position;overscroll-behavior:var(--scrollbar-overscroll-behavior)}::ng-deep .ng-scroll-content{display:inline-block;min-width:100%}.ng-scrollbar-wrapper,.ng-scroll-viewport-wrapper,.ng-scroll-layer,::ng-deep .ng-scroll-viewport{position:absolute;inset:0}\\n\", \"::ng-deep .ng-scrollbar-wrapper[pointerEventsMethod=viewport]>.scrollbar-control{pointer-events:none}::ng-deep .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,::ng-deep .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport,::ng-deep .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,::ng-deep .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport,::ng-deep .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,::ng-deep .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{-webkit-user-select:none;-moz-user-select:none;user-select:none}::ng-deep .ng-scrollbar-wrapper>.scrollbar-control{position:absolute;display:flex;justify-content:center;align-items:center;transition:var(--scrollbar-track-transition)}::ng-deep .ng-scrollbar-wrapper>.scrollbar-control[scrollable=false] .ng-scrollbar-thumb{display:none}::ng-deep .ng-scrollbar-track{height:100%;width:100%;z-index:1;border-radius:var(--scrollbar-border-radius);background-color:var(--scrollbar-track-color);overflow:hidden;transition:var(--scrollbar-track-transition);cursor:default}::ng-deep .ng-scrollbar-thumb{box-sizing:border-box;position:relative;border-radius:inherit;background-color:var(--scrollbar-thumb-color);transform:translateZ(0);transition:var(--scrollbar-thumb-transition)}\\n\"], dependencies: [{ kind: \"directive\", type: i4.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: ScrollViewport, selector: \"[scrollViewport]\" }, { kind: \"directive\", type: HideNativeScrollbar, selector: \"[hideNativeScrollbar]\" }, { kind: \"directive\", type: NgAttr, selector: \"[ngAttr]\", inputs: [\"ngAttr\"] }, { kind: \"directive\", type: ResizeSensor, selector: \"[resizeSensor]\", inputs: [\"sensorDebounce\", \"sensorDisabled\"], outputs: [\"resizeSensor\"] }, { kind: \"component\", type: ScrollbarY, selector: \"scrollbar-y\" }, { kind: \"component\", type: ScrollbarX, selector: \"scrollbar-x\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: NgScrollbar, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'ng-scrollbar', exportAs: 'ngScrollbar', changeDetection: ChangeDetectionStrategy.OnPush, host: { '[class.ng-scrollbar]': 'true' }, providers: [{ provide: NgScrollbarBase, useExisting: NgScrollbar }], template: \"<div class=\\\"ng-scrollbar-wrapper\\\" [ngAttr]=\\\"state\\\">\\r\\n  <div class=\\\"ng-scroll-viewport-wrapper\\\"\\r\\n       (resizeSensor)=\\\"update()\\\"\\r\\n       [sensorDebounce]=\\\"sensorDebounce\\\"\\r\\n       [sensorDisabled]=\\\"sensorDisabled\\\">\\r\\n    <div scrollViewport\\r\\n         hideNativeScrollbar>\\r\\n      <div>\\r\\n        <ng-content></ng-content>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <ng-container *ngIf=\\\"!disabled\\\">\\r\\n    <scrollbar-x #scrollbarX\\r\\n                 *ngIf=\\\"state.horizontalUsed\\\"\\r\\n                 [attr.scrollable]=\\\"state.isHorizontallyScrollable\\\"\\r\\n                 [attr.fit]=\\\"state.verticalUsed\\\">\\r\\n    </scrollbar-x>\\r\\n    <scrollbar-y #scrollbarY\\r\\n                 *ngIf=\\\"state.verticalUsed\\\"\\r\\n                 [attr.scrollable]=\\\"state.isVerticallyScrollable\\\"\\r\\n                 [attr.fit]=\\\"state.horizontalUsed\\\">\\r\\n    </scrollbar-y>\\r\\n  </ng-container>\\r\\n</div>\\r\\n\\r\\n\", styles: [\"::ng-deep .ng-scrollbar-measure{scrollbar-width:none;-ms-overflow-style:none}::ng-deep .ng-scrollbar-measure::-webkit-scrollbar{display:none}:host{--scrollbar-border-radius: 7px;--scrollbar-padding: 4px;--scrollbar-track-color: transparent;--scrollbar-thumb-color: rgba(0, 0, 0, .2);--scrollbar-thumb-hover-color: var(--scrollbar-thumb-color);--scrollbar-size: 5px;--scrollbar-hover-size: var(--scrollbar-size);--scrollbar-overscroll-behavior: initial;--scrollbar-transition-duration: .4s;--scrollbar-transition-delay: .8s;--scrollbar-thumb-transition: height ease-out .15s, width ease-out .15s;--scrollbar-track-transition: height ease-out .15s, width ease-out .15s;display:block;position:relative;height:100%;max-height:100%;max-width:100%;box-sizing:content-box!important}:host>.ng-scrollbar-wrapper{--scrollbar-total-size: calc(var(--scrollbar-size) + var(--scrollbar-padding) * 2);--vertical-scrollbar-size: var(--scrollbar-size);--horizontal-scrollbar-size: var(--scrollbar-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2)}:host>.ng-scrollbar-wrapper[verticalHovered=true],:host>.ng-scrollbar-wrapper[verticalDragging=true]{--vertical-scrollbar-size: var(--scrollbar-hover-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}:host>.ng-scrollbar-wrapper[horizontalHovered=true],:host>.ng-scrollbar-wrapper[horizontalDragging=true]{--horizontal-scrollbar-size: var(--scrollbar-hover-size);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper{left:0;right:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper{left:var(--scrollbar-total-size);right:0}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper{left:var(--scrollbar-total-size);right:0}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper{left:0;right:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper{top:0;bottom:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{padding-bottom:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content{padding-bottom:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=scrollbar]>.ng-scroll-viewport-wrapper{top:var(--scrollbar-total-size);bottom:0}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{padding-top:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport>.ng-scroll-content,:host>.ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport>.ng-scroll-content{padding-top:var(--scrollbar-total-size)}:host>.ng-scrollbar-wrapper[deactivated=false]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[deactivated=false]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{scrollbar-width:none;-ms-overflow-style:none}:host>.ng-scrollbar-wrapper[deactivated=false]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport::-webkit-scrollbar,:host>.ng-scrollbar-wrapper[deactivated=false]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport::-webkit-scrollbar{display:none}:host>.ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true]>.ng-scroll-viewport-wrapper>.ng-native-scrollbar-hider,:host>.ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-native-scrollbar-hider{bottom:var(--native-scrollbar-size)}:host>.ng-scrollbar-wrapper[deactivated=false][verticalUsed=true]>.ng-scroll-viewport-wrapper>.ng-native-scrollbar-hider,:host>.ng-scrollbar-wrapper[deactivated=false][verticalUsed=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-native-scrollbar-hider{left:0;right:var(--native-scrollbar-size)}:host>.ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl]>.ng-scroll-viewport-wrapper>.ng-native-scrollbar-hider,:host>.ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-native-scrollbar-hider{right:0;left:var(--native-scrollbar-size)}:host>.ng-scrollbar-wrapper[deactivated=false][visibility=hover]>.scrollbar-control{opacity:0;transition-property:opacity;transition-duration:var(--scrollbar-transition-duration);transition-delay:var(--scrollbar-transition-delay)}:host>.ng-scrollbar-wrapper[deactivated=false][visibility=hover]:hover>.scrollbar-control,:host>.ng-scrollbar-wrapper[deactivated=false][visibility=hover]:active>.scrollbar-control,:host>.ng-scrollbar-wrapper[deactivated=false][visibility=hover]:focus>.scrollbar-control{opacity:1;transition-duration:var(--scrollbar-transition-duration);transition-delay:0ms}:host>.ng-scrollbar-wrapper[horizontalUsed=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[horizontalUsed=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{overflow-x:auto;overflow-y:hidden}:host>.ng-scrollbar-wrapper[verticalUsed=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[verticalUsed=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{overflow-y:auto;overflow-x:hidden}:host>.ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,:host>.ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{overflow:auto}.ng-scroll-viewport-wrapper{overflow:hidden}.ng-scroll-viewport{-webkit-overflow-scrolling:touch;contain:strict;will-change:scroll-position;overscroll-behavior:var(--scrollbar-overscroll-behavior)}::ng-deep .ng-scroll-content{display:inline-block;min-width:100%}.ng-scrollbar-wrapper,.ng-scroll-viewport-wrapper,.ng-scroll-layer,::ng-deep .ng-scroll-viewport{position:absolute;inset:0}\\n\", \"::ng-deep .ng-scrollbar-wrapper[pointerEventsMethod=viewport]>.scrollbar-control{pointer-events:none}::ng-deep .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,::ng-deep .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport,::ng-deep .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,::ng-deep .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport,::ng-deep .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,::ng-deep .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>*>*>::ng-deep .ng-scroll-viewport{-webkit-user-select:none;-moz-user-select:none;user-select:none}::ng-deep .ng-scrollbar-wrapper>.scrollbar-control{position:absolute;display:flex;justify-content:center;align-items:center;transition:var(--scrollbar-track-transition)}::ng-deep .ng-scrollbar-wrapper>.scrollbar-control[scrollable=false] .ng-scrollbar-thumb{display:none}::ng-deep .ng-scrollbar-track{height:100%;width:100%;z-index:1;border-radius:var(--scrollbar-border-radius);background-color:var(--scrollbar-track-color);overflow:hidden;transition:var(--scrollbar-track-transition);cursor:default}::ng-deep .ng-scrollbar-thumb{box-sizing:border-box;position:relative;border-radius:inherit;background-color:var(--scrollbar-thumb-color);transform:translateZ(0);transition:var(--scrollbar-thumb-transition)}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.NgZone }, { type: i0.ChangeDetectorRef }, { type: i3.Directionality }, { type: i2$1.SmoothScrollManager }, { type: ScrollbarManager }]; }, propDecorators: { disabled: [{\r\n                type: Input\r\n            }], sensorDisabled: [{\r\n                type: Input\r\n            }], pointerEventsDisabled: [{\r\n                type: Input\r\n            }], viewportPropagateMouseMove: [{\r\n                type: Input\r\n            }], autoHeightDisabled: [{\r\n                type: Input\r\n            }], autoWidthDisabled: [{\r\n                type: Input\r\n            }], viewClass: [{\r\n                type: Input\r\n            }], trackClass: [{\r\n                type: Input\r\n            }], thumbClass: [{\r\n                type: Input\r\n            }], minThumbSize: [{\r\n                type: Input\r\n            }], trackClickScrollDuration: [{\r\n                type: Input\r\n            }], pointerEventsMethod: [{\r\n                type: Input\r\n            }], track: [{\r\n                type: Input\r\n            }], visibility: [{\r\n                type: Input\r\n            }], appearance: [{\r\n                type: Input\r\n            }], position: [{\r\n                type: Input\r\n            }], sensorDebounce: [{\r\n                type: Input\r\n            }], scrollAuditTime: [{\r\n                type: Input\r\n            }], updated: [{\r\n                type: Output\r\n            }], scrollbarY: [{\r\n                type: ViewChild,\r\n                args: ['scrollbarY', { read: ElementRef }]\r\n            }], scrollbarX: [{\r\n                type: ViewChild,\r\n                args: ['scrollbarX', { read: ElementRef }]\r\n            }], defaultViewPort: [{\r\n                type: ViewChild,\r\n                args: [ScrollViewport, { static: true }]\r\n            }], customViewPort: [{\r\n                type: ContentChild,\r\n                args: [ScrollViewport, { static: true }]\r\n            }] } });\n\nclass NgScrollbarModule {\r\n    static withConfig(options) {\r\n        return {\r\n            ngModule: NgScrollbarModule,\r\n            providers: [\r\n                { provide: NG_SCROLLBAR_OPTIONS, useValue: options }\r\n            ]\r\n        };\r\n    }\r\n}\r\nNgScrollbarModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: NgScrollbarModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nNgScrollbarModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"15.1.4\", ngImport: i0, type: NgScrollbarModule, declarations: [NgScrollbar,\r\n        ScrollViewport,\r\n        HideNativeScrollbar,\r\n        NgAttr,\r\n        ResizeSensor,\r\n        ThumbYDirective,\r\n        ThumbXDirective,\r\n        TrackXDirective,\r\n        TrackYDirective,\r\n        ScrollbarY,\r\n        ScrollbarX], imports: [CommonModule,\r\n        BidiModule,\r\n        PortalModule,\r\n        PlatformModule,\r\n        SmoothScrollModule], exports: [NgScrollbar,\r\n        ScrollViewport] });\r\nNgScrollbarModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: NgScrollbarModule, imports: [CommonModule,\r\n        BidiModule,\r\n        PortalModule,\r\n        PlatformModule,\r\n        SmoothScrollModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.1.4\", ngImport: i0, type: NgScrollbarModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        BidiModule,\r\n                        PortalModule,\r\n                        PlatformModule,\r\n                        SmoothScrollModule\r\n                    ],\r\n                    declarations: [\r\n                        NgScrollbar,\r\n                        ScrollViewport,\r\n                        HideNativeScrollbar,\r\n                        NgAttr,\r\n                        ResizeSensor,\r\n                        ThumbYDirective,\r\n                        ThumbXDirective,\r\n                        TrackXDirective,\r\n                        TrackYDirective,\r\n                        ScrollbarY,\r\n                        ScrollbarX\r\n                    ],\r\n                    exports: [\r\n                        NgScrollbar,\r\n                        ScrollViewport\r\n                    ]\r\n                }]\r\n        }] });\n\n/*\r\n * Public API Surface of ngx-scrollbar\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { NG_SCROLLBAR_OPTIONS, NgScrollbar, NgScrollbarModule, ScrollViewport, ScrollbarManager };\n"],"names":["MAT_DIALOG_DATA","i0","InvoiceSummaryComponent","constructor","summaryDialogData","commonService","dialogRef","i18n","geti18nInfo","digitInfo","getDigitsInfo","locale","getLocale","currencySymbol","getCurrencySymbol","valueAscOrder","a","b","sortOrder","key","toLowerCase","localeCompare","onClose","close","selectors","decls","vars","consts","template","ctx","dayjs","SchedulePickupDatePopupComponent","data","monitorService","placeHolder","label","name","type","maxDate","add","toDate","minDate","subtract","value","error","errorMessage","onclick","continue","bind","ngOnInit","logEvent","pickupDate","PickUpDate","indexOf","callSource","Date","confirmButton","InputModelDateTime","updateInput","format","toString","Validators","validateEmails","SendInvoiceComponent","messagingService","invoiceService","sanitizer","subject","email","message","validation","validationFunction","compose","required","validationMessage","cc","downloadPDF","repairId","invoiceGUID","invoiceId","reportParam","dueDate","invoicePDF","subscribe","next","resp","blobUrl","url","fileName","substring","lastIndexOf","length","fileSplited","split","hideLoading","onFormUpdate","$event","isValid","emailRequest","sendButton","cancel","send","emailRequestBody","toEmails","communicationTypeIds","templateKey","invoiceType","isWorkProvider","btoa","templateSubject","changingThisBreaksApplicationSecurity","messageContent","templateBody","attachments","showLoading","setMessage","showInfoToast","tagsReplacers","bypassSecurityTrustHtml","replace","workProviderValue","customerValue","repairDetails","vehicle","vehicleMake","vehicleModel","licensePlateNumber","repairNumber","organizationDetail","nameOfOrganization","phoneNumber","icon","getMessageTemplate","domainId","partnerships","retailEmail","customer","emailForm","emailData","body","newVehicleForm","model","vin","maxLength","minLength","pattern","make","options","displayValue","fieldValue","year","licensePlate","licensePlateValidator","carMilege","registrationDate","getFullYear","getMonth","getDate","manufacturingDate","newVehicleHeader","title","step","description","stepName","carMileageValidator","result","control","RepairJobTimerStatus","RepairTaskStatus","BehaviorSubject","firstValueFrom","RepairEstimateOperationComponent","SeverityLevel","GtMotiveEstimationDialogComponent","Modules","RequestApprovalDialogComponent","EstimateApprovalComponent","RepairTemplateKey","EstimateComponent","repairEstimateService","route","dialog","bookingService","translationService","repairEstimateOperationService","messageService","calendarService","router","mediaService","inspectionService","notifyService","cancelBooking","instant","appearance","placeHolderIcon","selectedOption","dropdownItemIcon","color","hideDropdownIcon","accessRight","closed","activeItem","userProfileData","res","userPermission","parent","params","repairGuid","updatePage","snapshot","paramMap","get","getBookingRepairDetails","setTimeout","element","document","querySelector","click","showDelete","repairStatus","caseGuid","isRepairCreatedFromCase","handleSelectedOption","showRequestApprovalDialog","getMediaTemplate","id","collectionGuid","collectionId","mediaCollectionGuid","redirectToGtEstimate","caseId","status","queryParams","navigate","relativeTo","queryParamsHandling","createEstimateFromRepair","location","href","sessionStorage","setItem","JSON","stringify","repairTypesArray","complete","channel","getRepairCommunicationMedia","inspectionId","subjectText","vehicleObj","claimNumber","emailSubject","organizationName","whatsAppBody","smsBody","toLocaleLowerCase","estimateReport","estimateResponse","estimateDocumentTypes","map","el","open","organizationEmail","code","organizationCountryCode","phone","organizationPhone","mediaData","estimateType","externalSource","backdropClass","maxHeight","minWidth","width","autoFocus","afterClosed","response","sendApprovalMessage","emailMessage","isValidCurrentStatus","includes","showConfirmationPopup","disableClose","console","log","getManualEstimationDetail","vehicleId","getRepairEstimate","showData","dropdownOptions","forEach","opt","keyValue","defaultSelectedReport","isRefreshRepairEstimateDetails","editEstimate","toggleOptions","err","logException","Error","displayMissingInspectionMessage","getEstimationDetail","msg","estimateSource","getGTEstimationDetail","getEstimate","estimateCharges","getDefaulti18nInfo","getEstimateFromCaseAndRepair","orgName","isUpdate","getItem","previousUrl","mode","readUpdateEstimate","afterOperation","showRepairTypeUpdateMessage","existingRepairTypes","initialRepairTypes","currentRepairServiceTypes","currentRepairTypesArray","serviceType","push","repairServiceType","newRepairTypes","filter","q","showNotification","join","openAlertDialog","getRepairDetailByGuid","bookingId","invoiceStatus","quoteId","countryCode","companyName","repairServiceTypes","getInitialRepairTypes","parse","communications","communicationChannels","sort","source","dropdownApprovalModelFilter","companyOrgType","isCompany","mobileNumber","firstName","lastName","checkGTEstimatePermission","orgPackages","repairEstimatePackage","orgPackage","automotiveServiceName","permissions","gtEstimatePermission","perm","permissionName","subscription","dropdownModelFilter","already","find","ele","alreadyIndex","findIndex","splice","changeCaseStatusDialog","openOperationPopup","handleEditEstimate","handleRequestStatus","showToast","height","panelClass","statuses","quotePermission","showChangeWarningMessage","quote","handleSaveEditedEstimate","handleEditRepairOperation","repairOperationGuid","operationDeatils","getRepairEstimateOperationDetails","entries","Object","capsEntries","entry","toUpperCase","slice","capsPopulations","fromEntries","operationDetails","handleIconClicked","output","action","handleDeleteRepairOperation","openDeleteDialog","deleteRepairEstimateOperation","then","deleteTextMessage","catch","downloadPdf","reportType","apiCall","window","apiSpecificCall","deleteRepair","maxWidth","ngOnDestroy","unsubscribe","repairNotInvoiced","FormControl","FormGroup","NavigationStart","utc","take","tap","endDateValidators","CalendarService","extend","AddBookingComponent","settingService","closeDialog","showRequiredLabel","labelKey","valueKey","setHours","BookingType","StartDate","EndDate","events","pipe","event","populateDropdowns","setEndDate","setRepairDate","bookingForm","valueChanges","selectedType","bookingTypeOptions","x","controls","setValue","startDate","enable","disable","endDate","repairStartDate","repairEndDate","bookingTypes","serviceTypes","getBookingRepairType","BookingTypes","bookingTypeId","editMode","bookingTypeConfig","disabled","PageReady","saveChanges","formValue","getRawValue","startDateString","endDateString","newData","domainID","objectID","objectGuid","objectData","bookingTypeName","bookingGuid","Action","customerData","workProvider","workProviderData","features","NoShowComponent","dropdownPosition","Reason","populateReasons","reasonOptions","getNoShowReason","patchData","noShowForm","patchRepair","moveItemInArray","transferArrayItem","catchError","forkJoin","from","of","claimNumberEditNotAllowedForRepairStatuses","notApprovedStatuses","repairBookingType","repairEstimatedStatuses","repairStartedStatuses","newProfileForm","caseDataMapper","caseResponseMapper","documentPartMapper","newCaseForm","DeliveryServiceComponent","PersonalInfoComponent","caseService","coreService","vehicleService","formBuilder","mediaCollectionService","labourService","translateService","iconColor","closeForm","submitForm","openAddBooking","inspectionID","inspectionGuid","isVinSpecifiedManualZ","jobNumber","tariffId","isTariffEditable","licenseId","companyId","partnershipId","customerTypeID","driverCode","driverPhone","carOwnerSelector","customerFormData","vehicleData","vehicleFormData","serviceTypeId","repairTypes","bookingInDate","bookingOutDate","towedIn","notes","communicationChannel","assignedTo","jobAllocation","group","actionTriggered","labourData","checkForFormValidation","nextUrl","isFormConfirmed","viewActionTriggeredBooking","tab","eventfromToastComponent$","subscriptions","vehicleSourceType","currentOrgId","estimateId","isRetailProvider","isRetailAndCompanyProvider","retail","formModel","currentStatus","repairNotApproved","endDateGreaterThanstartDate","setSeconds","setCommunicationMethods","communicationPermissions","permissionSearchStr","item","checkVINQueryPermission","vinCodingPermission","checkRouteParams","callback","handleImageOutput","file","obj","mediaCollectionId","mediaTemplate","objectId","mediaTemplateId","currentStep","templateGuid","mediaPartTemplateId","partTemplateGuid","uploadInProgress","isSkipped","isUploadFailed","isUploadSuccess","uploadDocumentOCR","prefillDriverDetailsFromOcr","ocrTags","handleRegistrationPrefillOCR","chqUploadDrivingLicense","chqUploadRegistrationCard","getMediaTemplateByObject","mediaPartTemplates","getAllChild","mediaTemplates","i","mediaPart","documentStep","documentSteps","mandatory","index","parentName","isFront","frontSide","updatedDate","mediaPartGuid","uploadedDate","createdDate","sizeLimit","allowExtension","uploadedPartGuid","uploadedGuid","mediaGuid","mediaPartTemplateGuid","items","prefillObj","Name","names","tags","resetVehicleDropdown","infoDisabled","searchDisabled","preventVinCall","vinFromOCR","inputDisabled","countryId","vehicleMakeModel","trim","specificVehicleList","modelName","k","modelDisabled","makeDisabled","splitedDate","date","checkMakeModelExistFromOCR","makeExist","some","modelDescription","selectedMake","observable","getVehicleModel","onObservableLoad","loadYears","triggerObservable","enableDropdowns","getVehicleYearByModel","handleDrivingLicenseVehicleUpload","isRegistration","query","selectedStep","chqUpload","triggerUpload","handleDrivingLicenseClick","handleRegistrationCardClick","getInspectionTemplateList","inspectionList","repairInspectionTemplate","inspectionTemplateId","getPhoneNumber","mediaTemplateResponse","detailResult","mediaTemplateDetail","getMediaTemplateById","resultMap","templateDetail","countryID","media","mediab","orderNumber","setRequiredLabel","getCaseDetail","caseData","prefillCaseData","prefillVehicleData","ngAfterViewInit","setValidatorForVehicle","mileage","license","regDate","customerKeys","keys","isApiLoading","loadRepair","getProvider","communicationChannelControl","setValidatorForControls","bookingButtonModel","populateReadonlyFields","repairResponse","isDeliveryTypeEnable","statusId","initialPlateNumber","roleName","isTechnician","inspections","tariffs","originalTariffObject","selectObj","organizationId","vehicleLocation","readonly","unAssignEmployeeDisabled","populateVehicleData","populateBookingData","checkWorkProvider","disableAll","getBookingData","getRepairBooking","booking","bookingData","typeId","typeName","local","dataSource","employeeRepairServiceType","assignees","selectedOptions","repairServiceTypeId","employees","repairTypesString","isPickedUp","deliveryDTO","checked","hasOwnProperty","isTowingNeeded","option","communicationForm","isJobAssignationRequired","personalInfoData","getEmployeePerRepair","vinNumber","vehicleMileage","modelYear","umc","modelYearRange","originalVin","prefillCaseObj","formDataFromResponse","selectedItem","countryList","it","phoneCountryCode","validationPattern","formControl","setValidators","serviceTypeIds","serviceTypeName","processVehicleData","updateButton","setMode","getVinDecoder","success","openDocument","defaultPagination","offset","pageSize","maxPageButtons","currentPage","orderBy","sortDirection","getCases","cases","CaseGuid","fromPersonal","addVehicle","formData","Number","setPrefillData","prefillData","getSessionStorage","code1","currentPhoneNumber","updateCurrentValidation","parseInt","setSessionStorage","generalSearchSourceObjectid","sourceObjectId","nonRequiredFields","key1","getBookingTypes","repair","getRepairTypes","extraRepairTypes","selectedOptionRepairs","getIcon","getVehicleMake","makeList","addBookingButtonModel","importInterval","plate","onObservableLoadRepairTypes","onObservableLoadServiceAndRepairTypes","RepairType","RepairTypes","repairType","setUnTouched","repairEmployees","previousCompetencies","keyFieldValue","towingDisabled","initialBookingIn","getTime","bookingIn","bookingInType","duration","bookingOut","bookingOutType","allBookingTypes","searchStr","e","matchingTypeIndex","editIndex","addEditBooking","indexToRemove","dataSourceToDelete","getAllAssignedEmployees","competency","competencies","getEmployeesByCompetencies","orgId","mappedEmployees","assigneeId","employeeId","assigneeName","hasOffDayInBetween","isAvailable","assignedEmployees","assigedEmployeeesIds","totalEmployees","selectedRepairType","jobName","jobId","employeesAssigned","active","allEmployees","getAllAssignedEmployeesAssessment","currentRepairType","setMinutesAndHours","difference","resultInMinutes","Math","round","hours","floor","minutes","estimatedEffortMinutes","estimatedEffortHour","onFormUpdateCustomer","oldValue","companyOrg","updateCaseData","getCompanyData","checkForFormValidationCustomer","keysToAvoid","prop","claimValid","valid","checkForFormValidationBooking","setUntouched","Array","isArray","checkForFormValidationVehicle","validVehicleFields","validateVehicle","preventRedirect","getProviders","orgType","checkPlateNumber","openConfirmationOkDialog","dialogClosed","Promise","resolve","shouldProceed","vinGTMotive","customerId","contactId","remainingUnassignedRepair","quoteGuid","vehicleID","updateBooking","createRepair","repairDateCreated","saveBooking","showMessageandReturn","updateVehicle","showLabourUpdateMessage","bookInDate","all","eachData","matchingEmployeeData","createBooking","deleteBooking","expandCollapseAssignedTo","unAssignEmployee","header","repairEmployee","employeeHasOffDayInBetween","employee","updateBookingAssignee","isEditable","showMessage","tariffLabourRates","amount","inspection","getLabourData","mainFormData","updateVehicleRepair","tariffDiscountRates","tariffLaborRates","updateRepair","onFormUpdateVehicle","yearDisabled","currentValidVehicleField","field","populateForm","hideDropdown","closeDropdown","drop","previousContainer","container","previousIndex","currentIndex","dropChoiceSelected","openConfirmYesNoDialog","employeeServiceRepairType","onDoubleClick","assignedId","toLocaleString","dropdownValidationMessage","dropdownContainer","dropdownConfig","isTouched","isDirty","enableControls","dialogData","editBooking","isEdited","matchingType","matchingDeletedype","matchingDeleteTypeIndex","isPastDate","isRepairBooking","bookingType","hasRepair","filteredBooking","hasBooking","repairAssigneesToPull","openDeliveryServiceDialog","deliveryData","formEditable","minHeight","bookingEmployee","currentBookingAssignee","currentBooking","noShowFlagChange","openNoShowDialog","reload","noShowFlag","showRepairTypeMessage","viewQuery","AddPhotosComponent","rightActionText","rightActionIcon","isRepairModule","showTitle","handleUpdateMode","RepairNewDocumentsComponent","isHeaderOnly","DragDropModule","CommonModule","RouterModule","TranslateModule","CdTimerModule","DxDateBoxModule","NgxPrintModule","VersionControlResolver","ErrorModule","HistoryComponent","SharedModule","WidgetsModule","CustomerLayoutComponent","GenerateInvoicesComponent","RepairInvoicesComponent","RepairPartsComponent","RepairPhotosComponent","RepairStagesTableComponent","RepairStagesComponent","DirectiveModule","NgScrollbarModule","MatTableModule","MatDialogModule","MaterialModule","PipeModule","customerRoutes","path","component","version","AddRepairCustomersModule","forChild","declarations","imports","exports","NavigationEnd","PaymentsComponent","OutboundService","ServiceType","ctx_r28","ctx_r30","ctx_r46","ctx_r48","ctx_r49","ctx_r50","ctx_r51","ctx_r53","monitorServie","units","cost","total","unitHours","dropdownItemIconMaterial","fontSize","size","currentObjectId","saveInvoiceComponent","trnNumberLimit","showImageFlag","navigationEndSubscription","reloadDetail","dataResponse","contactNumber","phoneCode","contactNumberInput","isViewOnly","setDirty","sendInvoice","currentDueDate","updateFormType","isDataLoading","invoiceList","noDataFound","isInvoiceFormValid","invoiceIssuedDate","IfscCodeInput","payeeBankNameInput","payeeOrgNameInput","accountNumberInput","trnNumberInput","saveButtonModel","pickUpDate","repairBooking","IsPickedup","bookingDate","diff","currentWorkProvider","currentWorkProviderType","customerTypeName","country","invoicePerDetailProvider","bankname","logoUrl","invoiceGuid","paymentStatus","invoiceDate","accountNumber","ifscCode","addressInput","address","trn","workShopName","invoiceNumberInput","invoiceNumber","orgLogoUrl","chargesList","chargesDTO","charges","estimateSummary","chargeSummary","orgImageLoading","calculateSub","c","d","maxPoint","parseFloatingPoint","g","hashPropTable","validateLabourTypes","summary","charge","Paint","serviceSubType","paintLabourHourSubTotal","quantity","paintLabourAmountSubTotal","paintLabourSubTotal","paintLabourTotal","parseFloat","paintLabourDiscountPercentage","paintMaterialSubTotal","paintMaterialTotal","paintMateriaDiscountPercentage","Labour","labourTotalBeforeDiscount","labourAmountSubTotal","labourTotal","labourTotalDiscountPercentage","labourHourSubTotal","labourTimeHours","partsTotalBeforeDiscount","partsTotal","partsTotalDiscountPercentage","partsSubTotal","calculateSummary","recipient","dueAmount","expandCollapse","isAllExpanded","isPartsExpanded","isPaintExpanded","isLabourExpanded","hideShowSection","getSection","invoiceBody","saveInvoicePerDetail","subs","sub","openPaymentPopup","closeRepair","getRepairTask","tasks","job","repairJobTasks","setRepairClose","openSchedulerPopUpForPickUp","setRepairCloseInner","setRepairStatusComplete","repairID","setPickUpDateForRepair","setPickupDate","row_r17","ctx_r32","currentDate","previewInvoiceSummary","updateEstimateCharge","goToGenerateInvoice","formType","isiOS","navigator","platform","userAgent","hasPaint","hasLabour","hasParts","workProviderExists","customerExists","newObj","summaryList","tepObj","allIndex","newObj1","tepObj1","isAllocationChanged","currentChangesString","statusList","generateInvoiceButtonModel","logoOfOrg","invoicePerDetail","repairEstimateId","repairIntId","estimateIntId","radioList","btnModel","idField","generateEstimate","chargesObj","chargeList","estimateChargeId","chargeId","RecipientId","assignInvoice","allData","summaryData","messageEntity","okText","cancelText","showPaint","showLabour","showParts","openPartPopup","saveParts","showSelectedOption","getRepairDetails","getParts","disableEdit","partStatuses","getPartStatuses","part","repairDetail","parts","repairParts","individualStatusModels","individualStatusModel","partsStatus","mapStatus","readOnlyMode","hideButton","bulkStatusModel","partMapper","editPartStatuses","search","onbulkStatusChange","bulkUpdateStatus","partGuid","partGuidId","onStatusChange","currentFormData","showDropdown","partId","repairServiceTypeName","EventEmitter","inspectionpartPartMapper","photosHeader","cd","estimateService","text","showButton","showUploadOption","section","pageName","handleBack","showDamageAnalysis","back","checkRepairTypes","v","updateCurrentStatus","initial","setInitialMode","showUploading","uploadBulkUploadFile","steps","handleDeleteAll","detectChanges","uploads","img","Image","src","image","onload","uploadObject","inspectionBulkTemplateId","vehicelType","uploadImageBulkJob","imageFile","rawImage","rawAzureBlobUrl","inspectionItem","procedureSteps","imageUploaders","updateUploadStatus","footer","imageStatusSteps","ig","uploadFile","imageHeight","imageWidth","inProgressSteps","inspectionItemTemplates","mapInspection","inspectionData","uploadType","currentMode","bulkUploadTemplateItem","inspectionTemplates","bulkUploadedItemsWithImages","inspectionItems","inspectionItemTemplateID","massUploadItems","currentUploadMode","emit","currentObj","chqInspectionStep","isMultipleUpload","addPhotosHeader","minimumPhotosRequired","minimumImageJob","isSkipEnabled","currentObservable","currentInspectionTemplate","minImageLimit","triggerMassUpload","isBulkUploaded","getInspectionTemplateByObject","templatePart","inspectionStep","isAdditionalImage","isMassUpload","isAdditionalDocumentFromReviewPageOnly","created","createInspectionForJob","templateId","inspectionItemObj","createInspectionItemJobDetail","hideContent","currentAdditionalModeMultiple","isJobLoading","goToReview","showSPI","hideBulk","addPhotos","allowSingleUpload","allowMultipleUpload","noImagesData","loadApiData","promiseApi","jobDetail","getInspectionJobDetail","serverDetails","serverMap","inspectionTemplateDetail","inspectionDetail","showNoAccess","setStatus","scrollTop","reloadInspection","inspectionDetailResponse","isReviewSection","handleMode","CommentDialogComponent","NotifyDialogComponent","openNotify","completeJob","notifyData","communicationList","communicatedList","method","notifySend","selectedCommunication","eventName","communicationTypeId","confirmJob","ngOnChanges","changes","activateNotifyButton","currentValue","taskList","repairDataMappings","jb","repairTypesArr","repairJobMappings","jbk","repairTypeNames","mandatoryTasks","task","isMandatory","statusName","allMandatoryTasks","addPartButtonModel","activateRepairButton","updateTaskStatus","currentJob","timerLog","Pause","completedDate","updateRepairTaskStatus","repairTaskGuid","NotStarted","Completed","repairJobGuid","updateJobs","showCommentDialog","currentNote","note","delete","comment","isNoteLoading","updateRepairTaskNotes","inputs","isLastJob","outputs","ctx_r11","ctx_r13","currentUserId","automotiveServices","setPermission","automotiveService","showEffectiveTime","selectedJob","setTabActive","currentJobList","currentActiveTab","startJobTimer","bookingStartDate","endDiff","updateJobTimerStatus","Start","isRepairComplete","pauseJobTimer","repairJobGuidId","activeJobList","jobList","createdUserID","updateRepairTimerStatus","skip","timeDuration","spentTimeDuration","currentJobStarted","currentJobPaused","basicTimer","resume","basicSpentTimer","isResumed","Stop","currentJobStopped","stop","outBoundStatus","getJobs","stopJobTimer","nonmandatoryTasks","basicApi","basicServerDetails","basicServerMap","setRepairStatus","communicationEvents","outboundStatus","inspectionTemplate","getInspectionTemplate","getJobsWithApiCall","background","skipLoad","noJobs","unfinishedJobs","j","startedJobs","enableNotifyButton","enableCompleteButton","currentJobExists","hasMandetoryTask","menuItems","displayName","taskCompletionPercentage","subTitle","permission","selectedJobIndex","currentActiveIndex","setActiveJob","updateActiveTask","totalEffort","splittedEffort","totalEffortInTime","isBackground","currentUserJob","timerLogs","effectiveTimeEffort","spentCurrentEffort","spentTimeEffort","currentEffort","spentEffort","startingDate","startTime","stopped","start","menuItem","currentMenu","menuIndex","menu","menuItm","reinitialize","inprogressTask","nonMandatoryJobLog","hasNonMandatoryTask","inprogressTimelog","tl","pendingUser","users","createdBy","uniqueUsers","Set","confirmationDialogMessage","val","updateRepairStatus","checkVersion","localVersion","localStorage","appVersion","buildRevision","factory","providedIn","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","Float32Array","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","abs","newtonRaphsonIterate","aGuessT","currentSlope","LinearEasing","module","bezier","mY1","mY2","sampleValues","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","BezierEasing","asyncScheduler","timer","interval","period","scheduler","operate","mergeInternals","expand","project","concurrent","Infinity","subscriber","undefined","pluck","properties","currentProp","p","Injectable","Inject","InjectionToken","Directive","Input","Optional","SkipSelf","Output","Self","ContentChildren","ContentChild","NgModule","DOCUMENT","i1","CdkScrollableModule","_getEventTarget","normalizePassiveListenerOptions","_getShadowRoot","coerceBooleanProperty","coerceElement","coerceArray","coerceNumberProperty","isFakeTouchstartFromScreenReader","isFakeMousedownFromScreenReader","Subject","Subscription","animationFrameScheduler","Observable","merge","takeUntil","startWith","switchMap","i3","extendStyles","dest","importantProperties","setProperty","has","removeProperty","toggleNativeDragInteractions","userSelect","style","toggleVisibility","position","top","opacity","left","combineTransforms","transform","initialTransform","parseCssTimeUnitsToMs","multiplier","getTransformTransitionDurationInMs","computedStyle","getComputedStyle","transitionedProperties","parseCssPropertyValue","property","propertyIndex","rawDurations","rawDelays","getPropertyValue","getMutableClientRect","clientRect","getBoundingClientRect","right","bottom","y","isInsideClientRect","adjustClientRect","isPointerNearClientRect","rect","threshold","pointerX","pointerY","xThreshold","yThreshold","ParentPositionTracker","_document","positions","Map","clear","cache","elements","set","scrollPosition","getViewportScrollPosition","scrollLeft","handleScroll","target","cachedPosition","newTop","newLeft","viewportScrollPosition","topDifference","leftDifference","node","contains","scrollY","scrollX","deepCloneNode","clone","cloneNode","descendantsWithId","querySelectorAll","nodeName","removeAttribute","transferCanvasData","transferInputData","transferData","selector","descendantElements","cloneElements","cloneUniqueId","context","getContext","drawImage","passiveEventListenerOptions","passive","activeEventListenerOptions","MOUSE_EVENT_IGNORE_TIME","dragImportantProperties","DragRef","_disabled","_dropContainer","newValue","_toggleNativeDragInteractions","_handles","handle","_config","_ngZone","_viewportRuler","_dragDropRegistry","_passiveTransform","_activeTransform","_hasStartedDragging","_moveEvents","_pointerMoveSubscription","EMPTY","_pointerUpSubscription","_scrollSubscription","_resizeSubscription","_boundaryElement","_nativeInteractionsEnabled","_disabledHandles","_direction","dragStartDelay","beforeStarted","started","released","ended","entered","exited","dropped","moved","_pointerDown","targetHandle","_getTargetHandle","_initializeDragSequence","_rootElement","_pointerMove","pointerPosition","_getPointerPositionOnPage","distanceX","_pickupPositionOnPage","distanceY","isOverThreshold","dragStartThreshold","isDelayElapsed","now","_dragStartTime","_getDragStartDelay","_endDragSequence","isDragging","isReceiving","preventDefault","run","_startDragSequence","constrainedPointerPosition","_getConstrainedPointerPosition","_hasMoved","_lastKnownPointerPosition","_updatePointerDirectionDelta","_updateActiveDropContainer","constrainPosition","_initialClientRect","activeTransform","_applyRootElementTransform","observers","distance","_getDragDistance","delta","_pointerDirectionDelta","_pointerUp","_nativeDragStart","withRootElement","withParent","parentDragRef","_parentPositions","registerDragItem","getPlaceholderElement","_placeholder","getRootElement","getVisibleElement","withHandles","handles","disabledHandles","withPreviewTemplate","_previewTemplate","withPlaceholderTemplate","_placeholderTemplate","rootElement","_removeRootElementListeners","runOutsideAngular","addEventListener","_initialTransform","SVGElement","_ownerSVGElement","ownerSVGElement","withBoundaryElement","boundaryElement","change","_containInsideBoundaryOnResize","_parentDragRef","dispose","remove","_anchor","_destroyPreview","_destroyPlaceholder","removeDragItem","_removeSubscriptions","reset","disableHandle","enableHandle","withDirection","direction","_withDropContainer","getFreeDragPosition","setFreeDragPosition","withPreviewContainer","_previewContainer","_sortFromLastPointerPosition","_preview","_previewRef","destroy","_placeholderRef","stopDragging","webkitTapHighlightColor","_rootElementTapHighlight","_stopScrolling","_animatePreviewToPlaceholder","_cleanupDragArtifacts","_cleanupCachedDimensions","dropPoint","isTouchEvent","_lastTouchEventTime","dropContainer","parentNode","placeholder","_createPlaceholderElement","anchor","createComment","shadowRoot","insertBefore","_createPreviewElement","appendChild","replaceChild","_getPreviewInsertionPoint","_initialContainer","_initialIndex","getItemIndex","getScrollableParents","referenceElement","stopPropagation","isTouchSequence","isAuxiliaryMouseButton","button","isSyntheticEvent","isFakeEvent","draggable","rootStyles","pointerMove","pointerUp","scrolled","scrollEvent","_updateOnScroll","_boundaryRect","previewTemplate","_pickupPositionInElement","matchSize","_getPointerPositionInElement","_pointerPositionAtLastDirectionChange","startDragging","_previewRect","isPointerOverContainer","_isOverContainer","rawX","rawY","newContainer","_getSiblingContainerFromPosition","exit","enter","sortingDisabled","_startScrollingIfNecessary","_sortItem","_applyPreviewTransform","previewConfig","previewClass","preview","rootRect","viewRef","viewContainer","createEmbeddedView","getRootNode","matchElementSize","getTransform","zIndex","classList","setAttribute","className","placeholderRect","handler","propertyName","removeEventListener","clearTimeout","timeout","placeholderConfig","placeholderTemplate","pointerEvents","elementRect","handleElement","referenceRect","point","targetTouches","_getViewportScrollPosition","pageX","pageY","touches","changedTouches","svgMatrix","getScreenCTM","svgPoint","createSVGPoint","matrixTransform","inverse","dropContainerLock","lockAxis","pickupX","pickupY","boundaryRect","previewWidth","previewHeight","_getPreviewRect","minY","maxY","minX","maxX","clamp$1","pointerPositionOnPage","positionSinceLastChange","changeX","changeY","pointerDirectionChangeThreshold","shouldEnable","styles","currentPosition","pickupPosition","leftOverflow","rightOverflow","topOverflow","bottomOverflow","touch","mouse","scrollDifference","_cachedShadowRoot","initialParent","previewContainer","documentRef","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","min","max","rootNodes","nodeType","ELEMENT_NODE","wrapper","createElement","sourceRect","array","fromIndex","toIndex","clamp","to","currentArray","targetArray","targetIndex","copyArrayItem","SingleAxisSortStrategy","_element","_itemPositions","orientation","_previousSwap","drag","overlaps","withItems","pointerDelta","siblings","newIndex","_getItemIndexFromPointerPosition","isHorizontal","currentItem","siblingAtNewPosition","newPosition","itemOffset","_getItemOffsetPx","siblingOffset","_getSiblingOffsetPx","oldOrder","sibling","isDraggedItem","elementToOffset","activeDraggables","_activeDraggables","newPositionReference","_shouldEnterAsFirstChild","parentElement","_cacheItemPositions","withSortPredicate","predicate","_sortPredicate","getActiveItemsSnapshot","reverse","updateOnScroll","elementToMeasure","immediateSibling","end","itemPositions","reversed","lastItemRect","firstItemRect","DROP_PROXIMITY_THRESHOLD","SCROLL_PROXIMITY_THRESHOLD","DropListRef","autoScrollDisabled","autoScrollStep","enterPredicate","sortPredicate","sorted","receivingStarted","receivingStopped","_isDragging","_draggables","_siblings","_activeSiblings","_viewportScrollSubscription","_verticalScrollDirection","_horizontalScrollDirection","_stopScrollTimers","_startScrollInterval","_scrollNode","scrollStep","scrollBy","withScrollableParents","registerDropContainer","_sortStrategy","removeDropContainer","_draggingStarted","_notifyReceivingSiblings","_cacheParentPositions","_reset","previousItems","draggedItems","every","connectedTo","withOrientation","_scrollableElements","_clientRect","scrollNode","verticalScrollDirection","horizontalScrollDirection","getElementScrollDirections","getViewportSize","getVerticalScrollDirection","getHorizontalScrollDirection","_initialScrollSnap","msScrollSnapType","scrollSnapType","_listenToScrollEvents","_stopReceiving","_canReceive","elementFromPoint","nativeElement","_startReceiving","activeSiblings","initiator","receiver","computedVertical","computedHorizontal","scrollHeight","clientHeight","scrollWidth","clientWidth","activeCapturingEventOptions","capture","DragDropRegistry","_dropInstances","_dragInstances","_activeDragInstances","_globalListeners","_draggingPredicate","scroll","_preventDefaultWhileDragging","_persistentTouchmoveListener","startsWith","config","_clearGlobalListeners","streams","observer","eventOptions","instance","ɵfac","NgZone","ɵprov","args","decorators","DEFAULT_CONFIG","DragDrop","createDrag","createDropList","ViewportRuler","CDK_DRAG_PARENT","CDK_DROP_LIST_GROUP","CdkDropListGroup","_items","ɵdir","provide","useExisting","exportAs","standalone","providers","CDK_DRAG_CONFIG","assertElementNode","_uniqueIdCounter","CDK_DROP_LIST","CdkDropList","_group","_dropListRef","dragDrop","_changeDetectorRef","_scrollDispatcher","_dir","_destroyed","_unsortedItems","ngDevMode","_assignDefaults","_setupInputSyncSubscription","_handleEvents","_dropLists","addItem","_syncItemsWithRef","removeItem","getSortedItems","documentPosition","_dragRef","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","ref","correspondingDropList","list","warn","_scrollableParentsResolved","scrollableParents","getAncestorScrollContainers","scrollable","getElementRef","markForCheck","dropEvent","draggingDisabled","listAutoScrollDisabled","listOrientation","ElementRef","ChangeDetectorRef","ScrollDispatcher","Directionality","useValue","host","CDK_DRAG_HANDLE","CdkDragHandle","_stateChanges","parentDrag","_parentDrag","CDK_DRAG_PLACEHOLDER","CdkDragPlaceholder","templateRef","TemplateRef","CDK_DRAG_PREVIEW","CdkDragPreview","_matchSize","DRAG_HOST_CLASS","CdkDrag","_viewContainerRef","_selfHandle","movedEvent","_syncInputs","onStable","_updateRootElement","_setupHandlesListener","freeDragPosition","rootSelectorChange","positionChange","firstChange","rootElementSelector","closest","_getBoundaryElement","boundary","dir","startEvent","releaseEvent","endEvent","enterEvent","exitEvent","childHandleElements","handleInstance","dragRef","ViewContainerRef","descendants","DRAG_DROP_DIRECTIVES","ɵmod","ɵinj","Component","CdTimerComponent","elt","renderer","onStart","onStop","onTick","onComplete","autoStart","endTime","timeoutId","countdown","ngContentNode","lastChild","ngContentSchema","nodeValue","resetTimeout","initVar","computeTimeUnits","startTickCount","renderText","seconds","days","tick_count","tickCounter","clearInterval","outputText","padStart","maxTimeUnit","that","setInterval","counter","Renderer2","ɵcmp","PLATFORM_ID","isPlatformBrowser","getRtlScrollAxisType","fromEvent","takeWhile","finalize","SMOOTH_SCROLL_OPTIONS","SmoothScrollManager","_w","defaultView","_now","performance","_platform","customDefaultOptions","_onGoingScrolls","_defaultOptions","easing","x1","y1","x2","y2","_scrollElement","_getElement","_initSmoothScroll","_isFinished","destroyed","currentY","_interrupted","_destroy","_step","elapsed","startX","startY","schedule","_applyScrollToOptions","currContext","scrollTo","customOptions","isRtl","rtlScrollAxisType","scrollToElement","scrollableEl","targetEl","offsetLeft","offsetTop","Document","SmoothScroll","smoothScroll","SmoothScrollModule","RendererStyleFlags2","ChangeDetectionStrategy","ViewChild","i4","BidiModule","PortalModule","i2","PlatformModule","i2$1","debounceTime","distinctUntilChanged","mergeMap","pairwise","auditTime","preventSelection","doc","onselectstart","enableSelection","isWithinBounds","clientX","clientY","ScrollViewport","scrollMaxX","scrollMaxY","contentHeight","contentWrapperElement","contentWidth","viewPort","activatePointerEvents","propagate","hovered","mouseMoveStream","mouseMove","mouseLeave","clicked","mouseDown","mouseUp","setAsWrapper","firstElementChild","setAsViewport","customClassName","scrollYTo","scrollXTo","NgScrollbarBase","NG_SCROLLBAR_OPTIONS","defaultOptions","viewClass","trackClass","thumbClass","track","visibility","pointerEventsMethod","trackClickScrollDuration","minThumbSize","windowResizeDebounce","sensorDebounce","scrollAuditTime","viewportPropagateMouseMove","autoHeightDisabled","autoWidthDisabled","sensorDisabled","pointerEventsDisabled","ScrollbarManager","globalOptions","NativeScrollbarSizeFactory","manager","_scrollbarSize","getNativeScrollbarSize","scrollbarSize","asObservable","isBrowser","IOS","box","overflow","removeChild","Platform","HideNativeScrollbar","hideNativeScrollbar","_subscriber","setStyle","DashCase","NgAttr","ngAttr","attrs","ResizeSensor","debounce","_debounce","_subscribe","_unsubscribe","zone","scrollbar","_currentSubscription","ngAfterContentInit","stream","_resizeObserver","ResizeObserver","observe","viewport","disconnect","TrackAdapter","trackElement","mouseup","cmp","onTrackClicked","thumbSize","scrollSize","pageProperty","pageOffset","clickOffset","ratio","mapToScrollToOption","HTMLElement","TrackXDirective","TrackYDirective","ThumbAdapter","trackMax","thumbElement","_dragging","dragging","update","calculateThumbSize","viewportScrollSize","calculateThumbPosition","viewportScrollOffset","viewportScrollMax","updateStyles","handleDirection","dragged","trackMaxStart","scrollMaxStart","dragStart","setDragging","dragEnd","dragStartOffset","mouseDownOffset","clientProperty","mouseOffset","handleDrag","trackSize","contentSize","scrollbarRatio","scrollMax","ThumbXDirective","pageXOffset","horizontalDragging","ThumbYDirective","pageYOffset","verticalDragging","Scrollbar","thumbDragEvent","trackClickEvent","trackHoveredEvent","viewportTrackClicked","viewportThumbClicked","thumb","setClicked","setHovered","mouseEnter","ANDROID","updated","ScrollbarY","verticalHovered","changeDetection","OnPush","static","ScrollbarX","horizontalHovered","NgScrollbar","_sensorDisabled","_pointerEventsDisabled","_viewportPropagateMouseMove","_autoHeightDisabled","_autoWidthDisabled","changeDetectorRef","state","updateState","verticalUsed","horizontalUsed","isVerticallyScrollable","isHorizontallyScrollable","setState","deactivated","getScrolledByDirection","prev","curr","scrollbarClicked","customViewPort","defaultViewPort","scrollStream","verticalScrolled","horizontalScrolled","updateHeight","updateWidth","scrollbarX","scrollbarY","NgIf","read","withConfig","ngModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[34,35,36,37,38,39,40,41]}